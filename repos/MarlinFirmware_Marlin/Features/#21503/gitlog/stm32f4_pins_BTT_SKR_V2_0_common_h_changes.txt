commit 04c8a3138e3ce1edcd59c8e6c1ba4abeba28e30d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Jan 25 15:07:34 2024 -0600

    üé® Misc. LCD pins comments

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index a20002dfc5..41514181f5 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -437,8 +437,9 @@
 #endif // BTT_MOTOR_EXPANSION
 
 //
-// LCDs and Controllers
+// LCD / Controller
 //
+
 #if IS_TFTGLCD_PANEL
 
   #if ENABLED(TFTGLCD_PANEL_SPI)

commit aa7d5714867df05348ca63ad113ea9cf7ccc3271
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Jan 22 17:32:01 2024 -0600

    ‚ôªÔ∏è LCD pins migration precursor (#26719)
    
    Preliminary changes for #25650

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 9e9f2a607a..a20002dfc5 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -640,8 +640,8 @@
 //
 // NeoPixel LED
 //
-#ifndef NEOPIXEL_PIN
-  #define NEOPIXEL_PIN                      PE6
+#ifndef BOARD_NEOPIXEL_PIN
+  #define BOARD_NEOPIXEL_PIN                PE6
 #endif
 
 #if ENABLED(WIFISUPPORT)

commit 20445b8e832b11139b17ff87b771beb6d3ddd95b
Author: Jason Smith <jason.inet@gmail.com>
Date:   Tue Nov 21 01:42:44 2023 -0800

    üßë‚Äçüíª Update pins formatter script (#26450)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 2469305696..9e9f2a607a 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -523,10 +523,10 @@
   #define BTN_EN2                    EXP2_05_PIN
 
   #ifndef TFT_WIDTH
-    #define TFT_WIDTH                      480
+    #define TFT_WIDTH                        480
   #endif
   #ifndef TFT_HEIGHT
-    #define TFT_HEIGHT                     320
+    #define TFT_HEIGHT                       320
   #endif
 
   #if ENABLED(BTT_TFT35_SPI_V1_0)
@@ -592,7 +592,7 @@
     #define TFT_BACKLIGHT_PIN  LCD_BACKLIGHT_PIN
 
     #define TOUCH_BUTTONS_HW_SPI
-    #define TOUCH_BUTTONS_HW_SPI_DEVICE 1
+    #define TOUCH_BUTTONS_HW_SPI_DEVICE        1
 
     #define TOUCH_CS_PIN             EXP1_05_PIN  // SPI1_NSS
     #define TOUCH_SCK_PIN            EXP2_02_PIN  // SPI1_SCK

commit 5bcaae62f2c7965ee7f99eb44a44022f1cbad959
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Mon Jul 24 15:31:39 2023 +1200

    ‚ö°Ô∏è Compact RGB565 TFT boot images (#26011)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index f69f717d81..2469305696 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -602,7 +602,7 @@
     #define LCD_READ_ID                     0xD3
     #define LCD_USE_DMA_SPI
 
-    #define TFT_BUFFER_SIZE                14400
+    #define TFT_BUFFER_WORDS               14400
 
     #ifndef TOUCH_CALIBRATION_X
       #define TOUCH_CALIBRATION_X         -17253

commit fef772ef29e502c8fd2f53e10de383dbcb3529fe
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Jul 16 21:32:16 2023 -0700

    ü©π Fix SPI TFT build on SKR V2 & V3/EZ (#26041)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 25bce4a140..f69f717d81 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -514,15 +514,40 @@
 
 #if HAS_SPI_TFT
 
+  #define TFT_SCK_PIN                EXP2_02_PIN
+  #define TFT_MISO_PIN               EXP2_01_PIN
+  #define TFT_MOSI_PIN               EXP2_06_PIN
+
   #define BTN_ENC                    EXP1_02_PIN
   #define BTN_EN1                    EXP2_03_PIN
   #define BTN_EN2                    EXP2_05_PIN
 
+  #ifndef TFT_WIDTH
+    #define TFT_WIDTH                      480
+  #endif
+  #ifndef TFT_HEIGHT
+    #define TFT_HEIGHT                     320
+  #endif
+
   #if ENABLED(BTT_TFT35_SPI_V1_0)
-    // 480x320, 3.5", SPI Display with Rotary Encoder.
-    // Stock Display for the BIQU B1 SE.
+
+    /**
+     *            ------                       ------
+     *    BEEPER | 1  2 | LCD-BTN        MISO | 1  2 | CLK
+     *    T_MOSI | 3  4 | T_CS       LCD-ENCA | 3  4 | TFTCS
+     *     T_CLK | 5  6   T_MISO     LCD-ENCB | 5  6   MOSI
+     *    PENIRQ | 7  8 | F_CS             RS | 7  8 | RESET
+     *       GND | 9 10 | VCC             GND | 9 10 | NC
+     *            ------                       ------
+     *             EXP1                         EXP2
+     *
+     * 480x320, 3.5", SPI Display with Rotary Encoder.
+     * Stock Display for the BIQU B1 SE Series.
+     * Schematic: https://github.com/bigtreetech/TFT35-SPI/blob/master/v1/Hardware/BTT%20TFT35-SPI%20V1-SCH.pdf
+     */
     #define TFT_CS_PIN               EXP2_04_PIN
-    #define TFT_A0_PIN               EXP2_07_PIN
+    #define TFT_DC_PIN               EXP2_07_PIN
+    #define TFT_A0_PIN                TFT_DC_PIN
 
     #define TOUCH_CS_PIN             EXP1_04_PIN
     #define TOUCH_SCK_PIN            EXP1_05_PIN
@@ -530,6 +555,22 @@
     #define TOUCH_MOSI_PIN           EXP1_03_PIN
     #define TOUCH_INT_PIN            EXP1_07_PIN
 
+    #ifndef TOUCH_CALIBRATION_X
+      #define TOUCH_CALIBRATION_X          17540
+    #endif
+    #ifndef TOUCH_CALIBRATION_Y
+      #define TOUCH_CALIBRATION_Y         -11388
+    #endif
+    #ifndef TOUCH_OFFSET_X
+      #define TOUCH_OFFSET_X                 -21
+    #endif
+    #ifndef TOUCH_OFFSET_Y
+      #define TOUCH_OFFSET_Y                 337
+    #endif
+    #ifndef TOUCH_ORIENTATION
+      #define TOUCH_ORIENTATION TOUCH_LANDSCAPE
+    #endif
+
   #elif ENABLED(MKS_TS35_V2_0)
 
     /**                      ------                                   ------
@@ -542,8 +583,8 @@
      *                        EXP1                                     EXP2
      */
     #define TFT_CS_PIN               EXP1_07_PIN  // SPI1_CS
-    #define TFT_A0_PIN               EXP1_08_PIN  // SPI1_RS
-    #define TFT_DC_PIN                TFT_DC_PIN
+    #define TFT_DC_PIN               EXP1_08_PIN  // SPI1_RS
+    #define TFT_A0_PIN                TFT_DC_PIN
 
     #define TFT_RESET_PIN            EXP1_04_PIN
 
@@ -563,6 +604,22 @@
 
     #define TFT_BUFFER_SIZE                14400
 
+    #ifndef TOUCH_CALIBRATION_X
+      #define TOUCH_CALIBRATION_X         -17253
+    #endif
+    #ifndef TOUCH_CALIBRATION_Y
+      #define TOUCH_CALIBRATION_Y          11579
+    #endif
+    #ifndef TOUCH_OFFSET_X
+      #define TOUCH_OFFSET_X                 514
+    #endif
+    #ifndef TOUCH_OFFSET_Y
+      #define TOUCH_OFFSET_Y                 -24
+    #endif
+    #ifndef TOUCH_ORIENTATION
+      #define TOUCH_ORIENTATION TOUCH_LANDSCAPE
+    #endif
+
   #endif
 
 #endif // HAS_SPI_TFT

commit ef3054d1a8d368f5789a07ad5f0b14224ec1ce19
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Fri Jul 14 16:24:17 2023 -0700

    ‚ú® BTT Octopus Pro V1.1 (STM32H723ZE) (#26043)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index be7e0ab35f..25bce4a140 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -137,10 +137,8 @@
 //
 // Probe enable
 //
-#if ENABLED(PROBE_ENABLE_DISABLE)
-  #ifndef PROBE_ENABLE_PIN
-    #define PROBE_ENABLE_PIN          SERVO0_PIN
-  #endif
+#if ENABLED(PROBE_ENABLE_DISABLE) && !defined(PROBE_ENABLE_PIN)
+  #define PROBE_ENABLE_PIN            SERVO0_PIN
 #endif
 
 //

commit 3ea87ad54c1e445a1c8cfef1489809edae5decb3
Author: Alexander Gavrilenko <jmz52@users.noreply.github.com>
Date:   Sun Jul 2 04:16:12 2023 +0300

    ‚ú® SPI TFT / Touchscreen for STM32H7 (#25784)
    
    Co-authored-by: thisiskeithb <13375512+thisiskeithb@users.noreply.github.com>
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 055338f45b..be7e0ab35f 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -514,6 +514,61 @@
 
 #endif // HAS_WIRED_LCD
 
+#if HAS_SPI_TFT
+
+  #define BTN_ENC                    EXP1_02_PIN
+  #define BTN_EN1                    EXP2_03_PIN
+  #define BTN_EN2                    EXP2_05_PIN
+
+  #if ENABLED(BTT_TFT35_SPI_V1_0)
+    // 480x320, 3.5", SPI Display with Rotary Encoder.
+    // Stock Display for the BIQU B1 SE.
+    #define TFT_CS_PIN               EXP2_04_PIN
+    #define TFT_A0_PIN               EXP2_07_PIN
+
+    #define TOUCH_CS_PIN             EXP1_04_PIN
+    #define TOUCH_SCK_PIN            EXP1_05_PIN
+    #define TOUCH_MISO_PIN           EXP1_06_PIN
+    #define TOUCH_MOSI_PIN           EXP1_03_PIN
+    #define TOUCH_INT_PIN            EXP1_07_PIN
+
+  #elif ENABLED(MKS_TS35_V2_0)
+
+    /**                      ------                                   ------
+     *               BEEPER | 1  2 | BTN_ENC               SPI1_MISO | 1  2 | SPI1_SCK
+     *     TFT_BKL / LCD_EN | 3  4 | TFT_RESET / LCD_RS      BTN_EN1 | 3  4 | SPI1_CS
+     *    TOUCH_CS / LCD_D4 | 5  6   TOUCH_INT / LCD_D5      BTN_EN2 | 5  6   SPI1_MOSI
+     *     SPI1_CS / LCD_D6 | 7  8 | SPI1_RS / LCD_D7       SPI1_RS  | 7  8 | RESET
+     *                  GND | 9 10 | VCC                         GND | 9 10 | VCC
+     *                       ------                                   ------
+     *                        EXP1                                     EXP2
+     */
+    #define TFT_CS_PIN               EXP1_07_PIN  // SPI1_CS
+    #define TFT_A0_PIN               EXP1_08_PIN  // SPI1_RS
+    #define TFT_DC_PIN                TFT_DC_PIN
+
+    #define TFT_RESET_PIN            EXP1_04_PIN
+
+    #define LCD_BACKLIGHT_PIN        EXP1_03_PIN
+    #define TFT_BACKLIGHT_PIN  LCD_BACKLIGHT_PIN
+
+    #define TOUCH_BUTTONS_HW_SPI
+    #define TOUCH_BUTTONS_HW_SPI_DEVICE 1
+
+    #define TOUCH_CS_PIN             EXP1_05_PIN  // SPI1_NSS
+    #define TOUCH_SCK_PIN            EXP2_02_PIN  // SPI1_SCK
+    #define TOUCH_MISO_PIN           EXP2_01_PIN  // SPI1_MISO
+    #define TOUCH_MOSI_PIN           EXP2_06_PIN  // SPI1_MOSI
+
+    #define LCD_READ_ID                     0xD3
+    #define LCD_USE_DMA_SPI
+
+    #define TFT_BUFFER_SIZE                14400
+
+  #endif
+
+#endif // HAS_SPI_TFT
+
 // Alter timing for graphical display
 #if IS_U8GLIB_ST7920
   #ifndef BOARD_ST7920_DELAY_1
@@ -527,29 +582,6 @@
   #endif
 #endif
 
-#if HAS_SPI_TFT
-
-  #define BTN_EN1                    EXP2_03_PIN
-  #define BTN_EN2                    EXP2_05_PIN
-  #define BTN_ENC                    EXP1_02_PIN
-
-  //
-  // e.g., BTT_TFT35_SPI_V1_0 (480x320, 3.5", SPI Stock Display with Rotary Encoder in BIQU B1 SE)
-  //
-  #define TFT_CS_PIN                 EXP2_04_PIN
-  #define TFT_A0_PIN                 EXP2_07_PIN
-  #define TFT_SCK_PIN                EXP2_02_PIN
-  #define TFT_MISO_PIN               EXP2_01_PIN
-  #define TFT_MOSI_PIN               EXP2_06_PIN
-
-  #define TOUCH_INT_PIN              EXP1_07_PIN
-  #define TOUCH_MISO_PIN             EXP1_06_PIN
-  #define TOUCH_MOSI_PIN             EXP1_03_PIN
-  #define TOUCH_SCK_PIN              EXP1_05_PIN
-  #define TOUCH_CS_PIN               EXP1_04_PIN
-
-#endif
-
 //
 // NeoPixel LED
 //

commit 2691167afe02fbbe74b0fdca2c28a49fac635741
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Jun 2 14:26:02 2023 -0500

    üßë‚Äçüíª Dump BOTH and EITHER macros (#25908)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 05537ec243..055338f45b 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -29,8 +29,8 @@
 // https://github.com/bigtreetech/BTT-Expansion-module/tree/master/BTT%20EXP-MOT
 //#define BTT_MOTOR_EXPANSION
 
-#if BOTH(HAS_WIRED_LCD, BTT_MOTOR_EXPANSION)
-  #if EITHER(CR10_STOCKDISPLAY, ENDER2_STOCKDISPLAY)
+#if ALL(HAS_WIRED_LCD, BTT_MOTOR_EXPANSION)
+  #if ANY(CR10_STOCKDISPLAY, ENDER2_STOCKDISPLAY)
     #define EXP_MOT_USE_EXP2_ONLY 1
   #else
     #error "You can't use both an LCD and a Motor Expansion Module on EXP1/EXP2 at the same time."
@@ -484,7 +484,7 @@
       #define DOGLCD_A0              EXP1_04_PIN
       //#define LCD_BACKLIGHT_PIN           -1
       #define LCD_RESET_PIN          EXP1_05_PIN  // Must be high or open for LCD to operate normally.
-      #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
+      #if ANY(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
         #ifndef RGB_LED_R_PIN
           #define RGB_LED_R_PIN      EXP1_06_PIN
         #endif

commit 40895cbcbb284b9d5e7440dc8ad40fdcfd1579bd
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 5 20:46:33 2023 -0500

    üîß Allow TMC_BAUD_RATE override

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 183927a5a6..05537ec243 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -322,8 +322,11 @@
   #define E1_SERIAL_RX_PIN      E1_SERIAL_TX_PIN
 
   // Reduce baud rate to improve software serial reliability
-  #define TMC_BAUD_RATE                    19200
-#endif
+  #ifndef TMC_BAUD_RATE
+    #define TMC_BAUD_RATE                  19200
+  #endif
+
+#endif // HAS_TMC_UART
 
 //
 // SD Connection

commit 921591d2b899000e3181a098a069392ac0ac4b42
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Apr 22 23:15:31 2023 -0500

    üßë‚Äçüíª SDIO_SUPPORT => ONBOARD_SDIO

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 73c2cf9ff8..183927a5a6 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -372,7 +372,7 @@
   #define SD_MOSI_PIN                EXP2_06_PIN
   #define SD_DETECT_PIN              EXP2_07_PIN
 #elif SD_CONNECTION_IS(ONBOARD)
-  #define SDIO_SUPPORT                            // Use SDIO for onboard SD
+  #define ONBOARD_SDIO                            // Use SDIO for onboard SD
 #elif SD_CONNECTION_IS(CUSTOM_CABLE)
   #error "No custom SD drive cable defined for this board."
 #endif

commit cd5dc7203ca6340017a4f686a456f5d71792f272
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Apr 8 14:02:14 2023 -0500

    ‚ôªÔ∏è LCD_PINS_ENABLE => LCD_PINS_EN

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 95b20c105d..73c2cf9ff8 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -456,7 +456,7 @@
     #define BTN_EN1                  EXP1_03_PIN
     #define BTN_EN2                  EXP1_05_PIN
 
-    #define LCD_PINS_ENABLE          EXP1_08_PIN
+    #define LCD_PINS_EN              EXP1_08_PIN
     #define LCD_PINS_D4              EXP1_06_PIN
 
   #elif ENABLED(MKS_MINI_12864)
@@ -473,7 +473,7 @@
     #define BTN_EN1                  EXP2_03_PIN
     #define BTN_EN2                  EXP2_05_PIN
 
-    #define LCD_PINS_ENABLE          EXP1_03_PIN
+    #define LCD_PINS_EN              EXP1_03_PIN
     #define LCD_PINS_D4              EXP1_05_PIN
 
     #if ENABLED(FYSETC_MINI_12864)

commit 9911104036a515967029286775db0d0e7c4aec3a
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Mar 28 16:14:37 2023 -0500

    üîß Fix up WiFi options (#25586)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index ef85caa170..95b20c105d 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -554,25 +554,27 @@
   #define NEOPIXEL_PIN                      PE6
 #endif
 
-//
-// WIFI
-//
+#if ENABLED(WIFISUPPORT)
+  //
+  // WIFI
+  //
 
-/**
- *                      -------
- *            GND | 9  |       | 8 | 3.3V
- *  (ESP-CS) PB12 | 10 |       | 7 | PB15 (ESP-MOSI)
- *           3.3V | 11 |       | 6 | PB14 (ESP-MISO)
- * (ESP-IO0) PB10 | 12 |       | 5 | PB13 (ESP-CLK)
- * (ESP-IO4) PB11 | 13 |       | 4 | --
- *             -- | 14 |       | 3 | 3.3V (ESP-EN)
- *  (ESP-RX)  PD8 | 15 |       | 2 | --
- *  (ESP-TX)  PD9 | 16 |       | 1 | PC14 (ESP-RST)
- *                      -------
- *                       WIFI
- */
-#define ESP_WIFI_MODULE_COM                    3  // Must also set either SERIAL_PORT or SERIAL_PORT_2 to this
-#define ESP_WIFI_MODULE_BAUDRATE        BAUDRATE  // Must use same BAUDRATE as SERIAL_PORT & SERIAL_PORT_2
-#define ESP_WIFI_MODULE_RESET_PIN           PC14
-#define ESP_WIFI_MODULE_GPIO0_PIN           PB10
-#define ESP_WIFI_MODULE_GPIO4_PIN           PB11
+  /**
+   *                      -------
+   *            GND | 9  |       | 8 | 3.3V
+   *  (ESP-CS) PB12 | 10 |       | 7 | PB15 (ESP-MOSI)
+   *           3.3V | 11 |       | 6 | PB14 (ESP-MISO)
+   * (ESP-IO0) PB10 | 12 |       | 5 | PB13 (ESP-CLK)
+   * (ESP-IO4) PB11 | 13 |       | 4 | --
+   *             -- | 14 |       | 3 | 3.3V (ESP-EN)
+   *  (ESP-RX)  PD8 | 15 |       | 2 | --
+   *  (ESP-TX)  PD9 | 16 |       | 1 | PC14 (ESP-RST)
+   *                      -------
+   *                       WIFI
+   */
+  #define ESP_WIFI_MODULE_COM                  3  // Must also set either SERIAL_PORT or SERIAL_PORT_2 to this
+  #define ESP_WIFI_MODULE_BAUDRATE      BAUDRATE  // Must use same BAUDRATE as SERIAL_PORT & SERIAL_PORT_2
+  #define ESP_WIFI_MODULE_RESET_PIN         PC14
+  #define ESP_WIFI_MODULE_GPIO0_PIN         PB10
+  #define ESP_WIFI_MODULE_GPIO4_PIN         PB11
+#endif

commit 2e4bf0ab9b2b4db545665bf976d2e0738c237b80
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Mar 25 18:20:14 2023 -0500

    üé® Rename FAN_PIN to FAN0_PIN (#25568)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 76d06380b4..ef85caa170 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -251,8 +251,8 @@
 #ifndef HEATER_BED_PIN
   #define HEATER_BED_PIN                    PD7   // Hotbed
 #endif
-#ifndef FAN_PIN
-  #define FAN_PIN                           PB7   // Fan0
+#ifndef FAN0_PIN
+  #define FAN0_PIN                          PB7   // Fan0
 #endif
 
 #if HAS_CUTTER

commit 769ad2764512b38e987ebbed1fe026d68a424bb1
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 24 00:33:39 2023 -0500

    üé® TMC SPI Pins
    
    Co-Authored-By: Martin Turski <turningtides@outlook.de>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 7ac9156f40..76d06380b4 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -272,18 +272,16 @@
 #endif // SPINDLE_FEATURE || LASER_FEATURE
 
 //
-// Software SPI pins for TMC2130 stepper drivers
+// SPI pins for TMC2130 stepper drivers
 //
-#if ENABLED(TMC_USE_SW_SPI)
-  #ifndef TMC_SW_MOSI
-    #define TMC_SW_MOSI                     PE14
-  #endif
-  #ifndef TMC_SW_MISO
-    #define TMC_SW_MISO                     PA14
-  #endif
-  #ifndef TMC_SW_SCK
-    #define TMC_SW_SCK                      PE15
-  #endif
+#ifndef TMC_SPI_MOSI
+  #define TMC_SPI_MOSI                      PE14
+#endif
+#ifndef TMC_SPI_MISO
+  #define TMC_SPI_MISO                      PA14
+#endif
+#ifndef TMC_SPI_SCK
+  #define TMC_SPI_SCK                       PE15
 #endif
 
 #if HAS_TMC_UART

commit 2419a167ee7e0c488969ee656f9c6d3e8c65f02a
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Jul 20 16:26:33 2022 -0500

    EXP header pin numbers redux (#24525)
    
    Followup to 504fec98

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 9c22ac804d..7ac9156f40 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -344,23 +344,23 @@
  *                ------                                   ------
  *                 EXP1                                     EXP2
  */
-#define EXP1_08_PIN                         PE13
-#define EXP1_07_PIN                         PE12
-#define EXP1_06_PIN                         PE11
-#define EXP1_05_PIN                         PE10
-#define EXP1_04_PIN                         PE9
-#define EXP1_03_PIN                         PB1
-#define EXP1_02_PIN                         PB0
 #define EXP1_01_PIN                         PC5
+#define EXP1_02_PIN                         PB0
+#define EXP1_03_PIN                         PB1
+#define EXP1_04_PIN                         PE9
+#define EXP1_05_PIN                         PE10
+#define EXP1_06_PIN                         PE11
+#define EXP1_07_PIN                         PE12
+#define EXP1_08_PIN                         PE13
 
-#define EXP2_08_PIN                         -1
-#define EXP2_07_PIN                         PC4
-#define EXP2_06_PIN                         PA7
-#define EXP2_05_PIN                         PB2
-#define EXP2_04_PIN                         PA4
-#define EXP2_03_PIN                         PE7
-#define EXP2_02_PIN                         PA5
 #define EXP2_01_PIN                         PA6
+#define EXP2_02_PIN                         PA5
+#define EXP2_03_PIN                         PE7
+#define EXP2_04_PIN                         PA4
+#define EXP2_05_PIN                         PB2
+#define EXP2_06_PIN                         PA7
+#define EXP2_07_PIN                         PC4
+#define EXP2_08_PIN                         -1
 
 //
 // Onboard SD card

commit 504fec98237a1042819eba145ae39ad14cc49a1e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Jul 16 16:26:36 2022 -0500

    üö∏ Renumber EXP pins to match schematics/RRF/Klipper

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 4e311d4862..9c22ac804d 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -336,43 +336,43 @@
 
 /**
  *                ------                                   ------
- * (BEEPER) PC5  |10  9 | PB0  (BTN_ENC)  (MISO)      PA6 |10  9 | PA5 (SCK)
- * (LCD_EN) PB1  | 8  7 | PE9  (LCD_RS)   (BTN_EN1)   PE7 | 8  7 | PA4 (SD_SS)
- * (LCD_D4) PE10 | 6  5   PE11 (LCD_D5)   (BTN_EN2)   PB2 | 6  5   PA7 (MOSI)
- * (LCD_D6) PE12 | 4  3 | PE13 (LCD_D7)   (SD_DETECT) PC4 | 4  3 | RESET
- *           GND | 2  1 | 5V                          GND | 2  1 | --
+ * (BEEPER) PC5  | 1  2 | PB0  (BTN_ENC)  (MISO)      PA6 | 1  2 | PA5 (SCK)
+ * (LCD_EN) PB1  | 3  4 | PE9  (LCD_RS)   (BTN_EN1)   PE7 | 3  4 | PA4 (SD_SS)
+ * (LCD_D4) PE10 | 5  6   PE11 (LCD_D5)   (BTN_EN2)   PB2 | 5  6   PA7 (MOSI)
+ * (LCD_D6) PE12 | 7  8 | PE13 (LCD_D7)   (SD_DETECT) PC4 | 7  8 | RESET
+ *           GND | 9 10 | 5V                          GND | 9 10 | --
  *                ------                                   ------
  *                 EXP1                                     EXP2
  */
-#define EXP1_03_PIN                         PE13
-#define EXP1_04_PIN                         PE12
-#define EXP1_05_PIN                         PE11
-#define EXP1_06_PIN                         PE10
-#define EXP1_07_PIN                         PE9
-#define EXP1_08_PIN                         PB1
-#define EXP1_09_PIN                         PB0
-#define EXP1_10_PIN                         PC5
-
-#define EXP2_03_PIN                         -1
-#define EXP2_04_PIN                         PC4
-#define EXP2_05_PIN                         PA7
-#define EXP2_06_PIN                         PB2
-#define EXP2_07_PIN                         PA4
-#define EXP2_08_PIN                         PE7
-#define EXP2_09_PIN                         PA5
-#define EXP2_10_PIN                         PA6
+#define EXP1_08_PIN                         PE13
+#define EXP1_07_PIN                         PE12
+#define EXP1_06_PIN                         PE11
+#define EXP1_05_PIN                         PE10
+#define EXP1_04_PIN                         PE9
+#define EXP1_03_PIN                         PB1
+#define EXP1_02_PIN                         PB0
+#define EXP1_01_PIN                         PC5
+
+#define EXP2_08_PIN                         -1
+#define EXP2_07_PIN                         PC4
+#define EXP2_06_PIN                         PA7
+#define EXP2_05_PIN                         PB2
+#define EXP2_04_PIN                         PA4
+#define EXP2_03_PIN                         PE7
+#define EXP2_02_PIN                         PA5
+#define EXP2_01_PIN                         PA6
 
 //
 // Onboard SD card
 // Must use soft SPI because Marlin's default hardware SPI is tied to LCD's EXP2
 //
 #if SD_CONNECTION_IS(LCD)
-  #define SDSS                       EXP2_07_PIN
+  #define SDSS                       EXP2_04_PIN
   #define SD_SS_PIN                         SDSS
-  #define SD_SCK_PIN                 EXP2_09_PIN
-  #define SD_MISO_PIN                EXP2_10_PIN
-  #define SD_MOSI_PIN                EXP2_05_PIN
-  #define SD_DETECT_PIN              EXP2_04_PIN
+  #define SD_SCK_PIN                 EXP2_02_PIN
+  #define SD_MISO_PIN                EXP2_01_PIN
+  #define SD_MOSI_PIN                EXP2_06_PIN
+  #define SD_DETECT_PIN              EXP2_07_PIN
 #elif SD_CONNECTION_IS(ONBOARD)
   #define SDIO_SUPPORT                            // Use SDIO for onboard SD
 #elif SD_CONNECTION_IS(CUSTOM_CABLE)
@@ -393,46 +393,46 @@
    */
 
   // M1 on Driver Expansion Module
-  #define E2_STEP_PIN                EXP2_05_PIN
-  #define E2_DIR_PIN                 EXP2_06_PIN
-  #define E2_ENABLE_PIN              EXP2_04_PIN
+  #define E2_STEP_PIN                EXP2_06_PIN
+  #define E2_DIR_PIN                 EXP2_05_PIN
+  #define E2_ENABLE_PIN              EXP2_07_PIN
   #if !EXP_MOT_USE_EXP2_ONLY
-    #define E2_DIAG_PIN              EXP1_06_PIN
-    #define E2_CS_PIN                EXP1_05_PIN
+    #define E2_DIAG_PIN              EXP1_05_PIN
+    #define E2_CS_PIN                EXP1_06_PIN
     #if HAS_TMC_UART
-      #define E2_SERIAL_TX_PIN       EXP1_05_PIN
-      #define E2_SERIAL_RX_PIN       EXP1_05_PIN
+      #define E2_SERIAL_TX_PIN       EXP1_06_PIN
+      #define E2_SERIAL_RX_PIN       EXP1_06_PIN
     #endif
   #endif
 
   // M2 on Driver Expansion Module
-  #define E3_STEP_PIN                EXP2_08_PIN
-  #define E3_DIR_PIN                 EXP2_07_PIN
+  #define E3_STEP_PIN                EXP2_03_PIN
+  #define E3_DIR_PIN                 EXP2_04_PIN
   #if !EXP_MOT_USE_EXP2_ONLY
-    #define E3_ENABLE_PIN            EXP1_03_PIN
-    #define E3_DIAG_PIN              EXP1_08_PIN
-    #define E3_CS_PIN                EXP1_07_PIN
+    #define E3_ENABLE_PIN            EXP1_08_PIN
+    #define E3_DIAG_PIN              EXP1_03_PIN
+    #define E3_CS_PIN                EXP1_04_PIN
     #if HAS_TMC_UART
-      #define E3_SERIAL_TX_PIN       EXP1_07_PIN
-      #define E3_SERIAL_RX_PIN       EXP1_07_PIN
+      #define E3_SERIAL_TX_PIN       EXP1_04_PIN
+      #define E3_SERIAL_RX_PIN       EXP1_04_PIN
     #endif
   #else
-    #define E3_ENABLE_PIN            EXP2_04_PIN
+    #define E3_ENABLE_PIN            EXP2_07_PIN
   #endif
 
   // M3 on Driver Expansion Module
-  #define E4_STEP_PIN                EXP2_10_PIN
-  #define E4_DIR_PIN                 EXP2_09_PIN
+  #define E4_STEP_PIN                EXP2_01_PIN
+  #define E4_DIR_PIN                 EXP2_02_PIN
   #if !EXP_MOT_USE_EXP2_ONLY
-    #define E4_ENABLE_PIN            EXP1_04_PIN
-    #define E4_DIAG_PIN              EXP1_10_PIN
-    #define E4_CS_PIN                EXP1_09_PIN
+    #define E4_ENABLE_PIN            EXP1_07_PIN
+    #define E4_DIAG_PIN              EXP1_01_PIN
+    #define E4_CS_PIN                EXP1_02_PIN
     #if HAS_TMC_UART
-      #define E4_SERIAL_TX_PIN       EXP1_09_PIN
-      #define E4_SERIAL_RX_PIN       EXP1_09_PIN
+      #define E4_SERIAL_TX_PIN       EXP1_02_PIN
+      #define E4_SERIAL_RX_PIN       EXP1_02_PIN
     #endif
   #else
-    #define E4_ENABLE_PIN            EXP2_04_PIN
+    #define E4_ENABLE_PIN            EXP2_07_PIN
   #endif
 
 #endif // BTT_MOTOR_EXPANSION
@@ -443,65 +443,65 @@
 #if IS_TFTGLCD_PANEL
 
   #if ENABLED(TFTGLCD_PANEL_SPI)
-    #define TFTGLCD_CS               EXP2_08_PIN
+    #define TFTGLCD_CS               EXP2_03_PIN
   #endif
 
 #elif HAS_WIRED_LCD
 
-  #define BEEPER_PIN                 EXP1_10_PIN
-  #define BTN_ENC                    EXP1_09_PIN
+  #define BEEPER_PIN                 EXP1_01_PIN
+  #define BTN_ENC                    EXP1_02_PIN
 
   #if ENABLED(CR10_STOCKDISPLAY)
 
-    #define LCD_PINS_RS              EXP1_04_PIN
+    #define LCD_PINS_RS              EXP1_07_PIN
 
-    #define BTN_EN1                  EXP1_08_PIN
-    #define BTN_EN2                  EXP1_06_PIN
+    #define BTN_EN1                  EXP1_03_PIN
+    #define BTN_EN2                  EXP1_05_PIN
 
-    #define LCD_PINS_ENABLE          EXP1_03_PIN
-    #define LCD_PINS_D4              EXP1_05_PIN
+    #define LCD_PINS_ENABLE          EXP1_08_PIN
+    #define LCD_PINS_D4              EXP1_06_PIN
 
   #elif ENABLED(MKS_MINI_12864)
 
-    #define DOGLCD_A0                EXP1_04_PIN
-    #define DOGLCD_CS                EXP1_05_PIN
-    #define BTN_EN1                  EXP2_08_PIN
-    #define BTN_EN2                  EXP2_06_PIN
+    #define DOGLCD_A0                EXP1_07_PIN
+    #define DOGLCD_CS                EXP1_06_PIN
+    #define BTN_EN1                  EXP2_03_PIN
+    #define BTN_EN2                  EXP2_05_PIN
 
   #else
 
-    #define LCD_PINS_RS              EXP1_07_PIN
+    #define LCD_PINS_RS              EXP1_04_PIN
 
-    #define BTN_EN1                  EXP2_08_PIN
-    #define BTN_EN2                  EXP2_06_PIN
+    #define BTN_EN1                  EXP2_03_PIN
+    #define BTN_EN2                  EXP2_05_PIN
 
-    #define LCD_PINS_ENABLE          EXP1_08_PIN
-    #define LCD_PINS_D4              EXP1_06_PIN
+    #define LCD_PINS_ENABLE          EXP1_03_PIN
+    #define LCD_PINS_D4              EXP1_05_PIN
 
     #if ENABLED(FYSETC_MINI_12864)
-      #define DOGLCD_CS              EXP1_08_PIN
-      #define DOGLCD_A0              EXP1_07_PIN
+      #define DOGLCD_CS              EXP1_03_PIN
+      #define DOGLCD_A0              EXP1_04_PIN
       //#define LCD_BACKLIGHT_PIN           -1
-      #define LCD_RESET_PIN          EXP1_06_PIN  // Must be high or open for LCD to operate normally.
+      #define LCD_RESET_PIN          EXP1_05_PIN  // Must be high or open for LCD to operate normally.
       #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
         #ifndef RGB_LED_R_PIN
-          #define RGB_LED_R_PIN      EXP1_05_PIN
+          #define RGB_LED_R_PIN      EXP1_06_PIN
         #endif
         #ifndef RGB_LED_G_PIN
-          #define RGB_LED_G_PIN      EXP1_04_PIN
+          #define RGB_LED_G_PIN      EXP1_07_PIN
         #endif
         #ifndef RGB_LED_B_PIN
-          #define RGB_LED_B_PIN      EXP1_03_PIN
+          #define RGB_LED_B_PIN      EXP1_08_PIN
         #endif
       #elif ENABLED(FYSETC_MINI_12864_2_1)
-        #define NEOPIXEL_PIN         EXP1_05_PIN
+        #define NEOPIXEL_PIN         EXP1_06_PIN
       #endif
     #endif // !FYSETC_MINI_12864
 
     #if IS_ULTIPANEL
-      #define LCD_PINS_D5            EXP1_05_PIN
-      #define LCD_PINS_D6            EXP1_04_PIN
-      #define LCD_PINS_D7            EXP1_03_PIN
+      #define LCD_PINS_D5            EXP1_06_PIN
+      #define LCD_PINS_D6            EXP1_07_PIN
+      #define LCD_PINS_D7            EXP1_08_PIN
 
       #if ENABLED(REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
         #define BTN_ENC_EN           LCD_PINS_D7  // Detect the presence of the encoder
@@ -528,24 +528,24 @@
 
 #if HAS_SPI_TFT
 
-  #define BTN_EN1                    EXP2_08_PIN
-  #define BTN_EN2                    EXP2_06_PIN
-  #define BTN_ENC                    EXP1_09_PIN
+  #define BTN_EN1                    EXP2_03_PIN
+  #define BTN_EN2                    EXP2_05_PIN
+  #define BTN_ENC                    EXP1_02_PIN
 
   //
   // e.g., BTT_TFT35_SPI_V1_0 (480x320, 3.5", SPI Stock Display with Rotary Encoder in BIQU B1 SE)
   //
-  #define TFT_CS_PIN                 EXP2_07_PIN
-  #define TFT_A0_PIN                 EXP2_04_PIN
-  #define TFT_SCK_PIN                EXP2_09_PIN
-  #define TFT_MISO_PIN               EXP2_10_PIN
-  #define TFT_MOSI_PIN               EXP2_05_PIN
-
-  #define TOUCH_INT_PIN              EXP1_04_PIN
-  #define TOUCH_MISO_PIN             EXP1_05_PIN
-  #define TOUCH_MOSI_PIN             EXP1_08_PIN
-  #define TOUCH_SCK_PIN              EXP1_06_PIN
-  #define TOUCH_CS_PIN               EXP1_07_PIN
+  #define TFT_CS_PIN                 EXP2_04_PIN
+  #define TFT_A0_PIN                 EXP2_07_PIN
+  #define TFT_SCK_PIN                EXP2_02_PIN
+  #define TFT_MISO_PIN               EXP2_01_PIN
+  #define TFT_MOSI_PIN               EXP2_06_PIN
+
+  #define TOUCH_INT_PIN              EXP1_07_PIN
+  #define TOUCH_MISO_PIN             EXP1_06_PIN
+  #define TOUCH_MOSI_PIN             EXP1_03_PIN
+  #define TOUCH_SCK_PIN              EXP1_05_PIN
+  #define TOUCH_CS_PIN               EXP1_04_PIN
 
 #endif
 

commit 7d9bd3a97cc15bab0de9813a19eb44c47b3043da
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon May 23 02:37:28 2022 -0500

    üé® Add EXP1/2 headers, adjust TFT pins (#24230)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index d526c75b63..4e311d4862 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -527,6 +527,11 @@
 #endif
 
 #if HAS_SPI_TFT
+
+  #define BTN_EN1                    EXP2_08_PIN
+  #define BTN_EN2                    EXP2_06_PIN
+  #define BTN_ENC                    EXP1_09_PIN
+
   //
   // e.g., BTT_TFT35_SPI_V1_0 (480x320, 3.5", SPI Stock Display with Rotary Encoder in BIQU B1 SE)
   //
@@ -542,9 +547,6 @@
   #define TOUCH_SCK_PIN              EXP1_06_PIN
   #define TOUCH_CS_PIN               EXP1_07_PIN
 
-  #define BTN_EN1                    EXP2_08_PIN
-  #define BTN_EN2                    EXP2_06_PIN
-  #define BTN_ENC                    EXP1_09_PIN
 #endif
 
 //

commit f15b1c16c9a743e9b4eafaf37c37ab2f919d1fe1
Author: Jon <jon@mscreations.net>
Date:   Thu Mar 31 22:18:32 2022 -0400

    ü©π SKR2 Pins DIAG flag (#23968)
    
    Followup to #23050

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 4f5ed6c1b4..d526c75b63 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -23,6 +23,8 @@
 
 #include "env_validate.h"
 
+#define USES_DIAG_JUMPERS
+
 // If you have the BigTreeTech driver expansion module, enable BTT_MOTOR_EXPANSION
 // https://github.com/bigtreetech/BTT-Expansion-module/tree/master/BTT%20EXP-MOT
 //#define BTT_MOTOR_EXPANSION

commit d007c1b835847ab21d5f9668300d5131713c84dc
Author: Mike La Spina <mike.laspina@shaw.ca>
Date:   Sun Jan 2 02:23:55 2022 -0600

    üîß Normal FET layout with Spindle/Laser (#23409)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 079d6dcccc..4f5ed6c1b4 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -253,7 +253,7 @@
   #define FAN_PIN                           PB7   // Fan0
 #endif
 
-#if EITHER(SPINDLE_FEATURE, LASER_FEATURE)
+#if HAS_CUTTER
   #ifndef SPINDLE_LASER_PWM_PIN
     #define SPINDLE_LASER_PWM_PIN           PB5
   #endif

commit 761b1b93c62e9b70dd97c9579450804219d8f25b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Dec 27 20:52:43 2021 -0600

    üìù Consistent pin header orientation

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 6d23bc8b20..079d6dcccc 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -333,14 +333,14 @@
 #endif
 
 /**
- *               ------                                             ------
- *           NC | 1  2 | GND                                    5V | 1  2 | GND
- *        RESET | 3  4 | PC4 (SD_DETECT)             (LCD_D7) PE13 | 3  4 | PE12 (LCD_D6)
- *   (MOSI) PA7 | 5  6   PB2 (BTN_EN2)               (LCD_D5) PE11 | 5  6   PE10 (LCD_D4)
- *  (SD_SS) PA4 | 7  8 | PE7 (BTN_EN1)               (LCD_RS)  PE9 | 7  8 | PB1  (LCD_EN)
- *    (SCK) PA5 | 9 10 | PA6 (MISO)                 (BTN_ENC)  PB0 | 9 10 | PC5  (BEEPER)
- *               ------                                             ------
- *                EXP2                                               EXP1
+ *                ------                                   ------
+ * (BEEPER) PC5  |10  9 | PB0  (BTN_ENC)  (MISO)      PA6 |10  9 | PA5 (SCK)
+ * (LCD_EN) PB1  | 8  7 | PE9  (LCD_RS)   (BTN_EN1)   PE7 | 8  7 | PA4 (SD_SS)
+ * (LCD_D4) PE10 | 6  5   PE11 (LCD_D5)   (BTN_EN2)   PB2 | 6  5   PA7 (MOSI)
+ * (LCD_D6) PE12 | 4  3 | PE13 (LCD_D7)   (SD_DETECT) PC4 | 4  3 | RESET
+ *           GND | 2  1 | 5V                          GND | 2  1 | --
+ *                ------                                   ------
+ *                 EXP1                                     EXP2
  */
 #define EXP1_03_PIN                         PE13
 #define EXP1_04_PIN                         PE12
@@ -379,8 +379,8 @@
 
 #if ENABLED(BTT_MOTOR_EXPANSION)
   /**       -----                        -----
-   *    NC | . . | GND               NC | . . | GND
-   *    NC | . . | M1EN            M2EN | . . | M3EN
+   *    -- | . . | GND               -- | . . | GND
+   *    -- | . . | M1EN            M2EN | . . | M3EN
    * M1STP | . .   M1DIR           M1RX | . .   M1DIAG
    * M2DIR | . . | M2STP           M2RX | . . | M2DIAG
    * M3DIR | . . | M3STP           M3RX | . . | M3DIAG
@@ -562,9 +562,9 @@
  *  (ESP-CS) PB12 | 10 |       | 7 | PB15 (ESP-MOSI)
  *           3.3V | 11 |       | 6 | PB14 (ESP-MISO)
  * (ESP-IO0) PB10 | 12 |       | 5 | PB13 (ESP-CLK)
- * (ESP-IO4) PB11 | 13 |       | 4 | NC
- *             NC | 14 |       | 3 | 3.3V (ESP-EN)
- *  (ESP-RX)  PD8 | 15 |       | 2 | NC
+ * (ESP-IO4) PB11 | 13 |       | 4 | --
+ *             -- | 14 |       | 3 | 3.3V (ESP-EN)
+ *  (ESP-RX)  PD8 | 15 |       | 2 | --
  *  (ESP-TX)  PD9 | 16 |       | 1 | PC14 (ESP-RST)
  *                      -------
  *                       WIFI

commit 56ac68172796d03c15235738fcb234c48167d807
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Dec 26 03:20:29 2021 -0600

    üé® Pins and SDIO cleanup

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 196ca46319..6d23bc8b20 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -365,24 +365,14 @@
 // Must use soft SPI because Marlin's default hardware SPI is tied to LCD's EXP2
 //
 #if SD_CONNECTION_IS(LCD)
-
   #define SDSS                       EXP2_07_PIN
   #define SD_SS_PIN                         SDSS
   #define SD_SCK_PIN                 EXP2_09_PIN
   #define SD_MISO_PIN                EXP2_10_PIN
   #define SD_MOSI_PIN                EXP2_05_PIN
   #define SD_DETECT_PIN              EXP2_04_PIN
-
 #elif SD_CONNECTION_IS(ONBOARD)
-
   #define SDIO_SUPPORT                            // Use SDIO for onboard SD
-  #define SDIO_D0_PIN                       PC8
-  #define SDIO_D1_PIN                       PC9
-  #define SDIO_D2_PIN                       PC10
-  #define SDIO_D3_PIN                       PC11
-  #define SDIO_CK_PIN                       PC12
-  #define SDIO_CMD_PIN                      PD2
-
 #elif SD_CONNECTION_IS(CUSTOM_CABLE)
   #error "No custom SD drive cable defined for this board."
 #endif

commit 9d4275506862e6d8029c0152c1d16ee737a4fa64
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Jul 8 01:33:49 2021 -0500

    üé® Update SKR V2 pins

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index d4e07bb8b7..196ca46319 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -366,12 +366,12 @@
 //
 #if SD_CONNECTION_IS(LCD)
 
-  #define SDSS                              PA4
+  #define SDSS                       EXP2_07_PIN
   #define SD_SS_PIN                         SDSS
-  #define SD_SCK_PIN                        PA5
-  #define SD_MISO_PIN                       PA6
-  #define SD_MOSI_PIN                       PA7
-  #define SD_DETECT_PIN                     PC4
+  #define SD_SCK_PIN                 EXP2_09_PIN
+  #define SD_MISO_PIN                EXP2_10_PIN
+  #define SD_MOSI_PIN                EXP2_05_PIN
+  #define SD_DETECT_PIN              EXP2_04_PIN
 
 #elif SD_CONNECTION_IS(ONBOARD)
 

commit a84e0404e019de905edfd9bbe61d35176c51c3c7
Author: Robby Candra <robbycandra.mail@gmail.com>
Date:   Thu Dec 9 01:57:50 2021 +0700

    üö∏ Onboard SD for SKR 2.0 / SKR PRO (#23274)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index bf3409210e..d4e07bb8b7 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -329,7 +329,7 @@
 // SD Connection
 //
 #ifndef SDCARD_CONNECTION
-  #define SDCARD_CONNECTION                  LCD
+  #define SDCARD_CONNECTION              ONBOARD
 #endif
 
 /**

commit e6bbdd89b44a6d83df8788debf25880fadfab87a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Dec 4 17:17:10 2021 -0600

    üîß Cutter pins for SKR 2.0

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index a2111d849e..bf3409210e 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -190,16 +190,28 @@
   #define Z_CS_PIN                          PD0
 #endif
 
-#define E0_STEP_PIN                         PD15
-#define E0_DIR_PIN                          PD14
-#define E0_ENABLE_PIN                       PC7
+#ifndef E0_STEP_PIN
+  #define E0_STEP_PIN                       PD15
+#endif
+#ifndef E0_DIR_PIN
+  #define E0_DIR_PIN                        PD14
+#endif
+#ifndef E0_ENABLE_PIN
+  #define E0_ENABLE_PIN                     PC7
+#endif
 #ifndef E0_CS_PIN
   #define E0_CS_PIN                         PC6
 #endif
 
-#define E1_STEP_PIN                         PD11
-#define E1_DIR_PIN                          PD10
-#define E1_ENABLE_PIN                       PD13
+#ifndef E1_STEP_PIN
+  #define E1_STEP_PIN                       PD11
+#endif
+#ifndef E1_DIR_PIN
+  #define E1_DIR_PIN                        PD10
+#endif
+#ifndef E1_ENABLE_PIN
+  #define E1_ENABLE_PIN                     PD13
+#endif
 #ifndef E1_CS_PIN
   #define E1_CS_PIN                         PD12
 #endif
@@ -207,9 +219,15 @@
 //
 // Temperature Sensors
 //
-#define TEMP_BED_PIN                        PA1   // TB
-#define TEMP_0_PIN                          PA2   // TH0
-#define TEMP_1_PIN                          PA3   // TH1
+#ifndef TEMP_0_PIN
+  #define TEMP_0_PIN                        PA2   // TH0
+#endif
+#ifndef TEMP_1_PIN
+  #define TEMP_1_PIN                        PA3   // TH1
+#endif
+#ifndef TEMP_BED_PIN
+  #define TEMP_BED_PIN                      PA1   // TB
+#endif
 
 #if HOTENDS == 1 && DISABLED(HEATERS_PARALLEL)
   #if TEMP_SENSOR_PROBE
@@ -234,12 +252,22 @@
 #ifndef FAN_PIN
   #define FAN_PIN                           PB7   // Fan0
 #endif
-#ifndef FAN1_PIN
-  #define FAN1_PIN                          PB6   // Fan1
-#endif
-#ifndef FAN2_PIN
-  #define FAN2_PIN                          PB5   // Fan2
-#endif
+
+#if EITHER(SPINDLE_FEATURE, LASER_FEATURE)
+  #ifndef SPINDLE_LASER_PWM_PIN
+    #define SPINDLE_LASER_PWM_PIN           PB5
+  #endif
+  #ifndef SPINDLE_LASER_ENA_PIN
+    #define SPINDLE_LASER_ENA_PIN           PB6
+  #endif
+#else
+  #ifndef FAN1_PIN
+    #define FAN1_PIN                        PB6   // Fan1
+  #endif
+  #ifndef FAN2_PIN
+    #define FAN2_PIN                        PB5   // Fan2
+  #endif
+#endif // SPINDLE_FEATURE || LASER_FEATURE
 
 //
 // Software SPI pins for TMC2130 stepper drivers
@@ -275,6 +303,9 @@
   //#define E3_HARDWARE_SERIAL Serial1
   //#define E4_HARDWARE_SERIAL Serial1
 
+  //
+  // Software serial
+  //
   #define X_SERIAL_TX_PIN                   PE0
   #define X_SERIAL_RX_PIN        X_SERIAL_TX_PIN
 
@@ -333,7 +364,16 @@
 // Onboard SD card
 // Must use soft SPI because Marlin's default hardware SPI is tied to LCD's EXP2
 //
-#if SD_CONNECTION_IS(ONBOARD)
+#if SD_CONNECTION_IS(LCD)
+
+  #define SDSS                              PA4
+  #define SD_SS_PIN                         SDSS
+  #define SD_SCK_PIN                        PA5
+  #define SD_MISO_PIN                       PA6
+  #define SD_MOSI_PIN                       PA7
+  #define SD_DETECT_PIN                     PC4
+
+#elif SD_CONNECTION_IS(ONBOARD)
 
   #define SDIO_SUPPORT                            // Use SDIO for onboard SD
   #define SDIO_D0_PIN                       PC8
@@ -343,17 +383,8 @@
   #define SDIO_CK_PIN                       PC12
   #define SDIO_CMD_PIN                      PD2
 
-#elif SD_CONNECTION_IS(LCD)
-
-  #define SDSS                              PA4
-  #define SD_SS_PIN                         SDSS
-  #define SD_SCK_PIN                        PA5
-  #define SD_MISO_PIN                       PA6
-  #define SD_MOSI_PIN                       PA7
-  #define SD_DETECT_PIN                     PC4
-
 #elif SD_CONNECTION_IS(CUSTOM_CABLE)
-  #error "CUSTOM_CABLE is not a supported SDCARD_CONNECTION for this board"
+  #error "No custom SD drive cable defined for this board."
 #endif
 
 #if ENABLED(BTT_MOTOR_EXPANSION)

commit 0539e870de30877a38c78d29a304a97a6068cc80
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Nov 27 18:33:32 2021 -0600

    üé® Rename HAL timer elements

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 0a80c99878..a2111d849e 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -50,7 +50,7 @@
 #define HAS_OTG_USB_HOST_SUPPORT                  // USB Flash Drive support
 
 // Avoid conflict with TIMER_TONE
-#define STEP_TIMER                            10
+#define STEP_TIMER 10
 
 //
 // Servos

commit e3d777cf8fcdeafe11df73d88fd6c374148b6f47
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Wed Nov 17 09:33:42 2021 -0800

    üìå Overridable probe-related pins (#23107)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 762e355626..0a80c99878 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -136,7 +136,9 @@
 // Probe enable
 //
 #if ENABLED(PROBE_ENABLE_DISABLE)
-  #define PROBE_ENABLE_PIN            SERVO0_PIN
+  #ifndef PROBE_ENABLE_PIN
+    #define PROBE_ENABLE_PIN          SERVO0_PIN
+  #endif
 #endif
 
 //

commit 07befb545b2bc6ea284d444637a039127af6b4d1
Author: BigTreeTech <38851044+bigtreetech@users.noreply.github.com>
Date:   Wed Nov 10 23:56:10 2021 +0800

    ‚ú® Support for BIQU B1-SE-Plus strain gauge probe (#23101)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 9a280eac16..762e355626 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -132,6 +132,13 @@
   #define Z_MIN_PROBE_PIN                   PE4
 #endif
 
+//
+// Probe enable
+//
+#if ENABLED(PROBE_ENABLE_DISABLE)
+  #define PROBE_ENABLE_PIN            SERVO0_PIN
+#endif
+
 //
 // Filament Runout Sensor
 //

commit 767a15d468ab6859eec19600541ad21dff757d1a
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Mon Nov 1 22:43:40 2021 -0700

    üîß Endstop / DIAG homing conflict warning (#23050)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 50330932cf..9a280eac16 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -47,8 +47,7 @@
   #define FLASH_EEPROM_LEVELING
 #endif
 
-// USB Flash Drive support
-#define HAS_OTG_USB_HOST_SUPPORT
+#define HAS_OTG_USB_HOST_SUPPORT                  // USB Flash Drive support
 
 // Avoid conflict with TIMER_TONE
 #define STEP_TIMER                            10

commit 9176dcea6ee1e449aee8f4972739268d4e97f034
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Jul 8 01:17:16 2021 -0500

    üìù Tweak EXP comments

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index d3b59e03b8..50330932cf 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -294,14 +294,14 @@
 #endif
 
 /**
- *               -----                                             -----
- *           NC | 1 2 | GND                                    5V | 1 2 | GND
- *        RESET | 3 4 | PC4 (SD_DETECT)             (LCD_D7) PE13 | 3 4 | PE12 (LCD_D6)
- *   (MOSI) PA7 | 5 6   PB2 (BTN_EN2)               (LCD_D5) PE11 | 5 6   PE10 (LCD_D4)
- *  (SD_SS) PA4 | 7 8 | PE7 (BTN_EN1)               (LCD_RS)  PE9 | 7 8 | PB1  (LCD_EN)
- *    (SCK) PA5 | 9 10| PA6 (MISO)                 (BTN_ENC)  PB0 | 9 10| PC5  (BEEPER)
- *               -----                                             -----
- *               EXP2                                              EXP1
+ *               ------                                             ------
+ *           NC | 1  2 | GND                                    5V | 1  2 | GND
+ *        RESET | 3  4 | PC4 (SD_DETECT)             (LCD_D7) PE13 | 3  4 | PE12 (LCD_D6)
+ *   (MOSI) PA7 | 5  6   PB2 (BTN_EN2)               (LCD_D5) PE11 | 5  6   PE10 (LCD_D4)
+ *  (SD_SS) PA4 | 7  8 | PE7 (BTN_EN1)               (LCD_RS)  PE9 | 7  8 | PB1  (LCD_EN)
+ *    (SCK) PA5 | 9 10 | PA6 (MISO)                 (BTN_ENC)  PB0 | 9 10 | PC5  (BEEPER)
+ *               ------                                             ------
+ *                EXP2                                               EXP1
  */
 #define EXP1_03_PIN                         PE13
 #define EXP1_04_PIN                         PE12

commit 9a19ea50d8451fc0970843cc896bd2553e0f987e
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Fri Oct 22 08:52:31 2021 -0700

    ‚ú® BigTreeTech TFT35 SPI V1.0 (#22986)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 95cfb1234d..d3b59e03b8 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -495,6 +495,27 @@
   #endif
 #endif
 
+#if HAS_SPI_TFT
+  //
+  // e.g., BTT_TFT35_SPI_V1_0 (480x320, 3.5", SPI Stock Display with Rotary Encoder in BIQU B1 SE)
+  //
+  #define TFT_CS_PIN                 EXP2_07_PIN
+  #define TFT_A0_PIN                 EXP2_04_PIN
+  #define TFT_SCK_PIN                EXP2_09_PIN
+  #define TFT_MISO_PIN               EXP2_10_PIN
+  #define TFT_MOSI_PIN               EXP2_05_PIN
+
+  #define TOUCH_INT_PIN              EXP1_04_PIN
+  #define TOUCH_MISO_PIN             EXP1_05_PIN
+  #define TOUCH_MOSI_PIN             EXP1_08_PIN
+  #define TOUCH_SCK_PIN              EXP1_06_PIN
+  #define TOUCH_CS_PIN               EXP1_07_PIN
+
+  #define BTN_EN1                    EXP2_08_PIN
+  #define BTN_EN2                    EXP2_06_PIN
+  #define BTN_ENC                    EXP1_09_PIN
+#endif
+
 //
 // NeoPixel LED
 //

commit 9bb562f40a5570a63430bbf9392da0fdb85c5c8c
Author: VragVideo <91742261+VragVideo@users.noreply.github.com>
Date:   Sun Oct 3 06:12:51 2021 +0300

    ‚ú® WYH L12864 LCD (Alfawise Ex8) (#22863)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index a05f4fb5b9..95cfb1234d 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -483,7 +483,7 @@
 #endif // HAS_WIRED_LCD
 
 // Alter timing for graphical display
-#if ENABLED(U8GLIB_ST7920)
+#if IS_U8GLIB_ST7920
   #ifndef BOARD_ST7920_DELAY_1
     #define BOARD_ST7920_DELAY_1             120
   #endif

commit c881fab1280f338e32015e1556890d647ee967fb
Author: dotdash32 <dotdash32@gmail.com>
Date:   Sun Sep 5 17:21:25 2021 -0700

    üé® Use largest default ST9720 delays (#22713)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 30163dc61d..a05f4fb5b9 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -430,11 +430,6 @@
     #define LCD_PINS_ENABLE          EXP1_03_PIN
     #define LCD_PINS_D4              EXP1_05_PIN
 
-    // CR10_STOCKDISPLAY default timing is too fast
-    #undef BOARD_ST7920_DELAY_1
-    #undef BOARD_ST7920_DELAY_2
-    #undef BOARD_ST7920_DELAY_3
-
   #elif ENABLED(MKS_MINI_12864)
 
     #define DOGLCD_A0                EXP1_04_PIN
@@ -490,13 +485,13 @@
 // Alter timing for graphical display
 #if ENABLED(U8GLIB_ST7920)
   #ifndef BOARD_ST7920_DELAY_1
-    #define BOARD_ST7920_DELAY_1   DELAY_NS(120)
+    #define BOARD_ST7920_DELAY_1             120
   #endif
   #ifndef BOARD_ST7920_DELAY_2
-    #define BOARD_ST7920_DELAY_2   DELAY_NS( 80)
+    #define BOARD_ST7920_DELAY_2              80
   #endif
   #ifndef BOARD_ST7920_DELAY_3
-    #define BOARD_ST7920_DELAY_3   DELAY_NS(580)
+    #define BOARD_ST7920_DELAY_3             580
   #endif
 #endif
 

commit d818a019c5d80e8b2238f0ea8311ad53154be4ec
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Aug 28 15:27:52 2021 -0500

    üé® EXP headers, ST7920 delays (#22641)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index e049f8fbd9..30163dc61d 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -303,7 +303,6 @@
  *               -----                                             -----
  *               EXP2                                              EXP1
  */
-
 #define EXP1_03_PIN                         PE13
 #define EXP1_04_PIN                         PE12
 #define EXP1_05_PIN                         PE11
@@ -489,12 +488,12 @@
 #endif // HAS_WIRED_LCD
 
 // Alter timing for graphical display
-#if HAS_MARLINUI_U8GLIB
+#if ENABLED(U8GLIB_ST7920)
   #ifndef BOARD_ST7920_DELAY_1
     #define BOARD_ST7920_DELAY_1   DELAY_NS(120)
   #endif
   #ifndef BOARD_ST7920_DELAY_2
-    #define BOARD_ST7920_DELAY_2    DELAY_NS(80)
+    #define BOARD_ST7920_DELAY_2   DELAY_NS( 80)
   #endif
   #ifndef BOARD_ST7920_DELAY_3
     #define BOARD_ST7920_DELAY_3   DELAY_NS(580)

commit 4f35858c9ef4de8e291d8006041aca0969c9d825
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Aug 24 18:07:41 2021 -0500

    üé® EXP1/2 headers and pins cleanup (#22628)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index dc2ee99aff..e049f8fbd9 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -350,7 +350,7 @@
 #endif
 
 #if ENABLED(BTT_MOTOR_EXPANSION)
-  /**       _____                        _____
+  /**       -----                        -----
    *    NC | . . | GND               NC | . . | GND
    *    NC | . . | M1EN            M2EN | . . | M3EN
    * M1STP | . .   M1DIR           M1RX | . .   M1DIAG

commit 2e3b13133159669ecb9682079f60972d0ff5b3c8
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Aug 21 15:07:52 2021 -0500

    üé® Tweak TMC software serial pins

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index e5d6b6891b..dc2ee99aff 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -267,23 +267,20 @@
   //#define E3_HARDWARE_SERIAL Serial1
   //#define E4_HARDWARE_SERIAL Serial1
 
-  //
-  // Software serial
-  //
   #define X_SERIAL_TX_PIN                   PE0
-  #define X_SERIAL_RX_PIN                   PE0
+  #define X_SERIAL_RX_PIN        X_SERIAL_TX_PIN
 
   #define Y_SERIAL_TX_PIN                   PD3
-  #define Y_SERIAL_RX_PIN                   PD3
+  #define Y_SERIAL_RX_PIN        Y_SERIAL_TX_PIN
 
   #define Z_SERIAL_TX_PIN                   PD0
-  #define Z_SERIAL_RX_PIN                   PD0
+  #define Z_SERIAL_RX_PIN        Z_SERIAL_TX_PIN
 
   #define E0_SERIAL_TX_PIN                  PC6
-  #define E0_SERIAL_RX_PIN                  PC6
+  #define E0_SERIAL_RX_PIN      E0_SERIAL_TX_PIN
 
   #define E1_SERIAL_TX_PIN                  PD12
-  #define E1_SERIAL_RX_PIN                  PD12
+  #define E1_SERIAL_RX_PIN      E1_SERIAL_TX_PIN
 
   // Reduce baud rate to improve software serial reliability
   #define TMC_BAUD_RATE                    19200

commit feb6d2887eee1b31713ef0ad665b166c8fe6e70b
Author: BigTreeTech <38851044+bigtreetech@users.noreply.github.com>
Date:   Fri Aug 13 12:26:26 2021 +0800

    üêõ Fix some BTT SKR2 pins (#22558)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index a9dfc367bf..e5d6b6891b 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -153,13 +153,6 @@
   #define POWER_LOSS_PIN                    PC15  // PWRDET
 #endif
 
-//
-// NeoPixel LED
-//
-#ifndef NEOPIXEL_PIN
-  #define NEOPIXEL_PIN                      PE6
-#endif
-
 //
 // Control pin of driver/heater/fan power supply
 //
@@ -511,6 +504,13 @@
   #endif
 #endif
 
+//
+// NeoPixel LED
+//
+#ifndef NEOPIXEL_PIN
+  #define NEOPIXEL_PIN                      PE6
+#endif
+
 //
 // WIFI
 //

commit 0d5db6aa75268740037bcaafa51759ebc353ec34
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Thu Jul 8 00:41:33 2021 -0400

    üêõ Fix redundant heater / sensor pin assignments (#22309)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index d465bb23c7..a9dfc367bf 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -210,7 +210,7 @@
 #define TEMP_0_PIN                          PA2   // TH0
 #define TEMP_1_PIN                          PA3   // TH1
 
-#if HOTENDS == 1
+#if HOTENDS == 1 && DISABLED(HEATERS_PARALLEL)
   #if TEMP_SENSOR_PROBE
     #define TEMP_PROBE_PIN            TEMP_1_PIN
   #elif TEMP_SENSOR_CHAMBER

commit ce5dece3b57ad2fe36347530a6de79a3848736f4
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Sun Jun 6 02:59:19 2021 -0300

    ‚ö∞Ô∏è Remove obsolete CUSTOM_SPI_PINS (#22058)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index c46e0f03f0..d465bb23c7 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -348,7 +348,6 @@
 
 #elif SD_CONNECTION_IS(LCD)
 
-  #define CUSTOM_SPI_PINS
   #define SDSS                              PA4
   #define SD_SS_PIN                         SDSS
   #define SD_SCK_PIN                        PA5

commit 0d7075b90c225d2f88e1d790b2df4acbdfcfac8b
Author: LawnMo <81721212+LawnMo@users.noreply.github.com>
Date:   Mon May 24 09:21:21 2021 +0200

    ü©π Improved SKR2 12864 LCD Delays (#21956)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 5e2f88190d..c46e0f03f0 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -502,13 +502,13 @@
 // Alter timing for graphical display
 #if HAS_MARLINUI_U8GLIB
   #ifndef BOARD_ST7920_DELAY_1
-    #define BOARD_ST7920_DELAY_1    DELAY_NS(96)
+    #define BOARD_ST7920_DELAY_1   DELAY_NS(120)
   #endif
   #ifndef BOARD_ST7920_DELAY_2
-    #define BOARD_ST7920_DELAY_2    DELAY_NS(48)
+    #define BOARD_ST7920_DELAY_2    DELAY_NS(80)
   #endif
   #ifndef BOARD_ST7920_DELAY_3
-    #define BOARD_ST7920_DELAY_3   DELAY_NS(600)
+    #define BOARD_ST7920_DELAY_3   DELAY_NS(580)
   #endif
 #endif
 

commit 49771c4a9ed2afa1e572f82a24b5edb3de120f78
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed May 19 00:21:34 2021 -0500

    üé® Flags for homing directions

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index a69041e2d4..5e2f88190d 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -72,7 +72,7 @@
 //
 #ifdef X_STALL_SENSITIVITY
   #define X_STOP_PIN                  X_DIAG_PIN
-  #if X_HOME_DIR < 0
+  #if X_HOME_TO_MIN
     #define X_MAX_PIN                       PC2   // E0DET
   #else
     #define X_MIN_PIN                       PC2   // E0DET
@@ -90,7 +90,7 @@
 
 #ifdef Y_STALL_SENSITIVITY
   #define Y_STOP_PIN                  Y_DIAG_PIN
-  #if Y_HOME_DIR < 0
+  #if Y_HOME_TO_MIN
     #define Y_MAX_PIN                       PA0   // E1DET
   #else
     #define Y_MIN_PIN                       PA0   // E1DET
@@ -108,7 +108,7 @@
 
 #ifdef Z_STALL_SENSITIVITY
   #define Z_STOP_PIN                  Z_DIAG_PIN
-  #if Z_HOME_DIR < 0
+  #if Z_HOME_TO_MIN
     #define Z_MAX_PIN                       PC15  // PWRDET
   #else
     #define Z_MIN_PIN                       PC15  // PWRDET

commit b12d0d06ebaac1db5a87750dd96b9dcbaf2ecf72
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun May 9 01:52:53 2021 -0700

    Unify BTT Motor Expansion Options (#21823)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index 14cc047649..a69041e2d4 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -23,6 +23,18 @@
 
 #include "env_validate.h"
 
+// If you have the BigTreeTech driver expansion module, enable BTT_MOTOR_EXPANSION
+// https://github.com/bigtreetech/BTT-Expansion-module/tree/master/BTT%20EXP-MOT
+//#define BTT_MOTOR_EXPANSION
+
+#if BOTH(HAS_WIRED_LCD, BTT_MOTOR_EXPANSION)
+  #if EITHER(CR10_STOCKDISPLAY, ENDER2_STOCKDISPLAY)
+    #define EXP_MOT_USE_EXP2_ONLY 1
+  #else
+    #error "You can't use both an LCD and a Motor Expansion Module on EXP1/EXP2 at the same time."
+  #endif
+#endif
+
 // Use one of these or SDCard-based Emulation will be used
 #if NO_EEPROM_SELECTED
   //#define SRAM_EEPROM_EMULATION                 // Use BackSRAM-based EEPROM emulation
@@ -349,48 +361,59 @@
 #endif
 
 #if ENABLED(BTT_MOTOR_EXPANSION)
-  /**
-   *               _____                                      _____
-   *           NC | ¬∑ ¬∑ | GND                             NC | ¬∑ ¬∑ | GND
-   *           NC | ¬∑ ¬∑ | PF12 (M1EN)            (M2EN)  PG7 | ¬∑ ¬∑ | PG6  (M3EN)
-   * (M1STP) PB15 | ¬∑ ¬∑   PF11 (M1DIR)           (M1RX)  PG3 | ¬∑ ¬∑   PG2  (M1DIAG)
-   * (M2DIR) PB12 | ¬∑ ¬∑ | PG10 (M2STP)           (M2RX) PD10 | ¬∑ ¬∑ | PD11 (M2DIAG)
-   * (M3DIR) PB13 | ¬∑ ¬∑ | PB14 (M3STP)           (M3RX)  PA8 | ¬∑ ¬∑ | PG4  (M3DIAG)
-   *               -----                                      -----
-   *               EXP2                                       EXP1
+  /**       _____                        _____
+   *    NC | . . | GND               NC | . . | GND
+   *    NC | . . | M1EN            M2EN | . . | M3EN
+   * M1STP | . .   M1DIR           M1RX | . .   M1DIAG
+   * M2DIR | . . | M2STP           M2RX | . . | M2DIAG
+   * M3DIR | . . | M3STP           M3RX | . . | M3DIAG
+   *        -----                        -----
+   *        EXP2                         EXP1
+   *
+   * NB In EXP_MOT_USE_EXP2_ONLY mode EXP1 is not used and M2EN and M3EN need to be jumpered to M1EN
    */
 
   // M1 on Driver Expansion Module
-  #define E3_STEP_PIN                EXP2_05_PIN
-  #define E3_DIR_PIN                 EXP2_06_PIN
-  #define E3_ENABLE_PIN              EXP2_04_PIN
-  #define E3_DIAG_PIN                EXP1_06_PIN
-  #define E3_CS_PIN                  EXP1_05_PIN
-  #if HAS_TMC_UART
-    #define E3_SERIAL_TX_PIN         EXP1_05_PIN
-    #define E3_SERIAL_RX_PIN         EXP1_05_PIN
+  #define E2_STEP_PIN                EXP2_05_PIN
+  #define E2_DIR_PIN                 EXP2_06_PIN
+  #define E2_ENABLE_PIN              EXP2_04_PIN
+  #if !EXP_MOT_USE_EXP2_ONLY
+    #define E2_DIAG_PIN              EXP1_06_PIN
+    #define E2_CS_PIN                EXP1_05_PIN
+    #if HAS_TMC_UART
+      #define E2_SERIAL_TX_PIN       EXP1_05_PIN
+      #define E2_SERIAL_RX_PIN       EXP1_05_PIN
+    #endif
   #endif
 
   // M2 on Driver Expansion Module
-  #define E4_STEP_PIN                EXP2_08_PIN
-  #define E4_DIR_PIN                 EXP2_07_PIN
-  #define E4_ENABLE_PIN              EXP1_03_PIN
-  #define E4_DIAG_PIN                EXP1_08_PIN
-  #define E4_CS_PIN                  EXP1_07_PIN
-  #if HAS_TMC_UART
-    #define E4_SERIAL_TX_PIN         EXP1_07_PIN
-    #define E4_SERIAL_RX_PIN         EXP1_07_PIN
+  #define E3_STEP_PIN                EXP2_08_PIN
+  #define E3_DIR_PIN                 EXP2_07_PIN
+  #if !EXP_MOT_USE_EXP2_ONLY
+    #define E3_ENABLE_PIN            EXP1_03_PIN
+    #define E3_DIAG_PIN              EXP1_08_PIN
+    #define E3_CS_PIN                EXP1_07_PIN
+    #if HAS_TMC_UART
+      #define E3_SERIAL_TX_PIN       EXP1_07_PIN
+      #define E3_SERIAL_RX_PIN       EXP1_07_PIN
+    #endif
+  #else
+    #define E3_ENABLE_PIN            EXP2_04_PIN
   #endif
 
   // M3 on Driver Expansion Module
-  #define E5_STEP_PIN                EXP2_10_PIN
-  #define E5_DIR_PIN                 EXP2_09_PIN
-  #define E5_ENABLE_PIN              EXP1_04_PIN
-  #define E5_DIAG_PIN                EXP1_10_PIN
-  #define E5_CS_PIN                  EXP1_09_PIN
-  #if HAS_TMC_UART
-    #define E5_SERIAL_TX_PIN         EXP1_09_PIN
-    #define E5_SERIAL_RX_PIN         EXP1_09_PIN
+  #define E4_STEP_PIN                EXP2_10_PIN
+  #define E4_DIR_PIN                 EXP2_09_PIN
+  #if !EXP_MOT_USE_EXP2_ONLY
+    #define E4_ENABLE_PIN            EXP1_04_PIN
+    #define E4_DIAG_PIN              EXP1_10_PIN
+    #define E4_CS_PIN                EXP1_09_PIN
+    #if HAS_TMC_UART
+      #define E4_SERIAL_TX_PIN       EXP1_09_PIN
+      #define E4_SERIAL_RX_PIN       EXP1_09_PIN
+    #endif
+  #else
+    #define E4_ENABLE_PIN            EXP2_04_PIN
   #endif
 
 #endif // BTT_MOTOR_EXPANSION

commit 98e7e6324074d1583e04f1fefbdb5d52a17c173a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun May 2 03:29:29 2021 -0500

    TFT pins for BTT GTR V1
    
    Proposed in #21772

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
index b88e598e6f..14cc047649 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -200,9 +200,9 @@
 
 #if HOTENDS == 1
   #if TEMP_SENSOR_PROBE
-    #define TEMP_PROBE_PIN           TEMP_1_PIN
+    #define TEMP_PROBE_PIN            TEMP_1_PIN
   #elif TEMP_SENSOR_CHAMBER
-    #define TEMP_CHAMBER_PIN         TEMP_1_PIN
+    #define TEMP_CHAMBER_PIN          TEMP_1_PIN
   #endif
 #endif
 
@@ -288,7 +288,7 @@
 // SD Connection
 //
 #ifndef SDCARD_CONNECTION
-  #define SDCARD_CONNECTION LCD
+  #define SDCARD_CONNECTION                  LCD
 #endif
 
 /**

commit cbcc6ef9c4b9d0952b4ddc777bdf9d1986b5c70d
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Wed May 5 18:11:54 2021 -0700

    Split up SKR V2 Rev A / B (#21805)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
new file mode 100644
index 0000000000..b88e598e6f
--- /dev/null
+++ b/Marlin/src/pins/stm32f4/pins_BTT_SKR_V2_0_common.h
@@ -0,0 +1,513 @@
+/**
+ * Marlin 3D Printer Firmware
+ * Copyright (c) 2021 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ *
+ * Based on Sprinter and grbl.
+ * Copyright (c) 2011 Camiel Gubbels / Erik van der Zalm
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see <https://www.gnu.org/licenses/>.
+ *
+ */
+#pragma once
+
+#include "env_validate.h"
+
+// Use one of these or SDCard-based Emulation will be used
+#if NO_EEPROM_SELECTED
+  //#define SRAM_EEPROM_EMULATION                 // Use BackSRAM-based EEPROM emulation
+  #define FLASH_EEPROM_EMULATION                  // Use Flash-based EEPROM emulation
+#endif
+
+#if ENABLED(FLASH_EEPROM_EMULATION)
+  // Decrease delays and flash wear by spreading writes across the
+  // 128 kB sector allocated for EEPROM emulation.
+  #define FLASH_EEPROM_LEVELING
+#endif
+
+// USB Flash Drive support
+#define HAS_OTG_USB_HOST_SUPPORT
+
+// Avoid conflict with TIMER_TONE
+#define STEP_TIMER                            10
+
+//
+// Servos
+//
+#define SERVO0_PIN                          PE5
+
+//
+// Trinamic Stallguard pins
+//
+#define X_DIAG_PIN                          PC1   // X-STOP
+#define Y_DIAG_PIN                          PC3   // Y-STOP
+#define Z_DIAG_PIN                          PC0   // Z-STOP
+#define E0_DIAG_PIN                         PC2   // E0DET
+#define E1_DIAG_PIN                         PA0   // E1DET
+
+//
+// Limit Switches
+//
+#ifdef X_STALL_SENSITIVITY
+  #define X_STOP_PIN                  X_DIAG_PIN
+  #if X_HOME_DIR < 0
+    #define X_MAX_PIN                       PC2   // E0DET
+  #else
+    #define X_MIN_PIN                       PC2   // E0DET
+  #endif
+#elif ENABLED(X_DUAL_ENDSTOPS)
+  #ifndef X_MIN_PIN
+    #define X_MIN_PIN                       PC1   // X-STOP
+  #endif
+  #ifndef X_MAX_PIN
+    #define X_MAX_PIN                       PC2   // E0DET
+  #endif
+#else
+  #define X_STOP_PIN                        PC1   // X-STOP
+#endif
+
+#ifdef Y_STALL_SENSITIVITY
+  #define Y_STOP_PIN                  Y_DIAG_PIN
+  #if Y_HOME_DIR < 0
+    #define Y_MAX_PIN                       PA0   // E1DET
+  #else
+    #define Y_MIN_PIN                       PA0   // E1DET
+  #endif
+#elif ENABLED(Y_DUAL_ENDSTOPS)
+  #ifndef Y_MIN_PIN
+    #define Y_MIN_PIN                       PC3   // Y-STOP
+  #endif
+  #ifndef Y_MAX_PIN
+    #define Y_MAX_PIN                       PA0   // E1DET
+  #endif
+#else
+  #define Y_STOP_PIN                        PC3   // Y-STOP
+#endif
+
+#ifdef Z_STALL_SENSITIVITY
+  #define Z_STOP_PIN                  Z_DIAG_PIN
+  #if Z_HOME_DIR < 0
+    #define Z_MAX_PIN                       PC15  // PWRDET
+  #else
+    #define Z_MIN_PIN                       PC15  // PWRDET
+  #endif
+#elif ENABLED(Z_MULTI_ENDSTOPS)
+  #ifndef Z_MIN_PIN
+    #define Z_MIN_PIN                       PC0   // Z-STOP
+  #endif
+  #ifndef Z_MAX_PIN
+    #define Z_MAX_PIN                       PC15  // PWRDET
+  #endif
+#else
+  #ifndef Z_STOP_PIN
+    #define Z_STOP_PIN                      PC0   // Z-STOP
+  #endif
+#endif
+
+//
+// Z Probe (when not Z_MIN_PIN)
+//
+#ifndef Z_MIN_PROBE_PIN
+  #define Z_MIN_PROBE_PIN                   PE4
+#endif
+
+//
+// Filament Runout Sensor
+//
+#define FIL_RUNOUT_PIN                      PC2   // E0DET
+#define FIL_RUNOUT2_PIN                     PA0   // E1DET
+
+//
+// Power Supply Control
+//
+#ifndef PS_ON_PIN
+  #define PS_ON_PIN                         PE8   // PS-ON
+#endif
+
+//
+// Power Loss Detection
+//
+#ifndef POWER_LOSS_PIN
+  #define POWER_LOSS_PIN                    PC15  // PWRDET
+#endif
+
+//
+// NeoPixel LED
+//
+#ifndef NEOPIXEL_PIN
+  #define NEOPIXEL_PIN                      PE6
+#endif
+
+//
+// Control pin of driver/heater/fan power supply
+//
+#define SAFE_POWER_PIN                      PC13
+
+//
+// Steppers
+//
+#define X_STEP_PIN                          PE2
+#define X_DIR_PIN                           PE1
+#define X_ENABLE_PIN                        PE3
+#ifndef X_CS_PIN
+  #define X_CS_PIN                          PE0
+#endif
+
+#define Y_STEP_PIN                          PD5
+#define Y_DIR_PIN                           PD4
+#define Y_ENABLE_PIN                        PD6
+#ifndef Y_CS_PIN
+  #define Y_CS_PIN                          PD3
+#endif
+
+#define Z_STEP_PIN                          PA15
+#define Z_DIR_PIN                           PA8
+#define Z_ENABLE_PIN                        PD1
+#ifndef Z_CS_PIN
+  #define Z_CS_PIN                          PD0
+#endif
+
+#define E0_STEP_PIN                         PD15
+#define E0_DIR_PIN                          PD14
+#define E0_ENABLE_PIN                       PC7
+#ifndef E0_CS_PIN
+  #define E0_CS_PIN                         PC6
+#endif
+
+#define E1_STEP_PIN                         PD11
+#define E1_DIR_PIN                          PD10
+#define E1_ENABLE_PIN                       PD13
+#ifndef E1_CS_PIN
+  #define E1_CS_PIN                         PD12
+#endif
+
+//
+// Temperature Sensors
+//
+#define TEMP_BED_PIN                        PA1   // TB
+#define TEMP_0_PIN                          PA2   // TH0
+#define TEMP_1_PIN                          PA3   // TH1
+
+#if HOTENDS == 1
+  #if TEMP_SENSOR_PROBE
+    #define TEMP_PROBE_PIN           TEMP_1_PIN
+  #elif TEMP_SENSOR_CHAMBER
+    #define TEMP_CHAMBER_PIN         TEMP_1_PIN
+  #endif
+#endif
+
+//
+// Heaters / Fans
+//
+#ifndef HEATER_0_PIN
+  #define HEATER_0_PIN                      PB3   // Heater0
+#endif
+#ifndef HEATER_1_PIN
+  #define HEATER_1_PIN                      PB4   // Heater1
+#endif
+#ifndef HEATER_BED_PIN
+  #define HEATER_BED_PIN                    PD7   // Hotbed
+#endif
+#ifndef FAN_PIN
+  #define FAN_PIN                           PB7   // Fan0
+#endif
+#ifndef FAN1_PIN
+  #define FAN1_PIN                          PB6   // Fan1
+#endif
+#ifndef FAN2_PIN
+  #define FAN2_PIN                          PB5   // Fan2
+#endif
+
+//
+// Software SPI pins for TMC2130 stepper drivers
+//
+#if ENABLED(TMC_USE_SW_SPI)
+  #ifndef TMC_SW_MOSI
+    #define TMC_SW_MOSI                     PE14
+  #endif
+  #ifndef TMC_SW_MISO
+    #define TMC_SW_MISO                     PA14
+  #endif
+  #ifndef TMC_SW_SCK
+    #define TMC_SW_SCK                      PE15
+  #endif
+#endif
+
+#if HAS_TMC_UART
+  /**
+   * TMC2208/TMC2209 stepper drivers
+   *
+   * Hardware serial communication ports.
+   * If undefined software serial is used according to the pins below
+   */
+  //#define X_HARDWARE_SERIAL  Serial1
+  //#define X2_HARDWARE_SERIAL Serial1
+  //#define Y_HARDWARE_SERIAL  Serial1
+  //#define Y2_HARDWARE_SERIAL Serial1
+  //#define Z_HARDWARE_SERIAL  Serial1
+  //#define Z2_HARDWARE_SERIAL Serial1
+  //#define E0_HARDWARE_SERIAL Serial1
+  //#define E1_HARDWARE_SERIAL Serial1
+  //#define E2_HARDWARE_SERIAL Serial1
+  //#define E3_HARDWARE_SERIAL Serial1
+  //#define E4_HARDWARE_SERIAL Serial1
+
+  //
+  // Software serial
+  //
+  #define X_SERIAL_TX_PIN                   PE0
+  #define X_SERIAL_RX_PIN                   PE0
+
+  #define Y_SERIAL_TX_PIN                   PD3
+  #define Y_SERIAL_RX_PIN                   PD3
+
+  #define Z_SERIAL_TX_PIN                   PD0
+  #define Z_SERIAL_RX_PIN                   PD0
+
+  #define E0_SERIAL_TX_PIN                  PC6
+  #define E0_SERIAL_RX_PIN                  PC6
+
+  #define E1_SERIAL_TX_PIN                  PD12
+  #define E1_SERIAL_RX_PIN                  PD12
+
+  // Reduce baud rate to improve software serial reliability
+  #define TMC_BAUD_RATE                    19200
+#endif
+
+//
+// SD Connection
+//
+#ifndef SDCARD_CONNECTION
+  #define SDCARD_CONNECTION LCD
+#endif
+
+/**
+ *               -----                                             -----
+ *           NC | 1 2 | GND                                    5V | 1 2 | GND
+ *        RESET | 3 4 | PC4 (SD_DETECT)             (LCD_D7) PE13 | 3 4 | PE12 (LCD_D6)
+ *   (MOSI) PA7 | 5 6   PB2 (BTN_EN2)               (LCD_D5) PE11 | 5 6   PE10 (LCD_D4)
+ *  (SD_SS) PA4 | 7 8 | PE7 (BTN_EN1)               (LCD_RS)  PE9 | 7 8 | PB1  (LCD_EN)
+ *    (SCK) PA5 | 9 10| PA6 (MISO)                 (BTN_ENC)  PB0 | 9 10| PC5  (BEEPER)
+ *               -----                                             -----
+ *               EXP2                                              EXP1
+ */
+
+#define EXP1_03_PIN                         PE13
+#define EXP1_04_PIN                         PE12
+#define EXP1_05_PIN                         PE11
+#define EXP1_06_PIN                         PE10
+#define EXP1_07_PIN                         PE9
+#define EXP1_08_PIN                         PB1
+#define EXP1_09_PIN                         PB0
+#define EXP1_10_PIN                         PC5
+
+#define EXP2_03_PIN                         -1
+#define EXP2_04_PIN                         PC4
+#define EXP2_05_PIN                         PA7
+#define EXP2_06_PIN                         PB2
+#define EXP2_07_PIN                         PA4
+#define EXP2_08_PIN                         PE7
+#define EXP2_09_PIN                         PA5
+#define EXP2_10_PIN                         PA6
+
+//
+// Onboard SD card
+// Must use soft SPI because Marlin's default hardware SPI is tied to LCD's EXP2
+//
+#if SD_CONNECTION_IS(ONBOARD)
+
+  #define SDIO_SUPPORT                            // Use SDIO for onboard SD
+  #define SDIO_D0_PIN                       PC8
+  #define SDIO_D1_PIN                       PC9
+  #define SDIO_D2_PIN                       PC10
+  #define SDIO_D3_PIN                       PC11
+  #define SDIO_CK_PIN                       PC12
+  #define SDIO_CMD_PIN                      PD2
+
+#elif SD_CONNECTION_IS(LCD)
+
+  #define CUSTOM_SPI_PINS
+  #define SDSS                              PA4
+  #define SD_SS_PIN                         SDSS
+  #define SD_SCK_PIN                        PA5
+  #define SD_MISO_PIN                       PA6
+  #define SD_MOSI_PIN                       PA7
+  #define SD_DETECT_PIN                     PC4
+
+#elif SD_CONNECTION_IS(CUSTOM_CABLE)
+  #error "CUSTOM_CABLE is not a supported SDCARD_CONNECTION for this board"
+#endif
+
+#if ENABLED(BTT_MOTOR_EXPANSION)
+  /**
+   *               _____                                      _____
+   *           NC | ¬∑ ¬∑ | GND                             NC | ¬∑ ¬∑ | GND
+   *           NC | ¬∑ ¬∑ | PF12 (M1EN)            (M2EN)  PG7 | ¬∑ ¬∑ | PG6  (M3EN)
+   * (M1STP) PB15 | ¬∑ ¬∑   PF11 (M1DIR)           (M1RX)  PG3 | ¬∑ ¬∑   PG2  (M1DIAG)
+   * (M2DIR) PB12 | ¬∑ ¬∑ | PG10 (M2STP)           (M2RX) PD10 | ¬∑ ¬∑ | PD11 (M2DIAG)
+   * (M3DIR) PB13 | ¬∑ ¬∑ | PB14 (M3STP)           (M3RX)  PA8 | ¬∑ ¬∑ | PG4  (M3DIAG)
+   *               -----                                      -----
+   *               EXP2                                       EXP1
+   */
+
+  // M1 on Driver Expansion Module
+  #define E3_STEP_PIN                EXP2_05_PIN
+  #define E3_DIR_PIN                 EXP2_06_PIN
+  #define E3_ENABLE_PIN              EXP2_04_PIN
+  #define E3_DIAG_PIN                EXP1_06_PIN
+  #define E3_CS_PIN                  EXP1_05_PIN
+  #if HAS_TMC_UART
+    #define E3_SERIAL_TX_PIN         EXP1_05_PIN
+    #define E3_SERIAL_RX_PIN         EXP1_05_PIN
+  #endif
+
+  // M2 on Driver Expansion Module
+  #define E4_STEP_PIN                EXP2_08_PIN
+  #define E4_DIR_PIN                 EXP2_07_PIN
+  #define E4_ENABLE_PIN              EXP1_03_PIN
+  #define E4_DIAG_PIN                EXP1_08_PIN
+  #define E4_CS_PIN                  EXP1_07_PIN
+  #if HAS_TMC_UART
+    #define E4_SERIAL_TX_PIN         EXP1_07_PIN
+    #define E4_SERIAL_RX_PIN         EXP1_07_PIN
+  #endif
+
+  // M3 on Driver Expansion Module
+  #define E5_STEP_PIN                EXP2_10_PIN
+  #define E5_DIR_PIN                 EXP2_09_PIN
+  #define E5_ENABLE_PIN              EXP1_04_PIN
+  #define E5_DIAG_PIN                EXP1_10_PIN
+  #define E5_CS_PIN                  EXP1_09_PIN
+  #if HAS_TMC_UART
+    #define E5_SERIAL_TX_PIN         EXP1_09_PIN
+    #define E5_SERIAL_RX_PIN         EXP1_09_PIN
+  #endif
+
+#endif // BTT_MOTOR_EXPANSION
+
+//
+// LCDs and Controllers
+//
+#if IS_TFTGLCD_PANEL
+
+  #if ENABLED(TFTGLCD_PANEL_SPI)
+    #define TFTGLCD_CS               EXP2_08_PIN
+  #endif
+
+#elif HAS_WIRED_LCD
+
+  #define BEEPER_PIN                 EXP1_10_PIN
+  #define BTN_ENC                    EXP1_09_PIN
+
+  #if ENABLED(CR10_STOCKDISPLAY)
+
+    #define LCD_PINS_RS              EXP1_04_PIN
+
+    #define BTN_EN1                  EXP1_08_PIN
+    #define BTN_EN2                  EXP1_06_PIN
+
+    #define LCD_PINS_ENABLE          EXP1_03_PIN
+    #define LCD_PINS_D4              EXP1_05_PIN
+
+    // CR10_STOCKDISPLAY default timing is too fast
+    #undef BOARD_ST7920_DELAY_1
+    #undef BOARD_ST7920_DELAY_2
+    #undef BOARD_ST7920_DELAY_3
+
+  #elif ENABLED(MKS_MINI_12864)
+
+    #define DOGLCD_A0                EXP1_04_PIN
+    #define DOGLCD_CS                EXP1_05_PIN
+    #define BTN_EN1                  EXP2_08_PIN
+    #define BTN_EN2                  EXP2_06_PIN
+
+  #else
+
+    #define LCD_PINS_RS              EXP1_07_PIN
+
+    #define BTN_EN1                  EXP2_08_PIN
+    #define BTN_EN2                  EXP2_06_PIN
+
+    #define LCD_PINS_ENABLE          EXP1_08_PIN
+    #define LCD_PINS_D4              EXP1_06_PIN
+
+    #if ENABLED(FYSETC_MINI_12864)
+      #define DOGLCD_CS              EXP1_08_PIN
+      #define DOGLCD_A0              EXP1_07_PIN
+      //#define LCD_BACKLIGHT_PIN           -1
+      #define LCD_RESET_PIN          EXP1_06_PIN  // Must be high or open for LCD to operate normally.
+      #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
+        #ifndef RGB_LED_R_PIN
+          #define RGB_LED_R_PIN      EXP1_05_PIN
+        #endif
+        #ifndef RGB_LED_G_PIN
+          #define RGB_LED_G_PIN      EXP1_04_PIN
+        #endif
+        #ifndef RGB_LED_B_PIN
+          #define RGB_LED_B_PIN      EXP1_03_PIN
+        #endif
+      #elif ENABLED(FYSETC_MINI_12864_2_1)
+        #define NEOPIXEL_PIN         EXP1_05_PIN
+      #endif
+    #endif // !FYSETC_MINI_12864
+
+    #if IS_ULTIPANEL
+      #define LCD_PINS_D5            EXP1_05_PIN
+      #define LCD_PINS_D6            EXP1_04_PIN
+      #define LCD_PINS_D7            EXP1_03_PIN
+
+      #if ENABLED(REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
+        #define BTN_ENC_EN           LCD_PINS_D7  // Detect the presence of the encoder
+      #endif
+
+    #endif
+
+  #endif
+
+#endif // HAS_WIRED_LCD
+
+// Alter timing for graphical display
+#if HAS_MARLINUI_U8GLIB
+  #ifndef BOARD_ST7920_DELAY_1
+    #define BOARD_ST7920_DELAY_1    DELAY_NS(96)
+  #endif
+  #ifndef BOARD_ST7920_DELAY_2
+    #define BOARD_ST7920_DELAY_2    DELAY_NS(48)
+  #endif
+  #ifndef BOARD_ST7920_DELAY_3
+    #define BOARD_ST7920_DELAY_3   DELAY_NS(600)
+  #endif
+#endif
+
+//
+// WIFI
+//
+
+/**
+ *                      -------
+ *            GND | 9  |       | 8 | 3.3V
+ *  (ESP-CS) PB12 | 10 |       | 7 | PB15 (ESP-MOSI)
+ *           3.3V | 11 |       | 6 | PB14 (ESP-MISO)
+ * (ESP-IO0) PB10 | 12 |       | 5 | PB13 (ESP-CLK)
+ * (ESP-IO4) PB11 | 13 |       | 4 | NC
+ *             NC | 14 |       | 3 | 3.3V (ESP-EN)
+ *  (ESP-RX)  PD8 | 15 |       | 2 | NC
+ *  (ESP-TX)  PD9 | 16 |       | 1 | PC14 (ESP-RST)
+ *                      -------
+ *                       WIFI
+ */
+#define ESP_WIFI_MODULE_COM                    3  // Must also set either SERIAL_PORT or SERIAL_PORT_2 to this
+#define ESP_WIFI_MODULE_BAUDRATE        BAUDRATE  // Must use same BAUDRATE as SERIAL_PORT & SERIAL_PORT_2
+#define ESP_WIFI_MODULE_RESET_PIN           PC14
+#define ESP_WIFI_MODULE_GPIO0_PIN           PB10
+#define ESP_WIFI_MODULE_GPIO4_PIN           PB11
