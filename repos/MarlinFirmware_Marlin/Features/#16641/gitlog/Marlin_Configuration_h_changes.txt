commit a2daee8f7ac15b16fcbe8f4eaf25c1f562ec4491
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun May 12 15:39:58 2024 -0700

    üìù MPCTEMP is tested (#27075)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4d18840dbd..f88f5b9dbd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -672,7 +672,7 @@
  * MPCTEMP : Predictive Model temperature control. (~1.8K without auto-tune)
  */
 #define PIDTEMP           // See the PID Tuning Guide at https://reprap.org/wiki/PID_Tuning
-//#define MPCTEMP         // ** EXPERIMENTAL ** See https://marlinfw.org/docs/features/model_predictive_control.html
+//#define MPCTEMP         // See https://marlinfw.org/docs/features/model_predictive_control.html
 
 #define PID_MAX  255      // Limit hotend current while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #define PID_K1     0.95   // Smoothing factor within any PID loop

commit f5f6c37c17edd6e710bc48578aa325f317d47d51
Author: Alexander Thomas Julian <ajulian@hawk.iit.edu>
Date:   Sun May 12 13:25:14 2024 -0500

    üêõ LCD Bed Tramming fixes (#26962)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 72ec272b4d..4d18840dbd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2218,7 +2218,7 @@
 #if ENABLED(LCD_BED_TRAMMING)
   #define BED_TRAMMING_INSET_LFRB { 30, 30, 30, 30 } // (mm) Left, Front, Right, Back insets
   #define BED_TRAMMING_HEIGHT      0.0        // (mm) Z height of nozzle at tramming points
-  #define BED_TRAMMING_Z_HOP       4.0        // (mm) Z height of nozzle between tramming points
+  #define BED_TRAMMING_Z_HOP       4.0        // (mm) Z raise between tramming points
   //#define BED_TRAMMING_INCLUDE_CENTER       // Move to the center after the last corner
   //#define BED_TRAMMING_USE_PROBE
   #if ENABLED(BED_TRAMMING_USE_PROBE)

commit cd357b027881dc1d3a432127f74d54d3d9ee91db
Author: Holger M√∂√üinger <hm2dev@users.noreply.github.com>
Date:   Wed Mar 27 20:38:08 2024 +0100

    üîßüö∏ Tweaks for (MiniRambo) CNC (#26892)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 49015aeec5..72ec272b4d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2636,9 +2636,9 @@
 #define DISPLAY_CHARSET_HD44780 JAPANESE
 
 /**
- * Info Screen Style (0:Classic, 1:Pr≈Ø≈°a)
+ * Info Screen Style (0:Classic, 1:Pr≈Ø≈°a, 2:CNC)
  *
- * :[0:'Classic', 1:'Pr≈Ø≈°a']
+ * :[0:'Classic', 1:'Pr≈Ø≈°a', 2:'CNC']
  */
 #define LCD_INFO_SCREEN_STYLE 0
 

commit 504219817cc4967acf14d6770fc2336e287cb9c1
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sat Mar 9 22:22:23 2024 -0500

    ‚ú® Redundant PSU Control with EDM (#26751)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a616bd5090..49015aeec5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -401,9 +401,18 @@
   //#define PS_OFF_SOUND            // Beep 1s when power off
   #define PSU_ACTIVE_STATE LOW      // Set 'LOW' for ATX, 'HIGH' for X-Box
 
-  //#define PSU_DEFAULT_OFF               // Keep power off until enabled directly with M80
-  //#define PSU_POWERUP_DELAY      250    // (ms) Delay for the PSU to warm up to full power
-  //#define LED_POWEROFF_TIMEOUT 10000    // (ms) Turn off LEDs after power-off, with this amount of delay
+  //#define PSU_DEFAULT_OFF             // Keep power off until enabled directly with M80
+  //#define PSU_POWERUP_DELAY      250  // (ms) Delay for the PSU to warm up to full power
+  //#define LED_POWEROFF_TIMEOUT 10000  // (ms) Turn off LEDs after power-off, with this amount of delay
+
+  //#define PSU_OFF_REDUNDANT           // Second pin for redundant power control
+  //#define PSU_OFF_REDUNDANT_INVERTED  // Redundant pin state is the inverse of PSU_ACTIVE_STATE
+
+  //#define PS_ON1_PIN               6  // Redundant pin required to enable power in combination with PS_ON_PIN
+
+  //#define PS_ON_EDM_PIN            8  // External Device Monitoring pins for external power control relay feedback. Fault on mismatch.
+  //#define PS_ON1_EDM_PIN           9
+  #define PS_EDM_RESPONSE          250  // (ms) Time to allow for relay action
 
   //#define POWER_OFF_TIMER               // Enable M81 D<seconds> to power off after a delay
   //#define POWER_OFF_WAIT_FOR_COOLDOWN   // Enable M81 S to power off only after cooldown

commit 982b42579243543a8684f571554da0ce3137db96
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Feb 27 20:45:34 2024 -0600

    üî• Drop TMC26X support (#26770)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b49ae40bab..a616bd5090 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -135,9 +135,9 @@
  * Options: A4988, A5984, DRV8825, LV8729, TB6560, TB6600, TMC2100,
  *          TMC2130, TMC2130_STANDALONE, TMC2160, TMC2160_STANDALONE,
  *          TMC2208, TMC2208_STANDALONE, TMC2209, TMC2209_STANDALONE,
- *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
- *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
- * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
+ *          TMC2660, TMC2660_STANDALONE, TMC5130, TMC5130_STANDALONE,
+ *          TMC5160, TMC5160_STANDALONE
+ * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
 #define X_DRIVER_TYPE  A4988
 #define Y_DRIVER_TYPE  A4988

commit 1d295f7983a90be9eddc830bc7be621c6dcb14c7
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Feb 7 23:44:55 2024 -0600

    üî• Clean up SCARA/TPARA

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 87908d1821..b49ae40bab 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1006,9 +1006,6 @@
     // Radius around the center where the arm cannot reach
     #define MIDDLE_DEAD_ZONE_R   0  // (mm)
 
-    #define THETA_HOMING_OFFSET  0  // Calculated from Calibration Guide and M360 / M114. See https://www.morgan3dp.com/morgan-calibration-guide/
-    #define PSI_HOMING_OFFSET    0  // Calculated from Calibration Guide and M364 / M114. See https://www.morgan3dp.com/morgan-calibration-guide/
-
   #elif ENABLED(MP_SCARA)
 
     #define SCARA_OFFSET_THETA1  12 // degrees
@@ -1027,23 +1024,19 @@
   #define DEFAULT_SEGMENTS_PER_SECOND 200
 
   // Length of inner and outer support arms. Measure arm lengths precisely.
-  #define TPARA_LINKAGE_1 120       // (mm)
-  #define TPARA_LINKAGE_2 120       // (mm)
+  #define TPARA_LINKAGE_1 120     // (mm)
+  #define TPARA_LINKAGE_2 120     // (mm)
 
-  // SCARA tower offset (position of Tower relative to bed zero position)
-  // This needs to be reasonably accurate as it defines the printbed position in the SCARA space.
-  #define TPARA_OFFSET_X    0       // (mm)
-  #define TPARA_OFFSET_Y    0       // (mm)
-  #define TPARA_OFFSET_Z    0       // (mm)
+  // TPARA tower offset (position of Tower relative to bed zero position)
+  // This needs to be reasonably accurate as it defines the printbed position in the TPARA space.
+  #define TPARA_OFFSET_X    0     // (mm)
+  #define TPARA_OFFSET_Y    0     // (mm)
+  #define TPARA_OFFSET_Z    0     // (mm)
 
   #define FEEDRATE_SCALING        // Convert XY feedrate from mm/s to degrees/s on the fly
 
   // Radius around the center where the arm cannot reach
   #define MIDDLE_DEAD_ZONE_R   0  // (mm)
-
-  // Calculated from Calibration Guide and M360 / M114. See https://www.morgan3dp.com/morgan-calibration-guide/
-  #define THETA_HOMING_OFFSET  0
-  #define PSI_HOMING_OFFSET    0
 #endif
 
 // @section polar

commit 1dee4d92c61b14458cd394d1f609f0dc80282092
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Feb 4 12:09:08 2024 -0600

    üîß TOUCH_IDLE_SLEEP_MINS => DISPLAY_SLEEP_MINUTES
    
    Follow up to #26517

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9a0cd1addc..87908d1821 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3414,7 +3414,6 @@
   #define BUTTON_DELAY_MENU     250 // (ms) Button repeat delay for menus
 
   //#define DISABLE_ENCODER         // Disable the click encoder, if any
-  //#define TOUCH_IDLE_SLEEP_MINS 5 // (minutes) Display Sleep after a period of inactivity. Set with M255 S.
 
   #define TOUCH_SCREEN_CALIBRATION
 

commit cbc674ff997b3bffc92cbb2f61a9a5c8952c3446
Author: minding-myown-business <jyoung12345.accounts@skiff.com>
Date:   Thu Jan 25 00:24:25 2024 +0000

    üìù Fix dead LCD link (#26669)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4fd27c956c..9a0cd1addc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3037,7 +3037,7 @@
 
 //
 // Factory display for Creality CR-10 / CR-7 / Ender-3
-// https://www.aliexpress.com/item/32833148327.html
+// https://marlinfw.org/docs/hardware/controllers.html#cr10_stockdisplay
 //
 // Connect to EXP1 on RAMPS and compatible boards.
 //

commit 204de723f1c08f83e281f0629b60822b334097ed
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Jan 21 04:01:25 2024 -0800

    ‚ú® BIQU MicroProbe (#26527)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7e069e7d68..4fd27c956c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1446,6 +1446,17 @@
   //#define BD_SENSOR_PROBE_NO_STOP // Probe bed without stopping at each probe point
 #endif
 
+/**
+ * BIQU MicroProbe
+ *
+ * A lightweight, solenoid-driven probe.
+ * For information about this sensor https://github.com/bigtreetech/MicroProbe
+ *
+ * Also requires: PROBE_ENABLE_DISABLE
+ */
+//#define BIQU_MICROPROBE_V1  // Triggers HIGH
+//#define BIQU_MICROPROBE_V2  // Triggers LOW
+
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE
 

commit da96607b65ecc910178413d6979c128add9d098e
Author: Vovodroid <vovodroid@users.noreply.github.com>
Date:   Sat Jan 20 00:38:25 2024 +0200

    üîß Adjust DEFAULT_EJERK settings (#26665)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6e4afa16c6..7e069e7d68 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1291,6 +1291,7 @@
   #define DEFAULT_XJERK 10.0
   #define DEFAULT_YJERK 10.0
   #define DEFAULT_ZJERK  0.3
+  #define DEFAULT_EJERK  5.0
   //#define DEFAULT_IJERK  0.3
   //#define DEFAULT_JJERK  0.3
   //#define DEFAULT_KJERK  0.3
@@ -1306,8 +1307,6 @@
   #endif
 #endif
 
-#define DEFAULT_EJERK    5.0  // May be used by Linear Advance
-
 /**
  * Junction Deviation Factor
  *

commit 854f3315af645775e7b0aa39bd05db66187bcc38
Author: plampix <plampix@users.noreply.github.com>
Date:   Wed Jan 10 07:33:54 2024 +0100

    ‚ú® EDITABLE_STEPS_PER_UNIT (#26618)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ad659f70e2..6e4afa16c6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1231,11 +1231,16 @@
 
 /**
  * Default Axis Steps Per Unit (linear=steps/mm, rotational=steps/¬∞)
- * Override with M92
+ * Override with M92 (when enabled below)
  *                                      X, Y, Z [, I [, J [, K...]]], E0 [, E1[, E2...]]
  */
 #define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 400, 500 }
 
+/**
+ * Enable support for M92. Disable to save at least ~530 bytes of flash.
+ */
+#define EDITABLE_STEPS_PER_UNIT
+
 /**
  * Default Max Feed Rate (linear=mm/s, rotational=¬∞/s)
  * Override with M203

commit f4eafed188189d2a77c53a2a68bd931ee838b584
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Jan 7 21:59:25 2024 -0600

    üîß Z_PROBE_END_SCRIPT => EVENT_GCODE_AFTER_G29

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9acdc107ca..ad659f70e2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2032,7 +2032,7 @@
  * Commands to execute at the end of G29 probing.
  * Useful to retract or move the Z probe out of the way.
  */
-//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
+//#define EVENT_GCODE_AFTER_G29 "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
 
 /**
  * Normally G28 leaves leveling disabled on completion. Enable one of

commit 6d407767e7692d66bc93a0012d71268770e4835c
Author: plampix <plampix@users.noreply.github.com>
Date:   Wed Jan 3 16:43:18 2024 +0100

    üîß CONFIGURE_FILAMENT_CHANGE - Optional M603 (#26613)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1b0e92923e..9acdc107ca 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2054,7 +2054,7 @@
 /**
  * Enable detailed logging of G28, G29, M48, etc.
  * Turn on with the command 'M111 S32'.
- * NOTE: Requires a lot of PROGMEM!
+ * NOTE: Requires a lot of flash!
  */
 //#define DEBUG_LEVELING_FEATURE
 
@@ -2343,7 +2343,7 @@
  */
 //#define EEPROM_SETTINGS     // Persistent storage with M500 and M501
 //#define DISABLE_M503        // Saves ~2700 bytes of flash. Disable for release!
-#define EEPROM_CHITCHAT       // Give feedback on EEPROM commands. Disable to save PROGMEM.
+#define EEPROM_CHITCHAT       // Give feedback on EEPROM commands. Disable to save flash.
 #define EEPROM_BOOT_SILENT    // Keep M503 quiet and only give errors during first load
 #if ENABLED(EEPROM_SETTINGS)
   //#define EEPROM_AUTO_INIT  // Init EEPROM automatically on any errors.

commit 4a9e102c2ef96b75378195ad3b89cb1646ac4df4
Author: I3DBeeTech <129617321+I3DBeeTech@users.noreply.github.com>
Date:   Wed Jan 3 06:23:41 2024 +0530

    üì∫ I3DBEE TECH Beez Mini 12864 (#26596)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fd2dbbb273..1b0e92923e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3015,6 +3015,11 @@
 //
 //#define BTT_MINI_12864
 
+//
+// BEEZ MINI 12864 is an alias for FYSETC_MINI_12864_2_1. Type A/B. NeoPixel RGB Backlight.
+//
+//#define BEEZ_MINI_12864
+
 //
 // Factory display for Creality CR-10 / CR-7 / Ender-3
 // https://www.aliexpress.com/item/32833148327.html

commit 5d1ede08aa8a045463d4d33333fd90abead2871e
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Sun Dec 31 22:54:26 2023 +1300

    ‚ú® CTC_A10S_A13 (#26514)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e62637f646..fd2dbbb273 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3029,14 +3029,14 @@
 //#define ENDER2_STOCKDISPLAY
 
 //
-// ANET and Tronxy Graphical Controller
-//
-// Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
-// A clone of the RepRapDiscount full graphics display but with
-// different pins/wiring (see pins_ANET_10.h). Enable one of these.
+// ANET and Tronxy 128√ó64 Full Graphics Controller as used on Anet A6
 //
 //#define ANET_FULL_GRAPHICS_LCD
-//#define ANET_FULL_GRAPHICS_LCD_ALT_WIRING
+
+//
+// GUCOCO CTC 128√ó64 Full Graphics Controller as used on GUCOCO CTC A10S
+//
+//#define CTC_A10S_A13
 
 //
 // AZSMZ 12864 LCD with SD

commit fef74398e41a1b492792837941af55057eb694f5
Author: jesterhead82 <mclauss82@gmail.com>
Date:   Wed Dec 13 08:44:11 2023 +0100

    ‚ú® MARKFORGED_INVERSE (#26516)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4d0351bb49..e62637f646 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -892,8 +892,16 @@
 //#define COREYX
 //#define COREZX
 //#define COREZY
-//#define MARKFORGED_XY  // MarkForged. See https://reprap.org/forum/read.php?152,504042
+
+//
+// MarkForged Kinematics
+// See https://reprap.org/forum/read.php?152,504042
+//
+//#define MARKFORGED_XY
 //#define MARKFORGED_YX
+#if ANY(MARKFORGED_XY, MARKFORGED_YX)
+  //#define MARKFORGED_INVERSE  // Enable for an inverted Markforged kinematics belt path
+#endif
 
 // Enable for a belt style printer with endless "Z" motion
 //#define BELTPRINTER

commit f4228cc4c1e1ed499a07f9357afa6a978c1fd7a5
Author: mikemerryguy <57319047+mikemerryguy@users.noreply.github.com>
Date:   Tue Nov 28 18:55:21 2023 -0500

    ‚ú® XY_AFTER_HOMING, EVENT_GCODE_AFTER_HOMING (#26469)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0639f432c5..4d0351bb49 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1758,10 +1758,13 @@
  */
 //#define Z_IDLE_HEIGHT Z_HOME_POS
 
-//#define Z_CLEARANCE_FOR_HOMING  4 // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
-                                    // Be sure to have this much clearance over your Z_MAX_POS to prevent grinding.
+//#define Z_CLEARANCE_FOR_HOMING  4   // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
+                                      // You'll need this much clearance above Z_MAX_POS to avoid grinding.
 
-//#define Z_AFTER_HOMING         10 // (mm) Height to move to after homing (if Z was homed)
+//#define Z_AFTER_HOMING         10   // (mm) Height to move to after homing (if Z was homed)
+//#define XY_AFTER_HOMING { 10, 10 }  // (mm) Move to an XY position after homing (and raising Z)
+
+//#define EVENT_GCODE_AFTER_HOMING "M300 P440 S200"  // Commands to run after G28 (and move to XY_AFTER_HOMING)
 
 // Direction of endstops when homing; 1=MAX, -1=MIN
 // :[-1,1]
@@ -2246,8 +2249,8 @@
 //#define Z_SAFE_HOMING
 
 #if ENABLED(Z_SAFE_HOMING)
-  #define Z_SAFE_HOMING_X_POINT X_CENTER  // X point for Z homing
-  #define Z_SAFE_HOMING_Y_POINT Y_CENTER  // Y point for Z homing
+  #define Z_SAFE_HOMING_X_POINT X_CENTER  // (mm) X point for Z homing
+  #define Z_SAFE_HOMING_Y_POINT Y_CENTER  // (mm) Y point for Z homing
   //#define Z_SAFE_HOMING_POINT_ABSOLUTE  // Ignore home offsets (M206) for Z homing position
 #endif
 

commit 0a86a5f39c560f324e65b539b5be8da1ed91c60a
Author: David Buezas <dbuezas@users.noreply.github.com>
Date:   Sun Nov 26 02:55:51 2023 +0100

    ‚ú® MAX Thermocouples for Heated Bed (#26441)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 406c42f21f..0639f432c5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -513,10 +513,10 @@
  * ================================================================
  *  SPI RTD/Thermocouple Boards
  * ================================================================
- *    -5 : MAX31865 with Pt100/Pt1000, 2, 3, or 4-wire  (only for sensors 0-1)
+ *    -5 : MAX31865 with Pt100/Pt1000, 2, 3, or 4-wire  (only for sensors 0-2 and bed)
  *                  NOTE: You must uncomment/set the MAX31865_*_OHMS_n defines below.
- *    -3 : MAX31855 with Thermocouple, -200¬∞C to +700¬∞C (only for sensors 0-1)
- *    -2 : MAX6675  with Thermocouple, 0¬∞C to +700¬∞C    (only for sensors 0-1)
+ *    -3 : MAX31855 with Thermocouple, -200¬∞C to +700¬∞C (only for sensors 0-2 and bed)
+ *    -2 : MAX6675  with Thermocouple, 0¬∞C to +700¬∞C    (only for sensors 0-2 and bed)
  *
  *  NOTE: Ensure TEMP_n_CS_PIN is set in your pins file for each TEMP_SENSOR_n using an SPI Thermocouple. By default,
  *        Hardware SPI on the default serial bus is used. If you have also set TEMP_n_SCK_PIN and TEMP_n_MISO_PIN,

commit 924d7769ec3dd65f89b53b45b94998c5d5cb1748
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sat Nov 25 14:31:53 2023 -0800

    ‚ú® BD_SENSOR_PROBE_NO_STOP (#26353)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6374760db5..406c42f21f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1430,6 +1430,9 @@
  * Uses I2C port, so it requires I2C library markyue/Panda_SoftMasterI2C.
  */
 //#define BD_SENSOR
+#if ENABLED(BD_SENSOR)
+  //#define BD_SENSOR_PROBE_NO_STOP // Probe bed without stopping at each probe point
+#endif
 
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE

commit 36e66bdd9ff22ddfdcaa36ac8a9b9448c78ca44c
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Sat Nov 18 09:11:59 2023 +1300

    üîß Define MarlinUI axis moves with lists (#26344)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3509078407..6374760db5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -950,7 +950,7 @@
   // Distance between bed and nozzle Z home position
   #define DELTA_HEIGHT 250.00             // (mm) Get this value from G33 auto calibrate
 
-  #define DELTA_ENDSTOP_ADJ { 0.0, 0.0, 0.0 } // Get these values from G33 auto calibrate
+  #define DELTA_ENDSTOP_ADJ { 0.0, 0.0, 0.0 } // (mm) Get these values from G33 auto calibrate
 
   // Horizontal distance bridged by diagonal push rods when effector is centered.
   #define DELTA_RADIUS 124.0              // (mm) Get this value from G33 auto calibrate
@@ -958,11 +958,11 @@
   // Trim adjustments for individual towers
   // tower angle corrections for X and Y tower / rotate XYZ so Z tower angle = 0
   // measured in degrees anticlockwise looking from above the printer
-  #define DELTA_TOWER_ANGLE_TRIM { 0.0, 0.0, 0.0 } // Get these values from G33 auto calibrate
+  #define DELTA_TOWER_ANGLE_TRIM { 0.0, 0.0, 0.0 } // (mm) Get these values from G33 auto calibrate
 
-  // Delta radius and diagonal rod adjustments (mm)
-  //#define DELTA_RADIUS_TRIM_TOWER { 0.0, 0.0, 0.0 }
-  //#define DELTA_DIAGONAL_ROD_TRIM_TOWER { 0.0, 0.0, 0.0 }
+  // Delta radius and diagonal rod adjustments
+  //#define DELTA_RADIUS_TRIM_TOWER       { 0.0, 0.0, 0.0 } // (mm)
+  //#define DELTA_DIAGONAL_ROD_TRIM_TOWER { 0.0, 0.0, 0.0 } // (mm)
 #endif
 
 // @section scara

commit 884a3249fef951c111c8969eec659cbe36a6292b
Author: Vovodroid <vovodroid@users.noreply.github.com>
Date:   Sun Nov 12 04:40:49 2023 +0200

    ‚ú® BED_ANNEALING_GCODE (#26341)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c5a7398236..3509078407 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -779,6 +779,9 @@
   //#define BED_LIMIT_SWITCHING   // Keep the bed temperature within BED_HYSTERESIS of the target
 #endif
 
+// Add 'M190 R T' for more gradual M190 R bed cooling.
+//#define BED_ANNEALING_GCODE
+
 //===========================================================================
 //==================== PID > Chamber Temperature Control ====================
 //===========================================================================

commit cb044d989c397fcbf6f106502df69a7e5c41d34b
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   Sun Nov 5 09:46:57 2023 +0300

    ‚ú® Probe XY Offset value limits (#26267)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 33810011cf..c5a7398236 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1641,9 +1641,13 @@
 
 #define Z_PROBE_LOW_POINT          -2 // (mm) Farthest distance below the trigger-point to go before stopping
 
-// For M851 give a range for adjusting the Z probe offset
-#define Z_PROBE_OFFSET_RANGE_MIN -20  // (mm)
-#define Z_PROBE_OFFSET_RANGE_MAX  20  // (mm)
+// For M851 provide ranges for adjusting the X, Y, and Z probe offsets
+//#define PROBE_OFFSET_XMIN -50   // (mm)
+//#define PROBE_OFFSET_XMAX  50   // (mm)
+//#define PROBE_OFFSET_YMIN -50   // (mm)
+//#define PROBE_OFFSET_YMAX  50   // (mm)
+//#define PROBE_OFFSET_ZMIN -20   // (mm)
+//#define PROBE_OFFSET_ZMAX  20   // (mm)
 
 // Enable the M48 repeatability test to test probe accuracy
 //#define Z_MIN_PROBE_REPEATABILITY_TEST

commit 6a35ab6557f8450845379c90724dc14b55be4b0c
Author: Marcio T <mlt4356-github@yahoo.com>
Date:   Sat Oct 14 22:54:54 2023 -0600

    ‚ú® Z_PROBE_ERROR_TOLERANCE (expose) (#26229)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 821f34cf4c..33810011cf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1636,6 +1636,7 @@
 #define Z_CLEARANCE_DEPLOY_PROBE   10 // (mm) Z Clearance for Deploy/Stow
 #define Z_CLEARANCE_BETWEEN_PROBES  5 // (mm) Z Clearance between probe points
 #define Z_CLEARANCE_MULTI_PROBE     5 // (mm) Z Clearance between multiple probes
+#define Z_PROBE_ERROR_TOLERANCE     3 // (mm) Tolerance for early trigger (<= -probe.offset.z + ZPET)
 //#define Z_AFTER_PROBING           5 // (mm) Z position after probing is done
 
 #define Z_PROBE_LOW_POINT          -2 // (mm) Farthest distance below the trigger-point to go before stopping

commit d695e5f7bc409bc3d8ede798db5205c2c6a162f1
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Oct 12 12:56:44 2023 -0500

    üîß Misc. probe opts

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2fddb8ae31..821f34cf4c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1633,16 +1633,16 @@
  * Example: `M851 Z-5` with a CLEARANCE of 4  =>  9mm from bed to nozzle.
  *     But: `M851 Z+1` with a CLEARANCE of 2  =>  2mm from bed to nozzle.
  */
-#define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
-#define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
-#define Z_CLEARANCE_MULTI_PROBE     5 // Z Clearance between multiple probes
-//#define Z_AFTER_PROBING           5 // Z position after probing is done
+#define Z_CLEARANCE_DEPLOY_PROBE   10 // (mm) Z Clearance for Deploy/Stow
+#define Z_CLEARANCE_BETWEEN_PROBES  5 // (mm) Z Clearance between probe points
+#define Z_CLEARANCE_MULTI_PROBE     5 // (mm) Z Clearance between multiple probes
+//#define Z_AFTER_PROBING           5 // (mm) Z position after probing is done
 
-#define Z_PROBE_LOW_POINT          -2 // Farthest distance below the trigger-point to go before stopping
+#define Z_PROBE_LOW_POINT          -2 // (mm) Farthest distance below the trigger-point to go before stopping
 
 // For M851 give a range for adjusting the Z probe offset
-#define Z_PROBE_OFFSET_RANGE_MIN -20
-#define Z_PROBE_OFFSET_RANGE_MAX 20
+#define Z_PROBE_OFFSET_RANGE_MIN -20  // (mm)
+#define Z_PROBE_OFFSET_RANGE_MAX  20  // (mm)
 
 // Enable the M48 repeatability test to test probe accuracy
 //#define Z_MIN_PROBE_REPEATABILITY_TEST

commit b58d5dabf8939658334db3e0d98c03b1b934df7c
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Oct 8 18:07:09 2023 -0700

    üîß BTT_MINI_12864_V1 => BTT_MINI_12864 (#26160)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2386889095..2fddb8ae31 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2988,10 +2988,10 @@
 //#define FYSETC_GENERIC_12864_1_1 // Larger display with basic ON/OFF backlight.
 
 //
-// BigTreeTech Mini 12864 V1.0 is an alias for FYSETC_MINI_12864_2_1. Type A/B. NeoPixel RGB Backlight.
-// https://github.com/bigtreetech/MINI-12864/tree/master/mini12864_v1.0
+// BigTreeTech Mini 12864 V1.0 / V2.0 is an alias for FYSETC_MINI_12864_2_1. Type A/B. NeoPixel RGB Backlight.
+// https://github.com/bigtreetech/MINI-12864
 //
-//#define BTT_MINI_12864_V1
+//#define BTT_MINI_12864
 
 //
 // Factory display for Creality CR-10 / CR-7 / Ender-3

commit 047bce0cdd8599d3ea9b85d173f8d79a0802adf1
Author: Dipl.-Ing. Raoul Rubien, BSc <rubienr@sbox.tugraz.at>
Date:   Mon Oct 9 02:22:40 2023 +0200

    üîß More angles for 2x Servo Switching Nozzle (#26303)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bdd69d958e..2386889095 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -244,7 +244,8 @@
 #if ENABLED(SWITCHING_NOZZLE)
   #define SWITCHING_NOZZLE_SERVO_NR 0
   //#define SWITCHING_NOZZLE_E1_SERVO_NR 1          // If two servos are used, the index of the second
-  #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // Angles for E0, E1 (single servo) or lowered/raised (dual servo)
+  #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // A pair of angles for { E0, E1 }.
+                                                    // For Dual Servo use two pairs: { { lower, raise }, { lower, raise } }
   #define SWITCHING_NOZZLE_SERVO_DWELL 2500         // Dwell time to wait for servo to make physical move
 #endif
 

commit 014609ad87d3556b44a00fef4c4983894f9d4354
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Oct 7 00:29:34 2023 -0500

    üîß Move some config options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6111f482f1..bdd69d958e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1418,6 +1418,15 @@
   //#define TOUCH_MI_MANUAL_DEPLOY                // For manual deploy (LCD menu)
 #endif
 
+/**
+ * Bed Distance Sensor
+ *
+ * Measures the distance from bed to nozzle with accuracy of 0.01mm.
+ * For information about this sensor https://github.com/markniu/Bed_Distance_sensor
+ * Uses I2C port, so it requires I2C library markyue/Panda_SoftMasterI2C.
+ */
+//#define BD_SENSOR
+
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE
 
@@ -1996,6 +2005,12 @@
 //#define AUTO_BED_LEVELING_UBL
 //#define MESH_BED_LEVELING
 
+/**
+ * Commands to execute at the end of G29 probing.
+ * Useful to retract or move the Z probe out of the way.
+ */
+//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
+
 /**
  * Normally G28 leaves leveling disabled on completion. Enable one of
  * these options to restore the prior leveling state or to always enable
@@ -2013,15 +2028,6 @@
   #define LEVELING_BED_TEMP     50
 #endif
 
-/**
- * Bed Distance Sensor
- *
- * Measures the distance from bed to nozzle with accuracy of 0.01mm.
- * For information about this sensor https://github.com/markniu/Bed_Distance_sensor
- * Uses I2C port, so it requires I2C library markyue/Panda_SoftMasterI2C.
- */
-//#define BD_SENSOR
-
 /**
  * Enable detailed logging of G28, G29, M48, etc.
  * Turn on with the command 'M111 S32'.
@@ -2201,12 +2207,6 @@
   #define BED_TRAMMING_LEVELING_ORDER { LF, RF, RB, LB }
 #endif
 
-/**
- * Commands to execute at the end of G29 probing.
- * Useful to retract or move the Z probe out of the way.
- */
-//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
-
 // @section homing
 
 // The center of the bed is at (X=0, Y=0)

commit 91ab18d1d2825b85cbd17e8ef1eb0675754a4043
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Oct 6 16:08:30 2023 -0500

    üìù Some settings units

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c00e59b5cd..6111f482f1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -665,7 +665,7 @@
 //#define MPCTEMP         // ** EXPERIMENTAL ** See https://marlinfw.org/docs/features/model_predictive_control.html
 
 #define PID_MAX  255      // Limit hotend current while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
-#define PID_K1 0.95       // Smoothing factor within any PID loop
+#define PID_K1     0.95   // Smoothing factor within any PID loop
 
 #if ENABLED(PIDTEMP)
   //#define PID_DEBUG             // Print PID debug data to the serial port. Use 'M303 D' to toggle activation.

commit 86be9a85d0f819fc0f3f6cfe743906ac3309f366
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Aug 23 13:44:40 2023 -0500

    üìù Thermistor info updates (#26202)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 119f81415a..c00e59b5cd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -466,6 +466,7 @@
  *    13 : 100kŒ© Hisens up to 300¬∞C - for "Simple ONE" & "All In ONE" hotend - beta 3950, 1%
  *    14 : 100kŒ©  (R25), 4092K (beta25), 4.7kŒ© pull-up, bed thermistor as used in Ender-5 S1
  *    15 : 100kŒ© Calibrated for JGAurora A5 hotend
+ *    17 : 100kŒ© Dagoma NTC white thermistor
  *    18 : 200kŒ© ATC Semitec 204GT-2 Dagoma.Fr - MKS_Base_DKU001327
  *    22 : 100kŒ© GTM32 Pro vB - hotend - 4.7kŒ© pullup to 3.3V and 220Œ© to analog input
  *    23 : 100kŒ© GTM32 Pro vB - bed - 4.7kŒ© pullup to 3.3v and 220Œ© to analog input
@@ -477,6 +478,7 @@
  *    68 : PT100 Smplifier board from Dyze Design
  *    70 : 100kŒ© bq Hephestos 2
  *    75 : 100kŒ© Generic Silicon Heat Pad with NTC100K MGB18-104F39050L32
+ *   666 : 200kŒ© Einstart S custom thermistor with 10k pullup.
  *  2000 : 100kŒ© Ultimachine Rambo TDK NTCG104LH104KT1 NTC100K motherboard Thermistor
  *
  * ================================================================

commit 8d74a63e4bc210ce96ef7cf148f3598afc9fe1ad
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Aug 6 21:04:40 2023 -0500

    üìù Update a config comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 22b060dcb2..119f81415a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1514,7 +1514,7 @@
  *
  * Tune and Adjust
  * -  Probe Offsets can be tuned at runtime with 'M851', LCD menus, babystepping, etc.
- * -  PROBE_OFFSET_WIZARD (configuration_adv.h) can be used for setting the Z offset.
+ * -  PROBE_OFFSET_WIZARD (Configuration_adv.h) can be used for setting the Z offset.
  *
  * Assuming the typical work area orientation:
  *  - Probe to RIGHT of the Nozzle has a Positive X offset

commit 06d46a0ef96a766b114db5902beccb86829ba57c
Author: Alexey D. Filimonov <alexey@filimonic.net>
Date:   Sat Aug 5 03:07:56 2023 +0300

    ‚ú® AUTO_POWER_SPINDLE_LASER (#25739)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4dbc2a8c11..22b060dcb2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -412,11 +412,12 @@
 
   //#define AUTO_POWER_CONTROL      // Enable automatic control of the PS_ON pin
   #if ENABLED(AUTO_POWER_CONTROL)
-    #define AUTO_POWER_FANS         // Turn on PSU if fans need power
-    #define AUTO_POWER_E_FANS
-    #define AUTO_POWER_CONTROLLERFAN
-    #define AUTO_POWER_CHAMBER_FAN
-    #define AUTO_POWER_COOLER_FAN
+    #define AUTO_POWER_FANS           // Turn on PSU for fans
+    #define AUTO_POWER_E_FANS         // Turn on PSU for E Fans
+    #define AUTO_POWER_CONTROLLERFAN  // Turn on PSU for Controller Fan
+    #define AUTO_POWER_CHAMBER_FAN    // Turn on PSU for Chamber Fan
+    #define AUTO_POWER_COOLER_FAN     // Turn on PSU for Cooler Fan
+    #define AUTO_POWER_SPINDLE_LASER  // Turn on PSU for Spindle/Laser
     #define POWER_TIMEOUT              30 // (s) Turn off power if the machine is idle for this duration
     //#define POWER_OFF_DELAY          60 // (s) Delay of poweroff after M81 command. Useful to let fans run for extra time.
   #endif

commit aaa590855a26032d049ae797e092a4571d04e2d7
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Thu Aug 3 15:55:29 2023 +1200

    üìù E3S1PRO is T5L (#26143)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dbba2e60ed..4dbc2a8c11 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3123,7 +3123,7 @@
  *  - Download https://github.com/InsanityAutomation/Marlin/raw/CrealityDwin_2.0/TM3D_Combined480272_Landscape_V7.7z
  *  - Copy the downloaded DWIN_SET folder to the SD card.
  *
- * E3S1PRO (T5UID1)
+ * E3S1PRO (T5L)
  *  - Download https://github.com/CrealityOfficial/Ender-3S1/archive/3S1_Plus_Screen.zip
  *  - Copy the downloaded DWIN_SET folder to the SD card.
  *

commit bed26734a28175f7ef9669d5190bf7ebc6227223
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Aug 1 23:03:06 2023 -0500

    üîß More endstops refactoring (#25758)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3127d59e8b..dbba2e60ed 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1751,6 +1751,21 @@
 //#define V_HOME_DIR -1
 //#define W_HOME_DIR -1
 
+/**
+ * Safety Stops
+ * If an axis has endstops on both ends the one specified above is used for
+ * homing, while the other can be used for things like SD_ABORT_ON_ENDSTOP_HIT.
+ */
+//#define X_SAFETY_STOP
+//#define Y_SAFETY_STOP
+//#define Z_SAFETY_STOP
+//#define I_SAFETY_STOP
+//#define J_SAFETY_STOP
+//#define K_SAFETY_STOP
+//#define U_SAFETY_STOP
+//#define V_SAFETY_STOP
+//#define W_SAFETY_STOP
+
 // @section geometry
 
 // The size of the printable area

commit 5bcaae62f2c7965ee7f99eb44a44022f1cbad959
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Mon Jul 24 15:31:39 2023 +1200

    ‚ö°Ô∏è Compact RGB565 TFT boot images (#26011)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 90a5939a24..3127d59e8b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3313,6 +3313,8 @@
   #define TFT_THEME BLACK_MARLIN
 
   //#define TFT_SHARED_IO   // I/O is shared between TFT display and other devices. Disable async data transfer.
+
+  #define COMPACT_MARLIN_BOOT_LOGO  // Use compressed data to save Flash space
 #endif
 
 #if ENABLED(TFT_LVGL_UI)

commit 244de2458ac6fd48f3031d0179ca1bcad6808583
Author: Alexander Gavrilenko <jmz52@users.noreply.github.com>
Date:   Mon Jul 17 10:53:36 2023 +0300

    üßë‚Äçüíª Improve TFT Color UI layout / theme (#26077)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c59bbba32a..90a5939a24 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3303,6 +3303,15 @@
    */
   #define TFT_FONT  NOTOSANS
 
+  /**
+   * TFT Theme for Color_UI. Choose one of the following or add a new one to 'Marlin/src/lcd/tft/themes' directory
+   *
+   * BLUE_MARLIN  - Default theme with 'midnight blue' background
+   * BLACK_MARLIN - Theme with 'black' background
+   * ANET_BLACK   - Theme used for Anet ET4/5
+   */
+  #define TFT_THEME BLACK_MARLIN
+
   //#define TFT_SHARED_IO   // I/O is shared between TFT display and other devices. Disable async data transfer.
 #endif
 

commit 929497d52762f87243d1b521d9703f75b7501aa4
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Tue Jul 4 14:07:56 2023 -0700

    üìù Update config URLs (#26049)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b21eba76a0..c59bbba32a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -46,12 +46,13 @@
  *
  * Example Configs:     https://github.com/MarlinFirmware/Configurations/branches/all
  *
- * Pr≈Ø≈°a Calculator:    https://blog.prusaprinters.org/calculator_3416/
+ * Pr≈Ø≈°a Calculator:    https://blog.prusa3d.com/calculator_3416/
  *
  * Calibration Guides:  https://reprap.org/wiki/Calibration
  *                      https://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
- *                      https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
+ *                      https://web.archive.org/web/20220907014303/https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
  *                      https://youtu.be/wAL9d7FgInk
+ *                      https://teachingtechyt.github.io/calibration.html
  *
  * Calibration Objects: https://www.thingiverse.com/thing:5573
  *                      https://www.thingiverse.com/thing:1278865
@@ -990,8 +991,8 @@
     // Radius around the center where the arm cannot reach
     #define MIDDLE_DEAD_ZONE_R   0  // (mm)
 
-    #define THETA_HOMING_OFFSET  0  // Calculated from Calibration Guide and M360 / M114. See http://reprap.harleystudio.co.za/?page_id=1073
-    #define PSI_HOMING_OFFSET    0  // Calculated from Calibration Guide and M364 / M114. See http://reprap.harleystudio.co.za/?page_id=1073
+    #define THETA_HOMING_OFFSET  0  // Calculated from Calibration Guide and M360 / M114. See https://www.morgan3dp.com/morgan-calibration-guide/
+    #define PSI_HOMING_OFFSET    0  // Calculated from Calibration Guide and M364 / M114. See https://www.morgan3dp.com/morgan-calibration-guide/
 
   #elif ENABLED(MP_SCARA)
 
@@ -1025,7 +1026,7 @@
   // Radius around the center where the arm cannot reach
   #define MIDDLE_DEAD_ZONE_R   0  // (mm)
 
-  // Calculated from Calibration Guide and M360 / M114. See http://reprap.harleystudio.co.za/?page_id=1073
+  // Calculated from Calibration Guide and M360 / M114. See https://www.morgan3dp.com/morgan-calibration-guide/
   #define THETA_HOMING_OFFSET  0
   #define PSI_HOMING_OFFSET    0
 #endif
@@ -1449,7 +1450,7 @@
   #define MAG_MOUNTED_STOW_5   { PROBE_STOW_FEEDRATE,   {   0,   0,  0 } }  // Extra move if needed
 #endif
 
-// Duet Smart Effector (for delta printers) - https://bit.ly/2ul5U7J
+// Duet Smart Effector (for delta printers) - https://docs.duet3d.com/en/Duet3D_hardware/Accessories/Smart_Effector
 // When the pin is defined you can use M672 to set/reset the probe sensitivity.
 //#define DUET_SMART_EFFECTOR
 #if ENABLED(DUET_SMART_EFFECTOR)
@@ -1465,7 +1466,7 @@
 //#define SENSORLESS_PROBING
 
 /**
- * Allen key retractable z-probe as seen on many Kossel delta printers - https://reprap.org/wiki/Kossel#Automatic_bed_leveling_probe
+ * Allen key retractable z-probe as seen on many Kossel delta printers - https://reprap.org/wiki/Kossel#Autolevel_probe
  * Deploys by touching z-axis belt. Retracts by pushing the probe down.
  */
 //#define Z_PROBE_ALLEN_KEY
@@ -2726,7 +2727,7 @@
 
 //
 // Original RADDS LCD Display+Encoder+SDCardReader
-// http://doku.radds.org/dokumentation/lcd-display/
+// https://web.archive.org/web/20200719145306/http://doku.radds.org/dokumentation/lcd-display/
 //
 //#define RADDS_DISPLAY
 
@@ -2756,7 +2757,6 @@
 
 //
 // RigidBot Panel V1.0
-// http://www.inventapart.com/
 //
 //#define RIGIDBOT_PANEL
 
@@ -2800,8 +2800,9 @@
 //
 // Sainsmart (YwRobot) LCD Displays
 //
-// These require F.Malpartida's LiquidCrystal_I2C library
-// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home
+// These require LiquidCrystal_I2C library:
+//   https://github.com/MarlinFirmware/New-LiquidCrystal
+//   https://github.com/fmalpartida/New-LiquidCrystal/wiki
 //
 //#define LCD_SAINSMART_I2C_1602
 //#define LCD_SAINSMART_I2C_2004
@@ -2834,7 +2835,7 @@
 //
 
 //
-// 2-wire Non-latching LCD SR from https://goo.gl/aJJ4sH
+// 2-wire Non-latching LCD SR from https://github.com/fmalpartida/New-LiquidCrystal/wiki/schematics#user-content-ShiftRegister_connection
 // LCD configuration: https://reprap.org/wiki/SAV_3D_LCD
 //
 //#define SAV_3DLCD
@@ -2906,7 +2907,7 @@
 
 //
 // MaKr3d Makr-Panel with graphic controller and SD support.
-// https://reprap.org/wiki/MaKr3d_MaKrPanel
+// https://reprap.org/wiki/MaKrPanel
 //
 //#define MAKRPANEL
 
@@ -2924,7 +2925,7 @@
 
 //
 // Cartesio UI
-// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
+// https://web.archive.org/web/20180605050442/http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
 //
 //#define CARTESIO_UI
 
@@ -2969,15 +2970,15 @@
 
 //
 // BigTreeTech Mini 12864 V1.0 is an alias for FYSETC_MINI_12864_2_1. Type A/B. NeoPixel RGB Backlight.
+// https://github.com/bigtreetech/MINI-12864/tree/master/mini12864_v1.0
 //
 //#define BTT_MINI_12864_V1
 
 //
-// Factory display for Creality CR-10
+// Factory display for Creality CR-10 / CR-7 / Ender-3
 // https://www.aliexpress.com/item/32833148327.html
 //
-// This is RAMPS-compatible using a single 10-pin connector.
-// (For CR-10 owners who want to replace the Melzi Creality board but retain the display)
+// Connect to EXP1 on RAMPS and compatible boards.
 //
 //#define CR10_STOCKDISPLAY
 
@@ -3183,6 +3184,7 @@
 //
 // 480x320, 3.5", SPI Display with Rotary Encoder from MKS
 // Usually paired with MKS Robin Nano V2 & V3
+// https://github.com/makerbase-mks/MKS-TFT-Hardware/tree/master/MKS%20TS35
 //
 //#define MKS_TS35_V2_0
 
@@ -3247,12 +3249,14 @@
 //#define ANET_ET5_TFT35
 
 //
-// 1024x600, 7", RGB Stock Display with Rotary Encoder from BIQU-BX
+// 1024x600, 7", RGB Stock Display with Rotary Encoder from BIQU BX
+// https://github.com/bigtreetech/BIQU-BX/tree/master/Hardware
 //
 //#define BIQU_BX_TFT70
 
 //
 // 480x320, 3.5", SPI Stock Display with Rotary Encoder from BIQU B1 SE Series
+// https://github.com/bigtreetech/TFT35-SPI/tree/master/v1
 //
 //#define BTT_TFT35_SPI_V1_0
 

commit b77e2a5020714ad17fc12052093231ad4520ce14
Author: Christophe Huriaux <c.huriaux@gmail.com>
Date:   Sat Jul 1 06:06:08 2023 +0200

    ‚ú® Ender 3 S1 Pro/Plus stock touchscreen (#25905)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b573d2d9ec..b21eba76a0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3107,13 +3107,17 @@
  *  - Download https://github.com/InsanityAutomation/Marlin/raw/CrealityDwin_2.0/TM3D_Combined480272_Landscape_V7.7z
  *  - Copy the downloaded DWIN_SET folder to the SD card.
  *
+ * E3S1PRO (T5UID1)
+ *  - Download https://github.com/CrealityOfficial/Ender-3S1/archive/3S1_Plus_Screen.zip
+ *  - Copy the downloaded DWIN_SET folder to the SD card.
+ *
  * Flash display with DGUS Displays for Marlin:
  *  - Format the SD card to FAT32 with an allocation size of 4kb.
  *  - Download files as specified for your type of display.
  *  - Plug the microSD card into the back of the display.
  *  - Boot the display and wait for the update to complete.
  *
- * :[ 'ORIGIN', 'FYSETC', 'HYPRECY', 'MKS', 'RELOADED', 'IA_CREALITY' ]
+ * :[ 'ORIGIN', 'FYSETC', 'HYPRECY', 'MKS', 'RELOADED', 'IA_CREALITY', 'E3S1PRO' ]
  */
 //#define DGUS_LCD_UI ORIGIN
 #if DGUS_UI_IS(MKS)

commit 733209f9a2cfa347e072738c76860c08a4e74500
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Jun 18 22:12:50 2023 -0700

    üîß MPC adjustments (#25986)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b905b24688..b573d2d9ec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -686,13 +686,13 @@
 /**
  * Model Predictive Control for hotend
  *
- * Use a physical model of the hotend to control temperature. When configured correctly
- * this gives better responsiveness and stability than PID and it also removes the need
- * for PID_EXTRUSION_SCALING and PID_FAN_SCALING. Use M306 T to autotune the model.
+ * Use a physical model of the hotend to control temperature. When configured correctly this gives
+ * better responsiveness and stability than PID and removes the need for PID_EXTRUSION_SCALING
+ * and PID_FAN_SCALING. Enable MPC_AUTOTUNE and use M306 T to autotune the model.
  * @section mpctemp
  */
 #if ENABLED(MPCTEMP)
-  //#define MPC_AUTOTUNE                              // Include a method to do MPC auto-tuning (~6.3K bytes of flash)
+  #define MPC_AUTOTUNE                                // Include a method to do MPC auto-tuning (~6.3K bytes of flash)
   //#define MPC_EDIT_MENU                             // Add MPC editing to the "Advanced Settings" menu. (~1.3K bytes of flash)
   //#define MPC_AUTOTUNE_MENU                         // Add MPC auto-tuning to the "Advanced Settings" menu. (~350 bytes of flash)
 
@@ -715,8 +715,12 @@
     //#define MPC_FAN_0_ACTIVE_HOTEND
   #endif
 
+  // Filament Heat Capacity (joules/kelvin/mm)
+  // Set at runtime with M306 H<value>
   #define FILAMENT_HEAT_CAPACITY_PERMM { 5.6e-3f }    // 0.0056 J/K/mm for 1.75mm PLA (0.0149 J/K/mm for 2.85mm PLA).
-  //#define FILAMENT_HEAT_CAPACITY_PERMM { 3.6e-3f }  // 0.0036 J/K/mm for 1.75mm PETG (0.0094 J/K/mm for 2.85mm PETG).
+                                                      // 0.0036 J/K/mm for 1.75mm PETG (0.0094 J/K/mm for 2.85mm PETG).
+                                                      // 0.00515 J/K/mm for 1.75mm ABS (0.0137 J/K/mm for 2.85mm ABS).
+                                                      // 0.00522 J/K/mm for 1.75mm Nylon (0.0138 J/K/mm for 2.85mm Nylon).
 
   // Advanced options
   #define MPC_SMOOTHING_FACTOR 0.5f                   // (0.0...1.0) Noisy temperature sensors may need a lower value for stabilization.

commit 2691167afe02fbbe74b0fdca2c28a49fac635741
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Jun 2 14:26:02 2023 -0500

    üßë‚Äçüíª Dump BOTH and EITHER macros (#25908)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 61377189a8..b905b24688 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -266,7 +266,7 @@
  */
 //#define MAGNETIC_PARKING_EXTRUDER
 
-#if EITHER(PARKING_EXTRUDER, MAGNETIC_PARKING_EXTRUDER)
+#if ANY(PARKING_EXTRUDER, MAGNETIC_PARKING_EXTRUDER)
 
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
   #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // (mm) Distance to move beyond the parking point to grab the extruder
@@ -419,7 +419,7 @@
     #define POWER_TIMEOUT              30 // (s) Turn off power if the machine is idle for this duration
     //#define POWER_OFF_DELAY          60 // (s) Delay of poweroff after M81 command. Useful to let fans run for extra time.
   #endif
-  #if EITHER(AUTO_POWER_CONTROL, POWER_OFF_WAIT_FOR_COOLDOWN)
+  #if ANY(AUTO_POWER_CONTROL, POWER_OFF_WAIT_FOR_COOLDOWN)
     //#define AUTO_POWER_E_TEMP        50 // (¬∞C) PSU on if any extruder is over this temperature
     //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) PSU on if the chamber is over this temperature
     //#define AUTO_POWER_COOLER_TEMP   26 // (¬∞C) PSU on if the cooler is over this temperature
@@ -921,7 +921,7 @@
     #define DELTA_CALIBRATION_DEFAULT_POINTS 4
   #endif
 
-  #if EITHER(DELTA_AUTO_CALIBRATION, DELTA_CALIBRATION_MENU)
+  #if ANY(DELTA_AUTO_CALIBRATION, DELTA_CALIBRATION_MENU)
     // Step size for paper-test probing
     #define PROBE_MANUALLY_STEP 0.05      // (mm)
   #endif
@@ -965,7 +965,7 @@
  */
 //#define MORGAN_SCARA
 //#define MP_SCARA
-#if EITHER(MORGAN_SCARA, MP_SCARA)
+#if ANY(MORGAN_SCARA, MP_SCARA)
   // If movement is choppy try lowering this value
   #define DEFAULT_SEGMENTS_PER_SECOND 200
 
@@ -1809,7 +1809,7 @@
   #define MAX_SOFTWARE_ENDSTOP_W
 #endif
 
-#if EITHER(MIN_SOFTWARE_ENDSTOPS, MAX_SOFTWARE_ENDSTOPS)
+#if ANY(MIN_SOFTWARE_ENDSTOPS, MAX_SOFTWARE_ENDSTOPS)
   //#define SOFT_ENDSTOPS_MENU_ITEM  // Enable/Disable software endstops from the LCD
 #endif
 
@@ -2046,7 +2046,7 @@
 
 #endif
 
-#if EITHER(AUTO_BED_LEVELING_LINEAR, AUTO_BED_LEVELING_BILINEAR)
+#if ANY(AUTO_BED_LEVELING_LINEAR, AUTO_BED_LEVELING_BILINEAR)
 
   // Set the number of grid points per dimension.
   #define GRID_MAX_POINTS_X 3
@@ -3340,7 +3340,7 @@
   //#define TOUCH_OFFSET_Y        257
   //#define TOUCH_ORIENTATION TOUCH_LANDSCAPE
 
-  #if BOTH(TOUCH_SCREEN_CALIBRATION, EEPROM_SETTINGS)
+  #if ALL(TOUCH_SCREEN_CALIBRATION, EEPROM_SETTINGS)
     #define TOUCH_CALIBRATION_AUTO_SAVE // Auto save successful calibration values to EEPROM
   #endif
 
@@ -3437,7 +3437,7 @@
 //#define RGB_LED
 //#define RGBW_LED
 
-#if EITHER(RGB_LED, RGBW_LED)
+#if ANY(RGB_LED, RGBW_LED)
   //#define RGB_LED_R_PIN 34
   //#define RGB_LED_G_PIN 43
   //#define RGB_LED_B_PIN 35

commit 3999d67e514c1e752128df2a6dc80ec0579ee504
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Thu Jun 1 12:44:19 2023 -0700

    üîß Default has Heated Bed (#25895)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fee89898a3..61377189a8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -547,7 +547,7 @@
 #define TEMP_SENSOR_5 0
 #define TEMP_SENSOR_6 0
 #define TEMP_SENSOR_7 0
-#define TEMP_SENSOR_BED 0
+#define TEMP_SENSOR_BED 1
 #define TEMP_SENSOR_PROBE 0
 #define TEMP_SENSOR_CHAMBER 0
 #define TEMP_SENSOR_COOLER 0

commit 01f5bd333055e919677d95e05bec1f5f067374a4
Author: StevilKnevil <stevilknevil@hotmail.co.uk>
Date:   Fri May 12 01:09:02 2023 +0100

    üö∏ Improved MPCTEMP autotune (#25503)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8818b04a84..fee89898a3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -650,14 +650,18 @@
 
 // @section hotend temp
 
-// Enable PIDTEMP for PID control or MPCTEMP for Predictive Model.
-// temperature control. Disable both for bang-bang heating.
-#define PIDTEMP          // See the PID Tuning Guide at https://reprap.org/wiki/PID_Tuning
-//#define MPCTEMP        // ** EXPERIMENTAL **
+/**
+ * Temperature Control
+ *
+ *  (NONE) : Bang-bang heating
+ * PIDTEMP : PID temperature control (~4.1K)
+ * MPCTEMP : Predictive Model temperature control. (~1.8K without auto-tune)
+ */
+#define PIDTEMP           // See the PID Tuning Guide at https://reprap.org/wiki/PID_Tuning
+//#define MPCTEMP         // ** EXPERIMENTAL ** See https://marlinfw.org/docs/features/model_predictive_control.html
 
-#define BANG_MAX 255     // Limits current to nozzle while in bang-bang mode; 255=full current
-#define PID_MAX BANG_MAX // Limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
-#define PID_K1 0.95      // Smoothing factor within any PID loop
+#define PID_MAX  255      // Limit hotend current while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
+#define PID_K1 0.95       // Smoothing factor within any PID loop
 
 #if ENABLED(PIDTEMP)
   //#define PID_DEBUG             // Print PID debug data to the serial port. Use 'M303 D' to toggle activation.
@@ -675,6 +679,8 @@
     #define DEFAULT_Ki   1.08
     #define DEFAULT_Kd 114.00
   #endif
+#else
+  #define BANG_MAX 255    // Limit hotend current while in bang-bang mode; 255=full current
 #endif
 
 /**
@@ -686,11 +692,11 @@
  * @section mpctemp
  */
 #if ENABLED(MPCTEMP)
-  //#define MPC_AUTOTUNE                              // Include a method to do MPC auto-tuning (~5664-5882 bytes of flash)
-  //#define MPC_EDIT_MENU                             // Add MPC editing to the "Advanced Settings" menu. (~1300 bytes of flash)
+  //#define MPC_AUTOTUNE                              // Include a method to do MPC auto-tuning (~6.3K bytes of flash)
+  //#define MPC_EDIT_MENU                             // Add MPC editing to the "Advanced Settings" menu. (~1.3K bytes of flash)
   //#define MPC_AUTOTUNE_MENU                         // Add MPC auto-tuning to the "Advanced Settings" menu. (~350 bytes of flash)
 
-  #define MPC_MAX BANG_MAX                            // (0..255) Current to nozzle while MPC is active.
+  #define MPC_MAX 255                                 // (0..255) Current to nozzle while MPC is active.
   #define MPC_HEATER_POWER { 40.0f }                  // (W) Heat cartridge powers.
 
   #define MPC_INCLUDE_FAN                             // Model the fan speed?
@@ -725,32 +731,30 @@
 //====================== PID > Bed Temperature Control ======================
 //===========================================================================
 
+// @section bed temp
+
+/**
+ * Max Bed Power
+ * Applies to all forms of bed control (PID, bang-bang, and bang-bang with hysteresis).
+ * When set to any value below 255, enables a form of PWM to the bed that acts like a divider
+ * so don't use it unless you are OK with PWM on your bed. (See the comment on enabling PIDTEMPBED)
+ */
+#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
+
 /**
  * PID Bed Heating
  *
- * If this option is enabled set PID constants below.
- * If this option is disabled, bang-bang will be used and BED_LIMIT_SWITCHING will enable hysteresis.
- *
  * The PID frequency will be the same as the extruder PWM.
  * If PID_dT is the default, and correct for the hardware/configuration, that means 7.689Hz,
  * which is fine for driving a square wave into a resistive load and does not significantly
  * impact FET heating. This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W
  * heater. If your configuration is significantly different than this and you don't understand
  * the issues involved, don't use bed PID until someone else verifies that your hardware works.
- * @section bed temp
+ *
+ * With this option disabled, bang-bang will be used. BED_LIMIT_SWITCHING enables hysteresis.
  */
 //#define PIDTEMPBED
 
-//#define BED_LIMIT_SWITCHING
-
-/**
- * Max Bed Power
- * Applies to all forms of bed control (PID, bang-bang, and bang-bang with hysteresis).
- * When set to any value below 255, enables a form of PWM to the bed that acts like a divider
- * so don't use it unless you are OK with PWM on your bed. (See the comment on enabling PIDTEMPBED)
- */
-#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
-
 #if ENABLED(PIDTEMPBED)
   //#define MIN_BED_POWER 0
   //#define PID_BED_DEBUG // Print Bed PID debug data to the serial port.
@@ -762,7 +766,9 @@
   #define DEFAULT_bedKd 305.4
 
   // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
-#endif // PIDTEMPBED
+#else
+  //#define BED_LIMIT_SWITCHING   // Keep the bed temperature within BED_HYSTERESIS of the target
+#endif
 
 //===========================================================================
 //==================== PID > Chamber Temperature Control ====================

commit e1f6435d4410478930ef5fb7d99a311332f3cee8
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue May 2 17:59:27 2023 -0500

    ‚ú® Creality STM32F401RE board (e.g., Ender-5 S1) (#25773)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9ffa5740e3..8818b04a84 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -462,6 +462,7 @@
  *    11 : 100kŒ© Keenovo AC silicone mats, most Wanhao i3 machines - beta 3950, 1%
  *    12 : 100kŒ© Vishay 0603 SMD NTCS0603E3104FXT (#8) - calibrated for Makibox hot bed
  *    13 : 100kŒ© Hisens up to 300¬∞C - for "Simple ONE" & "All In ONE" hotend - beta 3950, 1%
+ *    14 : 100kŒ©  (R25), 4092K (beta25), 4.7kŒ© pull-up, bed thermistor as used in Ender-5 S1
  *    15 : 100kŒ© Calibrated for JGAurora A5 hotend
  *    18 : 200kŒ© ATC Semitec 204GT-2 Dagoma.Fr - MKS_Base_DKU001327
  *    22 : 100kŒ© GTM32 Pro vB - hotend - 4.7kŒ© pullup to 3.3V and 220Œ© to analog input

commit 9aa69cbc85c9559e2671127d6d6e4298001a6bd5
Author: plampix <plampix@users.noreply.github.com>
Date:   Tue May 2 07:01:44 2023 +0200

    Fix G12 Nozzle Clean (#25766)
    
    Followup to #25666

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 68784df5d7..9ffa5740e3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2408,9 +2408,7 @@
   // Default pattern to use when 'P' is not provided to G12. One of the enabled options above.
   #define NOZZLE_CLEAN_DEFAULT_PATTERN 0
 
-  #if ENABLED(NOZZLE_CLEAN_PATTERN_LINE)
-    #define NOZZLE_CLEAN_STROKES   12   // Default number of pattern repetitions
-  #endif
+  #define NOZZLE_CLEAN_STROKES     12   // Default number of pattern repetitions
 
   #if ENABLED(NOZZLE_CLEAN_PATTERN_ZIGZAG)
     #define NOZZLE_CLEAN_TRIANGLES  3   // Default number of triangles

commit c5a2e41647a12ef16b280975ab713e080e831e46
Author: James Pearson <jamespearson04@hotmail.co.uk>
Date:   Fri Apr 28 23:30:15 2023 +0100

    üêõ Probe behavior corrections (#25631)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>
    Co-authored-by: David Fries <2767875+dfries@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ce37a2384..68784df5d7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1725,7 +1725,7 @@
 //#define Z_CLEARANCE_FOR_HOMING  4 // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
                                     // Be sure to have this much clearance over your Z_MAX_POS to prevent grinding.
 
-//#define Z_AFTER_HOMING         10 // (mm) Height to move to after homing Z
+//#define Z_AFTER_HOMING         10 // (mm) Height to move to after homing (if Z was homed)
 
 // Direction of endstops when homing; 1=MAX, -1=MIN
 // :[-1,1]

commit a872232b15d63c73c5c5ce281e3d1dcadb47b608
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Apr 28 11:03:38 2023 -0500

    üîß Move MMU section

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 33b661e3c8..0ce37a2384 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -222,24 +222,6 @@
   //#define SINGLENOZZLE_STANDBY_FAN
 #endif
 
-// @section multi-material
-
-/**
- * Multi-Material Unit
- * Set to one of these predefined models:
- *
- *   PRUSA_MMU1           : Pr≈Ø≈°a MMU1 (The "multiplexer" version)
- *   PRUSA_MMU2           : Pr≈Ø≈°a MMU2
- *   PRUSA_MMU2S          : Pr≈Ø≈°a MMU2S (Requires MK3S extruder with motion sensor, EXTRUDERS = 5)
- *   EXTENDABLE_EMU_MMU2  : MMU with configurable number of filaments (ERCF, SMuFF or similar with Pr≈Ø≈°a MMU2 compatible firmware)
- *   EXTENDABLE_EMU_MMU2S : MMUS with configurable number of filaments (ERCF, SMuFF or similar with Pr≈Ø≈°a MMU2 compatible firmware)
- *
- * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
- * See additional options in Configuration_adv.h.
- * :["PRUSA_MMU1", "PRUSA_MMU2", "PRUSA_MMU2S", "EXTENDABLE_EMU_MMU2", "EXTENDABLE_EMU_MMU2S"]
- */
-//#define MMU_MODEL PRUSA_MMU2
-
 // A dual extruder that uses a single stepper motor
 //#define SWITCHING_EXTRUDER
 #if ENABLED(SWITCHING_EXTRUDER)
@@ -382,6 +364,24 @@
 //#define HOTEND_OFFSET_Y { 0.0, 5.00 }  // (mm) relative Y-offset for each nozzle
 //#define HOTEND_OFFSET_Z { 0.0, 0.00 }  // (mm) relative Z-offset for each nozzle
 
+// @section multi-material
+
+/**
+ * Multi-Material Unit
+ * Set to one of these predefined models:
+ *
+ *   PRUSA_MMU1           : Pr≈Ø≈°a MMU1 (The "multiplexer" version)
+ *   PRUSA_MMU2           : Pr≈Ø≈°a MMU2
+ *   PRUSA_MMU2S          : Pr≈Ø≈°a MMU2S (Requires MK3S extruder with motion sensor, EXTRUDERS = 5)
+ *   EXTENDABLE_EMU_MMU2  : MMU with configurable number of filaments (ERCF, SMuFF or similar with Pr≈Ø≈°a MMU2 compatible firmware)
+ *   EXTENDABLE_EMU_MMU2S : MMUS with configurable number of filaments (ERCF, SMuFF or similar with Pr≈Ø≈°a MMU2 compatible firmware)
+ *
+ * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
+ * See additional options in Configuration_adv.h.
+ * :["PRUSA_MMU1", "PRUSA_MMU2", "PRUSA_MMU2S", "EXTENDABLE_EMU_MMU2", "EXTENDABLE_EMU_MMU2S"]
+ */
+//#define MMU_MODEL PRUSA_MMU2
+
 // @section psu control
 
 /**

commit 467ab74523087a852ab50939d86a0ca0b78f17ad
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Apr 26 14:56:23 2023 -0500

    üßë‚Äçüíª Simplify endstops config (#25748)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1251a99a34..33b661e3c8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1087,28 +1087,6 @@
 
 // @section endstops
 
-// Specify here all the endstop connectors that are connected to any endstop or probe.
-// Almost all printers will be using one per axis. Probes will use one or more of the
-// extra connectors. Leave undefined any used for non-endstop and non-probe purposes.
-#define USE_XMIN_PLUG
-#define USE_YMIN_PLUG
-#define USE_ZMIN_PLUG
-//#define USE_IMIN_PLUG
-//#define USE_JMIN_PLUG
-//#define USE_KMIN_PLUG
-//#define USE_UMIN_PLUG
-//#define USE_VMIN_PLUG
-//#define USE_WMIN_PLUG
-//#define USE_XMAX_PLUG
-//#define USE_YMAX_PLUG
-//#define USE_ZMAX_PLUG
-//#define USE_IMAX_PLUG
-//#define USE_JMAX_PLUG
-//#define USE_KMAX_PLUG
-//#define USE_UMAX_PLUG
-//#define USE_VMAX_PLUG
-//#define USE_WMAX_PLUG
-
 // Enable pullup for all endstops to prevent a floating state
 #define ENDSTOPPULLUPS
 #if DISABLED(ENDSTOPPULLUPS)

commit 79b455575b79fb329afd2ddb9d5c2634de954e15
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Wed Apr 26 21:38:39 2023 +0200

    üîß Thermistor 100 : SoC sensor (#25745)
    
    Followup to #25642

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 047beac89c..1251a99a34 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -524,6 +524,11 @@
  *    -1 : AD595  with Thermocouple
  *
  * ================================================================
+ *  SoC internal sensor
+ * ================================================================
+ *   100 : SoC internal sensor
+ *
+ * ================================================================
  *  Custom/Dummy/Other Thermal Sensors
  * ================================================================
  *     0 : not used

commit f5a905a64121e4ff43894d295ce6990e55aa1149
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Tue Apr 25 04:51:44 2023 +0200

    ‚ú® TEMP_SENSOR_SOC (#25642)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6e2f409613..047beac89c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -432,78 +432,67 @@
 // @section temperature
 
 /**
- * --NORMAL IS 4.7kŒ© PULLUP!-- 1kŒ© pullup can be used on hotend sensor, using correct resistor and table
+ * Temperature Sensors:
  *
- * Temperature sensors available:
- *
- *  SPI RTD/Thermocouple Boards - IMPORTANT: Read the NOTE below!
- *  -------
- *    -5 : MAX31865 with Pt100/Pt1000, 2, 3, or 4-wire  (only for sensors 0-1)
- *                  NOTE: You must uncomment/set the MAX31865_*_OHMS_n defines below.
- *    -3 : MAX31855 with Thermocouple, -200¬∞C to +700¬∞C (only for sensors 0-1)
- *    -2 : MAX6675  with Thermocouple, 0¬∞C to +700¬∞C    (only for sensors 0-1)
- *
- *  NOTE: Ensure TEMP_n_CS_PIN is set in your pins file for each TEMP_SENSOR_n using an SPI Thermocouple. By default,
- *        Hardware SPI on the default serial bus is used. If you have also set TEMP_n_SCK_PIN and TEMP_n_MISO_PIN,
- *        Software SPI will be used on those ports instead. You can force Hardware SPI on the default bus in the
- *        Configuration_adv.h file. At this time, separate Hardware SPI buses for sensors are not supported.
- *
- *  Analog Themocouple Boards
- *  -------
- *    -4 : AD8495 with Thermocouple
- *    -1 : AD595  with Thermocouple
+ * NORMAL IS 4.7kŒ© PULLUP! Hotend sensors can use 1kŒ© pullup with correct resistor and table.
  *
+ * ================================================================
  *  Analog Thermistors - 4.7kŒ© pullup - Normal
- *  -------
- *     1 : 100kŒ©  EPCOS - Best choice for EPCOS thermistors
- *   331 : 100kŒ©  Same as #1, but 3.3V scaled for MEGA
- *   332 : 100kŒ©  Same as #1, but 3.3V scaled for DUE
- *     2 : 200kŒ©  ATC Semitec 204GT-2
- *   202 : 200kŒ©  Copymaster 3D
- *     3 : ???Œ©   Mendel-parts thermistor
- *     4 : 10kŒ©   Generic Thermistor !! DO NOT use for a hotend - it gives bad resolution at high temp. !!
- *     5 : 100kŒ©  ATC Semitec 104GT-2/104NT-4-R025H42G - Used in ParCan, J-Head, and E3D, SliceEngineering 300¬∞C
- *   501 : 100kŒ©  Zonestar - Tronxy X3A
- *   502 : 100kŒ©  Zonestar - used by hot bed in Zonestar Pr≈Ø≈°a P802M
- *   503 : 100kŒ©  Zonestar (Z8XM2) Heated Bed thermistor
- *   504 : 100kŒ©  Zonestar P802QR2 (Part# QWG-104F-B3950) Hotend Thermistor
- *   505 : 100kŒ©  Zonestar P802QR2 (Part# QWG-104F-3950) Bed Thermistor
- *   512 : 100kŒ©  RPW-Ultra hotend
- *     6 : 100kŒ©  EPCOS - Not as accurate as table #1 (created using a fluke thermocouple)
- *     7 : 100kŒ©  Honeywell 135-104LAG-J01
- *    71 : 100kŒ©  Honeywell 135-104LAF-J01
- *     8 : 100kŒ©  Vishay 0603 SMD NTCS0603E3104FXT
- *     9 : 100kŒ©  GE Sensing AL03006-58.2K-97-G1
- *    10 : 100kŒ©  RS PRO 198-961
- *    11 : 100kŒ©  Keenovo AC silicone mats, most Wanhao i3 machines - beta 3950, 1%
- *    12 : 100kŒ©  Vishay 0603 SMD NTCS0603E3104FXT (#8) - calibrated for Makibox hot bed
- *    13 : 100kŒ©  Hisens up to 300¬∞C - for "Simple ONE" & "All In ONE" hotend - beta 3950, 1%
- *    15 : 100kŒ©  Calibrated for JGAurora A5 hotend
- *    18 : 200kŒ©  ATC Semitec 204GT-2 Dagoma.Fr - MKS_Base_DKU001327
- *    22 : 100kŒ©  GTM32 Pro vB - hotend - 4.7kŒ© pullup to 3.3V and 220Œ© to analog input
- *    23 : 100kŒ©  GTM32 Pro vB - bed - 4.7kŒ© pullup to 3.3v and 220Œ© to analog input
- *    30 : 100kŒ©  Kis3d Silicone heating mat 200W/300W with 6mm precision cast plate (EN AW 5083) NTC100K - beta 3950
- *    60 : 100kŒ©  Maker's Tool Works Kapton Bed Thermistor - beta 3950
- *    61 : 100kŒ©  Formbot/Vivedino 350¬∞C Thermistor - beta 3950
- *    66 : 4.7MŒ©  Dyze Design / Trianglelab T-D500 500¬∞C High Temperature Thermistor
- *    67 : 500kŒ©  SliceEngineering 450¬∞C Thermistor
- *    68 : PT100 amplifier board from Dyze Design
- *    70 : 100kŒ©  bq Hephestos 2
- *    75 : 100kŒ©  Generic Silicon Heat Pad with NTC100K MGB18-104F39050L32
- *  2000 : 100kŒ©  Ultimachine Rambo TDK NTCG104LH104KT1 NTC100K motherboard Thermistor
- *
- *  Analog Thermistors - 1kŒ© pullup - Atypical, and requires changing out the 4.7kŒ© pullup for 1kŒ©.
- *  -------                           (but gives greater accuracy and more stable PID)
- *    51 : 100kŒ©  EPCOS (1kŒ© pullup)
- *    52 : 200kŒ©  ATC Semitec 204GT-2 (1kŒ© pullup)
- *    55 : 100kŒ©  ATC Semitec 104GT-2 - Used in ParCan & J-Head (1kŒ© pullup)
- *
+ * ================================================================
+ *     1 : 100kŒ© EPCOS - Best choice for EPCOS thermistors
+ *   331 : 100kŒ© Same as #1, but 3.3V scaled for MEGA
+ *   332 : 100kŒ© Same as #1, but 3.3V scaled for DUE
+ *     2 : 200kŒ© ATC Semitec 204GT-2
+ *   202 : 200kŒ© Copymaster 3D
+ *     3 : ???Œ©  Mendel-parts thermistor
+ *     4 : 10kŒ©  Generic Thermistor !! DO NOT use for a hotend - it gives bad resolution at high temp. !!
+ *     5 : 100kŒ© ATC Semitec 104GT-2/104NT-4-R025H42G - Used in ParCan, J-Head, and E3D, SliceEngineering 300¬∞C
+ *   501 : 100kŒ© Zonestar - Tronxy X3A
+ *   502 : 100kŒ© Zonestar - used by hot bed in Zonestar Pr≈Ø≈°a P802M
+ *   503 : 100kŒ© Zonestar (Z8XM2) Heated Bed thermistor
+ *   504 : 100kŒ© Zonestar P802QR2 (Part# QWG-104F-B3950) Hotend Thermistor
+ *   505 : 100kŒ© Zonestar P802QR2 (Part# QWG-104F-3950) Bed Thermistor
+ *   512 : 100kŒ© RPW-Ultra hotend
+ *     6 : 100kŒ© EPCOS - Not as accurate as table #1 (created using a fluke thermocouple)
+ *     7 : 100kŒ© Honeywell 135-104LAG-J01
+ *    71 : 100kŒ© Honeywell 135-104LAF-J01
+ *     8 : 100kŒ© Vishay 0603 SMD NTCS0603E3104FXT
+ *     9 : 100kŒ© GE Sensing AL03006-58.2K-97-G1
+ *    10 : 100kŒ© RS PRO 198-961
+ *    11 : 100kŒ© Keenovo AC silicone mats, most Wanhao i3 machines - beta 3950, 1%
+ *    12 : 100kŒ© Vishay 0603 SMD NTCS0603E3104FXT (#8) - calibrated for Makibox hot bed
+ *    13 : 100kŒ© Hisens up to 300¬∞C - for "Simple ONE" & "All In ONE" hotend - beta 3950, 1%
+ *    15 : 100kŒ© Calibrated for JGAurora A5 hotend
+ *    18 : 200kŒ© ATC Semitec 204GT-2 Dagoma.Fr - MKS_Base_DKU001327
+ *    22 : 100kŒ© GTM32 Pro vB - hotend - 4.7kŒ© pullup to 3.3V and 220Œ© to analog input
+ *    23 : 100kŒ© GTM32 Pro vB - bed - 4.7kŒ© pullup to 3.3v and 220Œ© to analog input
+ *    30 : 100kŒ© Kis3d Silicone heating mat 200W/300W with 6mm precision cast plate (EN AW 5083) NTC100K - beta 3950
+ *    60 : 100kŒ© Maker's Tool Works Kapton Bed Thermistor - beta 3950
+ *    61 : 100kŒ© Formbot/Vivedino 350¬∞C Thermistor - beta 3950
+ *    66 : 4.7MŒ© Dyze Design / Trianglelab T-D500 500¬∞C High Temperature Thermistor
+ *    67 : 500kŒ© SliceEngineering 450¬∞C Thermistor
+ *    68 : PT100 Smplifier board from Dyze Design
+ *    70 : 100kŒ© bq Hephestos 2
+ *    75 : 100kŒ© Generic Silicon Heat Pad with NTC100K MGB18-104F39050L32
+ *  2000 : 100kŒ© Ultimachine Rambo TDK NTCG104LH104KT1 NTC100K motherboard Thermistor
+ *
+ * ================================================================
+ *  Analog Thermistors - 1kŒ© pullup
+ *   Atypical, and requires changing out the 4.7kŒ© pullup for 1kŒ©.
+ *   (but gives greater accuracy and more stable PID)
+ * ================================================================
+ *    51 : 100kŒ© EPCOS (1kŒ© pullup)
+ *    52 : 200kŒ© ATC Semitec 204GT-2 (1kŒ© pullup)
+ *    55 : 100kŒ© ATC Semitec 104GT-2 - Used in ParCan & J-Head (1kŒ© pullup)
+ *
+ * ================================================================
  *  Analog Thermistors - 10kŒ© pullup - Atypical
- *  -------
- *    99 : 100kŒ©  Found on some Wanhao i3 machines with a 10kŒ© pull-up resistor
+ * ================================================================
+ *    99 : 100kŒ© Found on some Wanhao i3 machines with a 10kŒ© pull-up resistor
  *
+ * ================================================================
  *  Analog RTDs (Pt100/Pt1000)
- *  -------
+ * ================================================================
  *   110 : Pt100  with 1kŒ© pullup (atypical)
  *   147 : Pt100  with 4.7kŒ© pullup
  *  1010 : Pt1000 with 1kŒ© pullup (atypical)
@@ -515,15 +504,34 @@
  *                NOTE: ADC pins are not 5V tolerant. Not recommended because it's possible to damage the CPU by going over 500¬∞C.
  *   201 : Pt100  with circuit in Overlord, similar to Ultimainboard V2.x
  *
+ * ================================================================
+ *  SPI RTD/Thermocouple Boards
+ * ================================================================
+ *    -5 : MAX31865 with Pt100/Pt1000, 2, 3, or 4-wire  (only for sensors 0-1)
+ *                  NOTE: You must uncomment/set the MAX31865_*_OHMS_n defines below.
+ *    -3 : MAX31855 with Thermocouple, -200¬∞C to +700¬∞C (only for sensors 0-1)
+ *    -2 : MAX6675  with Thermocouple, 0¬∞C to +700¬∞C    (only for sensors 0-1)
+ *
+ *  NOTE: Ensure TEMP_n_CS_PIN is set in your pins file for each TEMP_SENSOR_n using an SPI Thermocouple. By default,
+ *        Hardware SPI on the default serial bus is used. If you have also set TEMP_n_SCK_PIN and TEMP_n_MISO_PIN,
+ *        Software SPI will be used on those ports instead. You can force Hardware SPI on the default bus in the
+ *        Configuration_adv.h file. At this time, separate Hardware SPI buses for sensors are not supported.
+ *
+ * ================================================================
+ *  Analog Thermocouple Boards
+ * ================================================================
+ *    -4 : AD8495 with Thermocouple
+ *    -1 : AD595  with Thermocouple
+ *
+ * ================================================================
  *  Custom/Dummy/Other Thermal Sensors
- *  ------
+ * ================================================================
  *     0 : not used
  *  1000 : Custom - Specify parameters in Configuration_adv.h
  *
  *   !!! Use these for Testing or Development purposes. NEVER for production machine. !!!
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
- *
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
@@ -538,6 +546,7 @@
 #define TEMP_SENSOR_CHAMBER 0
 #define TEMP_SENSOR_COOLER 0
 #define TEMP_SENSOR_BOARD 0
+#define TEMP_SENSOR_SOC 0
 #define TEMP_SENSOR_REDUNDANT 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999

commit df4f80622eb262fe39cc898e0237257b2870aa7f
Author: plampix <plampix@users.noreply.github.com>
Date:   Mon Apr 24 01:12:47 2023 +0200

    ‚ú® NOZZLE_CLEAN_PATTERN_* (#25666)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 19407b6158..6e2f409613 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2409,23 +2409,31 @@
 //#define NOZZLE_CLEAN_FEATURE
 
 #if ENABLED(NOZZLE_CLEAN_FEATURE)
-  // Default number of pattern repetitions
-  #define NOZZLE_CLEAN_STROKES  12
+  #define NOZZLE_CLEAN_PATTERN_LINE     // Provide 'G12 P0' - a simple linear cleaning pattern
+  #define NOZZLE_CLEAN_PATTERN_ZIGZAG   // Provide 'G12 P1' - a zigzag cleaning pattern
+  #define NOZZLE_CLEAN_PATTERN_CIRCLE   // Provide 'G12 P2' - a circular cleaning pattern
 
-  // Default number of triangles
-  #define NOZZLE_CLEAN_TRIANGLES  3
+  // Default pattern to use when 'P' is not provided to G12. One of the enabled options above.
+  #define NOZZLE_CLEAN_DEFAULT_PATTERN 0
+
+  #if ENABLED(NOZZLE_CLEAN_PATTERN_LINE)
+    #define NOZZLE_CLEAN_STROKES   12   // Default number of pattern repetitions
+  #endif
+
+  #if ENABLED(NOZZLE_CLEAN_PATTERN_ZIGZAG)
+    #define NOZZLE_CLEAN_TRIANGLES  3   // Default number of triangles
+  #endif
 
   // Specify positions for each tool as { { X, Y, Z }, { X, Y, Z } }
   // Dual hotend system may use { {  -20, (Y_BED_SIZE / 2), (Z_MIN_POS + 1) },  {  420, (Y_BED_SIZE / 2), (Z_MIN_POS + 1) }}
   #define NOZZLE_CLEAN_START_POINT { {  30, 30, (Z_MIN_POS + 1) } }
   #define NOZZLE_CLEAN_END_POINT   { { 100, 60, (Z_MIN_POS + 1) } }
 
-  // Circular pattern radius
-  #define NOZZLE_CLEAN_CIRCLE_RADIUS 6.5
-  // Circular pattern circle fragments number
-  #define NOZZLE_CLEAN_CIRCLE_FN 10
-  // Middle point of circle
-  #define NOZZLE_CLEAN_CIRCLE_MIDDLE NOZZLE_CLEAN_START_POINT
+  #if ENABLED(NOZZLE_CLEAN_PATTERN_CIRCLE)
+    #define NOZZLE_CLEAN_CIRCLE_RADIUS 6.5                      // (mm) Circular pattern radius
+    #define NOZZLE_CLEAN_CIRCLE_FN 10                           // Circular pattern circle number of segments
+    #define NOZZLE_CLEAN_CIRCLE_MIDDLE NOZZLE_CLEAN_START_POINT // Middle point of circle
+  #endif
 
   // Move the nozzle to the initial position after cleaning
   #define NOZZLE_CLEAN_GOBACK

commit c8c5ab22ce242b93632a7e2b9f855bbaf38b557f
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Apr 17 19:29:53 2023 -0500

    üßë‚Äçüíª Gather Z clearances (#25701)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9844b44e10..19407b6158 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1402,7 +1402,7 @@
  * on the right, enable and set TOUCH_MI_DEPLOY_XPOS to the deploy position.
  *
  * Also requires: BABYSTEPPING, BABYSTEP_ZPROBE_OFFSET, Z_SAFE_HOMING,
- *                and a minimum Z_HOMING_HEIGHT of 10.
+ *                and a minimum Z_CLEARANCE_FOR_HOMING of 10.
  */
 //#define TOUCH_MI_PROBE
 #if ENABLED(TOUCH_MI_PROBE)
@@ -1730,10 +1730,10 @@
  */
 //#define Z_IDLE_HEIGHT Z_HOME_POS
 
-//#define Z_HOMING_HEIGHT  4      // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
-                                  // Be sure to have this much clearance over your Z_MAX_POS to prevent grinding.
+//#define Z_CLEARANCE_FOR_HOMING  4 // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
+                                    // Be sure to have this much clearance over your Z_MAX_POS to prevent grinding.
 
-//#define Z_AFTER_HOMING  10      // (mm) Height to move to after homing Z
+//#define Z_AFTER_HOMING         10 // (mm) Height to move to after homing Z
 
 // Direction of endstops when homing; 1=MAX, -1=MIN
 // :[-1,1]

commit 42c62ff84e9e5322daa61ac2e582414d0304acc8
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Apr 15 17:33:56 2023 -0500

    ‚ú® STARTUP_TUNE configuration

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 81591597b2..9844b44e10 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2681,6 +2681,18 @@
 //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 2
 //#define LCD_FEEDBACK_FREQUENCY_HZ 5000
 
+//
+// Tone queue size, used to keep beeps from blocking execution.
+// Default is 4, or override here. Costs 4 bytes of SRAM per entry.
+//
+//#define TONE_QUEUE_LENGTH 4
+
+//
+// A sequence of tones to play at startup, in pairs of tone (Hz), duration (ms).
+// Silence in-between tones.
+//
+//#define STARTUP_TUNE { 698, 300, 0, 50, 523, 50, 0, 25, 494, 50, 0, 25, 523, 100, 0, 50, 554, 300, 0, 100, 523, 300 }
+
 //=============================================================================
 //======================== LCD / Controller Selection =========================
 //========================   (Character-based LCDs)   =========================

commit 832f769b4614c60b6088f1fde63995e26ee76dcc
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Apr 10 23:22:30 2023 -0500

    üìù Describe G34, spellcheck

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4fa07c0871..81591597b2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2519,7 +2519,7 @@
   #define PASSWORD_ON_STARTUP
   #define PASSWORD_UNLOCK_GCODE             // Unlock with the M511 P<password> command. Disable to prevent brute-force attack.
   #define PASSWORD_CHANGE_GCODE             // Change the password with M512 P<old> S<new>.
-  //#define PASSWORD_ON_SD_PRINT_MENU       // This does not prevent gcodes from running
+  //#define PASSWORD_ON_SD_PRINT_MENU       // This does not prevent G-codes from running
   //#define PASSWORD_AFTER_SD_PRINT_END
   //#define PASSWORD_AFTER_SD_PRINT_ABORT
   //#include "Configuration_Secure.h"       // External file with PASSWORD_DEFAULT_VALUE
@@ -3268,9 +3268,9 @@
   /**
    * TFT Font for Color_UI. Choose one of the following:
    *
-   * NOTOSANS  - Default font with antialiasing. Supports Latin Extended and non-Latin characters.
-   * UNIFONT   - Lightweight font, no antialiasing. Supports Latin Extended and non-Latin characters.
-   * HELVETICA - Lightweight font, no antialiasing. Supports Basic Latin (0x0020-0x007F) and Latin-1 Supplement (0x0080-0x00FF) characters only.
+   * NOTOSANS  - Default font with anti-aliasing. Supports Latin Extended and non-Latin characters.
+   * UNIFONT   - Lightweight font, no anti-aliasing. Supports Latin Extended and non-Latin characters.
+   * HELVETICA - Lightweight font, no anti-aliasing. Supports Basic Latin (0x0020-0x007F) and Latin-1 Supplement (0x0080-0x00FF) characters only.
    */
   #define TFT_FONT  NOTOSANS
 

commit 7e700c13948506ab0fc57719c7c1bd35f0cb33c4
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Apr 5 13:54:09 2023 -0500

    üîß Move DOGLCD options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d36ceab491..4fa07c0871 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -63,26 +63,6 @@
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
 //#define CUSTOM_VERSION_FILE Version.h // Path from the root directory (no quotes)
 
-/**
- * *** VENDORS PLEASE READ ***
- *
- * Marlin allows you to add a custom boot image for Graphical LCDs.
- * With this option Marlin will first show your custom screen followed
- * by the standard Marlin logo with version number and web URL.
- *
- * We encourage you to take advantage of this new feature and we also
- * respectfully request that you retain the unmodified Marlin boot screen.
- */
-
-// Show the Marlin bootscreen on startup. ** ENABLE FOR PRODUCTION **
-#define SHOW_BOOTSCREEN
-
-// Show the bitmap in Marlin/_Bootscreen.h on startup.
-//#define SHOW_CUSTOM_BOOTSCREEN
-
-// Show the bitmap in Marlin/_Statusscreen.h on the status screen.
-//#define CUSTOM_STATUS_SCREEN_IMAGE
-
 // @section machine
 
 // Choose the name from boards.h that matches your setup

commit 20e23050117287dafa6e5b16b6253b3d7629020d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 31 00:33:31 2023 -0500

    üîß  DGUS_LCD_UI selectable options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 475f662ca5..d36ceab491 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3111,6 +3111,8 @@
  *  - Download files as specified for your type of display.
  *  - Plug the microSD card into the back of the display.
  *  - Boot the display and wait for the update to complete.
+ *
+ * :[ 'ORIGIN', 'FYSETC', 'HYPRECY', 'MKS', 'RELOADED', 'IA_CREALITY' ]
  */
 //#define DGUS_LCD_UI ORIGIN
 #if DGUS_UI_IS(MKS)

commit e0132f7a1ec256ffe07d44c181fe1f2a799fd109
Author: Alexander Gavrilenko <jmz52@users.noreply.github.com>
Date:   Mon Mar 27 21:17:02 2023 +0300

    ‚ö°Ô∏è Improve TFT DMA for STM32 (#25359)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2f4b18a210..475f662ca5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3292,11 +3292,11 @@
    */
   #define TFT_FONT  NOTOSANS
 
-  //#define TFT_SHARED_SPI   // SPI is shared between TFT display and other devices. Disable async data transfer
+  //#define TFT_SHARED_IO   // I/O is shared between TFT display and other devices. Disable async data transfer.
 #endif
 
 #if ENABLED(TFT_LVGL_UI)
-  //#define MKS_WIFI_MODULE  // MKS WiFi module
+  //#define MKS_WIFI_MODULE // MKS WiFi module
 #endif
 
 /**

commit 61f22f34d32ca33d99233eb5b242e52c23aabb23
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Mar 26 17:24:40 2023 -0500

    üîß Clarify axis disable / timeout (#25571)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7f6e7daed5..2f4b18a210 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1710,8 +1710,8 @@
 
 // @section extruder
 
-//#define DISABLE_E                 // Disable the extruder when not stepping
-#define DISABLE_INACTIVE_EXTRUDER   // Keep only the active extruder enabled
+//#define DISABLE_E               // Disable the extruder when not stepping
+#define DISABLE_OTHER_EXTRUDERS   // Keep only the active extruder enabled
 
 // @section motion
 

commit 0021a58943721a81b1ef23fa5e7366cfd80a3d28
Author: Bob Kuhn <bob.kuhn@att.net>
Date:   Sun Mar 26 04:07:25 2023 -0500

    ‚ú® AnyCubic Vyper / Vyper LCD (#25405)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index becad3f2f0..7f6e7daed5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3132,15 +3132,23 @@
 //#define TOUCH_UI_FTDI_EVE
 
 //
-// Touch-screen LCD for Anycubic printers
+// Touch-screen LCD for Anycubic Chiron
 //
-//#define ANYCUBIC_LCD_I3MEGA
 //#define ANYCUBIC_LCD_CHIRON
-#if EITHER(ANYCUBIC_LCD_I3MEGA, ANYCUBIC_LCD_CHIRON)
-  //#define ANYCUBIC_LCD_DEBUG
+
+//
+// Touch-screen LCD for Anycubic i3 Mega
+//
+//#define ANYCUBIC_LCD_I3MEGA
+#if ENABLED(ANYCUBIC_LCD_I3MEGA)
   //#define ANYCUBIC_LCD_GCODE_EXT  // Add ".gcode" to menu entries for DGUS clone compatibility
 #endif
 
+//
+// Touch-screen LCD for Anycubic Vyper
+//
+//#define ANYCUBIC_LCD_VYPER
+
 //
 // 320x240 Nextion 2.8" serial TFT Resistive Touch Screen NX3224T028
 //

commit ea5d7e2eee641122ddf56705f6c9060d84a20df3
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Mar 26 04:00:12 2023 -0500

    üîß Refactor endstop state config (#25574)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9544ac5566..becad3f2f0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1165,26 +1165,29 @@
   //#define ENDSTOPPULLDOWN_ZMIN_PROBE
 #endif
 
-// Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
-#define X_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Y_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Z_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define I_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define J_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define K_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define U_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define V_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define W_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define X_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Y_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Z_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define I_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define J_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define K_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define U_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define V_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define W_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Z_MIN_PROBE_ENDSTOP_INVERTING false // Set to true to invert the logic of the probe.
+/**
+ * Endstop "Hit" State
+ * Set to the state (HIGH or LOW) that applies to each endstop.
+ */
+#define X_MIN_ENDSTOP_HIT_STATE HIGH
+#define X_MAX_ENDSTOP_HIT_STATE HIGH
+#define Y_MIN_ENDSTOP_HIT_STATE HIGH
+#define Y_MAX_ENDSTOP_HIT_STATE HIGH
+#define Z_MIN_ENDSTOP_HIT_STATE HIGH
+#define Z_MAX_ENDSTOP_HIT_STATE HIGH
+#define I_MIN_ENDSTOP_HIT_STATE HIGH
+#define I_MAX_ENDSTOP_HIT_STATE HIGH
+#define J_MIN_ENDSTOP_HIT_STATE HIGH
+#define J_MAX_ENDSTOP_HIT_STATE HIGH
+#define K_MIN_ENDSTOP_HIT_STATE HIGH
+#define K_MAX_ENDSTOP_HIT_STATE HIGH
+#define U_MIN_ENDSTOP_HIT_STATE HIGH
+#define U_MAX_ENDSTOP_HIT_STATE HIGH
+#define V_MIN_ENDSTOP_HIT_STATE HIGH
+#define V_MAX_ENDSTOP_HIT_STATE HIGH
+#define W_MIN_ENDSTOP_HIT_STATE HIGH
+#define W_MAX_ENDSTOP_HIT_STATE HIGH
+#define Z_MIN_PROBE_ENDSTOP_HIT_STATE HIGH
 
 // Enable this feature if all enabled endstop pins are interrupt-capable.
 // This will remove the need to poll the interrupt pins, saving many CPU cycles.

commit 2ecd4cca1b694223802a53d5a7febaac4c4573b6
Author: BIGTREETECH <38851044+bigtreetech@users.noreply.github.com>
Date:   Wed Mar 22 15:46:03 2023 +0800

    ‚ú® FILAMENT_SWITCH_AND_MOTION (#25548)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2603999bd5..9544ac5566 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1903,6 +1903,47 @@
     // as the filament moves. (Be sure to set FILAMENT_RUNOUT_DISTANCE_MM
     // large enough to avoid false positives.)
     //#define FILAMENT_MOTION_SENSOR
+
+    #if ENABLED(FILAMENT_MOTION_SENSOR)
+      //#define FILAMENT_SWITCH_AND_MOTION
+      #if ENABLED(FILAMENT_SWITCH_AND_MOTION)
+        #define NUM_MOTION_SENSORS   1          // Number of sensors, up to one per extruder. Define a FIL_MOTION#_PIN for each.
+        //#define FIL_MOTION1_PIN    -1
+
+        // Override individually if the motion sensors vary
+        //#define FIL_MOTION1_STATE LOW
+        //#define FIL_MOTION1_PULLUP
+        //#define FIL_MOTION1_PULLDOWN
+
+        //#define FIL_MOTION2_STATE LOW
+        //#define FIL_MOTION2_PULLUP
+        //#define FIL_MOTION2_PULLDOWN
+
+        //#define FIL_MOTION3_STATE LOW
+        //#define FIL_MOTION3_PULLUP
+        //#define FIL_MOTION3_PULLDOWN
+
+        //#define FIL_MOTION4_STATE LOW
+        //#define FIL_MOTION4_PULLUP
+        //#define FIL_MOTION4_PULLDOWN
+
+        //#define FIL_MOTION5_STATE LOW
+        //#define FIL_MOTION5_PULLUP
+        //#define FIL_MOTION5_PULLDOWN
+
+        //#define FIL_MOTION6_STATE LOW
+        //#define FIL_MOTION6_PULLUP
+        //#define FIL_MOTION6_PULLDOWN
+
+        //#define FIL_MOTION7_STATE LOW
+        //#define FIL_MOTION7_PULLUP
+        //#define FIL_MOTION7_PULLDOWN
+
+        //#define FIL_MOTION8_STATE LOW
+        //#define FIL_MOTION8_PULLUP
+        //#define FIL_MOTION8_PULLDOWN
+      #endif
+    #endif
   #endif
 #endif
 

commit 06cfd9c54af1537adf458a719b840cd501395278
Author: John Lagonikas <39417467+zeleps@users.noreply.github.com>
Date:   Wed Mar 22 02:15:51 2023 +0200

    ‚ú® PROBING_TOOL (#24411)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b96837d50c..2603999bd5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1552,6 +1552,12 @@
  */
 #define NOZZLE_TO_PROBE_OFFSET { 10, 10, 0 }
 
+// Enable and set to use a specific tool for probing. Disable to allow any tool.
+#define PROBING_TOOL 0
+#ifdef PROBING_TOOL
+  //#define PROBE_TOOLCHANGE_NO_MOVE  // Suppress motion on probe tool-change
+#endif
+
 // Most probes should stay away from the edges of the bed, but
 // with NOZZLE_AS_PROBE this can be negative for a wider probing area.
 #define PROBING_MARGIN 10

commit fd36e69bd23b60ef8edb0848f219a5ca65dae181
Author: FilippoR <filippo.rossoni@gmail.com>
Date:   Sun Mar 19 09:55:34 2023 +0100

    ‚ú® Z_SERVO_DEACTIVATE_AFTER_STOW (#24215)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 82b107ae44..b96837d50c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1387,10 +1387,13 @@
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.
  */
-//#define Z_PROBE_SERVO_NR 0          // Defaults to SERVO 0 connector.
-//#define Z_SERVO_ANGLES { 70, 0 }    // Z Servo Deploy and Stow angles
-//#define Z_SERVO_MEASURE_ANGLE 45    // Use if the servo must move to a "free" position for measuring after deploy.
-//#define Z_SERVO_INTERMEDIATE_STOW   // Stow the probe between points.
+//#define Z_PROBE_SERVO_NR 0
+#ifdef Z_PROBE_SERVO_NR
+  //#define Z_SERVO_ANGLES { 70, 0 }      // Z Servo Deploy and Stow angles
+  //#define Z_SERVO_MEASURE_ANGLE 45      // Use if the servo must move to a "free" position for measuring after deploy
+  //#define Z_SERVO_INTERMEDIATE_STOW     // Stow the probe between points
+  //#define Z_SERVO_DEACTIVATE_AFTER_STOW // Deactivate the servo when probe is stowed
+#endif
 
 /**
  * The BLTouch probe uses a Hall effect sensor and emulates a servo.

commit b5836b243ac9321841daa9380d55b298375aaa2e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 17 20:12:36 2023 -0500

    üîß Optional MPC_AUTOTUNE to save 5.5 - 5.8KB

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4d6f64e874..82b107ae44 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -691,6 +691,7 @@
  * @section mpctemp
  */
 #if ENABLED(MPCTEMP)
+  //#define MPC_AUTOTUNE                              // Include a method to do MPC auto-tuning (~5664-5882 bytes of flash)
   //#define MPC_EDIT_MENU                             // Add MPC editing to the "Advanced Settings" menu. (~1300 bytes of flash)
   //#define MPC_AUTOTUNE_MENU                         // Add MPC auto-tuning to the "Advanced Settings" menu. (~350 bytes of flash)
 

commit 89e8257008507821543af8811ab78ef0365b2741
Author: jamespearson04 <jamespearson04@hotmail.co.uk>
Date:   Fri Mar 17 01:06:55 2023 +0000

    üö∏ Refinements for UBL G29 J (tilt mesh) (#25486)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 40f4fe4cbd..4d6f64e874 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2054,6 +2054,9 @@
 
   //#define UBL_HILBERT_CURVE       // Use Hilbert distribution for less travel when probing multiple points
 
+  //#define UBL_TILT_ON_MESH_POINTS         // Use nearest mesh points with G29 J for better Z reference
+  //#define UBL_TILT_ON_MESH_POINTS_3POINT  // Use nearest mesh points with G29 J0 (3-point)
+
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
   #define UBL_SAVE_ACTIVE_ON_M500   // Save the currently active mesh in the current slot on M500
 

commit 41b3409ba86d5f6e0826cdf577253a801b9be1c1
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Thu Mar 16 18:42:52 2023 +1300

    üîß Safer default for Z_MIN_PROBE_PIN override (#25524)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b57c66a9a8..40f4fe4cbd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1345,19 +1345,17 @@
 /**
  * Z_MIN_PROBE_PIN
  *
- * Define this pin if the probe is not connected to Z_MIN_PIN.
- * If not defined the default pin for the selected MOTHERBOARD
- * will be used. Most of the time the default is what you want.
+ * Override this pin only if the probe cannot be connected to
+ * the default Z_MIN_PROBE_PIN for the selected MOTHERBOARD.
  *
  *  - The simplest option is to use a free endstop connector.
  *  - Use 5V for powered (usually inductive) sensors.
  *
- *  - RAMPS 1.3/1.4 boards may use the 5V, GND, and Aux4->D32 pin:
- *    - For simple switches connect...
- *      - normally-closed switches to GND and D32.
- *      - normally-open switches to 5V and D32.
+ *  - For simple switches...
+ *    - Normally-closed (NC) also connect to GND.
+ *    - Normally-open (NO) also connect to 5V.
  */
-//#define Z_MIN_PROBE_PIN 32 // Pin 32 is the RAMPS default
+//#define Z_MIN_PROBE_PIN -1
 
 /**
  * Probe Type

commit 10983d0cfe3e353ba465cfcadf8aeb51327f1197
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Mar 15 00:29:37 2023 -0500

    üé® Misc. tramming menu cleanup (#25519)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d66870949f..b57c66a9a8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2114,8 +2114,8 @@
 
 #if ENABLED(LCD_BED_TRAMMING)
   #define BED_TRAMMING_INSET_LFRB { 30, 30, 30, 30 } // (mm) Left, Front, Right, Back insets
-  #define BED_TRAMMING_HEIGHT      0.0        // (mm) Z height of nozzle at leveling points
-  #define BED_TRAMMING_Z_HOP       4.0        // (mm) Z height of nozzle between leveling points
+  #define BED_TRAMMING_HEIGHT      0.0        // (mm) Z height of nozzle at tramming points
+  #define BED_TRAMMING_Z_HOP       4.0        // (mm) Z height of nozzle between tramming points
   //#define BED_TRAMMING_INCLUDE_CENTER       // Move to the center after the last corner
   //#define BED_TRAMMING_USE_PROBE
   #if ENABLED(BED_TRAMMING_USE_PROBE)

commit 1cf85196b660795d00160ea6d83dbbdaffb290b5
Author: Davide Rombol√† <davide.rombola@gmail.com>
Date:   Wed Mar 15 00:54:24 2023 +0100

    ü©π Fix IA_CREALITY float, startup (#25493)
    
    Followup to #25440

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 111aa18d5d..d66870949f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3061,7 +3061,8 @@
 #if DGUS_UI_IS(MKS)
   #define USE_MKS_GREEN_UI
 #elif DGUS_UI_IS(IA_CREALITY)
-  //#define LCD_SCREEN_ROTATE 90 // Portrait Mode or 800x480 displays
+  //#define LCD_SCREEN_ROTATE 90          // Portrait Mode or 800x480 displays
+  //#define IA_CREALITY_BOOT_DELAY 1500   // (ms)
 #endif
 
 //

commit 9039e99df1b95f6a352fb1b2ae27f893b091cfe7
Author: Neo2003 <Neo2003@users.noreply.github.com>
Date:   Mon Mar 13 22:55:03 2023 +0100

    üì∫ DGUS_RELOADED 1.03 (#25490)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b90555cec..111aa18d5d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3044,7 +3044,7 @@
  *  - Product: https://www.aliexpress.com/item/1005002008179262.html
  *
  * RELOADED (T5UID1)
- *  - Download https://github.com/Desuuuu/DGUS-reloaded/releases
+ *  - Download https://github.com/Neo2003/DGUS-reloaded/releases
  *  - Copy the downloaded DWIN_SET folder to the SD card.
  *
  * IA_CREALITY (T5UID1)

commit 904ddf8551149e7de1af25456fc41d069f2f2ac4
Author: Evgeniy Zhabotinskiy <evg-zhabotinsky@users.noreply.github.com>
Date:   Fri Mar 10 03:56:19 2023 +0300

    ‚ú® Z_SAFE_HOMING_POINT_ABSOLUTE (#23069)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 77f1908901..3b90555cec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2179,6 +2179,7 @@
 #if ENABLED(Z_SAFE_HOMING)
   #define Z_SAFE_HOMING_X_POINT X_CENTER  // X point for Z homing
   #define Z_SAFE_HOMING_Y_POINT Y_CENTER  // Y point for Z homing
+  //#define Z_SAFE_HOMING_POINT_ABSOLUTE  // Ignore home offsets (M206) for Z homing position
 #endif
 
 // Homing speeds (linear=mm/min, rotational=¬∞/min)

commit db5ff20b72c8769865f1f7a23d3ce5074b0c997e
Author: Kurt Haenen <Misterke@users.noreply.github.com>
Date:   Thu Mar 9 07:20:30 2023 +0100

    ‚ú® Extra Z Servo Probe options (#21427)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 54a895712d..77f1908901 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1388,8 +1388,10 @@
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.
  */
-//#define Z_PROBE_SERVO_NR 0       // Defaults to SERVO 0 connector.
-//#define Z_SERVO_ANGLES { 70, 0 } // Z Servo Deploy and Stow angles
+//#define Z_PROBE_SERVO_NR 0          // Defaults to SERVO 0 connector.
+//#define Z_SERVO_ANGLES { 70, 0 }    // Z Servo Deploy and Stow angles
+//#define Z_SERVO_MEASURE_ANGLE 45    // Use if the servo must move to a "free" position for measuring after deploy.
+//#define Z_SERVO_INTERMEDIATE_STOW   // Stow the probe between points.
 
 /**
  * The BLTouch probe uses a Hall effect sensor and emulates a servo.

commit e977232735abd759678e8665759dbc214df88202
Author: EvilGremlin <22657714+EvilGremlin@users.noreply.github.com>
Date:   Sat Mar 4 05:43:20 2023 +0300

    ‚ú® Switching extruder/nozzle without servo (e.g., Dondolo) (#24553)
    
    Co-authored-by: Anson Liu <ansonl@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a83c5822ef..54a895712d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -270,7 +270,13 @@
   #endif
 #endif
 
-// A dual-nozzle that uses a servomotor to raise/lower one (or both) of the nozzles
+// Switch extruders by bumping the toolhead. Requires EVENT_GCODE_TOOLCHANGE_#.
+//#define MECHANICAL_SWITCHING_EXTRUDER
+
+/**
+ * A dual-nozzle that uses a servomotor to raise/lower one (or both) of the nozzles.
+ * Can be combined with SWITCHING_EXTRUDER.
+ */
 //#define SWITCHING_NOZZLE
 #if ENABLED(SWITCHING_NOZZLE)
   #define SWITCHING_NOZZLE_SERVO_NR 0
@@ -279,6 +285,9 @@
   #define SWITCHING_NOZZLE_SERVO_DWELL 2500         // Dwell time to wait for servo to make physical move
 #endif
 
+// Switch nozzles by bumping the toolhead. Requires EVENT_GCODE_TOOLCHANGE_#.
+//#define MECHANICAL_SWITCHING_NOZZLE
+
 /**
  * Two separate X-carriages with extruders that connect to a moving part
  * via a solenoid docking mechanism. Requires SOL1_PIN and SOL2_PIN.

commit 13eab74fb8097f9604e5089f9cd2f30183d11f26
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 3 14:22:21 2023 -0600

    ‚ôªÔ∏è Stepper options followup
    
    Followup to #25422

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7503fd82da..a83c5822ef 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1688,7 +1688,7 @@
 
 // @section extruder
 
-#define DISABLE_E false             // Disable the extruder when not stepping
+//#define DISABLE_E                 // Disable the extruder when not stepping
 #define DISABLE_INACTIVE_EXTRUDER   // Keep only the active extruder enabled
 
 // @section motion

commit 866e7d3128a7c526a76b8826df70b3769177385d
Author: Daranbalt4 <119883952+Daranbalt4@users.noreply.github.com>
Date:   Mon Feb 27 04:23:52 2023 +0100

    ‚ú® LCD_BACKLIGHT_TIMEOUT for Neopixel LCD (#25438)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f780bdd243..7503fd82da 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3403,7 +3403,8 @@
   // Use some of the NeoPixel LEDs for static (background) lighting
   //#define NEOPIXEL_BKGD_INDEX_FIRST   0 // Index of the first background LED
   //#define NEOPIXEL_BKGD_INDEX_LAST    5 // Index of the last background LED
-  //#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 }  // R, G, B, W
+  //#define NEOPIXEL_BKGD_COLOR         { 255, 255, 255, 0 }  // R, G, B, W
+  //#define NEOPIXEL_BKGD_TIMEOUT_COLOR {  25,  25,  25, 0 }  // R, G, B, W
   //#define NEOPIXEL_BKGD_ALWAYS_ON       // Keep the backlight on when other NeoPixels are off
 #endif
 

commit db904f1895d27c0e97dc066074367566406ee3e7
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Mon Feb 27 15:27:58 2023 +1300

    üìù Link to archived RA Control Panel page (#25424)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e9c175a006..f780bdd243 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2725,7 +2725,7 @@
 
 //
 // Elefu RA Board Control Panel
-// http://www.elefu.com/index.php?route=product/product&product_id=53
+// https://web.archive.org/web/20140823033947/http://www.elefu.com/index.php?route=product/product&product_id=53
 //
 //#define RA_CONTROL_PANEL
 

commit 03eb9b058252bdaf099558ed8dfaa837aaf1411c
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Mon Feb 27 15:23:39 2023 +1300

    üìù New URL for IA_CREALITY DWIN files  (#25423)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c163c58704..e9c175a006 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3036,7 +3036,7 @@
  *  - Copy the downloaded DWIN_SET folder to the SD card.
  *
  * IA_CREALITY (T5UID1)
- *  - Download https://github.com/InsanityAutomation/Marlin/raw/CrealityDwin2.0_Bleeding/TM3D_Combined480272_Landscape_V7.7z
+ *  - Download https://github.com/InsanityAutomation/Marlin/raw/CrealityDwin_2.0/TM3D_Combined480272_Landscape_V7.7z
  *  - Copy the downloaded DWIN_SET folder to the SD card.
  *
  * Flash display with DGUS Displays for Marlin:

commit f9f6662a8c4692cc67006fb302068c96a0e86ac1
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Feb 23 21:08:31 2023 -0600

    ‚ôªÔ∏è Stepper options refactor (#25422)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 480520e28e..c163c58704 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1673,15 +1673,15 @@
 
 // Disable axis steppers immediately when they're not being stepped.
 // WARNING: When motors turn off there is a chance of losing position accuracy!
-#define DISABLE_X false
-#define DISABLE_Y false
-#define DISABLE_Z false
-//#define DISABLE_I false
-//#define DISABLE_J false
-//#define DISABLE_K false
-//#define DISABLE_U false
-//#define DISABLE_V false
-//#define DISABLE_W false
+//#define DISABLE_X
+//#define DISABLE_Y
+//#define DISABLE_Z
+//#define DISABLE_I
+//#define DISABLE_J
+//#define DISABLE_K
+//#define DISABLE_U
+//#define DISABLE_V
+//#define DISABLE_W
 
 // Turn off the display blinking that warns about possible accuracy reduction
 //#define DISABLE_REDUCED_ACCURACY_WARNING

commit 9db5bd000b6a07b8dcb6d6568df8411efe57a133
Author: Davide Rombol√† <davide.rombola@gmail.com>
Date:   Sat Feb 18 10:49:57 2023 +0100

    ‚ú® IA_CREALITY screen rotation (#25397)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6363b79360..480520e28e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3048,6 +3048,8 @@
 //#define DGUS_LCD_UI ORIGIN
 #if DGUS_UI_IS(MKS)
   #define USE_MKS_GREEN_UI
+#elif DGUS_UI_IS(IA_CREALITY)
+  //#define LCD_SCREEN_ROTATE 90 // Portrait Mode or 800x480 displays
 #endif
 
 //

commit fc20533583e6a1f9bd2840208a72fbbf362e4bb4
Author: apulver <apulver@users.noreply.github.com>
Date:   Wed Feb 15 01:38:54 2023 -0500

    ‚ú® AVOID_OBSTACLES for UBL (#25256)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c66ca4e9e8..6363b79360 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2053,6 +2053,25 @@
 
   //#define UBL_MESH_WIZARD         // Run several commands in a row to get a complete mesh
 
+  /**
+   * Probing not allowed within the position of an obstacle.
+   */
+  //#define AVOID_OBSTACLES
+  #if ENABLED(AVOID_OBSTACLES)
+    #define CLIP_W  23  // Bed clip width, should be padded a few mm over its physical size
+    #define CLIP_H  14  // Bed clip height, should be padded a few mm over its physical size
+
+    // Obstacle Rectangles defined as { X1, Y1, X2, Y2 }
+    #define OBSTACLE1 { (X_BED_SIZE) / 4     - (CLIP_W) / 2,                       0, (X_BED_SIZE) / 4     + (CLIP_W) / 2, CLIP_H }
+    #define OBSTACLE2 { (X_BED_SIZE) * 3 / 4 - (CLIP_W) / 2,                       0, (X_BED_SIZE) * 3 / 4 + (CLIP_W) / 2, CLIP_H }
+    #define OBSTACLE3 { (X_BED_SIZE) / 4     - (CLIP_W) / 2, (Y_BED_SIZE) - (CLIP_H), (X_BED_SIZE) / 4     + (CLIP_W) / 2, Y_BED_SIZE }
+    #define OBSTACLE4 { (X_BED_SIZE) * 3 / 4 - (CLIP_W) / 2, (Y_BED_SIZE) - (CLIP_H), (X_BED_SIZE) * 3 / 4 + (CLIP_W) / 2, Y_BED_SIZE }
+
+    // The probed grid must be inset for G29 J. This is okay, since it is
+    // only used to compute a linear transformation for the mesh itself.
+    #define G29J_MESH_TILT_MARGIN ((CLIP_H) + 1)
+  #endif
+
 #elif ENABLED(MESH_BED_LEVELING)
 
   //===========================================================================

commit 738f0a10f532881204d567a6c07240ec8c3c3052
Author: Dan Royer <dan@marginallyclever.com>
Date:   Mon Jan 30 22:12:03 2023 -0800

    ‚ú® POLARGRAPH / PEN_UP_DOWN_MENU (#25303)
    
    Co-authored-by: Dan Royer <1464454+i-make-robots@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f639b68787..c66ca4e9e8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -878,8 +878,9 @@
 // Enable for Polargraph Kinematics
 //#define POLARGRAPH
 #if ENABLED(POLARGRAPH)
-  #define POLARGRAPH_MAX_BELT_LEN 1035.0
-  #define DEFAULT_SEGMENTS_PER_SECOND 5
+  #define POLARGRAPH_MAX_BELT_LEN  1035.0 // (mm) Belt length at full extension. Override with M665 H.
+  #define DEFAULT_SEGMENTS_PER_SECOND 5   // Move segmentation based on duration
+  #define PEN_UP_DOWN_MENU                // Add "Pen Up" and "Pen Down" to the MarlinUI menu
 #endif
 
 // @section delta

commit 212167b140f7a1b6f24ff69cf367860b78812c05
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Jan 15 05:25:36 2023 -0800

    üìù No longer experimental (#25238)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 32df08f853..f639b68787 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2019,7 +2019,7 @@
     //#define EXTRAPOLATE_BEYOND_GRID
 
     //
-    // Experimental Subdivision of the grid by Catmull-Rom method.
+    // Subdivision of the grid by Catmull-Rom method.
     // Synthesizes intermediate points to produce a more detailed mesh.
     //
     //#define ABL_BILINEAR_SUBDIVISION
@@ -2304,7 +2304,7 @@
 #endif
 
 /**
- * Clean Nozzle Feature -- EXPERIMENTAL
+ * Clean Nozzle Feature
  *
  * Adds the G12 command to perform a nozzle cleaning process.
  *
@@ -2338,7 +2338,6 @@
  *       Before starting, the nozzle moves to NOZZLE_CLEAN_START_POINT.
  *
  *   Caveats: The ending Z should be the same as starting Z.
- * Attention: EXPERIMENTAL. G-code arguments may change.
  */
 //#define NOZZLE_CLEAN_FEATURE
 

commit da87c203c1e70bf719b90f7bfdce6027861bef90
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Jan 15 01:19:45 2023 -0600

    üîñ  Config version 02010300

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ec3ee87b9c..32df08f853 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 02010200
+#define CONFIGURATION_H_VERSION 02010300
 
 //===========================================================================
 //============================= Getting Started =============================

commit 7717beb79362522b8239d5af62b32ff3d0e2d748
Author: kadir ilkimen <kadirilkimen@gmail.com>
Date:   Wed Jan 11 06:29:38 2023 +0200

    ‚ú® Polar Kinematics (#25214)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce6a70a3aa..ec3ee87b9c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -915,7 +915,7 @@
   #endif
 
   // Print surface diameter/2 minus unreachable space (avoid collisions with vertical towers).
-  #define DELTA_PRINTABLE_RADIUS 140.0    // (mm)
+  #define PRINTABLE_RADIUS       140.0    // (mm)
 
   // Maximum reachable area
   #define DELTA_MAX_RADIUS       140.0    // (mm)
@@ -969,7 +969,7 @@
   #if ENABLED(MORGAN_SCARA)
 
     //#define DEBUG_SCARA_KINEMATICS
-    #define SCARA_FEEDRATE_SCALING  // Convert XY feedrate from mm/s to degrees/s on the fly
+    #define FEEDRATE_SCALING        // Convert XY feedrate from mm/s to degrees/s on the fly
 
     // Radius around the center where the arm cannot reach
     #define MIDDLE_DEAD_ZONE_R   0  // (mm)
@@ -1004,7 +1004,7 @@
   #define TPARA_OFFSET_Y    0       // (mm)
   #define TPARA_OFFSET_Z    0       // (mm)
 
-  #define SCARA_FEEDRATE_SCALING  // Convert XY feedrate from mm/s to degrees/s on the fly
+  #define FEEDRATE_SCALING        // Convert XY feedrate from mm/s to degrees/s on the fly
 
   // Radius around the center where the arm cannot reach
   #define MIDDLE_DEAD_ZONE_R   0  // (mm)
@@ -1014,6 +1014,59 @@
   #define PSI_HOMING_OFFSET    0
 #endif
 
+// @section polar
+
+/**
+ * POLAR Kinematics
+ *  developed by Kadir ilkimen for PolarBear CNC and babyBear
+ *  https://github.com/kadirilkimen/Polar-Bear-Cnc-Machine
+ *  https://github.com/kadirilkimen/babyBear-3D-printer
+ *
+ * A polar machine can have different configurations.
+ * This kinematics is only compatible with the following configuration:
+ *        X : Independent linear
+ *   Y or B : Polar
+ *        Z : Independent linear
+ *
+ * For example, PolarBear has CoreXZ plus Polar Y or B.
+ *
+ * Motion problem for Polar axis near center / origin:
+ *
+ * 3D printing:
+ * Movements very close to the center of the polar axis take more time than others.
+ * This brief delay results in more material deposition due to the pressure in the nozzle.
+ *
+ * Current Kinematics and feedrate scaling deals with this by making the movement as fast
+ * as possible. It works for slow movements but doesn't work well with fast ones. A more
+ * complicated extrusion compensation must be implemented.
+ *
+ * Ideally, it should estimate that a long rotation near the center is ahead and will cause
+ * unwanted deposition. Therefore it can compensate the extrusion beforehand.
+ *
+ * Laser cutting:
+ * Same thing would be a problem for laser engraving too. As it spends time rotating at the
+ * center point, more likely it will burn more material than it should. Therefore similar
+ * compensation would be implemented for laser-cutting operations.
+ *
+ * Milling:
+ * This shouldn't be a problem for cutting/milling operations.
+ */
+//#define POLAR
+#if ENABLED(POLAR)
+  #define DEFAULT_SEGMENTS_PER_SECOND 180   // If movement is choppy try lowering this value
+  #define PRINTABLE_RADIUS 82.0f            // (mm) Maximum travel of X axis
+
+  // Movements fall inside POLAR_FAST_RADIUS are assigned the highest possible feedrate
+  // to compensate unwanted deposition related to the near-origin motion problem.
+  #define POLAR_FAST_RADIUS 3.0f            // (mm)
+
+  // Radius which is unreachable by the tool.
+  // Needed if the tool is not perfectly aligned to the center of the polar axis.
+  #define POLAR_CENTER_OFFSET 0.0f          // (mm)
+
+  #define FEEDRATE_SCALING                  // Convert XY feedrate from mm/s to degrees/s on the fly
+#endif
+
 // @section machine
 
 // Articulated robot (arm). Joints are directly mapped to axes with no kinematics.
@@ -1420,13 +1473,13 @@
   // 2 or 3 sets of coordinates for deploying and retracting the spring loaded touch probe on G29,
   // if servo actuated touch probe is not defined. Uncomment as appropriate for your printer/probe.
 
-  #define Z_PROBE_ALLEN_KEY_DEPLOY_1 { 30.0, DELTA_PRINTABLE_RADIUS, 100.0 }
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_1 { 30.0, PRINTABLE_RADIUS, 100.0 }
   #define Z_PROBE_ALLEN_KEY_DEPLOY_1_FEEDRATE XY_PROBE_FEEDRATE
 
-  #define Z_PROBE_ALLEN_KEY_DEPLOY_2 { 0.0, DELTA_PRINTABLE_RADIUS, 100.0 }
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_2 { 0.0, PRINTABLE_RADIUS, 100.0 }
   #define Z_PROBE_ALLEN_KEY_DEPLOY_2_FEEDRATE (XY_PROBE_FEEDRATE)/10
 
-  #define Z_PROBE_ALLEN_KEY_DEPLOY_3 { 0.0, (DELTA_PRINTABLE_RADIUS) * 0.75, 100.0 }
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_3 { 0.0, (PRINTABLE_RADIUS) * 0.75, 100.0 }
   #define Z_PROBE_ALLEN_KEY_DEPLOY_3_FEEDRATE XY_PROBE_FEEDRATE
 
   #define Z_PROBE_ALLEN_KEY_STOW_1 { -64.0, 56.0, 23.0 } // Move the probe into position

commit 8a33cfd546476a016191cd18eed0bfa415ec8bb5
Author: Anson Liu <ansonl@users.noreply.github.com>
Date:   Sun Jan 8 04:46:26 2023 -0500

    üö∏ RGB_STARTUP_TEST for PCA9632 (#25163)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8e3312a44a..ce6a70a3aa 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3293,6 +3293,9 @@
   //#define RGB_LED_G_PIN 43
   //#define RGB_LED_B_PIN 35
   //#define RGB_LED_W_PIN -1
+#endif
+
+#if ANY(RGB_LED, RGBW_LED, PCA9632)
   //#define RGB_STARTUP_TEST              // For PWM pins, fade between all colors
   #if ENABLED(RGB_STARTUP_TEST)
     #define RGB_STARTUP_TEST_INNER_MS 10  // (ms) Reduce or increase fading speed

commit 32e8627510498da3a88d9e198f7c17a6a2ad8a66
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Sun Jan 1 15:38:13 2023 +1300

    ‚ú® New DGUS_LCD_UI option, IA_CREALITY (#25143)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bcb79fd3e6..8e3312a44a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2939,23 +2939,16 @@
 
 /**
  * DGUS Touch Display with DWIN OS. (Choose one.)
- * ORIGIN : https://www.aliexpress.com/item/32993409517.html
- * FYSETC : https://www.aliexpress.com/item/32961471929.html
- * MKS    : https://www.aliexpress.com/item/1005002008179262.html
- *
- * Flash display with DGUS Displays for Marlin:
- *  - Format the SD card to FAT32 with an allocation size of 4kb.
- *  - Download files as specified for your type of display.
- *  - Plug the microSD card into the back of the display.
- *  - Boot the display and wait for the update to complete.
  *
  * ORIGIN (Marlin DWIN_SET)
  *  - Download https://github.com/coldtobi/Marlin_DGUS_Resources
  *  - Copy the downloaded DWIN_SET folder to the SD card.
+ *  - Product: https://www.aliexpress.com/item/32993409517.html
  *
  * FYSETC (Supplier default)
  *  - Download https://github.com/FYSETC/FYSTLCD-2.0
  *  - Copy the downloaded SCREEN folder to the SD card.
+ *  - Product: https://www.aliexpress.com/item/32961471929.html
  *
  * HIPRECY (Supplier default)
  *  - Download https://github.com/HiPrecy/Touch-Lcd-LEO
@@ -2964,17 +2957,24 @@
  * MKS (MKS-H43) (Supplier default)
  *  - Download https://github.com/makerbase-mks/MKS-H43
  *  - Copy the downloaded DWIN_SET folder to the SD card.
+ *  - Product: https://www.aliexpress.com/item/1005002008179262.html
  *
  * RELOADED (T5UID1)
  *  - Download https://github.com/Desuuuu/DGUS-reloaded/releases
  *  - Copy the downloaded DWIN_SET folder to the SD card.
+ *
+ * IA_CREALITY (T5UID1)
+ *  - Download https://github.com/InsanityAutomation/Marlin/raw/CrealityDwin2.0_Bleeding/TM3D_Combined480272_Landscape_V7.7z
+ *  - Copy the downloaded DWIN_SET folder to the SD card.
+ *
+ * Flash display with DGUS Displays for Marlin:
+ *  - Format the SD card to FAT32 with an allocation size of 4kb.
+ *  - Download files as specified for your type of display.
+ *  - Plug the microSD card into the back of the display.
+ *  - Boot the display and wait for the update to complete.
  */
-//#define DGUS_LCD_UI_ORIGIN
-//#define DGUS_LCD_UI_FYSETC
-//#define DGUS_LCD_UI_HIPRECY
-//#define DGUS_LCD_UI_MKS
-//#define DGUS_LCD_UI_RELOADED
-#if ENABLED(DGUS_LCD_UI_MKS)
+//#define DGUS_LCD_UI ORIGIN
+#if DGUS_UI_IS(MKS)
   #define USE_MKS_GREEN_UI
 #endif
 

commit fca1929beb6a5f7dd21d17bdefcbc97511869e27
Author: Alexander Gavrilenko <jmz52@users.noreply.github.com>
Date:   Sat Dec 31 08:44:55 2022 +0300

    ‚ú®‚ö°Ô∏è UTF support for TFT Color UI (#25073)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 60ca46744d..bcb79fd3e6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3133,6 +3133,15 @@
 //#define TFT_LVGL_UI
 
 #if ENABLED(TFT_COLOR_UI)
+  /**
+   * TFT Font for Color_UI. Choose one of the following:
+   *
+   * NOTOSANS  - Default font with antialiasing. Supports Latin Extended and non-Latin characters.
+   * UNIFONT   - Lightweight font, no antialiasing. Supports Latin Extended and non-Latin characters.
+   * HELVETICA - Lightweight font, no antialiasing. Supports Basic Latin (0x0020-0x007F) and Latin-1 Supplement (0x0080-0x00FF) characters only.
+   */
+  #define TFT_FONT  NOTOSANS
+
   //#define TFT_SHARED_SPI   // SPI is shared between TFT display and other devices. Disable async data transfer
 #endif
 

commit 049cfe659c8e4af282c50169ebbed98638a013fa
Author: Bart Meijer <brupje@gmail.com>
Date:   Mon Dec 12 22:36:50 2022 +0100

    ‚ú® SAMD21 HAL / Minitronics v2.0 (#24976)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d595e9031a..60ca46744d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2741,7 +2741,7 @@
 
 //
 // ReprapWorld Graphical LCD
-// https://reprapworld.com/?products_details&products_id/1218
+// https://reprapworld.com/electronics/3d-printer-modules/autonomous-printing/graphical-lcd-screen-v1-0/
 //
 //#define REPRAPWORLD_GRAPHICAL_LCD
 

commit aaae56a6501fd617cdc1216e0d1bfec39538da61
Author: Alexander Gavrilenko <jmz52@users.noreply.github.com>
Date:   Tue Dec 13 00:13:31 2022 +0300

    ‚ú® TFT_COLOR_UI async DMA SPI (#24980)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 37df8c0c57..d595e9031a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3132,6 +3132,10 @@
 //#define TFT_COLOR_UI
 //#define TFT_LVGL_UI
 
+#if ENABLED(TFT_COLOR_UI)
+  //#define TFT_SHARED_SPI   // SPI is shared between TFT display and other devices. Disable async data transfer
+#endif
+
 #if ENABLED(TFT_LVGL_UI)
   //#define MKS_WIFI_MODULE  // MKS WiFi module
 #endif

commit 44b68319f1ff7808ca95b558e075b62a163d38de
Author: Sebastien BLAISOT <sebastien@blaisot.org>
Date:   Wed Dec 7 22:49:38 2022 +0100

    ‚ú® M150 S default index (#23066)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 462bfff65b..37df8c0c57 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3305,6 +3305,7 @@
     #define NEOPIXEL2_PIXELS           15 // Number of LEDs in the second strip
     #define NEOPIXEL2_BRIGHTNESS      127 // Initial brightness (0-255)
     #define NEOPIXEL2_STARTUP_TEST        // Cycle through colors at startup
+    #define NEOPIXEL_M150_DEFAULT      -1 // Default strip for M150 without 'S'. Use -1 to set all by default.
   #else
     //#define NEOPIXEL2_INSERIES          // Default behavior is NeoPixel 2 in parallel
   #endif

commit d8fe7364c979d1367dc32cd3cd66c341b42e3d64
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Dec 5 11:01:08 2022 -0600

    üìù Update config comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7f625c04f8..462bfff65b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -909,8 +909,6 @@
     #define DELTA_CALIBRATION_DEFAULT_POINTS 4
   #endif
 
-  // NOTE: All values for DELTA_* values MUST be floating point, so always have a decimal point in them
-
   #if EITHER(DELTA_AUTO_CALIBRATION, DELTA_CALIBRATION_MENU)
     // Step size for paper-test probing
     #define PROBE_MANUALLY_STEP 0.05      // (mm)
@@ -1918,17 +1916,21 @@
 #endif
 
 #if ANY(MESH_BED_LEVELING, AUTO_BED_LEVELING_BILINEAR, AUTO_BED_LEVELING_UBL)
-  // Gradually reduce leveling correction until a set height is reached,
-  // at which point movement will be level to the machine's XY plane.
-  // The height can be set with M420 Z<height>
+  /**
+   * Gradually reduce leveling correction until a set height is reached,
+   * at which point movement will be level to the machine's XY plane.
+   * The height can be set with M420 Z<height>
+   */
   #define ENABLE_LEVELING_FADE_HEIGHT
   #if ENABLED(ENABLE_LEVELING_FADE_HEIGHT)
     #define DEFAULT_LEVELING_FADE_HEIGHT 10.0 // (mm) Default fade height.
   #endif
 
-  // For Cartesian machines, instead of dividing moves on mesh boundaries,
-  // split up moves into short segments like a Delta. This follows the
-  // contours of the bed more closely than edge-to-edge straight moves.
+  /**
+   * For Cartesian machines, instead of dividing moves on mesh boundaries,
+   * split up moves into short segments like a Delta. This follows the
+   * contours of the bed more closely than edge-to-edge straight moves.
+   */
   #define SEGMENT_LEVELED_MOVES
   #define LEVELED_SEGMENT_LENGTH 5.0 // (mm) Length of all segments (except the last one)
 

commit 74474c8a818745f1324aa5e22e59c361b4dff609
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Sat Nov 26 19:21:47 2022 +1300

    üîß Fix TPARA (‚Ä¶SCARA, DELTA) settings (#25016)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 87a98298a5..7f625c04f8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -879,7 +879,7 @@
 //#define POLARGRAPH
 #if ENABLED(POLARGRAPH)
   #define POLARGRAPH_MAX_BELT_LEN 1035.0
-  #define POLAR_SEGMENTS_PER_SECOND 5
+  #define DEFAULT_SEGMENTS_PER_SECOND 5
 #endif
 
 // @section delta
@@ -891,28 +891,28 @@
   // Make delta curves from many straight lines (linear interpolation).
   // This is a trade-off between visible corners (not enough segments)
   // and processor overload (too many expensive sqrt calls).
-  #define DELTA_SEGMENTS_PER_SECOND 200
+  #define DEFAULT_SEGMENTS_PER_SECOND 200
 
   // After homing move down to a height where XY movement is unconstrained
   //#define DELTA_HOME_TO_SAFE_ZONE
 
   // Delta calibration menu
-  // uncomment to add three points calibration menu option.
+  // Add three-point calibration to the MarlinUI menu.
   // See http://minow.blogspot.com/index.html#4918805519571907051
   //#define DELTA_CALIBRATION_MENU
 
-  // uncomment to add G33 Delta Auto-Calibration (Enable EEPROM_SETTINGS to store results)
+  // G33 Delta Auto-Calibration. Enable EEPROM_SETTINGS to store results.
   //#define DELTA_AUTO_CALIBRATION
 
-  // NOTE NB all values for DELTA_* values MUST be floating point, so always have a decimal point in them
-
   #if ENABLED(DELTA_AUTO_CALIBRATION)
-    // set the default number of probe points : n*n (1 -> 7)
+    // Default number of probe points : n*n (1 -> 7)
     #define DELTA_CALIBRATION_DEFAULT_POINTS 4
   #endif
 
+  // NOTE: All values for DELTA_* values MUST be floating point, so always have a decimal point in them
+
   #if EITHER(DELTA_AUTO_CALIBRATION, DELTA_CALIBRATION_MENU)
-    // Set the steprate for papertest probing
+    // Step size for paper-test probing
     #define PROBE_MANUALLY_STEP 0.05      // (mm)
   #endif
 
@@ -957,7 +957,7 @@
 //#define MP_SCARA
 #if EITHER(MORGAN_SCARA, MP_SCARA)
   // If movement is choppy try lowering this value
-  #define SCARA_SEGMENTS_PER_SECOND 200
+  #define DEFAULT_SEGMENTS_PER_SECOND 200
 
   // Length of inner and outer support arms. Measure arm lengths precisely.
   #define SCARA_LINKAGE_1 150       // (mm)
@@ -993,18 +993,18 @@
 // Enable for TPARA kinematics and configure below
 //#define AXEL_TPARA
 #if ENABLED(AXEL_TPARA)
-  #define DEBUG_ROBOT_KINEMATICS
-  #define ROBOT_SEGMENTS_PER_SECOND 200
+  #define DEBUG_TPARA_KINEMATICS
+  #define DEFAULT_SEGMENTS_PER_SECOND 200
 
   // Length of inner and outer support arms. Measure arm lengths precisely.
-  #define ROBOT_LINKAGE_1 120       // (mm)
-  #define ROBOT_LINKAGE_2 120       // (mm)
+  #define TPARA_LINKAGE_1 120       // (mm)
+  #define TPARA_LINKAGE_2 120       // (mm)
 
   // SCARA tower offset (position of Tower relative to bed zero position)
   // This needs to be reasonably accurate as it defines the printbed position in the SCARA space.
-  #define ROBOT_OFFSET_X    0       // (mm)
-  #define ROBOT_OFFSET_Y    0       // (mm)
-  #define ROBOT_OFFSET_Z    0       // (mm)
+  #define TPARA_OFFSET_X    0       // (mm)
+  #define TPARA_OFFSET_Y    0       // (mm)
+  #define TPARA_OFFSET_Z    0       // (mm)
 
   #define SCARA_FEEDRATE_SCALING  // Convert XY feedrate from mm/s to degrees/s on the fly
 

commit 1b31a7cf2c1b5cc1f7b58041604fa8b8ebb3ffe7
Author: kurtis-potier-geofabrica <77456752+kurtis-potier-geofabrica@users.noreply.github.com>
Date:   Sat Oct 22 00:13:56 2022 -0400

    üö∏ Up to 3 MAX Thermocouples (#24898)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 83c1c541e3..87a98298a5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -564,6 +564,10 @@
   #define MAX31865_SENSOR_OHMS_1      100
   #define MAX31865_CALIBRATION_OHMS_1 430
 #endif
+#if TEMP_SENSOR_IS_MAX_TC(2)
+  #define MAX31865_SENSOR_OHMS_2      100
+  #define MAX31865_CALIBRATION_OHMS_2 430
+#endif
 
 #if HAS_E_TEMP_SENSOR
   #define TEMP_RESIDENCY_TIME         10  // (seconds) Time to wait for hotend to "settle" in M109

commit 1aa0ece8a42e3acbc4133a83a0f34d36ac743039
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Tue Oct 18 16:41:41 2022 +1300

    ‚ú® Tronxy v10 (#24787)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9783b2ec67..83c1c541e3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3059,7 +3059,7 @@
 //#define MKS_ROBIN_TFT_V1_1R
 
 //
-// 480x320, 3.5", FSMC Stock Display from TronxXY
+// 480x320, 3.5", FSMC Stock Display from Tronxy
 //
 //#define TFT_TRONXY_X5SA
 

commit 11f82445738ae885668f29c9fa7feb4c47e673ca
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sat Oct 1 09:19:51 2022 -0700

    üîß Thermistor (66) sanity-check (#24803)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1d2542e266..9783b2ec67 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -496,7 +496,7 @@
  *    30 : 100kŒ©  Kis3d Silicone heating mat 200W/300W with 6mm precision cast plate (EN AW 5083) NTC100K - beta 3950
  *    60 : 100kŒ©  Maker's Tool Works Kapton Bed Thermistor - beta 3950
  *    61 : 100kŒ©  Formbot/Vivedino 350¬∞C Thermistor - beta 3950
- *    66 : 4.7MŒ©  Dyze Design High Temperature Thermistor
+ *    66 : 4.7MŒ©  Dyze Design / Trianglelab T-D500 500¬∞C High Temperature Thermistor
  *    67 : 500kŒ©  SliceEngineering 450¬∞C Thermistor
  *    68 : PT100 amplifier board from Dyze Design
  *    70 : 100kŒ©  bq Hephestos 2

commit f84d51ec063a9e93f967d7f18f1a3a444ea7ad87
Author: discip <53649486+discip@users.noreply.github.com>
Date:   Mon Sep 26 23:42:52 2022 +0200

    ‚ú® Pt1000 with 2k2 pullup (SKR 3 / EZ) (#24790)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a2370d99d0..1d2542e266 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -518,6 +518,7 @@
  *   110 : Pt100  with 1kŒ© pullup (atypical)
  *   147 : Pt100  with 4.7kŒ© pullup
  *  1010 : Pt1000 with 1kŒ© pullup (atypical)
+ *  1022 : Pt1000 with 2.2kŒ© pullup
  *  1047 : Pt1000 with 4.7kŒ© pullup (E3D)
  *    20 : Pt100  with circuit in the Ultimainboard V2.x with mainboard ADC reference voltage = INA826 amplifier-board supply voltage.
  *                NOTE: (1) Must use an ADC input with no pullup. (2) Some INA826 amplifiers are unreliable at 3.3V so consider using sensor 147, 110, or 21.

commit 06d7d2ada4b2b9a6e028e8e35478d1331a774461
Author: Stefan Kalscheuer <stefan@stklcode.de>
Date:   Fri Sep 16 21:21:13 2022 +0200

    ‚ú® Anycubic i3 Mega LCD file menu fix (#24752)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 59285af763..a2370d99d0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2989,6 +2989,7 @@
 //#define ANYCUBIC_LCD_CHIRON
 #if EITHER(ANYCUBIC_LCD_I3MEGA, ANYCUBIC_LCD_CHIRON)
   //#define ANYCUBIC_LCD_DEBUG
+  //#define ANYCUBIC_LCD_GCODE_EXT  // Add ".gcode" to menu entries for DGUS clone compatibility
 #endif
 
 //

commit 0765dfd43fb5e213041e56dbc5e1ece9849d4476
Author: studiodyne <diabolomix@hotmail.fr>
Date:   Sun Aug 28 00:43:32 2022 +0200

    ‚ú® RGB_STARTUP_TEST

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0b8691f855..59285af763 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3251,16 +3251,19 @@
  * luminance values can be set from 0 to 255.
  * For NeoPixel LED an overall brightness parameter is also available.
  *
- * *** CAUTION ***
+ *  === CAUTION ===
  *  LED Strips require a MOSFET Chip between PWM lines and LEDs,
  *  as the Arduino cannot handle the current the LEDs will require.
  *  Failure to follow this precaution can destroy your Arduino!
+ *
  *  NOTE: A separate 5V power supply is required! The NeoPixel LED needs
  *  more current than the Arduino 5V linear regulator can produce.
- * *** CAUTION ***
  *
- * LED Type. Enable only one of the following two options.
+ *  Requires PWM frequency between 50 <> 100Hz (Check HAL or variant)
+ *  Use FAST_PWM_FAN, if possible, to reduce fan noise.
  */
+
+// LED Type. Enable only one of the following two options:
 //#define RGB_LED
 //#define RGBW_LED
 
@@ -3269,6 +3272,10 @@
   //#define RGB_LED_G_PIN 43
   //#define RGB_LED_B_PIN 35
   //#define RGB_LED_W_PIN -1
+  //#define RGB_STARTUP_TEST              // For PWM pins, fade between all colors
+  #if ENABLED(RGB_STARTUP_TEST)
+    #define RGB_STARTUP_TEST_INNER_MS 10  // (ms) Reduce or increase fading speed
+  #endif
 #endif
 
 // Support for Adafruit NeoPixel LED driver

commit 6542f61aaff090b4f816d9700d3129b1b29a3d7f
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Aug 29 19:23:53 2022 -0500

    üîñ  Config version 02010200

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 69ce849440..0b8691f855 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 02010100
+#define CONFIGURATION_H_VERSION 02010200
 
 //===========================================================================
 //============================= Getting Started =============================

commit ace358327deba7a166f344266ea0c7d062d5ac55
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Thu Aug 25 16:14:50 2022 -0700

    üö∏ Up to 10 Preheat Constants (#24636)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 876267af70..69ce849440 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2205,7 +2205,7 @@
 // @section temperature
 
 //
-// Preheat Constants - Up to 6 are supported without changes
+// Preheat Constants - Up to 10 are supported without changes
 //
 #define PREHEAT_1_LABEL       "PLA"
 #define PREHEAT_1_TEMP_HOTEND 180

commit 2f91154cbdcec3b81da9913bdd16556e8c775d06
Author: EvilGremlin <22657714+EvilGremlin@users.noreply.github.com>
Date:   Thu Aug 25 20:16:55 2022 +0300

    ‚ôªÔ∏è Display sleep minutes, encoder disable option (#24618)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d82b3cc40..876267af70 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3156,10 +3156,11 @@
 //
 //#define TOUCH_SCREEN
 #if ENABLED(TOUCH_SCREEN)
-  #define BUTTON_DELAY_EDIT  50 // (ms) Button repeat delay for edit screens
-  #define BUTTON_DELAY_MENU 250 // (ms) Button repeat delay for menus
+  #define BUTTON_DELAY_EDIT      50 // (ms) Button repeat delay for edit screens
+  #define BUTTON_DELAY_MENU     250 // (ms) Button repeat delay for menus
 
-  //#define TOUCH_IDLE_SLEEP 300 // (s) Turn off the TFT backlight if set (5mn)
+  //#define DISABLE_ENCODER         // Disable the click encoder, if any
+  //#define TOUCH_IDLE_SLEEP_MINS 5 // (minutes) Display Sleep after a period of inactivity. Set with M255 S.
 
   #define TOUCH_SCREEN_CALIBRATION
 

commit d77027276cfea94ae962fab7e1ddc18cc26442e2
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Mon Aug 22 07:53:51 2022 -0700

    üîß Fix Skew Correction defaults (#24601)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b30ba9b8d3..9d82b3cc40 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2134,9 +2134,8 @@
   #define XY_DIAG_BD 282.8427124746
   #define XY_SIDE_AD 200
 
-  // Or, set the default skew factors directly here
-  // to override the above measurements:
-  #define XY_SKEW_FACTOR 0.0
+  // Or, set the XY skew factor directly:
+  //#define XY_SKEW_FACTOR 0.0
 
   //#define SKEW_CORRECTION_FOR_Z
   #if ENABLED(SKEW_CORRECTION_FOR_Z)
@@ -2145,8 +2144,10 @@
     #define YZ_DIAG_AC 282.8427124746
     #define YZ_DIAG_BD 282.8427124746
     #define YZ_SIDE_AD 200
-    #define XZ_SKEW_FACTOR 0.0
-    #define YZ_SKEW_FACTOR 0.0
+
+    // Or, set the Z skew factors directly:
+    //#define XZ_SKEW_FACTOR 0.0
+    //#define YZ_SKEW_FACTOR 0.0
   #endif
 
   // Enable this option for M852 to set skew at runtime

commit 03d925407905f06c386e1a5fb096077decc8993f
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Fri Aug 19 11:11:15 2022 -0700

    üîß Remove STM32F4 Print Counter Sanity Check (#24605)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 683b61298b..b30ba9b8d3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2362,7 +2362,7 @@
  */
 //#define PRINTCOUNTER
 #if ENABLED(PRINTCOUNTER)
-  #define PRINTCOUNTER_SAVE_INTERVAL 60 // (minutes) EEPROM save interval during print
+  #define PRINTCOUNTER_SAVE_INTERVAL 60 // (minutes) EEPROM save interval during print. A value of 0 will save stats at end of print.
 #endif
 
 // @section security

commit e701e0bb257799878359483881377d8ef2f59f2f
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Aug 9 07:58:20 2022 -0500

    üî® Misc. schema updates

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2c16b8fb53..683b61298b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -141,6 +141,8 @@
 // Choose your own or use a service like https://www.uuidgenerator.net/version4
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
+// @section stepper drivers
+
 /**
  * Stepper Drivers
  *
@@ -240,6 +242,8 @@
   //#define SINGLENOZZLE_STANDBY_FAN
 #endif
 
+// @section multi-material
+
 /**
  * Multi-Material Unit
  * Set to one of these predefined models:
@@ -252,6 +256,7 @@
  *
  * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
  * See additional options in Configuration_adv.h.
+ * :["PRUSA_MMU1", "PRUSA_MMU2", "PRUSA_MMU2S", "EXTENDABLE_EMU_MMU2", "EXTENDABLE_EMU_MMU2S"]
  */
 //#define MMU_MODEL PRUSA_MMU2
 
@@ -1629,7 +1634,7 @@
 #define DISABLE_E false             // Disable the extruder when not stepping
 #define DISABLE_INACTIVE_EXTRUDER   // Keep only the active extruder enabled
 
-// @section machine
+// @section motion
 
 // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
 #define INVERT_X_DIR false

commit d33111b215fe8e0118b3d505998a08506327cd2e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Aug 6 18:38:12 2022 -0500

    üé® Misc. config cleanup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 84e4f49e59..2c16b8fb53 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -551,8 +551,8 @@
 
 // Resistor values when using MAX31865 sensors (-5) on TEMP_SENSOR_0 / 1
 #if TEMP_SENSOR_IS_MAX_TC(0)
-  #define MAX31865_SENSOR_OHMS_0      100   // (Œ©) Typically 100 or 1000 (PT100 or PT1000)
-  #define MAX31865_CALIBRATION_OHMS_0 430   // (Œ©) Typically 430 for Adafruit PT100; 4300 for Adafruit PT1000
+  #define MAX31865_SENSOR_OHMS_0      100 // (Œ©) Typically 100 or 1000 (PT100 or PT1000)
+  #define MAX31865_CALIBRATION_OHMS_0 430 // (Œ©) Typically 430 for Adafruit PT100; 4300 for Adafruit PT1000
 #endif
 #if TEMP_SENSOR_IS_MAX_TC(1)
   #define MAX31865_SENSOR_OHMS_1      100

commit 83320f1052dd09bff7aae789372e7bffccbced97
Author: Mark <niujl123@sina.com>
Date:   Sat Aug 6 14:14:58 2022 +0800

    ‚ú® Bed Distance Sensor (#24554)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9259468374..84e4f49e59 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1886,6 +1886,15 @@
   #define LEVELING_BED_TEMP     50
 #endif
 
+/**
+ * Bed Distance Sensor
+ *
+ * Measures the distance from bed to nozzle with accuracy of 0.01mm.
+ * For information about this sensor https://github.com/markniu/Bed_Distance_sensor
+ * Uses I2C port, so it requires I2C library markyue/Panda_SoftMasterI2C.
+ */
+//#define BD_SENSOR
+
 /**
  * Enable detailed logging of G28, G29, M48, etc.
  * Turn on with the command 'M111 S32'.

commit 1bed10c38075a15bfec380c9c7763fea336e787e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Aug 4 02:38:15 2022 -0500

    üîß Config INI, dump options (#24528)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 986e3c49ab..9259468374 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -112,6 +112,7 @@
  * :[2400, 9600, 19200, 38400, 57600, 115200, 250000, 500000, 1000000]
  */
 #define BAUDRATE 250000
+
 //#define BAUD_RATE_GCODE     // Enable G-code M575 to set the baud rate
 
 /**
@@ -120,7 +121,7 @@
  * :[-2, -1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
 //#define SERIAL_PORT_2 -1
-//#define BAUDRATE_2 250000   // Enable to override BAUDRATE
+//#define BAUDRATE_2 250000   // :[2400, 9600, 19200, 38400, 57600, 115200, 250000, 500000, 1000000] Enable to override BAUDRATE
 
 /**
  * Select a third serial port on the board to use for communication with the host.
@@ -128,7 +129,7 @@
  * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
 //#define SERIAL_PORT_3 1
-//#define BAUDRATE_3 250000   // Enable to override BAUDRATE
+//#define BAUDRATE_3 250000   // :[2400, 9600, 19200, 38400, 57600, 115200, 250000, 500000, 1000000] Enable to override BAUDRATE
 
 // Enable the Bluetooth serial interface on AT90USB devices
 //#define BLUETOOTH
@@ -387,7 +388,7 @@
 //#define HOTEND_OFFSET_Y { 0.0, 5.00 }  // (mm) relative Y-offset for each nozzle
 //#define HOTEND_OFFSET_Z { 0.0, 0.00 }  // (mm) relative Z-offset for each nozzle
 
-// @section machine
+// @section psu control
 
 /**
  * Power Supply Control
@@ -549,22 +550,32 @@
 #define DUMMY_THERMISTOR_999_VALUE 100
 
 // Resistor values when using MAX31865 sensors (-5) on TEMP_SENSOR_0 / 1
-//#define MAX31865_SENSOR_OHMS_0      100   // (Œ©) Typically 100 or 1000 (PT100 or PT1000)
-//#define MAX31865_CALIBRATION_OHMS_0 430   // (Œ©) Typically 430 for Adafruit PT100; 4300 for Adafruit PT1000
-//#define MAX31865_SENSOR_OHMS_1      100
-//#define MAX31865_CALIBRATION_OHMS_1 430
+#if TEMP_SENSOR_IS_MAX_TC(0)
+  #define MAX31865_SENSOR_OHMS_0      100   // (Œ©) Typically 100 or 1000 (PT100 or PT1000)
+  #define MAX31865_CALIBRATION_OHMS_0 430   // (Œ©) Typically 430 for Adafruit PT100; 4300 for Adafruit PT1000
+#endif
+#if TEMP_SENSOR_IS_MAX_TC(1)
+  #define MAX31865_SENSOR_OHMS_1      100
+  #define MAX31865_CALIBRATION_OHMS_1 430
+#endif
 
-#define TEMP_RESIDENCY_TIME         10  // (seconds) Time to wait for hotend to "settle" in M109
-#define TEMP_WINDOW                  1  // (¬∞C) Temperature proximity for the "temperature reached" timer
-#define TEMP_HYSTERESIS              3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#if HAS_E_TEMP_SENSOR
+  #define TEMP_RESIDENCY_TIME         10  // (seconds) Time to wait for hotend to "settle" in M109
+  #define TEMP_WINDOW                  1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+  #define TEMP_HYSTERESIS              3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#endif
 
-#define TEMP_BED_RESIDENCY_TIME     10  // (seconds) Time to wait for bed to "settle" in M190
-#define TEMP_BED_WINDOW              1  // (¬∞C) Temperature proximity for the "temperature reached" timer
-#define TEMP_BED_HYSTERESIS          3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#if TEMP_SENSOR_BED
+  #define TEMP_BED_RESIDENCY_TIME     10  // (seconds) Time to wait for bed to "settle" in M190
+  #define TEMP_BED_WINDOW              1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+  #define TEMP_BED_HYSTERESIS          3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#endif
 
-#define TEMP_CHAMBER_RESIDENCY_TIME 10  // (seconds) Time to wait for chamber to "settle" in M191
-#define TEMP_CHAMBER_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
-#define TEMP_CHAMBER_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#if TEMP_SENSOR_CHAMBER
+  #define TEMP_CHAMBER_RESIDENCY_TIME 10  // (seconds) Time to wait for chamber to "settle" in M191
+  #define TEMP_CHAMBER_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+  #define TEMP_CHAMBER_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#endif
 
 /**
  * Redundant Temperature Sensor (TEMP_SENSOR_REDUNDANT)
@@ -623,6 +634,8 @@
 //============================= PID Settings ================================
 //===========================================================================
 
+// @section hotend temp
+
 // Enable PIDTEMP for PID control or MPCTEMP for Predictive Model.
 // temperature control. Disable both for bang-bang heating.
 #define PIDTEMP          // See the PID Tuning Guide at https://reprap.org/wiki/PID_Tuning
@@ -633,7 +646,8 @@
 #define PID_K1 0.95      // Smoothing factor within any PID loop
 
 #if ENABLED(PIDTEMP)
-  //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
+  //#define PID_DEBUG             // Print PID debug data to the serial port. Use 'M303 D' to toggle activation.
+  //#define PID_PARAMS_PER_HOTEND // Use separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with G-code: M301 E[extruder number, 0-2]
 
   #if ENABLED(PID_PARAMS_PER_HOTEND)
@@ -655,6 +669,7 @@
  * Use a physical model of the hotend to control temperature. When configured correctly
  * this gives better responsiveness and stability than PID and it also removes the need
  * for PID_EXTRUSION_SCALING and PID_FAN_SCALING. Use M306 T to autotune the model.
+ * @section mpctemp
  */
 #if ENABLED(MPCTEMP)
   //#define MPC_EDIT_MENU                             // Add MPC editing to the "Advanced Settings" menu. (~1300 bytes of flash)
@@ -707,6 +722,7 @@
  * impact FET heating. This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W
  * heater. If your configuration is significantly different than this and you don't understand
  * the issues involved, don't use bed PID until someone else verifies that your hardware works.
+ * @section bed temp
  */
 //#define PIDTEMPBED
 
@@ -722,7 +738,7 @@
 
 #if ENABLED(PIDTEMPBED)
   //#define MIN_BED_POWER 0
-  //#define PID_BED_DEBUG // Sends debug data to the serial port.
+  //#define PID_BED_DEBUG // Print Bed PID debug data to the serial port.
 
   // 120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
   // from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
@@ -750,6 +766,7 @@
  * impact FET heating. This also works fine on a Fotek SSR-10DA Solid State Relay into a 200W
  * heater. If your configuration is significantly different than this and you don't understand
  * the issues involved, don't use chamber PID until someone else verifies that your hardware works.
+ * @section chamber temp
  */
 //#define PIDTEMPCHAMBER
 //#define CHAMBER_LIMIT_SWITCHING
@@ -764,7 +781,7 @@
 
 #if ENABLED(PIDTEMPCHAMBER)
   #define MIN_CHAMBER_POWER 0
-  //#define PID_CHAMBER_DEBUG // Sends debug data to the serial port.
+  //#define PID_CHAMBER_DEBUG // Print Chamber PID debug data to the serial port.
 
   // Lasko "MyHeat Personal Heater" (200w) modified with a Fotek SSR-10DA to control only the heating element
   // and placed inside the small Creality printer enclosure tent.
@@ -778,7 +795,6 @@
 #endif // PIDTEMPCHAMBER
 
 #if ANY(PIDTEMP, PIDTEMPBED, PIDTEMPCHAMBER)
-  //#define PID_DEBUG             // Sends debug data to the serial port. Use 'M303 D' to toggle activation.
   //#define PID_OPENLOOP          // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
@@ -788,7 +804,7 @@
   //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of flash)
 #endif
 
-// @section extruder
+// @section safety
 
 /**
  * Prevent extrusion if the temperature is below EXTRUDE_MINTEMP.
@@ -856,6 +872,8 @@
   #define POLAR_SEGMENTS_PER_SECOND 5
 #endif
 
+// @section delta
+
 // Enable for DELTA kinematics and configure below
 //#define DELTA
 #if ENABLED(DELTA)
@@ -915,6 +933,8 @@
   //#define DELTA_DIAGONAL_ROD_TRIM_TOWER { 0.0, 0.0, 0.0 }
 #endif
 
+// @section scara
+
 /**
  * MORGAN_SCARA was developed by QHARLEY in South Africa in 2012-2013.
  * Implemented and slightly reworked by JCERNY in June, 2014.
@@ -958,6 +978,8 @@
 
 #endif
 
+// @section tpara
+
 // Enable for TPARA kinematics and configure below
 //#define AXEL_TPARA
 #if ENABLED(AXEL_TPARA)
@@ -984,6 +1006,8 @@
   #define PSI_HOMING_OFFSET    0
 #endif
 
+// @section machine
+
 // Articulated robot (arm). Joints are directly mapped to axes with no kinematics.
 //#define ARTICULATED_ROBOT_ARM
 
@@ -995,7 +1019,7 @@
 //============================== Endstop Settings ===========================
 //===========================================================================
 
-// @section homing
+// @section endstops
 
 // Specify here all the endstop connectors that are connected to any endstop or probe.
 // Almost all printers will be using one per axis. Probes will use one or more of the
@@ -1659,7 +1683,7 @@
 //#define V_HOME_DIR -1
 //#define W_HOME_DIR -1
 
-// @section machine
+// @section geometry
 
 // The size of the printable area
 #define X_BED_SIZE 200
@@ -2119,7 +2143,7 @@
 //============================= Additional Features ===========================
 //=============================================================================
 
-// @section extras
+// @section eeprom
 
 /**
  * EEPROM
@@ -2139,6 +2163,8 @@
   //#define EEPROM_INIT_NOW   // Init EEPROM on first boot after a new build.
 #endif
 
+// @section host
+
 //
 // Host Keepalive
 //
@@ -2149,6 +2175,8 @@
 #define DEFAULT_KEEPALIVE_INTERVAL 2  // Number of seconds between "busy" messages. Set with M113.
 #define BUSY_WHILE_HEATING            // Some hosts require "busy" messages even during heating
 
+// @section units
+
 //
 // G20/G21 Inch mode support
 //
@@ -2176,6 +2204,8 @@
 #define PREHEAT_2_TEMP_CHAMBER 35
 #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
 
+// @section motion
+
 /**
  * Nozzle Park
  *
@@ -2274,6 +2304,8 @@
 
 #endif
 
+// @section host
+
 /**
  * Print Job Timer
  *
@@ -2300,6 +2332,8 @@
  */
 #define PRINTJOB_TIMER_AUTOSTART
 
+// @section stats
+
 /**
  * Print Counter
  *
@@ -2317,6 +2351,8 @@
   #define PRINTCOUNTER_SAVE_INTERVAL 60 // (minutes) EEPROM save interval during print
 #endif
 
+// @section security
+
 /**
  * Password
  *
@@ -2352,7 +2388,7 @@
 //============================= LCD and SD support ============================
 //=============================================================================
 
-// @section lcd
+// @section interface
 
 /**
  * LCD LANGUAGE
@@ -2508,6 +2544,7 @@
 //======================== LCD / Controller Selection =========================
 //========================   (Character-based LCDs)   =========================
 //=============================================================================
+// @section lcd
 
 //
 // RepRapDiscount Smart Controller.
@@ -3142,7 +3179,7 @@
 //=============================== Extra Features ==============================
 //=============================================================================
 
-// @section extras
+// @section fans
 
 // Set number of user-controlled fans. Disable to use all board-defined fans.
 // :[1,2,3,4,5,6,7,8]
@@ -3166,14 +3203,18 @@
 // duty cycle is attained.
 //#define SOFT_PWM_DITHER
 
+// @section extras
+
+// Support for the BariCUDA Paste Extruder
+//#define BARICUDA
+
+// @section lights
+
 // Temperature status LEDs that display the hotend and bed temperature.
 // If all hotends, bed temperature, and target temperature are under 54C
 // then the BLUE led is on. Otherwise the RED led is on. (1C hysteresis)
 //#define TEMP_STAT_LEDS
 
-// Support for the BariCUDA Paste Extruder
-//#define BARICUDA
-
 // Support for BlinkM/CyzRgb
 //#define BLINKM
 
@@ -3259,6 +3300,8 @@
   #define PRINTER_EVENT_LEDS
 #endif
 
+// @section servos
+
 /**
  * Number of servos
  *

commit 91f9e1671f5bb2dc8ba00adce022cd74f5267c39
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sat Jul 30 22:55:32 2022 -0400

    ‚ú® Configurable Switching Nozzle dwell (#24304)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5e452f3c49..986e3c49ab 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -270,6 +270,7 @@
   #define SWITCHING_NOZZLE_SERVO_NR 0
   //#define SWITCHING_NOZZLE_E1_SERVO_NR 1          // If two servos are used, the index of the second
   #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // Angles for E0, E1 (single servo) or lowered/raised (dual servo)
+  #define SWITCHING_NOZZLE_SERVO_DWELL 2500         // Dwell time to wait for servo to make physical move
 #endif
 
 /**

commit f4b6870ad151d5b00083c077c501ce1522c0027d
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sat Jul 30 17:51:25 2022 -0700

    ‚ú® Encoder Noise Filter (#24538)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2f34ebb7e8..5e452f3c49 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2467,6 +2467,16 @@
 //
 //#define REVERSE_SELECT_DIRECTION
 
+//
+// Encoder EMI Noise Filter
+//
+// This option increases encoder samples to filter out phantom encoder clicks caused by EMI noise.
+//
+//#define ENCODER_NOISE_FILTER
+#if ENABLED(ENCODER_NOISE_FILTER)
+  #define ENCODER_SAMPLES 10
+#endif
+
 //
 // Individual Axis Homing
 //

commit a29fb8088f745d1bd5f3acee3ef4f9bb22c91886
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Mon Jul 25 11:47:07 2022 -0700

    üìù Update MPCTEMP G-Code M306 T (#24535)
    
    M306 simply reports current values. M306 T starts autotune process.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 233da942a7..2f34ebb7e8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -653,7 +653,7 @@
  *
  * Use a physical model of the hotend to control temperature. When configured correctly
  * this gives better responsiveness and stability than PID and it also removes the need
- * for PID_EXTRUSION_SCALING and PID_FAN_SCALING. Use M306 to autotune the model.
+ * for PID_EXTRUSION_SCALING and PID_FAN_SCALING. Use M306 T to autotune the model.
  */
 #if ENABLED(MPCTEMP)
   //#define MPC_EDIT_MENU                             // Add MPC editing to the "Advanced Settings" menu. (~1300 bytes of flash)

commit 007af4776880fda761e925bce383ac41a7769833
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Jul 22 21:59:00 2022 -0500

    ‚ú® Reinstate JyersUI

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4d9bf8871f..233da942a7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3084,6 +3084,7 @@
 //
 //#define DWIN_CREALITY_LCD           // Creality UI
 //#define DWIN_LCD_PROUI              // Pro UI by MRiscoC
+//#define DWIN_CREALITY_LCD_JYERSUI   // Jyers UI by Jacob Myers
 //#define DWIN_MARLINUI_PORTRAIT      // MarlinUI (portrait orientation)
 //#define DWIN_MARLINUI_LANDSCAPE     // MarlinUI (landscape orientation)
 

commit 3f4e4a4d891e3c4b73ab80aedec46e69c1b59f0d
Author: Bob Kuhn <bob.kuhn@att.net>
Date:   Wed Jul 13 22:16:22 2022 -0500

    üî• Drop STM L64** drivers, STEVAL_3DP001V1 (#24427)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e05428ad08..4d9bf8871f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -148,13 +148,12 @@
  *
  * Use TMC2208/TMC2208_STANDALONE for TMC2225 drivers and TMC2209/TMC2209_STANDALONE for TMC2226 drivers.
  *
- * Options: A4988, A5984, DRV8825, LV8729, L6470, L6474, POWERSTEP01,
- *          TB6560, TB6600, TMC2100,
+ * Options: A4988, A5984, DRV8825, LV8729, TB6560, TB6600, TMC2100,
  *          TMC2130, TMC2130_STANDALONE, TMC2160, TMC2160_STANDALONE,
  *          TMC2208, TMC2208_STANDALONE, TMC2209, TMC2209_STANDALONE,
  *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
  *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
- * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'L6474', 'POWERSTEP01', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
+ * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
 #define X_DRIVER_TYPE  A4988
 #define Y_DRIVER_TYPE  A4988

commit 5979aab1c7cf96d91b89775ae988e59e3ff40106
Author: Farva42 <100859196+Farva42@users.noreply.github.com>
Date:   Wed Jul 6 19:40:09 2022 -0600

    ‚ú® MAG_MOUNTED_PROBE (#24420)
    
    Co-Authored-By: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 788bd64075..e05428ad08 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1343,6 +1343,27 @@
   #define Z_PROBE_RETRACT_X X_MAX_POS
 #endif
 
+/**
+ * Magnetically Mounted Probe
+ * For probes such as Euclid, Klicky, Klackender, etc.
+ */
+//#define MAG_MOUNTED_PROBE
+#if ENABLED(MAG_MOUNTED_PROBE)
+  #define PROBE_DEPLOY_FEEDRATE (133*60)  // (mm/min) Probe deploy speed
+  #define PROBE_STOW_FEEDRATE   (133*60)  // (mm/min) Probe stow speed
+
+  #define MAG_MOUNTED_DEPLOY_1 { PROBE_DEPLOY_FEEDRATE, { 245, 114, 30 } }  // Move to side Dock & Attach probe
+  #define MAG_MOUNTED_DEPLOY_2 { PROBE_DEPLOY_FEEDRATE, { 210, 114, 30 } }  // Move probe off dock
+  #define MAG_MOUNTED_DEPLOY_3 { PROBE_DEPLOY_FEEDRATE, {   0,   0,  0 } }  // Extra move if needed
+  #define MAG_MOUNTED_DEPLOY_4 { PROBE_DEPLOY_FEEDRATE, {   0,   0,  0 } }  // Extra move if needed
+  #define MAG_MOUNTED_DEPLOY_5 { PROBE_DEPLOY_FEEDRATE, {   0,   0,  0 } }  // Extra move if needed
+  #define MAG_MOUNTED_STOW_1   { PROBE_STOW_FEEDRATE,   { 245, 114, 20 } }  // Move to dock
+  #define MAG_MOUNTED_STOW_2   { PROBE_STOW_FEEDRATE,   { 245, 114,  0 } }  // Place probe beside remover
+  #define MAG_MOUNTED_STOW_3   { PROBE_STOW_FEEDRATE,   { 230, 114,  0 } }  // Side move to remove probe
+  #define MAG_MOUNTED_STOW_4   { PROBE_STOW_FEEDRATE,   { 210, 114, 20 } }  // Side move to remove probe
+  #define MAG_MOUNTED_STOW_5   { PROBE_STOW_FEEDRATE,   {   0,   0,  0 } }  // Extra move if needed
+#endif
+
 // Duet Smart Effector (for delta printers) - https://bit.ly/2ul5U7J
 // When the pin is defined you can use M672 to set/reset the probe sensitivity.
 //#define DUET_SMART_EFFECTOR

commit f73fad1b2fa6e70b3d632969ecf2773bee826643
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Jul 6 19:34:45 2022 -0500

    üî• Remove JyersUI (#24459)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 88b92e1837..788bd64075 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3064,7 +3064,6 @@
 //
 //#define DWIN_CREALITY_LCD           // Creality UI
 //#define DWIN_LCD_PROUI              // Pro UI by MRiscoC
-//#define DWIN_CREALITY_LCD_JYERSUI   // Jyers UI by Jacob Myers
 //#define DWIN_MARLINUI_PORTRAIT      // MarlinUI (portrait orientation)
 //#define DWIN_MARLINUI_LANDSCAPE     // MarlinUI (landscape orientation)
 

commit 1497c40379185c14a93dbd0e7405baf366c8e20d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Jul 6 19:29:07 2022 -0500

    üìù Configurations 02010100 (#24458)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce2b8fcd6f..88b92e1837 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 02010000
+#define CONFIGURATION_H_VERSION 02010100
 
 //===========================================================================
 //============================= Getting Started =============================
@@ -57,15 +57,6 @@
  *                      https://www.thingiverse.com/thing:1278865
  */
 
-//===========================================================================
-//========================== DELTA / SCARA / TPARA ==========================
-//===========================================================================
-//
-// Download configurations from the link above and customize for your machine.
-// Examples are located in config/examples/delta, .../SCARA, and .../TPARA.
-//
-//===========================================================================
-
 // @section info
 
 // Author info of this build printed to the host during boot and M115
@@ -865,7 +856,135 @@
   #define POLAR_SEGMENTS_PER_SECOND 5
 #endif
 
-// Enable for an articulated robot (robot arm). Joints are directly mapped to axes (no kinematics).
+// Enable for DELTA kinematics and configure below
+//#define DELTA
+#if ENABLED(DELTA)
+
+  // Make delta curves from many straight lines (linear interpolation).
+  // This is a trade-off between visible corners (not enough segments)
+  // and processor overload (too many expensive sqrt calls).
+  #define DELTA_SEGMENTS_PER_SECOND 200
+
+  // After homing move down to a height where XY movement is unconstrained
+  //#define DELTA_HOME_TO_SAFE_ZONE
+
+  // Delta calibration menu
+  // uncomment to add three points calibration menu option.
+  // See http://minow.blogspot.com/index.html#4918805519571907051
+  //#define DELTA_CALIBRATION_MENU
+
+  // uncomment to add G33 Delta Auto-Calibration (Enable EEPROM_SETTINGS to store results)
+  //#define DELTA_AUTO_CALIBRATION
+
+  // NOTE NB all values for DELTA_* values MUST be floating point, so always have a decimal point in them
+
+  #if ENABLED(DELTA_AUTO_CALIBRATION)
+    // set the default number of probe points : n*n (1 -> 7)
+    #define DELTA_CALIBRATION_DEFAULT_POINTS 4
+  #endif
+
+  #if EITHER(DELTA_AUTO_CALIBRATION, DELTA_CALIBRATION_MENU)
+    // Set the steprate for papertest probing
+    #define PROBE_MANUALLY_STEP 0.05      // (mm)
+  #endif
+
+  // Print surface diameter/2 minus unreachable space (avoid collisions with vertical towers).
+  #define DELTA_PRINTABLE_RADIUS 140.0    // (mm)
+
+  // Maximum reachable area
+  #define DELTA_MAX_RADIUS       140.0    // (mm)
+
+  // Center-to-center distance of the holes in the diagonal push rods.
+  #define DELTA_DIAGONAL_ROD 250.0        // (mm)
+
+  // Distance between bed and nozzle Z home position
+  #define DELTA_HEIGHT 250.00             // (mm) Get this value from G33 auto calibrate
+
+  #define DELTA_ENDSTOP_ADJ { 0.0, 0.0, 0.0 } // Get these values from G33 auto calibrate
+
+  // Horizontal distance bridged by diagonal push rods when effector is centered.
+  #define DELTA_RADIUS 124.0              // (mm) Get this value from G33 auto calibrate
+
+  // Trim adjustments for individual towers
+  // tower angle corrections for X and Y tower / rotate XYZ so Z tower angle = 0
+  // measured in degrees anticlockwise looking from above the printer
+  #define DELTA_TOWER_ANGLE_TRIM { 0.0, 0.0, 0.0 } // Get these values from G33 auto calibrate
+
+  // Delta radius and diagonal rod adjustments (mm)
+  //#define DELTA_RADIUS_TRIM_TOWER { 0.0, 0.0, 0.0 }
+  //#define DELTA_DIAGONAL_ROD_TRIM_TOWER { 0.0, 0.0, 0.0 }
+#endif
+
+/**
+ * MORGAN_SCARA was developed by QHARLEY in South Africa in 2012-2013.
+ * Implemented and slightly reworked by JCERNY in June, 2014.
+ *
+ * Mostly Printed SCARA is an open source design by Tyler Williams. See:
+ *   https://www.thingiverse.com/thing:2487048
+ *   https://www.thingiverse.com/thing:1241491
+ */
+//#define MORGAN_SCARA
+//#define MP_SCARA
+#if EITHER(MORGAN_SCARA, MP_SCARA)
+  // If movement is choppy try lowering this value
+  #define SCARA_SEGMENTS_PER_SECOND 200
+
+  // Length of inner and outer support arms. Measure arm lengths precisely.
+  #define SCARA_LINKAGE_1 150       // (mm)
+  #define SCARA_LINKAGE_2 150       // (mm)
+
+  // SCARA tower offset (position of Tower relative to bed zero position)
+  // This needs to be reasonably accurate as it defines the printbed position in the SCARA space.
+  #define SCARA_OFFSET_X  100       // (mm)
+  #define SCARA_OFFSET_Y  -56       // (mm)
+
+  #if ENABLED(MORGAN_SCARA)
+
+    //#define DEBUG_SCARA_KINEMATICS
+    #define SCARA_FEEDRATE_SCALING  // Convert XY feedrate from mm/s to degrees/s on the fly
+
+    // Radius around the center where the arm cannot reach
+    #define MIDDLE_DEAD_ZONE_R   0  // (mm)
+
+    #define THETA_HOMING_OFFSET  0  // Calculated from Calibration Guide and M360 / M114. See http://reprap.harleystudio.co.za/?page_id=1073
+    #define PSI_HOMING_OFFSET    0  // Calculated from Calibration Guide and M364 / M114. See http://reprap.harleystudio.co.za/?page_id=1073
+
+  #elif ENABLED(MP_SCARA)
+
+    #define SCARA_OFFSET_THETA1  12 // degrees
+    #define SCARA_OFFSET_THETA2 131 // degrees
+
+  #endif
+
+#endif
+
+// Enable for TPARA kinematics and configure below
+//#define AXEL_TPARA
+#if ENABLED(AXEL_TPARA)
+  #define DEBUG_ROBOT_KINEMATICS
+  #define ROBOT_SEGMENTS_PER_SECOND 200
+
+  // Length of inner and outer support arms. Measure arm lengths precisely.
+  #define ROBOT_LINKAGE_1 120       // (mm)
+  #define ROBOT_LINKAGE_2 120       // (mm)
+
+  // SCARA tower offset (position of Tower relative to bed zero position)
+  // This needs to be reasonably accurate as it defines the printbed position in the SCARA space.
+  #define ROBOT_OFFSET_X    0       // (mm)
+  #define ROBOT_OFFSET_Y    0       // (mm)
+  #define ROBOT_OFFSET_Z    0       // (mm)
+
+  #define SCARA_FEEDRATE_SCALING  // Convert XY feedrate from mm/s to degrees/s on the fly
+
+  // Radius around the center where the arm cannot reach
+  #define MIDDLE_DEAD_ZONE_R   0  // (mm)
+
+  // Calculated from Calibration Guide and M360 / M114. See http://reprap.harleystudio.co.za/?page_id=1073
+  #define THETA_HOMING_OFFSET  0
+  #define PSI_HOMING_OFFSET    0
+#endif
+
+// Articulated robot (arm). Joints are directly mapped to axes with no kinematics.
 //#define ARTICULATED_ROBOT_ARM
 
 // For a hot wire cutter with parallel horizontal axes (X, I) where the heights of the two wire
@@ -1239,9 +1358,37 @@
  */
 //#define SENSORLESS_PROBING
 
-//
-// For Z_PROBE_ALLEN_KEY see the Delta example configurations.
-//
+/**
+ * Allen key retractable z-probe as seen on many Kossel delta printers - https://reprap.org/wiki/Kossel#Automatic_bed_leveling_probe
+ * Deploys by touching z-axis belt. Retracts by pushing the probe down.
+ */
+//#define Z_PROBE_ALLEN_KEY
+#if ENABLED(Z_PROBE_ALLEN_KEY)
+  // 2 or 3 sets of coordinates for deploying and retracting the spring loaded touch probe on G29,
+  // if servo actuated touch probe is not defined. Uncomment as appropriate for your printer/probe.
+
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_1 { 30.0, DELTA_PRINTABLE_RADIUS, 100.0 }
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_1_FEEDRATE XY_PROBE_FEEDRATE
+
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_2 { 0.0, DELTA_PRINTABLE_RADIUS, 100.0 }
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_2_FEEDRATE (XY_PROBE_FEEDRATE)/10
+
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_3 { 0.0, (DELTA_PRINTABLE_RADIUS) * 0.75, 100.0 }
+  #define Z_PROBE_ALLEN_KEY_DEPLOY_3_FEEDRATE XY_PROBE_FEEDRATE
+
+  #define Z_PROBE_ALLEN_KEY_STOW_1 { -64.0, 56.0, 23.0 } // Move the probe into position
+  #define Z_PROBE_ALLEN_KEY_STOW_1_FEEDRATE XY_PROBE_FEEDRATE
+
+  #define Z_PROBE_ALLEN_KEY_STOW_2 { -64.0, 56.0, 3.0 } // Push it down
+  #define Z_PROBE_ALLEN_KEY_STOW_2_FEEDRATE (XY_PROBE_FEEDRATE)/10
+
+  #define Z_PROBE_ALLEN_KEY_STOW_3 { -64.0, 56.0, 50.0 } // Move it up to clear
+  #define Z_PROBE_ALLEN_KEY_STOW_3_FEEDRATE XY_PROBE_FEEDRATE
+
+  #define Z_PROBE_ALLEN_KEY_STOW_4 { 0.0, 0.0, 50.0 }
+  #define Z_PROBE_ALLEN_KEY_STOW_4_FEEDRATE XY_PROBE_FEEDRATE
+
+#endif // Z_PROBE_ALLEN_KEY
 
 /**
  * Nozzle-to-Probe offsets { X, Y, Z }
@@ -1816,7 +1963,7 @@
 //#define LCD_BED_TRAMMING
 
 #if ENABLED(LCD_BED_TRAMMING)
-  #define BED_TRAMMING_INSET_LFRB { 30, 30, 30, 30 }  // (mm) Left, Front, Right, Back insets
+  #define BED_TRAMMING_INSET_LFRB { 30, 30, 30, 30 } // (mm) Left, Front, Right, Back insets
   #define BED_TRAMMING_HEIGHT      0.0        // (mm) Z height of nozzle at leveling points
   #define BED_TRAMMING_Z_HOP       4.0        // (mm) Z height of nozzle between leveling points
   //#define BED_TRAMMING_INCLUDE_CENTER       // Move to the center after the last corner

commit 58048e7748568a77d64832e0c9ce2eada1e3873a
Author: Christophe Huriaux <c.huriaux@gmail.com>
Date:   Wed Jul 6 22:43:38 2022 +0200

    ü©π Fix ST7565 LCD contrast init (#24457)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 15106a20a3..ce2b8fcd6f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2631,6 +2631,12 @@
 //
 //#define SILVER_GATE_GLCD_CONTROLLER
 
+//
+// eMotion Tech LCD with SD
+// https://www.reprap-france.com/produit/1234568748-ecran-graphique-128-x-64-points-2-1
+//
+//#define EMOTION_TECH_LCD
+
 //=============================================================================
 //==============================  OLED Displays  ==============================
 //=============================================================================

commit b06e378703d9046b01c24d73bfb647b08517a91f
Author: DerAndere <26200979+DerAndere1@users.noreply.github.com>
Date:   Wed Jun 22 04:07:17 2022 +0200

    ‚ú® FOAMCUTTER_XYUV (for RAMPS) (#24325)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6d38e833cc..15106a20a3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -865,6 +865,13 @@
   #define POLAR_SEGMENTS_PER_SECOND 5
 #endif
 
+// Enable for an articulated robot (robot arm). Joints are directly mapped to axes (no kinematics).
+//#define ARTICULATED_ROBOT_ARM
+
+// For a hot wire cutter with parallel horizontal axes (X, I) where the heights of the two wire
+// ends are controlled by parallel axes (Y, J). Joints are directly mapped to axes (no kinematics).
+//#define FOAMCUTTER_XYUV
+
 //===========================================================================
 //============================== Endstop Settings ===========================
 //===========================================================================

commit 2b3ba02f09832379cffa4fc1baaa055228b82fe8
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Jun 3 18:16:43 2022 -0500

    üîß LEVEL_BED_CORNERS => LCD_BED_TRAMMING

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cdfaa49fb6..6d38e833cc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1806,18 +1806,18 @@
 #endif
 
 // Add a menu item to move between bed corners for manual bed adjustment
-//#define LEVEL_BED_CORNERS
-
-#if ENABLED(LEVEL_BED_CORNERS)
-  #define LEVEL_CORNERS_INSET_LFRB { 30, 30, 30, 30 } // (mm) Left, Front, Right, Back insets
-  #define LEVEL_CORNERS_HEIGHT      0.0   // (mm) Z height of nozzle at leveling points
-  #define LEVEL_CORNERS_Z_HOP       4.0   // (mm) Z height of nozzle between leveling points
-  //#define LEVEL_CENTER_TOO              // Move to the center after the last corner
-  //#define LEVEL_CORNERS_USE_PROBE
-  #if ENABLED(LEVEL_CORNERS_USE_PROBE)
-    #define LEVEL_CORNERS_PROBE_TOLERANCE 0.1
-    #define LEVEL_CORNERS_VERIFY_RAISED   // After adjustment triggers the probe, re-probe to verify
-    //#define LEVEL_CORNERS_AUDIO_FEEDBACK
+//#define LCD_BED_TRAMMING
+
+#if ENABLED(LCD_BED_TRAMMING)
+  #define BED_TRAMMING_INSET_LFRB { 30, 30, 30, 30 }  // (mm) Left, Front, Right, Back insets
+  #define BED_TRAMMING_HEIGHT      0.0        // (mm) Z height of nozzle at leveling points
+  #define BED_TRAMMING_Z_HOP       4.0        // (mm) Z height of nozzle between leveling points
+  //#define BED_TRAMMING_INCLUDE_CENTER       // Move to the center after the last corner
+  //#define BED_TRAMMING_USE_PROBE
+  #if ENABLED(BED_TRAMMING_USE_PROBE)
+    #define BED_TRAMMING_PROBE_TOLERANCE 0.1  // (mm)
+    #define BED_TRAMMING_VERIFY_RAISED        // After adjustment triggers the probe, re-probe to verify
+    //#define BED_TRAMMING_AUDIO_FEEDBACK
   #endif
 
   /**
@@ -1837,7 +1837,7 @@
    *  |  1       2  |   | 1         4 |    | 1         2 |   | 2           |
    *  LF --------- RF   LF --------- RF    LF --------- RF   LF --------- RF
    */
-  #define LEVEL_CORNERS_LEVELING_ORDER { LF, RF, RB, LB }
+  #define BED_TRAMMING_LEVELING_ORDER { LF, RF, RB, LB }
 #endif
 
 /**

commit 58ce5182c2ea93e79ccaef4c912c68aa554e637e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue May 31 12:43:44 2022 -0500

    üé® Fix spelling, whitespace

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a1561ce731..cdfaa49fb6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -643,7 +643,7 @@
 
 #if ENABLED(PIDTEMP)
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
-                                  // Set/get with gcode: M301 E[extruder number, 0-2]
+                                  // Set/get with G-code: M301 E[extruder number, 0-2]
 
   #if ENABLED(PID_PARAMS_PER_HOTEND)
     // Specify up to one value per hotend here, according to your setup.

commit 6ecf52f196d08d399c24b1516fc0b33b227ed66c
Author: tombrazier <68918209+tombrazier@users.noreply.github.com>
Date:   Sat May 28 23:40:08 2022 +0100

    üö© MPC update (#24253)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b43421f930..a1561ce731 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -688,15 +688,15 @@
     //#define MPC_FAN_0_ACTIVE_HOTEND
   #endif
 
-  #define FILAMENT_HEAT_CAPACITY_PERMM 5.6e-3f        // 0.0056 J/K/mm for 1.75mm PLA (0.0149 J/K/mm for 2.85mm PLA).
-  //#define FILAMENT_HEAT_CAPACITY_PERMM 3.6e-3f      // 0.0036 J/K/mm for 1.75mm PETG (0.0094 J/K/mm for 2.85mm PETG).
+  #define FILAMENT_HEAT_CAPACITY_PERMM { 5.6e-3f }    // 0.0056 J/K/mm for 1.75mm PLA (0.0149 J/K/mm for 2.85mm PLA).
+  //#define FILAMENT_HEAT_CAPACITY_PERMM { 3.6e-3f }  // 0.0036 J/K/mm for 1.75mm PETG (0.0094 J/K/mm for 2.85mm PETG).
 
   // Advanced options
   #define MPC_SMOOTHING_FACTOR 0.5f                   // (0.0...1.0) Noisy temperature sensors may need a lower value for stabilization.
   #define MPC_MIN_AMBIENT_CHANGE 1.0f                 // (K/s) Modeled ambient temperature rate of change, when correcting model inaccuracies.
   #define MPC_STEADYSTATE 0.5f                        // (K/s) Temperature change rate for steady state logic to be enforced.
 
-  #define MPC_TUNING_POS { X_CENTER, Y_CENTER, 1.0f } // (mm) M306 Autotuning position, ideally bed center just above the surface.
+  #define MPC_TUNING_POS { X_CENTER, Y_CENTER, 1.0f } // (mm) M306 Autotuning position, ideally bed center at first layer height.
   #define MPC_TUNING_END_Z 10.0f                      // (mm) M306 Autotuning final Z position.
 #endif
 

commit 2bb9e0d58e6513b47f90e729876de98ac7ccdade
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 20 11:27:09 2022 -0500

    üîß Remove LCD_SERIAL_PORT defaults, warn on auto-assign (#24170)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 875adc21a4..b43421f930 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2732,9 +2732,6 @@
 // Touch-screen LCD for Malyan M200/M300 printers
 //
 //#define MALYAN_LCD
-#if ENABLED(MALYAN_LCD)
-  #define LCD_SERIAL_PORT 1  // Default is 1 for Malyan M200
-#endif
 
 //
 // Touch UI for FTDI EVE (FT800/FT810) displays
@@ -2748,7 +2745,6 @@
 //#define ANYCUBIC_LCD_I3MEGA
 //#define ANYCUBIC_LCD_CHIRON
 #if EITHER(ANYCUBIC_LCD_I3MEGA, ANYCUBIC_LCD_CHIRON)
-  #define LCD_SERIAL_PORT 3  // Default is 3 for Anycubic
   //#define ANYCUBIC_LCD_DEBUG
 #endif
 
@@ -2756,9 +2752,6 @@
 // 320x240 Nextion 2.8" serial TFT Resistive Touch Screen NX3224T028
 //
 //#define NEXTION_TFT
-#if ENABLED(NEXTION_TFT)
-  #define LCD_SERIAL_PORT 1  // Default is 1 for Nextion
-#endif
 
 //
 // Third-party or vendor-customized controller interfaces.

commit df40181357b08761766067ef5012b2b3d0e34d3e
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Wed May 4 17:25:02 2022 -0700

    üí• Num Axes and Multi-Stepper based on Driver Types (#24120)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 04e1115728..875adc21a4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -155,8 +155,6 @@
  * These settings allow Marlin to tune stepper driver timing and enable advanced options for
  * stepper drivers that support them. You may also override timing options in Configuration_adv.h.
  *
- * A4988 is assumed for unspecified drivers.
- *
  * Use TMC2208/TMC2208_STANDALONE for TMC2225 drivers and TMC2209/TMC2209_STANDALONE for TMC2226 drivers.
  *
  * Options: A4988, A5984, DRV8825, LV8729, L6470, L6474, POWERSTEP01,

commit b37d13af7278c241064b61279e7e8538a03206a3
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Apr 29 15:21:15 2022 -0500

    üîß Base NUM_AXES on defined DRIVER_TYPEs (#24106)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5e58d52732..04e1115728 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -150,20 +150,45 @@
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
 /**
- * Define the number of coordinated axes.
- * See https://github.com/DerAndere1/Marlin/wiki
- * Each axis gets its own stepper control and endstop:
+ * Stepper Drivers
+ *
+ * These settings allow Marlin to tune stepper driver timing and enable advanced options for
+ * stepper drivers that support them. You may also override timing options in Configuration_adv.h.
+ *
+ * A4988 is assumed for unspecified drivers.
  *
- *   Steppers: *_STEP_PIN, *_ENABLE_PIN, *_DIR_PIN, *_ENABLE_ON
- *   Endstops: *_STOP_PIN, USE_*MIN_PLUG, USE_*MAX_PLUG
- *       Axes: *_MIN_POS, *_MAX_POS, INVERT_*_DIR
- *    Planner: DEFAULT_AXIS_STEPS_PER_UNIT, DEFAULT_MAX_FEEDRATE
- *             DEFAULT_MAX_ACCELERATION, AXIS_RELATIVE_MODES,
- *             MICROSTEP_MODES, MANUAL_FEEDRATE
+ * Use TMC2208/TMC2208_STANDALONE for TMC2225 drivers and TMC2209/TMC2209_STANDALONE for TMC2226 drivers.
  *
- * :[3, 4, 5, 6, 7, 8, 9]
+ * Options: A4988, A5984, DRV8825, LV8729, L6470, L6474, POWERSTEP01,
+ *          TB6560, TB6600, TMC2100,
+ *          TMC2130, TMC2130_STANDALONE, TMC2160, TMC2160_STANDALONE,
+ *          TMC2208, TMC2208_STANDALONE, TMC2209, TMC2209_STANDALONE,
+ *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
+ *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
+ * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'L6474', 'POWERSTEP01', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
-//#define NUM_AXES 3
+#define X_DRIVER_TYPE  A4988
+#define Y_DRIVER_TYPE  A4988
+#define Z_DRIVER_TYPE  A4988
+//#define X2_DRIVER_TYPE A4988
+//#define Y2_DRIVER_TYPE A4988
+//#define Z2_DRIVER_TYPE A4988
+//#define Z3_DRIVER_TYPE A4988
+//#define Z4_DRIVER_TYPE A4988
+//#define I_DRIVER_TYPE  A4988
+//#define J_DRIVER_TYPE  A4988
+//#define K_DRIVER_TYPE  A4988
+//#define U_DRIVER_TYPE  A4988
+//#define V_DRIVER_TYPE  A4988
+//#define W_DRIVER_TYPE  A4988
+#define E0_DRIVER_TYPE A4988
+//#define E1_DRIVER_TYPE A4988
+//#define E2_DRIVER_TYPE A4988
+//#define E3_DRIVER_TYPE A4988
+//#define E4_DRIVER_TYPE A4988
+//#define E5_DRIVER_TYPE A4988
+//#define E6_DRIVER_TYPE A4988
+//#define E7_DRIVER_TYPE A4988
 
 /**
  * Additional Axis Settings
@@ -182,27 +207,27 @@
  *
  * Regardless of these settings the axes are internally named I, J, K, U, V, W.
  */
-#if NUM_AXES >= 4
+#ifdef I_DRIVER_TYPE
   #define AXIS4_NAME 'A' // :['A', 'B', 'C', 'U', 'V', 'W']
   #define AXIS4_ROTATES
 #endif
-#if NUM_AXES >= 5
+#ifdef J_DRIVER_TYPE
   #define AXIS5_NAME 'B' // :['B', 'C', 'U', 'V', 'W']
   #define AXIS5_ROTATES
 #endif
-#if NUM_AXES >= 6
+#ifdef K_DRIVER_TYPE
   #define AXIS6_NAME 'C' // :['C', 'U', 'V', 'W']
   #define AXIS6_ROTATES
 #endif
-#if NUM_AXES >= 7
+#ifdef U_DRIVER_TYPE
   #define AXIS7_NAME 'U' // :['U', 'V', 'W']
   //#define AXIS7_ROTATES
 #endif
-#if NUM_AXES >= 8
+#ifdef V_DRIVER_TYPE
   #define AXIS8_NAME 'V' // :['V', 'W']
   //#define AXIS8_ROTATES
 #endif
-#if NUM_AXES >= 9
+#ifdef W_DRIVER_TYPE
   #define AXIS9_NAME 'W' // :['W']
   //#define AXIS9_ROTATES
 #endif
@@ -941,47 +966,6 @@
 #define W_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Z_MIN_PROBE_ENDSTOP_INVERTING false // Set to true to invert the logic of the probe.
 
-/**
- * Stepper Drivers
- *
- * These settings allow Marlin to tune stepper driver timing and enable advanced options for
- * stepper drivers that support them. You may also override timing options in Configuration_adv.h.
- *
- * A4988 is assumed for unspecified drivers.
- *
- * Use TMC2208/TMC2208_STANDALONE for TMC2225 drivers and TMC2209/TMC2209_STANDALONE for TMC2226 drivers.
- *
- * Options: A4988, A5984, DRV8825, LV8729, L6470, L6474, POWERSTEP01,
- *          TB6560, TB6600, TMC2100,
- *          TMC2130, TMC2130_STANDALONE, TMC2160, TMC2160_STANDALONE,
- *          TMC2208, TMC2208_STANDALONE, TMC2209, TMC2209_STANDALONE,
- *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
- *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
- * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'L6474', 'POWERSTEP01', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
- */
-#define X_DRIVER_TYPE  A4988
-#define Y_DRIVER_TYPE  A4988
-#define Z_DRIVER_TYPE  A4988
-//#define X2_DRIVER_TYPE A4988
-//#define Y2_DRIVER_TYPE A4988
-//#define Z2_DRIVER_TYPE A4988
-//#define Z3_DRIVER_TYPE A4988
-//#define Z4_DRIVER_TYPE A4988
-//#define I_DRIVER_TYPE  A4988
-//#define J_DRIVER_TYPE  A4988
-//#define K_DRIVER_TYPE  A4988
-//#define U_DRIVER_TYPE  A4988
-//#define V_DRIVER_TYPE  A4988
-//#define W_DRIVER_TYPE  A4988
-#define E0_DRIVER_TYPE A4988
-//#define E1_DRIVER_TYPE A4988
-//#define E2_DRIVER_TYPE A4988
-//#define E3_DRIVER_TYPE A4988
-//#define E4_DRIVER_TYPE A4988
-//#define E5_DRIVER_TYPE A4988
-//#define E6_DRIVER_TYPE A4988
-//#define E7_DRIVER_TYPE A4988
-
 // Enable this feature if all enabled endstop pins are interrupt-capable.
 // This will remove the need to poll the interrupt pins, saving many CPU cycles.
 //#define ENDSTOP_INTERRUPTS_FEATURE

commit 12eb1e0829e5c4625d8ecddfd3bdea8f7e2ccc9f
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Fri Apr 29 13:19:38 2022 -0700

    üìù Update NEOPIXEL_TYPE comment (#24110)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b06a2cafbc..5e58d52732 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3051,7 +3051,8 @@
 // Support for Adafruit NeoPixel LED driver
 //#define NEOPIXEL_LED
 #if ENABLED(NEOPIXEL_LED)
-  #define NEOPIXEL_TYPE          NEO_GRBW // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
+  #define NEOPIXEL_TYPE          NEO_GRBW // NEO_GRBW, NEO_RGBW, NEO_GRB, NEO_RBG, etc.
+                                          // See https://github.com/adafruit/Adafruit_NeoPixel/blob/master/Adafruit_NeoPixel.h
   //#define NEOPIXEL_PIN                4 // LED driving pin
   //#define NEOPIXEL2_TYPE  NEOPIXEL_TYPE
   //#define NEOPIXEL2_PIN               5

commit 7501d253c7814fa5a4105e6c747b48428c6c168c
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Apr 23 06:18:56 2022 -0500

    üé® Tweak NEOPIXEL_LED format

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9e07912ff7..b06a2cafbc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3051,30 +3051,30 @@
 // Support for Adafruit NeoPixel LED driver
 //#define NEOPIXEL_LED
 #if ENABLED(NEOPIXEL_LED)
-  #define NEOPIXEL_TYPE   NEO_GRBW // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
-  //#define NEOPIXEL_PIN     4     // LED driving pin
-  //#define NEOPIXEL2_TYPE NEOPIXEL_TYPE
-  //#define NEOPIXEL2_PIN    5
-  #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip. (Longest strip when NEOPIXEL2_SEPARATE is disabled.)
-  #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
-  #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)
-  //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup
+  #define NEOPIXEL_TYPE          NEO_GRBW // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
+  //#define NEOPIXEL_PIN                4 // LED driving pin
+  //#define NEOPIXEL2_TYPE  NEOPIXEL_TYPE
+  //#define NEOPIXEL2_PIN               5
+  #define NEOPIXEL_PIXELS              30 // Number of LEDs in the strip. (Longest strip when NEOPIXEL2_SEPARATE is disabled.)
+  #define NEOPIXEL_IS_SEQUENTIAL          // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
+  #define NEOPIXEL_BRIGHTNESS         127 // Initial brightness (0-255)
+  //#define NEOPIXEL_STARTUP_TEST         // Cycle through colors at startup
 
   // Support for second Adafruit NeoPixel LED driver controlled with M150 S1 ...
   //#define NEOPIXEL2_SEPARATE
   #if ENABLED(NEOPIXEL2_SEPARATE)
-    #define NEOPIXEL2_PIXELS      15  // Number of LEDs in the second strip
-    #define NEOPIXEL2_BRIGHTNESS 127  // Initial brightness (0-255)
-    #define NEOPIXEL2_STARTUP_TEST    // Cycle through colors at startup
+    #define NEOPIXEL2_PIXELS           15 // Number of LEDs in the second strip
+    #define NEOPIXEL2_BRIGHTNESS      127 // Initial brightness (0-255)
+    #define NEOPIXEL2_STARTUP_TEST        // Cycle through colors at startup
   #else
-    //#define NEOPIXEL2_INSERIES      // Default behavior is NeoPixel 2 in parallel
+    //#define NEOPIXEL2_INSERIES          // Default behavior is NeoPixel 2 in parallel
   #endif
 
   // Use some of the NeoPixel LEDs for static (background) lighting
-  //#define NEOPIXEL_BKGD_INDEX_FIRST  0              // Index of the first background LED
-  //#define NEOPIXEL_BKGD_INDEX_LAST   5              // Index of the last background LED
+  //#define NEOPIXEL_BKGD_INDEX_FIRST   0 // Index of the first background LED
+  //#define NEOPIXEL_BKGD_INDEX_LAST    5 // Index of the last background LED
   //#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 }  // R, G, B, W
-  //#define NEOPIXEL_BKGD_ALWAYS_ON                   // Keep the backlight on when other NeoPixels are off
+  //#define NEOPIXEL_BKGD_ALWAYS_ON       // Keep the backlight on when other NeoPixels are off
 #endif
 
 /**

commit 9d623160a60edc15a95014559787d43dd7652f4d
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Mon Apr 18 03:46:58 2022 -0700

    üßë‚Äçüíª Preheat menu improvements (#24017)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e2d99a44ec..9e07912ff7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2005,7 +2005,7 @@
 // @section temperature
 
 //
-// Preheat Constants - Up to 5 are supported without changes
+// Preheat Constants - Up to 6 are supported without changes
 //
 #define PREHEAT_1_LABEL       "PLA"
 #define PREHEAT_1_TEMP_HOTEND 180

commit 3da29b4a04691d4e8dc8691b006cf51c0bf46fc9
Author: tombrazier <68918209+tombrazier@users.noreply.github.com>
Date:   Sun Apr 10 07:20:05 2022 +0100

    üö∏ Improve MPC tuning, add menu items (#23984)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1adf9e9442..e2d99a44ec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -643,6 +643,9 @@
  * for PID_EXTRUSION_SCALING and PID_FAN_SCALING. Use M306 to autotune the model.
  */
 #if ENABLED(MPCTEMP)
+  //#define MPC_EDIT_MENU                             // Add MPC editing to the "Advanced Settings" menu. (~1300 bytes of flash)
+  //#define MPC_AUTOTUNE_MENU                         // Add MPC auto-tuning to the "Advanced Settings" menu. (~350 bytes of flash)
+
   #define MPC_MAX BANG_MAX                            // (0..255) Current to nozzle while MPC is active.
   #define MPC_HEATER_POWER { 40.0f }                  // (W) Heat cartridge powers.
 
@@ -671,6 +674,7 @@
   #define MPC_STEADYSTATE 0.5f                        // (K/s) Temperature change rate for steady state logic to be enforced.
 
   #define MPC_TUNING_POS { X_CENTER, Y_CENTER, 1.0f } // (mm) M306 Autotuning position, ideally bed center just above the surface.
+  #define MPC_TUNING_END_Z 10.0f                      // (mm) M306 Autotuning final Z position.
 #endif
 
 //===========================================================================

commit e2353be24f2c7914c51441c2135cf2eb4cb1262d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Apr 9 22:52:36 2022 -0500

    üé® Misc. cleanup, string optimization

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e13e7ba02b..1adf9e9442 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -766,8 +766,8 @@
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
 
-  //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
-  //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
+  //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of flash)
+  //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of flash)
 #endif
 
 // @section extruder
@@ -1970,7 +1970,7 @@
  *   M502 - Revert settings to "factory" defaults. (Follow with M500 to init the EEPROM.)
  */
 //#define EEPROM_SETTINGS     // Persistent storage with M500 and M501
-//#define DISABLE_M503        // Saves ~2700 bytes of PROGMEM. Disable for release!
+//#define DISABLE_M503        // Saves ~2700 bytes of flash. Disable for release!
 #define EEPROM_CHITCHAT       // Give feedback on EEPROM commands. Disable to save PROGMEM.
 #define EEPROM_BOOT_SILENT    // Keep M503 quiet and only give errors during first load
 #if ENABLED(EEPROM_SETTINGS)

commit 1bc9a530bd879677393a1b4c073e5f1c41e1648e
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Mon Apr 4 01:44:45 2022 +0200

    üêõ Fix Bed/Chamber PID Autotune with MPCTEMP (#23983)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cea89a3c6d..e13e7ba02b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -619,8 +619,6 @@
 #define PID_K1 0.95      // Smoothing factor within any PID loop
 
 #if ENABLED(PIDTEMP)
-  //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
-  //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
 
@@ -767,6 +765,9 @@
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
+
+  //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
+  //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
 #endif
 
 // @section extruder

commit 19838d97be0d9ae22efa9d51a412bb1ac0bf056b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Apr 3 16:50:39 2022 -0500

    üé®  Misc. adjustments, spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d05901457..cea89a3c6d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2700,38 +2700,38 @@
 //========================== Extensible UI Displays ===========================
 //=============================================================================
 
-//
-// DGUS Touch Display with DWIN OS. (Choose one.)
-// ORIGIN : https://www.aliexpress.com/item/32993409517.html
-// FYSETC : https://www.aliexpress.com/item/32961471929.html
-// MKS    : https://www.aliexpress.com/item/1005002008179262.html
-//
-// Flash display with DGUS Displays for Marlin:
-//  - Format the SD card to FAT32 with an allocation size of 4kb.
-//  - Download files as specified for your type of display.
-//  - Plug the microSD card into the back of the display.
-//  - Boot the display and wait for the update to complete.
-//
-// ORIGIN (Marlin DWIN_SET)
-//  - Download https://github.com/coldtobi/Marlin_DGUS_Resources
-//  - Copy the downloaded DWIN_SET folder to the SD card.
-//
-// FYSETC (Supplier default)
-//  - Download https://github.com/FYSETC/FYSTLCD-2.0
-//  - Copy the downloaded SCREEN folder to the SD card.
-//
-// HIPRECY (Supplier default)
-//  - Download https://github.com/HiPrecy/Touch-Lcd-LEO
-//  - Copy the downloaded DWIN_SET folder to the SD card.
-//
-// MKS (MKS-H43) (Supplier default)
-//  - Download https://github.com/makerbase-mks/MKS-H43
-//  - Copy the downloaded DWIN_SET folder to the SD card.
-//
-// RELOADED (T5UID1)
-//  - Download https://github.com/Desuuuu/DGUS-reloaded/releases
-//  - Copy the downloaded DWIN_SET folder to the SD card.
-//
+/**
+ * DGUS Touch Display with DWIN OS. (Choose one.)
+ * ORIGIN : https://www.aliexpress.com/item/32993409517.html
+ * FYSETC : https://www.aliexpress.com/item/32961471929.html
+ * MKS    : https://www.aliexpress.com/item/1005002008179262.html
+ *
+ * Flash display with DGUS Displays for Marlin:
+ *  - Format the SD card to FAT32 with an allocation size of 4kb.
+ *  - Download files as specified for your type of display.
+ *  - Plug the microSD card into the back of the display.
+ *  - Boot the display and wait for the update to complete.
+ *
+ * ORIGIN (Marlin DWIN_SET)
+ *  - Download https://github.com/coldtobi/Marlin_DGUS_Resources
+ *  - Copy the downloaded DWIN_SET folder to the SD card.
+ *
+ * FYSETC (Supplier default)
+ *  - Download https://github.com/FYSETC/FYSTLCD-2.0
+ *  - Copy the downloaded SCREEN folder to the SD card.
+ *
+ * HIPRECY (Supplier default)
+ *  - Download https://github.com/HiPrecy/Touch-Lcd-LEO
+ *  - Copy the downloaded DWIN_SET folder to the SD card.
+ *
+ * MKS (MKS-H43) (Supplier default)
+ *  - Download https://github.com/makerbase-mks/MKS-H43
+ *  - Copy the downloaded DWIN_SET folder to the SD card.
+ *
+ * RELOADED (T5UID1)
+ *  - Download https://github.com/Desuuuu/DGUS-reloaded/releases
+ *  - Copy the downloaded DWIN_SET folder to the SD card.
+ */
 //#define DGUS_LCD_UI_ORIGIN
 //#define DGUS_LCD_UI_FYSETC
 //#define DGUS_LCD_UI_HIPRECY

commit 72b2e2b2c7230245dea9fcb46b9b8a92bcb11bcc
Author: tombrazier <68918209+tombrazier@users.noreply.github.com>
Date:   Fri Apr 1 08:14:14 2022 +0100

    ‚öóÔ∏è Temperature Model Predictive Control (#23751)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9237818c25..9d05901457 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -608,10 +608,12 @@
 //===========================================================================
 //============================= PID Settings ================================
 //===========================================================================
-// PID Tuning Guide here: https://reprap.org/wiki/PID_Tuning
 
-// Comment the following line to disable PID and enable bang-bang.
-#define PIDTEMP
+// Enable PIDTEMP for PID control or MPCTEMP for Predictive Model.
+// temperature control. Disable both for bang-bang heating.
+#define PIDTEMP          // See the PID Tuning Guide at https://reprap.org/wiki/PID_Tuning
+//#define MPCTEMP        // ** EXPERIMENTAL **
+
 #define BANG_MAX 255     // Limits current to nozzle while in bang-bang mode; 255=full current
 #define PID_MAX BANG_MAX // Limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #define PID_K1 0.95      // Smoothing factor within any PID loop
@@ -633,7 +635,45 @@
     #define DEFAULT_Ki   1.08
     #define DEFAULT_Kd 114.00
   #endif
-#endif // PIDTEMP
+#endif
+
+/**
+ * Model Predictive Control for hotend
+ *
+ * Use a physical model of the hotend to control temperature. When configured correctly
+ * this gives better responsiveness and stability than PID and it also removes the need
+ * for PID_EXTRUSION_SCALING and PID_FAN_SCALING. Use M306 to autotune the model.
+ */
+#if ENABLED(MPCTEMP)
+  #define MPC_MAX BANG_MAX                            // (0..255) Current to nozzle while MPC is active.
+  #define MPC_HEATER_POWER { 40.0f }                  // (W) Heat cartridge powers.
+
+  #define MPC_INCLUDE_FAN                             // Model the fan speed?
+
+  // Measured physical constants from M306
+  #define MPC_BLOCK_HEAT_CAPACITY { 16.7f }           // (J/K) Heat block heat capacities.
+  #define MPC_SENSOR_RESPONSIVENESS { 0.22f }         // (K/s per ‚àÜK) Rate of change of sensor temperature from heat block.
+  #define MPC_AMBIENT_XFER_COEFF { 0.068f }           // (W/K) Heat transfer coefficients from heat block to room air with fan off.
+  #if ENABLED(MPC_INCLUDE_FAN)
+    #define MPC_AMBIENT_XFER_COEFF_FAN255 { 0.097f }  // (W/K) Heat transfer coefficients from heat block to room air with fan on full.
+  #endif
+
+  // For one fan and multiple hotends MPC needs to know how to apply the fan cooling effect.
+  #if ENABLED(MPC_INCLUDE_FAN)
+    //#define MPC_FAN_0_ALL_HOTENDS
+    //#define MPC_FAN_0_ACTIVE_HOTEND
+  #endif
+
+  #define FILAMENT_HEAT_CAPACITY_PERMM 5.6e-3f        // 0.0056 J/K/mm for 1.75mm PLA (0.0149 J/K/mm for 2.85mm PLA).
+  //#define FILAMENT_HEAT_CAPACITY_PERMM 3.6e-3f      // 0.0036 J/K/mm for 1.75mm PETG (0.0094 J/K/mm for 2.85mm PETG).
+
+  // Advanced options
+  #define MPC_SMOOTHING_FACTOR 0.5f                   // (0.0...1.0) Noisy temperature sensors may need a lower value for stabilization.
+  #define MPC_MIN_AMBIENT_CHANGE 1.0f                 // (K/s) Modeled ambient temperature rate of change, when correcting model inaccuracies.
+  #define MPC_STEADYSTATE 0.5f                        // (K/s) Temperature change rate for steady state logic to be enforced.
+
+  #define MPC_TUNING_POS { X_CENTER, Y_CENTER, 1.0f } // (mm) M306 Autotuning position, ideally bed center just above the surface.
+#endif
 
 //===========================================================================
 //====================== PID > Bed Temperature Control ======================

commit e5b651f407fcb743e2d00c45b0d361fb98230efb
Author: DerAndere <26200979+DerAndere1@users.noreply.github.com>
Date:   Fri Apr 1 07:10:38 2022 +0200

    ‚ú® Support for up to 9 axes (linear, rotary) (#23112)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c2d5dced28..9237818c25 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 02000903
+#define CONFIGURATION_H_VERSION 02010000
 
 //===========================================================================
 //============================= Getting Started =============================
@@ -150,9 +150,9 @@
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
 /**
- * Define the number of coordinated linear axes.
+ * Define the number of coordinated axes.
  * See https://github.com/DerAndere1/Marlin/wiki
- * Each linear axis gets its own stepper control and endstop:
+ * Each axis gets its own stepper control and endstop:
  *
  *   Steppers: *_STEP_PIN, *_ENABLE_PIN, *_DIR_PIN, *_ENABLE_ON
  *   Endstops: *_STOP_PIN, USE_*MIN_PLUG, USE_*MAX_PLUG
@@ -161,31 +161,50 @@
  *             DEFAULT_MAX_ACCELERATION, AXIS_RELATIVE_MODES,
  *             MICROSTEP_MODES, MANUAL_FEEDRATE
  *
- * :[3, 4, 5, 6]
+ * :[3, 4, 5, 6, 7, 8, 9]
  */
-//#define LINEAR_AXES 3
+//#define NUM_AXES 3
 
 /**
- * Axis codes for additional axes:
- * This defines the axis code that is used in G-code commands to
- * reference a specific axis.
- * 'A' for rotational axis parallel to X
- * 'B' for rotational axis parallel to Y
- * 'C' for rotational axis parallel to Z
- * 'U' for secondary linear axis parallel to X
- * 'V' for secondary linear axis parallel to Y
- * 'W' for secondary linear axis parallel to Z
- * Regardless of the settings, firmware-internal axis IDs are
- * I (AXIS4), J (AXIS5), K (AXIS6).
+ * Additional Axis Settings
+ *
+ * Define AXISn_ROTATES for all axes that rotate or pivot.
+ * Rotational axis coordinates are expressed in degrees.
+ *
+ * AXISn_NAME defines the letter used to refer to the axis in (most) G-code commands.
+ * By convention the names and roles are typically:
+ *   'A' : Rotational axis parallel to X
+ *   'B' : Rotational axis parallel to Y
+ *   'C' : Rotational axis parallel to Z
+ *   'U' : Secondary linear axis parallel to X
+ *   'V' : Secondary linear axis parallel to Y
+ *   'W' : Secondary linear axis parallel to Z
+ *
+ * Regardless of these settings the axes are internally named I, J, K, U, V, W.
  */
-#if LINEAR_AXES >= 4
+#if NUM_AXES >= 4
   #define AXIS4_NAME 'A' // :['A', 'B', 'C', 'U', 'V', 'W']
+  #define AXIS4_ROTATES
+#endif
+#if NUM_AXES >= 5
+  #define AXIS5_NAME 'B' // :['B', 'C', 'U', 'V', 'W']
+  #define AXIS5_ROTATES
+#endif
+#if NUM_AXES >= 6
+  #define AXIS6_NAME 'C' // :['C', 'U', 'V', 'W']
+  #define AXIS6_ROTATES
+#endif
+#if NUM_AXES >= 7
+  #define AXIS7_NAME 'U' // :['U', 'V', 'W']
+  //#define AXIS7_ROTATES
 #endif
-#if LINEAR_AXES >= 5
-  #define AXIS5_NAME 'B' // :['A', 'B', 'C', 'U', 'V', 'W']
+#if NUM_AXES >= 8
+  #define AXIS8_NAME 'V' // :['V', 'W']
+  //#define AXIS8_ROTATES
 #endif
-#if LINEAR_AXES >= 6
-  #define AXIS6_NAME 'C' // :['A', 'B', 'C', 'U', 'V', 'W']
+#if NUM_AXES >= 9
+  #define AXIS9_NAME 'W' // :['W']
+  //#define AXIS9_ROTATES
 #endif
 
 // @section extruder
@@ -793,12 +812,18 @@
 //#define USE_IMIN_PLUG
 //#define USE_JMIN_PLUG
 //#define USE_KMIN_PLUG
+//#define USE_UMIN_PLUG
+//#define USE_VMIN_PLUG
+//#define USE_WMIN_PLUG
 //#define USE_XMAX_PLUG
 //#define USE_YMAX_PLUG
 //#define USE_ZMAX_PLUG
 //#define USE_IMAX_PLUG
 //#define USE_JMAX_PLUG
 //#define USE_KMAX_PLUG
+//#define USE_UMAX_PLUG
+//#define USE_VMAX_PLUG
+//#define USE_WMAX_PLUG
 
 // Enable pullup for all endstops to prevent a floating state
 #define ENDSTOPPULLUPS
@@ -810,12 +835,18 @@
   //#define ENDSTOPPULLUP_IMIN
   //#define ENDSTOPPULLUP_JMIN
   //#define ENDSTOPPULLUP_KMIN
+  //#define ENDSTOPPULLUP_UMIN
+  //#define ENDSTOPPULLUP_VMIN
+  //#define ENDSTOPPULLUP_WMIN
   //#define ENDSTOPPULLUP_XMAX
   //#define ENDSTOPPULLUP_YMAX
   //#define ENDSTOPPULLUP_ZMAX
   //#define ENDSTOPPULLUP_IMAX
   //#define ENDSTOPPULLUP_JMAX
   //#define ENDSTOPPULLUP_KMAX
+  //#define ENDSTOPPULLUP_UMAX
+  //#define ENDSTOPPULLUP_VMAX
+  //#define ENDSTOPPULLUP_WMAX
   //#define ENDSTOPPULLUP_ZMIN_PROBE
 #endif
 
@@ -829,12 +860,18 @@
   //#define ENDSTOPPULLDOWN_IMIN
   //#define ENDSTOPPULLDOWN_JMIN
   //#define ENDSTOPPULLDOWN_KMIN
+  //#define ENDSTOPPULLDOWN_UMIN
+  //#define ENDSTOPPULLDOWN_VMIN
+  //#define ENDSTOPPULLDOWN_WMIN
   //#define ENDSTOPPULLDOWN_XMAX
   //#define ENDSTOPPULLDOWN_YMAX
   //#define ENDSTOPPULLDOWN_ZMAX
   //#define ENDSTOPPULLDOWN_IMAX
   //#define ENDSTOPPULLDOWN_JMAX
   //#define ENDSTOPPULLDOWN_KMAX
+  //#define ENDSTOPPULLDOWN_UMAX
+  //#define ENDSTOPPULLDOWN_VMAX
+  //#define ENDSTOPPULLDOWN_WMAX
   //#define ENDSTOPPULLDOWN_ZMIN_PROBE
 #endif
 
@@ -845,12 +882,18 @@
 #define I_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define J_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define K_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define U_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define V_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define W_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define X_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Y_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Z_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define I_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define J_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define K_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define U_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define V_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define W_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Z_MIN_PROBE_ENDSTOP_INVERTING false // Set to true to invert the logic of the probe.
 
 /**
@@ -882,6 +925,9 @@
 //#define I_DRIVER_TYPE  A4988
 //#define J_DRIVER_TYPE  A4988
 //#define K_DRIVER_TYPE  A4988
+//#define U_DRIVER_TYPE  A4988
+//#define V_DRIVER_TYPE  A4988
+//#define W_DRIVER_TYPE  A4988
 #define E0_DRIVER_TYPE A4988
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988
@@ -933,16 +979,16 @@
 //#define DISTINCT_E_FACTORS
 
 /**
- * Default Axis Steps Per Unit (steps/mm)
+ * Default Axis Steps Per Unit (linear=steps/mm, rotational=steps/¬∞)
  * Override with M92
- *                                      X, Y, Z [, I [, J [, K]]], E0 [, E1[, E2...]]
+ *                                      X, Y, Z [, I [, J [, K...]]], E0 [, E1[, E2...]]
  */
 #define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 400, 500 }
 
 /**
- * Default Max Feed Rate (mm/s)
+ * Default Max Feed Rate (linear=mm/s, rotational=¬∞/s)
  * Override with M203
- *                                      X, Y, Z [, I [, J [, K]]], E0 [, E1[, E2...]]
+ *                                      X, Y, Z [, I [, J [, K...]]], E0 [, E1[, E2...]]
  */
 #define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
 
@@ -952,10 +998,10 @@
 #endif
 
 /**
- * Default Max Acceleration (change/s) change = mm/s
+ * Default Max Acceleration (speed change with time) (linear=mm/(s^2), rotational=¬∞/(s^2))
  * (Maximum start speed for accelerated moves)
  * Override with M201
- *                                      X, Y, Z [, I [, J [, K]]], E0 [, E1[, E2...]]
+ *                                      X, Y, Z [, I [, J [, K...]]], E0 [, E1[, E2...]]
  */
 #define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 
@@ -965,7 +1011,7 @@
 #endif
 
 /**
- * Default Acceleration (change/s) change = mm/s
+ * Default Acceleration (speed change with time) (linear=mm/(s^2), rotational=¬∞/(s^2))
  * Override with M204
  *
  *   M204 P    Acceleration
@@ -978,7 +1024,7 @@
 
 /**
  * Default Jerk limits (mm/s)
- * Override with M205 X Y Z E
+ * Override with M205 X Y Z . . . E
  *
  * "Jerk" specifies the minimum speed change that requires acceleration.
  * When changing speed and direction, if the difference is less than the
@@ -992,6 +1038,9 @@
   //#define DEFAULT_IJERK  0.3
   //#define DEFAULT_JJERK  0.3
   //#define DEFAULT_KJERK  0.3
+  //#define DEFAULT_UJERK  0.3
+  //#define DEFAULT_VJERK  0.3
+  //#define DEFAULT_WJERK  0.3
 
   //#define TRAVEL_EXTRA_XYJERK 0.0     // Additional jerk allowance for all travel moves
 
@@ -1330,6 +1379,9 @@
 //#define I_ENABLE_ON 0
 //#define J_ENABLE_ON 0
 //#define K_ENABLE_ON 0
+//#define U_ENABLE_ON 0
+//#define V_ENABLE_ON 0
+//#define W_ENABLE_ON 0
 
 // Disable axis steppers immediately when they're not being stepped.
 // WARNING: When motors turn off there is a chance of losing position accuracy!
@@ -1339,6 +1391,9 @@
 //#define DISABLE_I false
 //#define DISABLE_J false
 //#define DISABLE_K false
+//#define DISABLE_U false
+//#define DISABLE_V false
+//#define DISABLE_W false
 
 // Turn off the display blinking that warns about possible accuracy reduction
 //#define DISABLE_REDUCED_ACCURACY_WARNING
@@ -1357,6 +1412,9 @@
 //#define INVERT_I_DIR false
 //#define INVERT_J_DIR false
 //#define INVERT_K_DIR false
+//#define INVERT_U_DIR false
+//#define INVERT_V_DIR false
+//#define INVERT_W_DIR false
 
 // @section extruder
 
@@ -1395,6 +1453,9 @@
 //#define I_HOME_DIR -1
 //#define J_HOME_DIR -1
 //#define K_HOME_DIR -1
+//#define U_HOME_DIR -1
+//#define V_HOME_DIR -1
+//#define W_HOME_DIR -1
 
 // @section machine
 
@@ -1402,7 +1463,7 @@
 #define X_BED_SIZE 200
 #define Y_BED_SIZE 200
 
-// Travel limits (mm) after homing, corresponding to endstop positions.
+// Travel limits (linear=mm, rotational=¬∞) after homing, corresponding to endstop positions.
 #define X_MIN_POS 0
 #define Y_MIN_POS 0
 #define Z_MIN_POS 0
@@ -1415,6 +1476,12 @@
 //#define J_MAX_POS 50
 //#define K_MIN_POS 0
 //#define K_MAX_POS 50
+//#define U_MIN_POS 0
+//#define U_MAX_POS 50
+//#define V_MIN_POS 0
+//#define V_MAX_POS 50
+//#define W_MIN_POS 0
+//#define W_MAX_POS 50
 
 /**
  * Software Endstops
@@ -1434,6 +1501,9 @@
   #define MIN_SOFTWARE_ENDSTOP_I
   #define MIN_SOFTWARE_ENDSTOP_J
   #define MIN_SOFTWARE_ENDSTOP_K
+  #define MIN_SOFTWARE_ENDSTOP_U
+  #define MIN_SOFTWARE_ENDSTOP_V
+  #define MIN_SOFTWARE_ENDSTOP_W
 #endif
 
 // Max software endstops constrain movement within maximum coordinate bounds
@@ -1445,6 +1515,9 @@
   #define MAX_SOFTWARE_ENDSTOP_I
   #define MAX_SOFTWARE_ENDSTOP_J
   #define MAX_SOFTWARE_ENDSTOP_K
+  #define MAX_SOFTWARE_ENDSTOP_U
+  #define MAX_SOFTWARE_ENDSTOP_V
+  #define MAX_SOFTWARE_ENDSTOP_W
 #endif
 
 #if EITHER(MIN_SOFTWARE_ENDSTOPS, MAX_SOFTWARE_ENDSTOPS)
@@ -1759,6 +1832,9 @@
 //#define MANUAL_I_HOME_POS 0
 //#define MANUAL_J_HOME_POS 0
 //#define MANUAL_K_HOME_POS 0
+//#define MANUAL_U_HOME_POS 0
+//#define MANUAL_V_HOME_POS 0
+//#define MANUAL_W_HOME_POS 0
 
 /**
  * Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
@@ -1774,7 +1850,7 @@
   #define Z_SAFE_HOMING_Y_POINT Y_CENTER  // Y point for Z homing
 #endif
 
-// Homing speeds (mm/min)
+// Homing speeds (linear=mm/min, rotational=¬∞/min)
 #define HOMING_FEEDRATE_MM_M { (50*60), (50*60), (4*60) }
 
 // Validate that endstops are triggered on homing moves

commit 48b5362cf02ff12c9e9fc4d5825ceebe457ea34b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Mar 10 22:07:47 2022 -0600

    üîß DWIN_CREALITY_LCD_ENHANCED => DWIN_LCD_PROUI
    
    Followup to #23624

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7162e74acb..c2d5dced28 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2807,7 +2807,7 @@
 // Ender-3 v2 OEM display. A DWIN display with Rotary Encoder.
 //
 //#define DWIN_CREALITY_LCD           // Creality UI
-//#define DWIN_CREALITY_LCD_ENHANCED  // Enhanced UI
+//#define DWIN_LCD_PROUI              // Pro UI by MRiscoC
 //#define DWIN_CREALITY_LCD_JYERSUI   // Jyers UI by Jacob Myers
 //#define DWIN_MARLINUI_PORTRAIT      // MarlinUI (portrait orientation)
 //#define DWIN_MARLINUI_LANDSCAPE     // MarlinUI (landscape orientation)

commit 0e7be8e8c4b1a7ca351ce19b462cac2d27fab82d
Author: M. FURIC Franck <francknos@gmail.com>
Date:   Sat Feb 26 23:54:04 2022 +0100

    ‚ú® LCD Backlight Timer (#23768)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6f7b1bdf4a..7162e74acb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2820,7 +2820,7 @@
   #define BUTTON_DELAY_EDIT  50 // (ms) Button repeat delay for edit screens
   #define BUTTON_DELAY_MENU 250 // (ms) Button repeat delay for menus
 
-  //#define TOUCH_IDLE_SLEEP 300 // (secs) Turn off the TFT backlight if set (5mn)
+  //#define TOUCH_IDLE_SLEEP 300 // (s) Turn off the TFT backlight if set (5mn)
 
   #define TOUCH_SCREEN_CALIBRATION
 

commit 963049ddc39c77176e67d7eaad0d117a1e1b666a
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Feb 21 19:55:19 2022 -0600

    ‚ú® Dyze Design PT100 Amplifier Board (#23760)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 752fd1370a..6f7b1bdf4a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -459,6 +459,7 @@
  *    61 : 100kŒ©  Formbot/Vivedino 350¬∞C Thermistor - beta 3950
  *    66 : 4.7MŒ©  Dyze Design High Temperature Thermistor
  *    67 : 500kŒ©  SliceEngineering 450¬∞C Thermistor
+ *    68 : PT100 amplifier board from Dyze Design
  *    70 : 100kŒ©  bq Hephestos 2
  *    75 : 100kŒ©  Generic Silicon Heat Pad with NTC100K MGB18-104F39050L32
  *  2000 : 100kŒ©  Ultimachine Rambo TDK NTCG104LH104KT1 NTC100K motherboard Thermistor

commit b4d3e1da34f5a4365d35b685d2d7e97d76dedf98
Author: John Robertson <john@cirtech.co.uk>
Date:   Fri Feb 11 21:04:47 2022 +0000

    ‚ú® More Nozzle Park move options (#23158)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d3c36ad485..752fd1370a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1913,8 +1913,7 @@
 #if ENABLED(NOZZLE_PARK_FEATURE)
   // Specify a park position as { X, Y, Z_raise }
   #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
-  //#define NOZZLE_PARK_X_ONLY          // X move only is required to park
-  //#define NOZZLE_PARK_Y_ONLY          // Y move only is required to park
+  #define NOZZLE_PARK_MOVE          0   // Park motion: 0 = XY Move, 1 = X Only, 2 = Y Only, 3 = X before Y, 4 = Y before X
   #define NOZZLE_PARK_Z_RAISE_MIN   2   // (mm) Always raise Z by at least this distance
   #define NOZZLE_PARK_XY_FEEDRATE 100   // (mm/s) X and Y axes feedrate (also used for delta Z axis)
   #define NOZZLE_PARK_Z_FEEDRATE    5   // (mm/s) Z axis feedrate (not used for delta printers)

commit 076d8e83ea4247b75a90e71bcb80dc3f8e01a458
Author: Bones <97494397+SidSkiba@users.noreply.github.com>
Date:   Fri Feb 4 14:52:57 2022 -0700

    ‚ú® Add ZRIB v53, patch G35 Z drop, related issues (#23636)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a6a11cb9fe..d3c36ad485 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -437,6 +437,9 @@
  *     5 : 100kŒ©  ATC Semitec 104GT-2/104NT-4-R025H42G - Used in ParCan, J-Head, and E3D, SliceEngineering 300¬∞C
  *   501 : 100kŒ©  Zonestar - Tronxy X3A
  *   502 : 100kŒ©  Zonestar - used by hot bed in Zonestar Pr≈Ø≈°a P802M
+ *   503 : 100kŒ©  Zonestar (Z8XM2) Heated Bed thermistor
+ *   504 : 100kŒ©  Zonestar P802QR2 (Part# QWG-104F-B3950) Hotend Thermistor
+ *   505 : 100kŒ©  Zonestar P802QR2 (Part# QWG-104F-3950) Bed Thermistor
  *   512 : 100kŒ©  RPW-Ultra hotend
  *     6 : 100kŒ©  EPCOS - Not as accurate as table #1 (created using a fluke thermocouple)
  *     7 : 100kŒ©  Honeywell 135-104LAG-J01

commit f07fc7e96f512f4900619049761f75d28f9e0403
Author: GHGiampy <83699429+GHGiampy@users.noreply.github.com>
Date:   Wed Feb 2 00:35:38 2022 +0100

    üö∏ Case Light, LED menus for E3V2 DWIN Enhanced UI (#23590)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a0dae83593..a6a11cb9fe 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -371,8 +371,9 @@
   //#define PS_OFF_SOUND            // Beep 1s when power off
   #define PSU_ACTIVE_STATE LOW      // Set 'LOW' for ATX, 'HIGH' for X-Box
 
-  //#define PSU_DEFAULT_OFF         // Keep power off until enabled directly with M80
-  //#define PSU_POWERUP_DELAY 250   // (ms) Delay for the PSU to warm up to full power
+  //#define PSU_DEFAULT_OFF               // Keep power off until enabled directly with M80
+  //#define PSU_POWERUP_DELAY      250    // (ms) Delay for the PSU to warm up to full power
+  //#define LED_POWEROFF_TIMEOUT 10000    // (ms) Turn off LEDs after power-off, with this amount of delay
 
   //#define POWER_OFF_TIMER               // Enable M81 D<seconds> to power off after a delay
   //#define POWER_OFF_WAIT_FOR_COOLDOWN   // Enable M81 S to power off only after cooldown

commit 1bd921d6a69412686fa4b31c4c1e5710de9840cf
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Jan 6 05:07:47 2022 -0600

    üé® Misc. cleanup, comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c66c8eff95..a0dae83593 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -390,7 +390,7 @@
     #define POWER_TIMEOUT              30 // (s) Turn off power if the machine is idle for this duration
     //#define POWER_OFF_DELAY          60 // (s) Delay of poweroff after M81 command. Useful to let fans run for extra time.
   #endif
-  #if EITHER(AUTO_POWER_CONTROL, POWER_OFF_WAIT_FOR_COOLDOWN) 
+  #if EITHER(AUTO_POWER_CONTROL, POWER_OFF_WAIT_FOR_COOLDOWN)
     //#define AUTO_POWER_E_TEMP        50 // (¬∞C) PSU on if any extruder is over this temperature
     //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) PSU on if the chamber is over this temperature
     //#define AUTO_POWER_COOLER_TEMP   26 // (¬∞C) PSU on if the cooler is over this temperature

commit 9a194826e3e424e404e95443976f1bdfb1d2b245
Author: John Lagonikas <39417467+zeleps@users.noreply.github.com>
Date:   Mon Jan 3 18:11:39 2022 +0200

    ‚ú® M81 D / S - Power-off Delay (#23396)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 236c6a8a54..c66c8eff95 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -374,6 +374,9 @@
   //#define PSU_DEFAULT_OFF         // Keep power off until enabled directly with M80
   //#define PSU_POWERUP_DELAY 250   // (ms) Delay for the PSU to warm up to full power
 
+  //#define POWER_OFF_TIMER               // Enable M81 D<seconds> to power off after a delay
+  //#define POWER_OFF_WAIT_FOR_COOLDOWN   // Enable M81 S to power off only after cooldown
+
   //#define PSU_POWERUP_GCODE  "M355 S1"  // G-code to run after power-on (e.g., case light on)
   //#define PSU_POWEROFF_GCODE "M355 S0"  // G-code to run before power-off (e.g., case light off)
 
@@ -384,12 +387,14 @@
     #define AUTO_POWER_CONTROLLERFAN
     #define AUTO_POWER_CHAMBER_FAN
     #define AUTO_POWER_COOLER_FAN
-    //#define AUTO_POWER_E_TEMP        50 // (¬∞C) Turn on PSU if any extruder is over this temperature
-    //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) Turn on PSU if the chamber is over this temperature
-    //#define AUTO_POWER_COOLER_TEMP   26 // (¬∞C) Turn on PSU if the cooler is over this temperature
     #define POWER_TIMEOUT              30 // (s) Turn off power if the machine is idle for this duration
     //#define POWER_OFF_DELAY          60 // (s) Delay of poweroff after M81 command. Useful to let fans run for extra time.
   #endif
+  #if EITHER(AUTO_POWER_CONTROL, POWER_OFF_WAIT_FOR_COOLDOWN) 
+    //#define AUTO_POWER_E_TEMP        50 // (¬∞C) PSU on if any extruder is over this temperature
+    //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) PSU on if the chamber is over this temperature
+    //#define AUTO_POWER_COOLER_TEMP   26 // (¬∞C) PSU on if the cooler is over this temperature
+  #endif
 #endif
 
 //===========================================================================

commit d557db842598639f4ab49447e216557515b3ba9e
Author: Ave6683 <53094187+Ave6683@users.noreply.github.com>
Date:   Mon Dec 27 22:28:27 2021 +0100

    ‚ú® MagLev V4 probe by MDD (#23192)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f0fc4dd7d6..236c6a8a54 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1089,6 +1089,17 @@
  */
 //#define BLTOUCH
 
+/**
+ * MagLev V4 probe by MDD
+ *
+ * This probe is deployed and activated by powering a built-in electromagnet.
+ */
+//#define MAGLEV4
+#if ENABLED(MAGLEV4)
+  //#define MAGLEV_TRIGGER_PIN 11     // Set to the connected digital output
+  #define MAGLEV_TRIGGER_DELAY 15     // Changing this risks overheating the coil
+#endif
+
 /**
  * Touch-MI Probe by hotends.fr
  *

commit fca6d12093e0cadc0c95a0e4cabfd560e6b628a1
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Dec 25 03:27:45 2021 -0600

    üîß Move MOTHERBOARD closer to top

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c425746bb5..f0fc4dd7d6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -94,6 +94,11 @@
 
 // @section machine
 
+// Choose the name from boards.h that matches your setup
+#ifndef MOTHERBOARD
+  #define MOTHERBOARD BOARD_RAMPS_14_EFB
+#endif
+
 /**
  * Select the serial port on the board to use for communication with the host.
  * This allows the connection of wireless adapters (for instance) to non-default port pins.
@@ -137,11 +142,6 @@
 // Enable the Bluetooth serial interface on AT90USB devices
 //#define BLUETOOTH
 
-// Choose the name from boards.h that matches your setup
-#ifndef MOTHERBOARD
-  #define MOTHERBOARD BOARD_RAMPS_14_EFB
-#endif
-
 // Name displayed in the LCD "Ready" message and Info menu
 //#define CUSTOM_MACHINE_NAME "3D Printer"
 

commit 3e737cbc910315364b77af6b1d6d3e92306f48f3
Author: Robby Candra <robbycandra.mail@gmail.com>
Date:   Thu Dec 23 15:19:39 2021 +0700

    üîß Group FAST_PWM_FAN.options (#23331)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bb89bc14a3..c425746bb5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2841,9 +2841,6 @@
 // :[1,2,3,4,5,6,7,8]
 //#define NUM_M106_FANS 1
 
-// Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino
-//#define FAST_PWM_FAN
-
 // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
 // which is not as annoying as with the hardware PWM. On the other hand, if this frequency
 // is too low, you should also increment SOFT_PWM_SCALE.

commit c1dba3d02888824400413fdf366c1fa574cbb587
Author: ellensp <530024+ellensp@users.noreply.github.com>
Date:   Wed Dec 22 15:44:04 2021 +1300

    ‚ú® Option to reset EEPROM on first run (#23276)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 71a9211330..bb89bc14a3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1837,6 +1837,7 @@
 #define EEPROM_BOOT_SILENT    // Keep M503 quiet and only give errors during first load
 #if ENABLED(EEPROM_SETTINGS)
   //#define EEPROM_AUTO_INIT  // Init EEPROM automatically on any errors.
+  //#define EEPROM_INIT_NOW   // Init EEPROM on first boot after a new build.
 #endif
 
 //

commit d4c78edfe37c62e82aee9bfa3ca8b685e3d5cb62
Author: schmttc <89831403+schmttc@users.noreply.github.com>
Date:   Wed Nov 24 08:52:18 2021 +1100

    ‚ú® EasyThreeD ET4000+ board and UI (#23080)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 060c07bbbc..71a9211330 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2825,6 +2825,11 @@
 //#define REPRAPWORLD_KEYPAD
 //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // (mm) Distance to move per key-press
 
+//
+// EasyThreeD ET-4000+ with button input and status LED
+//
+//#define EASYTHREED_UI
+
 //=============================================================================
 //=============================== Extra Features ==============================
 //=============================================================================

commit e5154ec28179c7dc7b58a830412e7cb09c2f878c
Author: John Robertson <john@cirtech.co.uk>
Date:   Tue Nov 23 21:24:24 2021 +0000

    ‚ú® MarkForged YX kinematics (#23163)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 28040bf1c7..060c07bbbc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -756,6 +756,7 @@
 //#define COREZX
 //#define COREZY
 //#define MARKFORGED_XY  // MarkForged. See https://reprap.org/forum/read.php?152,504042
+//#define MARKFORGED_YX
 
 // Enable for a belt style printer with endless "Z" motion
 //#define BELTPRINTER

commit 6ac0d4727cd4abe70002c32faf3d87c7e24bfad3
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Nov 21 11:25:06 2021 -0800

    ‚ú® BigTreeTech Mini 12864 V1.0 (#23130)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2c53498d02..28040bf1c7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2458,6 +2458,11 @@
 //#define FYSETC_MINI_12864_2_1    // Type A/B. NeoPixel RGB Backlight
 //#define FYSETC_GENERIC_12864_1_1 // Larger display with basic ON/OFF backlight.
 
+//
+// BigTreeTech Mini 12864 V1.0 is an alias for FYSETC_MINI_12864_2_1. Type A/B. NeoPixel RGB Backlight.
+//
+//#define BTT_MINI_12864_V1
+
 //
 // Factory display for Creality CR-10
 // https://www.aliexpress.com/item/32833148327.html

commit 07befb545b2bc6ea284d444637a039127af6b4d1
Author: BigTreeTech <38851044+bigtreetech@users.noreply.github.com>
Date:   Wed Nov 10 23:56:10 2021 +0800

    ‚ú® Support for BIQU B1-SE-Plus strain gauge probe (#23101)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8ab3929c41..2c53498d02 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1220,6 +1220,15 @@
   #endif
 #endif
 
+/**
+ * Probe Enable / Disable
+ * The probe only provides a triggered signal when enabled.
+ */
+//#define PROBE_ENABLE_DISABLE
+#if ENABLED(PROBE_ENABLE_DISABLE)
+  //#define PROBE_ENABLE_PIN -1   // Override the default pin here
+#endif
+
 /**
  * Multiple Probing
  *

commit be412e3e2b07664f95eec21dc8a63a66f25d26a6
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Oct 30 01:39:33 2021 -0500

    üé® Adjust Ender-3 V2 DWIN options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0a51019b67..8ab3929c41 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2770,23 +2770,11 @@
 //
 // Ender-3 v2 OEM display. A DWIN display with Rotary Encoder.
 //
-//#define DWIN_CREALITY_LCD
-
-//
-// Ender-3 v2 OEM display, enhanced.
-//
-//#define DWIN_CREALITY_LCD_ENHANCED
-
-//
-// Ender-3 v2 OEM display with enhancements by Jacob Myers
-//
-//#define DWIN_CREALITY_LCD_JYERSUI
-
-//
-// MarlinUI for Creality's DWIN display (and others)
-//
-//#define DWIN_MARLINUI_PORTRAIT
-//#define DWIN_MARLINUI_LANDSCAPE
+//#define DWIN_CREALITY_LCD           // Creality UI
+//#define DWIN_CREALITY_LCD_ENHANCED  // Enhanced UI
+//#define DWIN_CREALITY_LCD_JYERSUI   // Jyers UI by Jacob Myers
+//#define DWIN_MARLINUI_PORTRAIT      // MarlinUI (portrait orientation)
+//#define DWIN_MARLINUI_LANDSCAPE     // MarlinUI (landscape orientation)
 
 //
 // Touch Screen Settings

commit 18a924d4e26539c270dc08677d4319e5b012c723
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Oct 29 20:42:52 2021 -0500

    üîß Configuration version 02000903

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d8ced232b4..0a51019b67 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 02000902
+#define CONFIGURATION_H_VERSION 02000903
 
 //===========================================================================
 //============================= Getting Started =============================

commit f8968ed13c217ffa8db13d15c1d136e8d3864c1e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Oct 24 23:32:34 2021 -0500

    üêõ More explicit allocation of solenoids
    
    In reference to #22887

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e6b81bfed8..d8ced232b4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -260,7 +260,6 @@
 
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
   #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // (mm) Distance to move beyond the parking point to grab the extruder
-  //#define MANUAL_SOLENOID_CONTROL                   // Manual control of docking solenoids with M380 S / M381
 
   #if ENABLED(PARKING_EXTRUDER)
 

commit 9a19ea50d8451fc0970843cc896bd2553e0f987e
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Fri Oct 22 08:52:31 2021 -0700

    ‚ú® BigTreeTech TFT35 SPI V1.0 (#22986)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ab1565d343..e6b81bfed8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2642,32 +2642,32 @@
  */
 
 //
-// 480x320, 3.5", SPI Display From MKS
-// Normally used in MKS Robin Nano V2
+// 480x320, 3.5", SPI Display with Rotary Encoder from MKS
+// Usually paired with MKS Robin Nano V2 & V3
 //
 //#define MKS_TS35_V2_0
 
 //
 // 320x240, 2.4", FSMC Display From MKS
-// Normally used in MKS Robin Nano V1.2
+// Usually paired with MKS Robin Nano V1.2
 //
 //#define MKS_ROBIN_TFT24
 
 //
 // 320x240, 2.8", FSMC Display From MKS
-// Normally used in MKS Robin Nano V1.2
+// Usually paired with MKS Robin Nano V1.2
 //
 //#define MKS_ROBIN_TFT28
 
 //
 // 320x240, 3.2", FSMC Display From MKS
-// Normally used in MKS Robin Nano V1.2
+// Usually paired with MKS Robin Nano V1.2
 //
 //#define MKS_ROBIN_TFT32
 
 //
 // 480x320, 3.5", FSMC Display From MKS
-// Normally used in MKS Robin Nano V1.2
+// Usually paired with MKS Robin Nano V1.2
 //
 //#define MKS_ROBIN_TFT35
 
@@ -2678,7 +2678,7 @@
 
 //
 // 320x240, 3.2", FSMC Display From MKS
-// Normally used in MKS Robin
+// Usually paired with MKS Robin
 //
 //#define MKS_ROBIN_TFT_V1_1R
 
@@ -2708,10 +2708,15 @@
 //#define ANET_ET5_TFT35
 
 //
-// 1024x600, 7", RGB Stock Display from BIQU-BX
+// 1024x600, 7", RGB Stock Display with Rotary Encoder from BIQU-BX
 //
 //#define BIQU_BX_TFT70
 
+//
+// 480x320, 3.5", SPI Stock Display with Rotary Encoder from BIQU B1 SE Series
+//
+//#define BTT_TFT35_SPI_V1_0
+
 //
 // Generic TFT with detailed options
 //

commit 9bb562f40a5570a63430bbf9392da0fdb85c5c8c
Author: VragVideo <91742261+VragVideo@users.noreply.github.com>
Date:   Sun Oct 3 06:12:51 2021 +0300

    ‚ú® WYH L12864 LCD (Alfawise Ex8) (#22863)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c50af25e63..ab1565d343 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2376,6 +2376,11 @@
 //#define VIKI2
 //#define miniVIKI
 
+//
+// Alfawise Ex8 printer LCD marked as WYH L12864 COG
+//
+//#define WYH_L12864
+
 //
 // MakerLab Mini Panel with graphic
 // controller and SD support - https://reprap.org/wiki/Mini_panel

commit dc5bef62ba185461ba969db6af996ebc93a33ba7
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Sep 23 10:01:37 2021 -0500

    üé® Various multi-axis patches (#22823)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7afb86dac7..c50af25e63 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -794,18 +794,18 @@
 #define ENDSTOPPULLUPS
 #if DISABLED(ENDSTOPPULLUPS)
   // Disable ENDSTOPPULLUPS to set pullups individually
-  //#define ENDSTOPPULLUP_XMAX
-  //#define ENDSTOPPULLUP_YMAX
-  //#define ENDSTOPPULLUP_ZMAX
-  //#define ENDSTOPPULLUP_IMAX
-  //#define ENDSTOPPULLUP_JMAX
-  //#define ENDSTOPPULLUP_KMAX
   //#define ENDSTOPPULLUP_XMIN
   //#define ENDSTOPPULLUP_YMIN
   //#define ENDSTOPPULLUP_ZMIN
   //#define ENDSTOPPULLUP_IMIN
   //#define ENDSTOPPULLUP_JMIN
   //#define ENDSTOPPULLUP_KMIN
+  //#define ENDSTOPPULLUP_XMAX
+  //#define ENDSTOPPULLUP_YMAX
+  //#define ENDSTOPPULLUP_ZMAX
+  //#define ENDSTOPPULLUP_IMAX
+  //#define ENDSTOPPULLUP_JMAX
+  //#define ENDSTOPPULLUP_KMAX
   //#define ENDSTOPPULLUP_ZMIN_PROBE
 #endif
 
@@ -813,18 +813,18 @@
 //#define ENDSTOPPULLDOWNS
 #if DISABLED(ENDSTOPPULLDOWNS)
   // Disable ENDSTOPPULLDOWNS to set pulldowns individually
-  //#define ENDSTOPPULLDOWN_XMAX
-  //#define ENDSTOPPULLDOWN_YMAX
-  //#define ENDSTOPPULLDOWN_ZMAX
-  //#define ENDSTOPPULLDOWN_IMAX
-  //#define ENDSTOPPULLDOWN_JMAX
-  //#define ENDSTOPPULLDOWN_KMAX
   //#define ENDSTOPPULLDOWN_XMIN
   //#define ENDSTOPPULLDOWN_YMIN
   //#define ENDSTOPPULLDOWN_ZMIN
   //#define ENDSTOPPULLDOWN_IMIN
   //#define ENDSTOPPULLDOWN_JMIN
   //#define ENDSTOPPULLDOWN_KMIN
+  //#define ENDSTOPPULLDOWN_XMAX
+  //#define ENDSTOPPULLDOWN_YMAX
+  //#define ENDSTOPPULLDOWN_ZMAX
+  //#define ENDSTOPPULLDOWN_IMAX
+  //#define ENDSTOPPULLDOWN_JMAX
+  //#define ENDSTOPPULLDOWN_KMAX
   //#define ENDSTOPPULLDOWN_ZMIN_PROBE
 #endif
 

commit 3344071f24b505d180dd1423b11510172c3f1c1c
Author: Dan Royer <dan@marginallyclever.com>
Date:   Mon Sep 20 13:42:33 2021 -0700

    Polargraph / Makelangelo kinematics (#22790)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 13dc6a2b2c..7afb86dac7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -761,6 +761,13 @@
 // Enable for a belt style printer with endless "Z" motion
 //#define BELTPRINTER
 
+// Enable for Polargraph Kinematics
+//#define POLARGRAPH
+#if ENABLED(POLARGRAPH)
+  #define POLARGRAPH_MAX_BELT_LEN 1035.0
+  #define POLAR_SEGMENTS_PER_SECOND 5
+#endif
+
 //===========================================================================
 //============================== Endstop Settings ===========================
 //===========================================================================

commit e60e4b8f57806147741e87e2820c258c4b51cf91
Author: Lefteris Garyfalakis <46350667+lefterisgar@users.noreply.github.com>
Date:   Mon Sep 20 03:26:46 2021 +0300

    üåê Update Greek language (#22799)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5abb4fd729..13dc6a2b2c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2044,10 +2044,10 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *   en, an, bg, ca, cz, da, de, el, el_gr, es, eu, fi, fr, gl, hr, hu, it,
+ *   en, an, bg, ca, cz, da, de, el, el_CY, es, eu, fi, fr, gl, hr, hu, it,
  *   jp_kana, ko_KR, nl, pl, pt, pt_br, ro, ru, sk, sv, tr, uk, vi, zh_CN, zh_TW
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'hu':'Hungarian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ro':'Romanian', 'ru':'Russian', 'sk':'Slovak', 'sv':'Swedish', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek (Greece)', 'el_CY':'Greek (Cyprus)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'hu':'Hungarian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ro':'Romanian', 'ru':'Russian', 'sk':'Slovak', 'sv':'Swedish', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)' }
  */
 #define LCD_LANGUAGE en
 

commit 21e8f99500554d69cb91ac2be0b4ab1497bf9fac
Author: Dakkaron <dak1st@gmx.at>
Date:   Wed Sep 15 02:00:48 2021 +0200

    ‚ú® M282 - Detach Servo (#22760)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 12d1ee7064..5abb4fd729 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2936,9 +2936,9 @@
  * Set this manually if there are extra servos needing manual control.
  * Set to 0 to turn off servo support.
  */
-//#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
+//#define NUM_SERVOS 3 // Note: Servo index starts with 0 for M280-M282 commands
 
-// (ms) Delay  before the next move will start, to give the servo time to reach its target angle.
+// (ms) Delay before the next move will start, to give the servo time to reach its target angle.
 // 300ms is a good value but you can try less delay.
 // If the servo can't reach the requested position, increase it.
 #define SERVO_DELAY { 300 }
@@ -2948,3 +2948,6 @@
 
 // Edit servo angles with M281 and save to EEPROM with M500
 //#define EDITABLE_SERVO_ANGLES
+
+// Disable servo with M282 to reduce power consumption, noise, and heat when not in use
+//#define SERVO_DETACH_GCODE

commit c2e4b1626f0cce82a55e8de9dc98ed9381e1d9ad
Author: Tanguy Pruvot <tpruvot@users.noreply.github.com>
Date:   Tue Sep 14 04:07:08 2021 +0200

    ‚ú® TFT Screen/Backlight Sleep (#22617)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 741652422f..12d1ee7064 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2780,6 +2780,8 @@
   #define BUTTON_DELAY_EDIT  50 // (ms) Button repeat delay for edit screens
   #define BUTTON_DELAY_MENU 250 // (ms) Button repeat delay for menus
 
+  //#define TOUCH_IDLE_SLEEP 300 // (secs) Turn off the TFT backlight if set (5mn)
+
   #define TOUCH_SCREEN_CALIBRATION
 
   //#define TOUCH_CALIBRATION_X 12316

commit 5a04cf0514c819d25f7eea0a9c95e17022d7bf1e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Sep 13 18:46:30 2021 -0500

    üîñ Configurations version 02000902

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d8815b7ec5..741652422f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 02000901
+#define CONFIGURATION_H_VERSION 02000902
 
 //===========================================================================
 //============================= Getting Started =============================

commit 23d10ceccb16e5886a6441a364fcbc08391287fe
Author: Desuuuu <contact@desuuuu.com>
Date:   Fri Sep 10 12:15:08 2021 +0200

    üé® Use ExtUI API where applicable

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6a96411863..d8815b7ec5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2566,7 +2566,7 @@
 //  - Copy the downloaded DWIN_SET folder to the SD card.
 //
 // RELOADED (T5UID1)
-//  - Download https://github.com/Desuuuu/DGUS-reloaded
+//  - Download https://github.com/Desuuuu/DGUS-reloaded/releases
 //  - Copy the downloaded DWIN_SET folder to the SD card.
 //
 //#define DGUS_LCD_UI_ORIGIN

commit 0f61d9e4dd4d4e4f27e5c688ab2c5dbd0f03af84
Author: Miguel Risco-Castillo <mriscoc@users.noreply.github.com>
Date:   Tue Sep 7 02:15:24 2021 -0500

    ‚ú® Ender-3 V2 CrealityUI Enhanced (#21942)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a424b1967e..6a96411863 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2756,6 +2756,11 @@
 //
 //#define DWIN_CREALITY_LCD
 
+//
+// Ender-3 v2 OEM display, enhanced.
+//
+//#define DWIN_CREALITY_LCD_ENHANCED
+
 //
 // Ender-3 v2 OEM display with enhancements by Jacob Myers
 //

commit 43a9c71ef7a1c9e9e294707017d372d344c774ce
Author: Jyers <76993396+Jyers@users.noreply.github.com>
Date:   Mon Sep 6 21:06:27 2021 -0700

    ‚ú® Ender-3 V2 with Jyers UI (#22422)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fea0d51e5f..a424b1967e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2756,6 +2756,11 @@
 //
 //#define DWIN_CREALITY_LCD
 
+//
+// Ender-3 v2 OEM display with enhancements by Jacob Myers
+//
+//#define DWIN_CREALITY_LCD_JYERSUI
+
 //
 // MarlinUI for Creality's DWIN display (and others)
 //

commit b0e798330d8f5ade4a230e0a91f05482d100bb97
Author: mrv96 <mrv96@users.noreply.github.com>
Date:   Tue Sep 7 02:51:04 2021 +0200

    ‚ú®Add DGUS_LCD_UI_RELOADED (#21931)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bfc39298a2..fea0d51e5f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2565,10 +2565,15 @@
 //  - Download https://github.com/makerbase-mks/MKS-H43
 //  - Copy the downloaded DWIN_SET folder to the SD card.
 //
+// RELOADED (T5UID1)
+//  - Download https://github.com/Desuuuu/DGUS-reloaded
+//  - Copy the downloaded DWIN_SET folder to the SD card.
+//
 //#define DGUS_LCD_UI_ORIGIN
 //#define DGUS_LCD_UI_FYSETC
 //#define DGUS_LCD_UI_HIPRECY
 //#define DGUS_LCD_UI_MKS
+//#define DGUS_LCD_UI_RELOADED
 #if ENABLED(DGUS_LCD_UI_MKS)
   #define USE_MKS_GREEN_UI
 #endif

commit 18d82c1988624c48b459352fa02a352b34d2eff7
Author: Thomas White <TomW1605@users.noreply.github.com>
Date:   Fri Sep 3 12:30:24 2021 +0800

    ‚ú® Homing submenu option (#22692)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5a70d32671..bfc39298a2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2159,6 +2159,7 @@
 // Add individual axis homing items (Home X, Home Y, and Home Z) to the LCD menu.
 //
 //#define INDIVIDUAL_AXIS_HOMING_MENU
+//#define INDIVIDUAL_AXIS_HOMING_SUBMENU
 
 //
 // SPEAKER/BUZZER

commit e1056378f1bbba01fd846c5af2ba339739c271e3
Author: Elliott Indiran <eindiran@users.noreply.github.com>
Date:   Thu Sep 2 20:41:41 2021 -0700

    üìù Update PID_PARAMS_PER_HOTEND comment (#22694)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 418c25aef7..5a70d32671 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -595,8 +595,8 @@
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
 
   #if ENABLED(PID_PARAMS_PER_HOTEND)
-    // Specify between 1 and HOTENDS values per array.
-    // If fewer than EXTRUDER values are provided, the last element will be repeated.
+    // Specify up to one value per hotend here, according to your setup.
+    // If there are fewer values, the last one applies to the remaining hotends.
     #define DEFAULT_Kp_LIST {  22.20,  22.20 }
     #define DEFAULT_Ki_LIST {   1.08,   1.08 }
     #define DEFAULT_Kd_LIST { 114.00, 114.00 }

commit 71a2a958858f47545bb9f02764af26fb68991b36
Author: Tanguy Pruvot <tpruvot@users.noreply.github.com>
Date:   Thu Sep 2 01:55:36 2021 +0200

    üî® Enhance Lerdge pins, TFTs, and variants (#22658)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c9a900062c..418c25aef7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2710,6 +2710,7 @@
   //#define TFT_RES_320x240
   //#define TFT_RES_480x272
   //#define TFT_RES_480x320
+  //#define TFT_RES_1024x600
 #endif
 
 /**

commit fb29135c74a258eaa0ba824c9c1f00762ed59183
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Aug 29 20:44:55 2021 -0500

    ‚ú® Creality3D CR-30 PrintMill

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ac98b1b322..c9a900062c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -758,6 +758,9 @@
 //#define COREZY
 //#define MARKFORGED_XY  // MarkForged. See https://reprap.org/forum/read.php?152,504042
 
+// Enable for a belt style printer with endless "Z" motion
+//#define BELTPRINTER
+
 //===========================================================================
 //============================== Endstop Settings ===========================
 //===========================================================================

commit 7d416bd055e3ccddf765208b2937dcc1fcd4ea8b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Aug 22 05:25:07 2021 -0500

    ‚ú® MarlinUI for Ender 3 v2 DWIN LCD (#22594)
    
    Co-Authored-By: Taylor Talkington <taylor.talkington@gmail.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 763c143158..ac98b1b322 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2746,6 +2746,12 @@
 //
 //#define DWIN_CREALITY_LCD
 
+//
+// MarlinUI for Creality's DWIN display (and others)
+//
+//#define DWIN_MARLINUI_PORTRAIT
+//#define DWIN_MARLINUI_LANDSCAPE
+
 //
 // Touch Screen Settings
 //

commit c161a46112debd280dc1ed6945d50f971ff505e6
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Aug 13 16:32:25 2021 -0500

    üé® Update MKSPWC, some other pins (#22557)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d01fc98b40..763c143158 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -367,6 +367,7 @@
 //#define PSU_NAME "Power Supply"
 
 #if ENABLED(PSU_CONTROL)
+  //#define MKS_PWC                 // Using the MKS PWC add-on
   //#define PS_OFF_CONFIRM          // Confirm dialog when power off
   //#define PS_OFF_SOUND            // Beep 1s when power off
   #define PSU_ACTIVE_STATE LOW      // Set 'LOW' for ATX, 'HIGH' for X-Box

commit 5cb961e98b6d659a9acad3a88126baa14faec35f
Author: Vert <45634861+Vertabreak@users.noreply.github.com>
Date:   Thu Aug 5 00:45:49 2021 -0400

    ‚ú® Mixer Presets (#21562)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 239ee220b2..d01fc98b40 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -342,6 +342,7 @@
   #define MIXING_VIRTUAL_TOOLS 16  // Use the Virtual Tool method with M163 and M164
   //#define DIRECT_MIXING_IN_G1    // Allow ABCDHI mix factors in G1 movement commands
   //#define GRADIENT_MIX           // Support for gradient mixing with M166 and LCD
+  //#define MIXING_PRESETS         // Assign 8 default V-tool presets for 2 or 3 MIXING_STEPPERS
   #if ENABLED(GRADIENT_MIX)
     //#define GRADIENT_VTOOL       // Add M166 T to use a V-tool index as a Gradient alias
   #endif

commit afca6e745932d295b88d37fa9bd4274e22705b0b
Author: luzpaz <luzpaz@users.noreply.github.com>
Date:   Tue Aug 3 20:02:34 2021 -0400

    üêõ Spellcheck comments (#22496)
    
    codespell -q 3 --builtin=clear,rare,informal,code -S ./Marlin/src/lcd/language -L alo,amin,endcode,stdio,uint

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1b4d630681..239ee220b2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1109,7 +1109,7 @@
 #endif
 
 // Duet Smart Effector (for delta printers) - https://bit.ly/2ul5U7J
-// When the pin is defined you can use M672 to set/reset the probe sensivity.
+// When the pin is defined you can use M672 to set/reset the probe sensitivity.
 //#define DUET_SMART_EFFECTOR
 #if ENABLED(DUET_SMART_EFFECTOR)
   #define SMART_EFFECTOR_MOD_PIN  -1  // Connect a GPIO pin to the Smart Effector MOD pin

commit 543d834a254544671bbeee937601704fc2dfad7a
Author: ellensp <ellensp@hotmail.com>
Date:   Fri Jul 30 11:25:06 2021 +1200

    üìù Document DGUS display options (#22443)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4adc40a19f..1b4d630681 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2535,11 +2535,33 @@
 // DGUS Touch Display with DWIN OS. (Choose one.)
 // ORIGIN : https://www.aliexpress.com/item/32993409517.html
 // FYSETC : https://www.aliexpress.com/item/32961471929.html
+// MKS    : https://www.aliexpress.com/item/1005002008179262.html
+//
+// Flash display with DGUS Displays for Marlin:
+//  - Format the SD card to FAT32 with an allocation size of 4kb.
+//  - Download files as specified for your type of display.
+//  - Plug the microSD card into the back of the display.
+//  - Boot the display and wait for the update to complete.
+//
+// ORIGIN (Marlin DWIN_SET)
+//  - Download https://github.com/coldtobi/Marlin_DGUS_Resources
+//  - Copy the downloaded DWIN_SET folder to the SD card.
+//
+// FYSETC (Supplier default)
+//  - Download https://github.com/FYSETC/FYSTLCD-2.0
+//  - Copy the downloaded SCREEN folder to the SD card.
+//
+// HIPRECY (Supplier default)
+//  - Download https://github.com/HiPrecy/Touch-Lcd-LEO
+//  - Copy the downloaded DWIN_SET folder to the SD card.
+//
+// MKS (MKS-H43) (Supplier default)
+//  - Download https://github.com/makerbase-mks/MKS-H43
+//  - Copy the downloaded DWIN_SET folder to the SD card.
 //
 //#define DGUS_LCD_UI_ORIGIN
 //#define DGUS_LCD_UI_FYSETC
 //#define DGUS_LCD_UI_HIPRECY
-
 //#define DGUS_LCD_UI_MKS
 #if ENABLED(DGUS_LCD_UI_MKS)
   #define USE_MKS_GREEN_UI

commit 3797549e7e873864f3cd11ab9185f01676c046e0
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Tue Jul 13 17:08:04 2021 -0700

    üêõ Board Temp Sensor followup (#22350)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bdeb8d8501..4adc40a19f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -451,6 +451,7 @@
  *    67 : 500kŒ©  SliceEngineering 450¬∞C Thermistor
  *    70 : 100kŒ©  bq Hephestos 2
  *    75 : 100kŒ©  Generic Silicon Heat Pad with NTC100K MGB18-104F39050L32
+ *  2000 : 100kŒ©  Ultimachine Rambo TDK NTCG104LH104KT1 NTC100K motherboard Thermistor
  *
  *  Analog Thermistors - 1kŒ© pullup - Atypical, and requires changing out the 4.7kŒ© pullup for 1kŒ©.
  *  -------                           (but gives greater accuracy and more stable PID)

commit 2f6c8e1176202a014c2a038846cb0403cd2cafe0
Author: Katelyn Schiesser <katelyn.schiesser@gmail.com>
Date:   Sun Jul 11 18:41:33 2021 -0700

    ‚ú® Add TEMP_SENSOR_BOARD (#22279)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 576e401ce0..bdeb8d8501 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -474,7 +474,7 @@
  *                NOTE: ADC pins are not 5V tolerant. Not recommended because it's possible to damage the CPU by going over 500¬∞C.
  *   201 : Pt100  with circuit in Overlord, similar to Ultimainboard V2.x
  *
- *  Custom/Dummy/Other Thermos
+ *  Custom/Dummy/Other Thermal Sensors
  *  ------
  *     0 : not used
  *  1000 : Custom - Specify parameters in Configuration_adv.h
@@ -496,6 +496,7 @@
 #define TEMP_SENSOR_PROBE 0
 #define TEMP_SENSOR_CHAMBER 0
 #define TEMP_SENSOR_COOLER 0
+#define TEMP_SENSOR_BOARD 0
 #define TEMP_SENSOR_REDUNDANT 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
@@ -528,17 +529,11 @@
  * the print will be aborted. Whichever sensor is selected will have its normal functions disabled; i.e. selecting
  * the Bed sensor (-1) will disable bed heating/monitoring.
  *
- * Use the following to select temp sensors:
- *    -5 : Cooler
- *    -4 : Probe
- *    -3 : not used
- *    -2 : Chamber
- *    -1 : Bed
- *   0-7 : E0 through E7
+ * For selecting source/target use: COOLER, PROBE, BOARD, CHAMBER, BED, E0, E1, E2, E3, E4, E5, E6, E7
  */
 #if TEMP_SENSOR_REDUNDANT
-  #define TEMP_SENSOR_REDUNDANT_SOURCE     1  // The sensor that will provide the redundant reading.
-  #define TEMP_SENSOR_REDUNDANT_TARGET     0  // The sensor that we are providing a redundant reading for.
+  #define TEMP_SENSOR_REDUNDANT_SOURCE    E1  // The sensor that will provide the redundant reading.
+  #define TEMP_SENSOR_REDUNDANT_TARGET    E0  // The sensor that we are providing a redundant reading for.
   #define TEMP_SENSOR_REDUNDANT_MAX_DIFF  10  // (¬∞C) Temperature difference that will trigger a print abort.
 #endif
 

commit bd60d779041b05d844102237109c3fd98d56f891
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Jul 9 22:24:43 2021 -0500

    üé® Strip trailing whitespace

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5a38ddda0f..576e401ce0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2416,7 +2416,7 @@
 
 //
 // MKS MINI12864 V3 is an alias for FYSETC_MINI_12864_2_1. Type A/B. NeoPixel RGB Backlight.
-// 
+//
 //#define MKS_MINI_12864_V3
 
 //

commit 938d86d1c5512a39ac2527b497a0875d742d17e9
Author: mks-viva <1224833100@qq.com>
Date:   Fri Jul 9 17:59:36 2021 -0500

    ‚ú® MKS MINI12864 V3 for MKS Robin Nano V2/3 (#22285)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e9a49b6056..5a38ddda0f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2414,6 +2414,11 @@
 //
 //#define MKS_MINI_12864
 
+//
+// MKS MINI12864 V3 is an alias for FYSETC_MINI_12864_2_1. Type A/B. NeoPixel RGB Backlight.
+// 
+//#define MKS_MINI_12864_V3
+
 //
 // MKS LCD12864A/B with graphic controller and SD support. Follows MKS_MINI_12864 pinout.
 // https://www.aliexpress.com/item/33018110072.html

commit b2f0913083d83bd3fd9af1c603d1f4cc1afb64eb
Author: Katelyn Schiesser <katelyn.schiesser@gmail.com>
Date:   Tue Jul 6 17:36:41 2021 -0700

    üêõ Redundant Temp Sensor followup (#22196)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b3087e46f..e9a49b6056 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -397,70 +397,92 @@
 // @section temperature
 
 /**
- * --NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
+ * --NORMAL IS 4.7kŒ© PULLUP!-- 1kŒ© pullup can be used on hotend sensor, using correct resistor and table
  *
  * Temperature sensors available:
  *
- *    -5 : PT100 / PT1000 with MAX31865 (only for sensors 0-1)
- *    -3 : thermocouple with MAX31855 (only for sensors 0-1)
- *    -2 : thermocouple with MAX6675 (only for sensors 0-1)
- *    -4 : thermocouple with AD8495
- *    -1 : thermocouple with AD595
+ *  SPI RTD/Thermocouple Boards - IMPORTANT: Read the NOTE below!
+ *  -------
+ *    -5 : MAX31865 with Pt100/Pt1000, 2, 3, or 4-wire  (only for sensors 0-1)
+ *                  NOTE: You must uncomment/set the MAX31865_*_OHMS_n defines below.
+ *    -3 : MAX31855 with Thermocouple, -200¬∞C to +700¬∞C (only for sensors 0-1)
+ *    -2 : MAX6675  with Thermocouple, 0¬∞C to +700¬∞C    (only for sensors 0-1)
+ *
+ *  NOTE: Ensure TEMP_n_CS_PIN is set in your pins file for each TEMP_SENSOR_n using an SPI Thermocouple. By default,
+ *        Hardware SPI on the default serial bus is used. If you have also set TEMP_n_SCK_PIN and TEMP_n_MISO_PIN,
+ *        Software SPI will be used on those ports instead. You can force Hardware SPI on the default bus in the
+ *        Configuration_adv.h file. At this time, separate Hardware SPI buses for sensors are not supported.
+ *
+ *  Analog Themocouple Boards
+ *  -------
+ *    -4 : AD8495 with Thermocouple
+ *    -1 : AD595  with Thermocouple
+ *
+ *  Analog Thermistors - 4.7kŒ© pullup - Normal
+ *  -------
+ *     1 : 100kŒ©  EPCOS - Best choice for EPCOS thermistors
+ *   331 : 100kŒ©  Same as #1, but 3.3V scaled for MEGA
+ *   332 : 100kŒ©  Same as #1, but 3.3V scaled for DUE
+ *     2 : 200kŒ©  ATC Semitec 204GT-2
+ *   202 : 200kŒ©  Copymaster 3D
+ *     3 : ???Œ©   Mendel-parts thermistor
+ *     4 : 10kŒ©   Generic Thermistor !! DO NOT use for a hotend - it gives bad resolution at high temp. !!
+ *     5 : 100kŒ©  ATC Semitec 104GT-2/104NT-4-R025H42G - Used in ParCan, J-Head, and E3D, SliceEngineering 300¬∞C
+ *   501 : 100kŒ©  Zonestar - Tronxy X3A
+ *   502 : 100kŒ©  Zonestar - used by hot bed in Zonestar Pr≈Ø≈°a P802M
+ *   512 : 100kŒ©  RPW-Ultra hotend
+ *     6 : 100kŒ©  EPCOS - Not as accurate as table #1 (created using a fluke thermocouple)
+ *     7 : 100kŒ©  Honeywell 135-104LAG-J01
+ *    71 : 100kŒ©  Honeywell 135-104LAF-J01
+ *     8 : 100kŒ©  Vishay 0603 SMD NTCS0603E3104FXT
+ *     9 : 100kŒ©  GE Sensing AL03006-58.2K-97-G1
+ *    10 : 100kŒ©  RS PRO 198-961
+ *    11 : 100kŒ©  Keenovo AC silicone mats, most Wanhao i3 machines - beta 3950, 1%
+ *    12 : 100kŒ©  Vishay 0603 SMD NTCS0603E3104FXT (#8) - calibrated for Makibox hot bed
+ *    13 : 100kŒ©  Hisens up to 300¬∞C - for "Simple ONE" & "All In ONE" hotend - beta 3950, 1%
+ *    15 : 100kŒ©  Calibrated for JGAurora A5 hotend
+ *    18 : 200kŒ©  ATC Semitec 204GT-2 Dagoma.Fr - MKS_Base_DKU001327
+ *    22 : 100kŒ©  GTM32 Pro vB - hotend - 4.7kŒ© pullup to 3.3V and 220Œ© to analog input
+ *    23 : 100kŒ©  GTM32 Pro vB - bed - 4.7kŒ© pullup to 3.3v and 220Œ© to analog input
+ *    30 : 100kŒ©  Kis3d Silicone heating mat 200W/300W with 6mm precision cast plate (EN AW 5083) NTC100K - beta 3950
+ *    60 : 100kŒ©  Maker's Tool Works Kapton Bed Thermistor - beta 3950
+ *    61 : 100kŒ©  Formbot/Vivedino 350¬∞C Thermistor - beta 3950
+ *    66 : 4.7MŒ©  Dyze Design High Temperature Thermistor
+ *    67 : 500kŒ©  SliceEngineering 450¬∞C Thermistor
+ *    70 : 100kŒ©  bq Hephestos 2
+ *    75 : 100kŒ©  Generic Silicon Heat Pad with NTC100K MGB18-104F39050L32
+ *
+ *  Analog Thermistors - 1kŒ© pullup - Atypical, and requires changing out the 4.7kŒ© pullup for 1kŒ©.
+ *  -------                           (but gives greater accuracy and more stable PID)
+ *    51 : 100kŒ©  EPCOS (1kŒ© pullup)
+ *    52 : 200kŒ©  ATC Semitec 204GT-2 (1kŒ© pullup)
+ *    55 : 100kŒ©  ATC Semitec 104GT-2 - Used in ParCan & J-Head (1kŒ© pullup)
+ *
+ *  Analog Thermistors - 10kŒ© pullup - Atypical
+ *  -------
+ *    99 : 100kŒ©  Found on some Wanhao i3 machines with a 10kŒ© pull-up resistor
+ *
+ *  Analog RTDs (Pt100/Pt1000)
+ *  -------
+ *   110 : Pt100  with 1kŒ© pullup (atypical)
+ *   147 : Pt100  with 4.7kŒ© pullup
+ *  1010 : Pt1000 with 1kŒ© pullup (atypical)
+ *  1047 : Pt1000 with 4.7kŒ© pullup (E3D)
+ *    20 : Pt100  with circuit in the Ultimainboard V2.x with mainboard ADC reference voltage = INA826 amplifier-board supply voltage.
+ *                NOTE: (1) Must use an ADC input with no pullup. (2) Some INA826 amplifiers are unreliable at 3.3V so consider using sensor 147, 110, or 21.
+ *    21 : Pt100  with circuit in the Ultimainboard V2.x with 3.3v ADC reference voltage (STM32, LPC176x....) and 5V INA826 amplifier board supply.
+ *                NOTE: ADC pins are not 5V tolerant. Not recommended because it's possible to damage the CPU by going over 500¬∞C.
+ *   201 : Pt100  with circuit in Overlord, similar to Ultimainboard V2.x
+ *
+ *  Custom/Dummy/Other Thermos
+ *  ------
  *     0 : not used
- *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
- *   331 : (3.3V scaled thermistor 1 table for MEGA)
- *   332 : (3.3V scaled thermistor 1 table for DUE)
- *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
- *   202 : 200k thermistor - Copymaster 3D
- *     3 : Mendel-parts thermistor (4.7k pullup)
- *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
- *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan, J-Head, and E3D) (4.7k pullup)
- *   501 : 100K Zonestar (Tronxy X3A) Thermistor
- *   502 : 100K Zonestar Thermistor used by hot bed in Zonestar Pr≈Ø≈°a P802M
- *   512 : 100k RPW-Ultra hotend thermistor (4.7k pullup)
- *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
- *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
- *    71 : 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
- *     8 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
- *     9 : 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
- *    10 : 100k RS thermistor 198-961 (4.7k pullup)
- *    11 : 100k beta 3950 1% thermistor (Used in Keenovo AC silicone mats and most Wanhao i3 machines) (4.7k pullup)
- *    12 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
- *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
- *    15 : 100k thermistor calibration for JGAurora A5 hotend
- *    18 : ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327
- *    20 : Pt100 with circuit in the Ultimainboard V2.x with mainboard ADC reference voltage = INA826 amplifier-board supply voltage.
- *         NOTES: (1) Must use an ADC input with no pullup. (2) Some INA826 amplifiers are unreliable at 3.3V so consider using sensor 147, 110, or 21.
- *    21 : Pt100 with circuit in the Ultimainboard V2.x with 3.3v ADC reference voltage (STM32, LPC176x....) and 5V INA826 amplifier board supply.
- *         NOTE: ADC pins are not 5V tolerant. Not recommended because it's possible to damage the CPU by going over 500¬∞C.
- *    22 : 100k (hotend) with 4.7k pullup to 3.3V and 220R to analog input (as in GTM32 Pro vB)
- *    23 : 100k (bed) with 4.7k pullup to 3.3v and 220R to analog input (as in GTM32 Pro vB)
- *    30 : Kis3d Silicone heating mat 200W/300W with 6mm precision cast plate (EN AW 5083) NTC100K / B3950 (4.7k pullup)
- *   201 : Pt100 with circuit in Overlord, similar to Ultimainboard V2.x
- *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
- *    61 : 100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup
- *    66 : 4.7M High Temperature thermistor from Dyze Design
- *    67 : 450C thermistor from SliceEngineering
- *    70 : the 100K thermistor found in the bq Hephestos 2
- *    75 : 100k Generic Silicon Heat Pad with NTC 100K MGB18-104F39050L32 thermistor
- *    99 : 100k thermistor with a 10K pull-up resistor (found on some Wanhao i3 machines)
- *
- *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
- *                              (but gives greater accuracy and more stable PID)
- *    51 : 100k thermistor - EPCOS (1k pullup)
- *    52 : 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
- *    55 : 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
- *
- *  1047 : Pt1000 with 4k7 pullup (E3D)
- *  1010 : Pt1000 with 1k pullup (non standard)
- *   147 : Pt100 with 4k7 pullup
- *   110 : Pt100 with 1k pullup (non standard)
- *
  *  1000 : Custom - Specify parameters in Configuration_adv.h
  *
- *         Use these for Testing or Development purposes. NEVER for production machine.
+ *   !!! Use these for Testing or Development purposes. NEVER for production machine. !!!
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
+ *
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
@@ -482,7 +504,7 @@
 
 // Resistor values when using MAX31865 sensors (-5) on TEMP_SENSOR_0 / 1
 //#define MAX31865_SENSOR_OHMS_0      100   // (Œ©) Typically 100 or 1000 (PT100 or PT1000)
-//#define MAX31865_CALIBRATION_OHMS_0 430   // (Œ©) Typically 430 for AdaFruit PT100; 4300 for AdaFruit PT1000
+//#define MAX31865_CALIBRATION_OHMS_0 430   // (Œ©) Typically 430 for Adafruit PT100; 4300 for Adafruit PT1000
 //#define MAX31865_SENSOR_OHMS_1      100
 //#define MAX31865_CALIBRATION_OHMS_1 430
 

commit 03a469724af05223be2a8bac71a1082c9ebbc55c
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Jun 30 21:58:25 2021 -0500

    üìù Update Z_SAFE_HOMING description

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6fc4a7cd4c..3b3087e46f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1700,15 +1700,13 @@
 //#define MANUAL_J_HOME_POS 0
 //#define MANUAL_K_HOME_POS 0
 
-// Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
-//
-// With this feature enabled:
-//
-// - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
-// - If stepper drivers time out, it will need X and Y homing again before Z homing.
-// - Move the Z probe (or nozzle) to a defined XY point before Z Homing.
-// - Prevent Z homing when the Z probe is outside bed area.
-//
+/**
+ * Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
+ *
+ * - Moves the Z probe (or nozzle) to a defined XY point before Z homing.
+ * - Allows Z homing only when XY positions are known and trusted.
+ * - If stepper drivers sleep, XY homing may be required again before Z homing.
+ */
 //#define Z_SAFE_HOMING
 
 #if ENABLED(Z_SAFE_HOMING)

commit ff12ea4ab1e4e25bfd17c96e8e6843bd13c4ef3b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Jun 28 01:36:55 2021 -0500

    üîñ Update configurations version

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d3221f80de..6fc4a7cd4c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 02000900
+#define CONFIGURATION_H_VERSION 02000901
 
 //===========================================================================
 //============================= Getting Started =============================

commit 33185b090e264a923a8d2fb0687846fe100f5465
Author: cr20-123 <66994235+cr20-123@users.noreply.github.com>
Date:   Sat Jun 26 14:17:18 2021 -0400

    ‚ú® Update/extend Quiet Probing (#22205)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5b7f439fe5..d3221f80de 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1250,7 +1250,8 @@
   //#define WAIT_FOR_HOTEND         // Wait for hotend to heat back up between probes (to improve accuracy & prevent cold extrude)
 #endif
 //#define PROBING_FANS_OFF          // Turn fans off when probing
-//#define PROBING_STEPPERS_OFF      // Turn steppers off (unless needed to hold position) when probing
+//#define PROBING_ESTEPPERS_OFF     // Turn all extruder steppers off when probing
+//#define PROBING_STEPPERS_OFF      // Turn all steppers off (unless needed to hold position) when probing (including extruders)
 //#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
 
 // Require minimum nozzle and/or bed temperature for probing

commit 0bd113b944d041192146692de50e33fe4d6c0fd8
Author: Cytown <cytown@gmail.com>
Date:   Thu Jun 24 00:40:32 2021 +0800

    ‚ú® Power-off confirm / beep options (#22191)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 717cdd9236..5b7f439fe5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -366,6 +366,8 @@
 //#define PSU_NAME "Power Supply"
 
 #if ENABLED(PSU_CONTROL)
+  //#define PS_OFF_CONFIRM          // Confirm dialog when power off
+  //#define PS_OFF_SOUND            // Beep 1s when power off
   #define PSU_ACTIVE_STATE LOW      // Set 'LOW' for ATX, 'HIGH' for X-Box
 
   //#define PSU_DEFAULT_OFF         // Keep power off until enabled directly with M80

commit 629551d9bc10fd10baf8684c6830baf83e6caa9b
Author: Katelyn Schiesser <katelyn.schiesser@gmail.com>
Date:   Fri Jun 11 13:51:29 2021 -0700

    ‚ú® More flexible redundant temp sensor (#22085)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cb7740a294..717cdd9236 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -472,6 +472,7 @@
 #define TEMP_SENSOR_PROBE 0
 #define TEMP_SENSOR_CHAMBER 0
 #define TEMP_SENSOR_COOLER 0
+#define TEMP_SENSOR_REDUNDANT 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
 #define DUMMY_THERMISTOR_998_VALUE  25
@@ -483,11 +484,6 @@
 //#define MAX31865_SENSOR_OHMS_1      100
 //#define MAX31865_CALIBRATION_OHMS_1 430
 
-// Use temp sensor 1 as a redundant sensor with sensor 0. If the readings
-// from the two sensors differ too much the print will be aborted.
-//#define TEMP_SENSOR_1_AS_REDUNDANT
-#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
-
 #define TEMP_RESIDENCY_TIME         10  // (seconds) Time to wait for hotend to "settle" in M109
 #define TEMP_WINDOW                  1  // (¬∞C) Temperature proximity for the "temperature reached" timer
 #define TEMP_HYSTERESIS              3  // (¬∞C) Temperature proximity considered "close enough" to the target
@@ -500,6 +496,28 @@
 #define TEMP_CHAMBER_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
 #define TEMP_CHAMBER_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
+/**
+ * Redundant Temperature Sensor (TEMP_SENSOR_REDUNDANT)
+ *
+ * Use a temp sensor as a redundant sensor for another reading. Select an unused temperature sensor, and another
+ * sensor you'd like it to be redundant for. If the two thermistors differ by TEMP_SENSOR_REDUNDANT_MAX_DIFF (¬∞C),
+ * the print will be aborted. Whichever sensor is selected will have its normal functions disabled; i.e. selecting
+ * the Bed sensor (-1) will disable bed heating/monitoring.
+ *
+ * Use the following to select temp sensors:
+ *    -5 : Cooler
+ *    -4 : Probe
+ *    -3 : not used
+ *    -2 : Chamber
+ *    -1 : Bed
+ *   0-7 : E0 through E7
+ */
+#if TEMP_SENSOR_REDUNDANT
+  #define TEMP_SENSOR_REDUNDANT_SOURCE     1  // The sensor that will provide the redundant reading.
+  #define TEMP_SENSOR_REDUNDANT_TARGET     0  // The sensor that we are providing a redundant reading for.
+  #define TEMP_SENSOR_REDUNDANT_MAX_DIFF  10  // (¬∞C) Temperature difference that will trigger a print abort.
+#endif
+
 // Below this temperature the heater will be switched off
 // because it probably indicates a broken thermistor wire.
 #define HEATER_0_MINTEMP   5

commit daab75b7eab9003e14547de9a07201da8b60869e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Jun 5 17:08:10 2021 -0500

    üîß FOAMCUTTER_XYUV moved to custom config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 27307eb3be..cb7740a294 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -66,14 +66,6 @@
 //
 //===========================================================================
 
-//===========================================================================
-//=========================== FOAMCUTTER_XYUV ==============================
-//===========================================================================
-// For a hot wire cutter with parallel horizontal axes X, I where the hights
-// of the two wire ends are controlled by parallel axes Y, J.
-//
-//#define FOAMCUTTER_XYUV
-
 // @section info
 
 // Author info of this build printed to the host during boot and M115

commit 7726af9c5348c1c7d0fd9a56eca87d00cd75fee6
Author: DerAndere <26200979+DerAndere1@users.noreply.github.com>
Date:   Sat Jun 5 09:18:47 2021 +0200

    üèóÔ∏è Support for up to 6 linear axes (#19112)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f724d8f34c..27307eb3be 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 02000801
+#define CONFIGURATION_H_VERSION 02000900
 
 //===========================================================================
 //============================= Getting Started =============================
@@ -66,6 +66,14 @@
 //
 //===========================================================================
 
+//===========================================================================
+//=========================== FOAMCUTTER_XYUV ==============================
+//===========================================================================
+// For a hot wire cutter with parallel horizontal axes X, I where the hights
+// of the two wire ends are controlled by parallel axes Y, J.
+//
+//#define FOAMCUTTER_XYUV
+
 // @section info
 
 // Author info of this build printed to the host during boot and M115
@@ -149,6 +157,45 @@
 // Choose your own or use a service like https://www.uuidgenerator.net/version4
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
+/**
+ * Define the number of coordinated linear axes.
+ * See https://github.com/DerAndere1/Marlin/wiki
+ * Each linear axis gets its own stepper control and endstop:
+ *
+ *   Steppers: *_STEP_PIN, *_ENABLE_PIN, *_DIR_PIN, *_ENABLE_ON
+ *   Endstops: *_STOP_PIN, USE_*MIN_PLUG, USE_*MAX_PLUG
+ *       Axes: *_MIN_POS, *_MAX_POS, INVERT_*_DIR
+ *    Planner: DEFAULT_AXIS_STEPS_PER_UNIT, DEFAULT_MAX_FEEDRATE
+ *             DEFAULT_MAX_ACCELERATION, AXIS_RELATIVE_MODES,
+ *             MICROSTEP_MODES, MANUAL_FEEDRATE
+ *
+ * :[3, 4, 5, 6]
+ */
+//#define LINEAR_AXES 3
+
+/**
+ * Axis codes for additional axes:
+ * This defines the axis code that is used in G-code commands to
+ * reference a specific axis.
+ * 'A' for rotational axis parallel to X
+ * 'B' for rotational axis parallel to Y
+ * 'C' for rotational axis parallel to Z
+ * 'U' for secondary linear axis parallel to X
+ * 'V' for secondary linear axis parallel to Y
+ * 'W' for secondary linear axis parallel to Z
+ * Regardless of the settings, firmware-internal axis IDs are
+ * I (AXIS4), J (AXIS5), K (AXIS6).
+ */
+#if LINEAR_AXES >= 4
+  #define AXIS4_NAME 'A' // :['A', 'B', 'C', 'U', 'V', 'W']
+#endif
+#if LINEAR_AXES >= 5
+  #define AXIS5_NAME 'B' // :['A', 'B', 'C', 'U', 'V', 'W']
+#endif
+#if LINEAR_AXES >= 6
+  #define AXIS6_NAME 'C' // :['A', 'B', 'C', 'U', 'V', 'W']
+#endif
+
 // @section extruder
 
 // This defines the number of extruders
@@ -691,9 +738,15 @@
 #define USE_XMIN_PLUG
 #define USE_YMIN_PLUG
 #define USE_ZMIN_PLUG
+//#define USE_IMIN_PLUG
+//#define USE_JMIN_PLUG
+//#define USE_KMIN_PLUG
 //#define USE_XMAX_PLUG
 //#define USE_YMAX_PLUG
 //#define USE_ZMAX_PLUG
+//#define USE_IMAX_PLUG
+//#define USE_JMAX_PLUG
+//#define USE_KMAX_PLUG
 
 // Enable pullup for all endstops to prevent a floating state
 #define ENDSTOPPULLUPS
@@ -702,9 +755,15 @@
   //#define ENDSTOPPULLUP_XMAX
   //#define ENDSTOPPULLUP_YMAX
   //#define ENDSTOPPULLUP_ZMAX
+  //#define ENDSTOPPULLUP_IMAX
+  //#define ENDSTOPPULLUP_JMAX
+  //#define ENDSTOPPULLUP_KMAX
   //#define ENDSTOPPULLUP_XMIN
   //#define ENDSTOPPULLUP_YMIN
   //#define ENDSTOPPULLUP_ZMIN
+  //#define ENDSTOPPULLUP_IMIN
+  //#define ENDSTOPPULLUP_JMIN
+  //#define ENDSTOPPULLUP_KMIN
   //#define ENDSTOPPULLUP_ZMIN_PROBE
 #endif
 
@@ -715,9 +774,15 @@
   //#define ENDSTOPPULLDOWN_XMAX
   //#define ENDSTOPPULLDOWN_YMAX
   //#define ENDSTOPPULLDOWN_ZMAX
+  //#define ENDSTOPPULLDOWN_IMAX
+  //#define ENDSTOPPULLDOWN_JMAX
+  //#define ENDSTOPPULLDOWN_KMAX
   //#define ENDSTOPPULLDOWN_XMIN
   //#define ENDSTOPPULLDOWN_YMIN
   //#define ENDSTOPPULLDOWN_ZMIN
+  //#define ENDSTOPPULLDOWN_IMIN
+  //#define ENDSTOPPULLDOWN_JMIN
+  //#define ENDSTOPPULLDOWN_KMIN
   //#define ENDSTOPPULLDOWN_ZMIN_PROBE
 #endif
 
@@ -725,9 +790,15 @@
 #define X_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Y_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Z_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define I_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define J_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define K_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define X_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Y_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Z_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define I_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define J_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define K_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
 #define Z_MIN_PROBE_ENDSTOP_INVERTING false // Set to true to invert the logic of the probe.
 
 /**
@@ -756,6 +827,9 @@
 //#define Z2_DRIVER_TYPE A4988
 //#define Z3_DRIVER_TYPE A4988
 //#define Z4_DRIVER_TYPE A4988
+//#define I_DRIVER_TYPE  A4988
+//#define J_DRIVER_TYPE  A4988
+//#define K_DRIVER_TYPE  A4988
 #define E0_DRIVER_TYPE A4988
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988
@@ -809,14 +883,14 @@
 /**
  * Default Axis Steps Per Unit (steps/mm)
  * Override with M92
- *                                      X, Y, Z, E0 [, E1[, E2...]]
+ *                                      X, Y, Z [, I [, J [, K]]], E0 [, E1[, E2...]]
  */
 #define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 400, 500 }
 
 /**
  * Default Max Feed Rate (mm/s)
  * Override with M203
- *                                      X, Y, Z, E0 [, E1[, E2...]]
+ *                                      X, Y, Z [, I [, J [, K]]], E0 [, E1[, E2...]]
  */
 #define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
 
@@ -829,7 +903,7 @@
  * Default Max Acceleration (change/s) change = mm/s
  * (Maximum start speed for accelerated moves)
  * Override with M201
- *                                      X, Y, Z, E0 [, E1[, E2...]]
+ *                                      X, Y, Z [, I [, J [, K]]], E0 [, E1[, E2...]]
  */
 #define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 
@@ -863,6 +937,9 @@
   #define DEFAULT_XJERK 10.0
   #define DEFAULT_YJERK 10.0
   #define DEFAULT_ZJERK  0.3
+  //#define DEFAULT_IJERK  0.3
+  //#define DEFAULT_JJERK  0.3
+  //#define DEFAULT_KJERK  0.3
 
   //#define TRAVEL_EXTRA_XYJERK 0.0     // Additional jerk allowance for all travel moves
 
@@ -1177,12 +1254,18 @@
 #define Y_ENABLE_ON 0
 #define Z_ENABLE_ON 0
 #define E_ENABLE_ON 0 // For all extruders
+//#define I_ENABLE_ON 0
+//#define J_ENABLE_ON 0
+//#define K_ENABLE_ON 0
 
 // Disable axis steppers immediately when they're not being stepped.
 // WARNING: When motors turn off there is a chance of losing position accuracy!
 #define DISABLE_X false
 #define DISABLE_Y false
 #define DISABLE_Z false
+//#define DISABLE_I false
+//#define DISABLE_J false
+//#define DISABLE_K false
 
 // Turn off the display blinking that warns about possible accuracy reduction
 //#define DISABLE_REDUCED_ACCURACY_WARNING
@@ -1198,6 +1281,9 @@
 #define INVERT_X_DIR false
 #define INVERT_Y_DIR true
 #define INVERT_Z_DIR false
+//#define INVERT_I_DIR false
+//#define INVERT_J_DIR false
+//#define INVERT_K_DIR false
 
 // @section extruder
 
@@ -1233,6 +1319,9 @@
 #define X_HOME_DIR -1
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
+//#define I_HOME_DIR -1
+//#define J_HOME_DIR -1
+//#define K_HOME_DIR -1
 
 // @section machine
 
@@ -1247,6 +1336,12 @@
 #define X_MAX_POS X_BED_SIZE
 #define Y_MAX_POS Y_BED_SIZE
 #define Z_MAX_POS 200
+//#define I_MIN_POS 0
+//#define I_MAX_POS 50
+//#define J_MIN_POS 0
+//#define J_MAX_POS 50
+//#define K_MIN_POS 0
+//#define K_MAX_POS 50
 
 /**
  * Software Endstops
@@ -1263,6 +1358,9 @@
   #define MIN_SOFTWARE_ENDSTOP_X
   #define MIN_SOFTWARE_ENDSTOP_Y
   #define MIN_SOFTWARE_ENDSTOP_Z
+  #define MIN_SOFTWARE_ENDSTOP_I
+  #define MIN_SOFTWARE_ENDSTOP_J
+  #define MIN_SOFTWARE_ENDSTOP_K
 #endif
 
 // Max software endstops constrain movement within maximum coordinate bounds
@@ -1271,6 +1369,9 @@
   #define MAX_SOFTWARE_ENDSTOP_X
   #define MAX_SOFTWARE_ENDSTOP_Y
   #define MAX_SOFTWARE_ENDSTOP_Z
+  #define MAX_SOFTWARE_ENDSTOP_I
+  #define MAX_SOFTWARE_ENDSTOP_J
+  #define MAX_SOFTWARE_ENDSTOP_K
 #endif
 
 #if EITHER(MIN_SOFTWARE_ENDSTOPS, MAX_SOFTWARE_ENDSTOPS)
@@ -1582,6 +1683,9 @@
 //#define MANUAL_X_HOME_POS 0
 //#define MANUAL_Y_HOME_POS 0
 //#define MANUAL_Z_HOME_POS 0
+//#define MANUAL_I_HOME_POS 0
+//#define MANUAL_J_HOME_POS 0
+//#define MANUAL_K_HOME_POS 0
 
 // Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
 //

commit c2c771a1ccbe2b61ef36e040613bd6176675d974
Author: Taylor Talkington <taylor.talkington@gmail.com>
Date:   Sat Jun 5 00:01:06 2021 -0400

    üêõ Fix M140 print job timer autostart (#22046)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 366267aa7e..f724d8f34c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1824,11 +1824,20 @@
 /**
  * Print Job Timer
  *
- * Automatically start and stop the print job timer on M104/M109/M190.
- *
- *   M104 (hotend, no wait) - high temp = none,        low temp = stop timer
- *   M109 (hotend, wait)    - high temp = start timer, low temp = stop timer
- *   M190 (bed, wait)       - high temp = start timer, low temp = none
+ * Automatically start and stop the print job timer on M104/M109/M140/M190/M141/M191.
+ * The print job timer will only be stopped if the bed/chamber target temp is
+ * below BED_MINTEMP/CHAMBER_MINTEMP.
+ *
+ *   M104 (hotend, no wait)  - high temp = none,        low temp = stop timer
+ *   M109 (hotend, wait)     - high temp = start timer, low temp = stop timer
+ *   M140 (bed, no wait)     - high temp = none,        low temp = stop timer
+ *   M190 (bed, wait)        - high temp = start timer, low temp = none
+ *   M141 (chamber, no wait) - high temp = none,        low temp = stop timer
+ *   M191 (chamber, wait)    - high temp = start timer, low temp = none
+ *
+ * For M104/M109, high temp is anything over EXTRUDE_MINTEMP / 2.
+ * For M140/M190, high temp is anything over BED_MINTEMP.
+ * For M141/M191, high temp is anything over CHAMBER_MINTEMP.
  *
  * The timer can also be controlled with the following commands:
  *

commit e60c38b6220678b3b9f3a3b31516852f8d25b3b0
Author: ellensp <ellensp@hotmail.com>
Date:   Wed May 26 11:38:23 2021 +1200

    ‚ôªÔ∏è LEDs refactor and extend (#21962)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dd6abd5629..366267aa7e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2690,7 +2690,7 @@
 //#define NEOPIXEL_LED
 #if ENABLED(NEOPIXEL_LED)
   #define NEOPIXEL_TYPE   NEO_GRBW // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
-  #define NEOPIXEL_PIN     4       // LED driving pin
+  //#define NEOPIXEL_PIN     4     // LED driving pin
   //#define NEOPIXEL2_TYPE NEOPIXEL_TYPE
   //#define NEOPIXEL2_PIN    5
   #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip. (Longest strip when NEOPIXEL2_SEPARATE is disabled.)
@@ -2708,10 +2708,11 @@
     //#define NEOPIXEL2_INSERIES      // Default behavior is NeoPixel 2 in parallel
   #endif
 
-  // Use a single NeoPixel LED for static (background) lighting
-  //#define NEOPIXEL_BKGD_LED_INDEX  0               // Index of the LED to use
-  //#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 } // R, G, B, W
-  //#define NEOPIXEL_BKGD_ALWAYS_ON                  // Keep the backlight on when other NeoPixels are off
+  // Use some of the NeoPixel LEDs for static (background) lighting
+  //#define NEOPIXEL_BKGD_INDEX_FIRST  0              // Index of the first background LED
+  //#define NEOPIXEL_BKGD_INDEX_LAST   5              // Index of the last background LED
+  //#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 }  // R, G, B, W
+  //#define NEOPIXEL_BKGD_ALWAYS_ON                   // Keep the backlight on when other NeoPixels are off
 #endif
 
 /**

commit 29ad42e54e88b2117581987aecc811177285eea2
Author: charlespick <charles.pickering19@gmail.com>
Date:   Thu May 20 04:06:26 2021 -0700

    ‚ú® Independent baud rates (#21949)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 78c2dc9160..dd6abd5629 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -104,12 +104,27 @@
  */
 #define SERIAL_PORT 0
 
+/**
+ * Serial Port Baud Rate
+ * This is the default communication speed for all serial ports.
+ * Set the baud rate defaults for additional serial ports below.
+ *
+ * 250000 works in most cases, but you might try a lower speed if
+ * you commonly experience drop-outs during host printing.
+ * You may try up to 1000000 to speed up SD file transfer.
+ *
+ * :[2400, 9600, 19200, 38400, 57600, 115200, 250000, 500000, 1000000]
+ */
+#define BAUDRATE 250000
+//#define BAUD_RATE_GCODE     // Enable G-code M575 to set the baud rate
+
 /**
  * Select a secondary serial port on the board to use for communication with the host.
  * Currently Ethernet (-2) is only supported on Teensy 4.1 boards.
  * :[-2, -1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
 //#define SERIAL_PORT_2 -1
+//#define BAUDRATE_2 250000   // Enable to override BAUDRATE
 
 /**
  * Select a third serial port on the board to use for communication with the host.
@@ -117,17 +132,7 @@
  * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
 //#define SERIAL_PORT_3 1
-
-/**
- * This setting determines the communication speed of the printer.
- *
- * 250000 works in most cases, but you might try a lower speed if
- * you commonly experience drop-outs during host printing.
- * You may try up to 1000000 to speed up SD file transfer.
- *
- * :[2400, 9600, 19200, 38400, 57600, 115200, 250000, 500000, 1000000]
- */
-#define BAUDRATE 250000
+//#define BAUDRATE_3 250000   // Enable to override BAUDRATE
 
 // Enable the Bluetooth serial interface on AT90USB devices
 //#define BLUETOOTH

commit 05bb3bde7a761a3a3087ec29d0b45814cb2174bb
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat May 15 15:21:02 2021 -0500

    Update Hex Version to 02000801

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 755b58fe15..78c2dc9160 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 020008
+#define CONFIGURATION_H_VERSION 02000801
 
 //===========================================================================
 //============================= Getting Started =============================

commit c9de9d4f9b8aee4ac3dfd0f49591b822230f43c7
Author: BigTreeTech <38851044+bigtreetech@users.noreply.github.com>
Date:   Sun May 9 10:02:16 2021 +0800

    Capacitive Touch Screen (GT911) for SKR SE BX (#21843)
    
    Co-authored-by: Msq001 <alansayyeah@gmail.com>
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e1f9a4be70..755b58fe15 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2571,7 +2571,7 @@
 //#define DWIN_CREALITY_LCD
 
 //
-// ADS7843/XPT2046 ADC Touchscreen such as ILI9341 2.8
+// Touch Screen Settings
 //
 //#define TOUCH_SCREEN
 #if ENABLED(TOUCH_SCREEN)

commit 02405add76e722701ab49434549e7d8bf5690162
Author: ellensp <ellensp@hotmail.com>
Date:   Fri May 7 17:31:45 2021 +1200

    Support a third serial port (#21784)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d6a7456ccf..e1f9a4be70 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -111,6 +111,13 @@
  */
 //#define SERIAL_PORT_2 -1
 
+/**
+ * Select a third serial port on the board to use for communication with the host.
+ * Currently only supported for AVR, DUE, LPC1768/9 and STM32/STM32F1
+ * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
+ */
+//#define SERIAL_PORT_3 1
+
 /**
  * This setting determines the communication speed of the printer.
  *

commit 301ee6c57aeafbe121f6896b532fada07c2b3477
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed May 5 04:24:42 2021 -0500

    Add MKS_LCD12864B

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7b03cfe68b..d6a7456ccf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2260,7 +2260,8 @@
 // MKS LCD12864A/B with graphic controller and SD support. Follows MKS_MINI_12864 pinout.
 // https://www.aliexpress.com/item/33018110072.html
 //
-//#define MKS_LCD12864
+//#define MKS_LCD12864A
+//#define MKS_LCD12864B
 
 //
 // FYSETC variant of the MINI12864 graphic controller with SD support

commit cb5e6bfef64ae4bc05db336a5e53a528bb3b7042
Author: Vert <45634861+Vertabreak@users.noreply.github.com>
Date:   Sun May 2 17:38:55 2021 -0400

    UBL Mesh Wizard (#21556)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 442f502c3e..7b03cfe68b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1491,6 +1491,8 @@
   //#define UBL_Z_RAISE_WHEN_OFF_MESH 2.5 // When the nozzle is off the mesh, this value is used
                                           // as the Z-Height correction value.
 
+  //#define UBL_MESH_WIZARD         // Run several commands in a row to get a complete mesh
+
 #elif ENABLED(MESH_BED_LEVELING)
 
   //===========================================================================

commit a0a24e9380a5b4d7070b8c5cd261efd3de517fe2
Author: Vert <45634861+Vertabreak@users.noreply.github.com>
Date:   Mon Apr 26 19:22:27 2021 -0400

    Help users confused by "bed size" (#21714)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8e2ade8299..442f502c3e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1224,7 +1224,7 @@
 
 // @section machine
 
-// The size of the print bed
+// The size of the printable area
 #define X_BED_SIZE 200
 #define Y_BED_SIZE 200
 

commit a1ee5124d3673077e7812c00f883fca7179b30bd
Author: pinchies <pinchies@gmail.com>
Date:   Sun Apr 25 18:48:20 2021 +1000

    Fix usage, commentary of MANUAL_PROBE_START_Z, Z_AFTER_PROBING (#21692)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1022dd54dd..8e2ade8299 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -934,7 +934,6 @@
  * or (with LCD_BED_LEVELING) the LCD controller.
  */
 //#define PROBE_MANUALLY
-//#define MANUAL_PROBE_START_Z 0.2
 
 /**
  * A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
@@ -1409,6 +1408,11 @@
  */
 //#define DEBUG_LEVELING_FEATURE
 
+#if ANY(MESH_BED_LEVELING, AUTO_BED_LEVELING_UBL, PROBE_MANUALLY)
+  // Set a height for the start of manual adjustment
+  #define MANUAL_PROBE_START_Z 0.2  // (mm) Comment out to use the last-measured height
+#endif
+
 #if ANY(MESH_BED_LEVELING, AUTO_BED_LEVELING_BILINEAR, AUTO_BED_LEVELING_UBL)
   // Gradually reduce leveling correction until a set height is reached,
   // at which point movement will be level to the machine's XY plane.

commit b483a8d652c18626d57b5a38c78fdd2caa6e91c3
Author: BigTreeTech <38851044+bigtreetech@users.noreply.github.com>
Date:   Tue Apr 6 10:40:50 2021 +0800

    BTT SKR-SE-BX (STM32H743IIT6 ARM Cortex M7) and BIQU_BX_TFT70 (#21536)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0847892934..1022dd54dd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2496,6 +2496,11 @@
 //
 //#define ANET_ET5_TFT35
 
+//
+// 1024x600, 7", RGB Stock Display from BIQU-BX
+//
+//#define BIQU_BX_TFT70
+
 //
 // Generic TFT with detailed options
 //

commit 6747d350a53ff78be2e7679cb3e9afec0d9aca52
Author: Sola <42537573+solawc@users.noreply.github.com>
Date:   Fri Apr 2 08:19:22 2021 +0800

    MKS H43 fix, cleanup (#21500)
    
    Followup to #21485

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5f9b1782fc..0847892934 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2374,7 +2374,7 @@
 //#define DGUS_LCD_UI_FYSETC
 //#define DGUS_LCD_UI_HIPRECY
 
-// #define DGUS_LCD_UI_MKS
+//#define DGUS_LCD_UI_MKS
 #if ENABLED(DGUS_LCD_UI_MKS)
   #define USE_MKS_GREEN_UI
 #endif

commit 4d17613050e7d77bb1bf229f9682743f3924caf4
Author: Sola <42537573+solawc@users.noreply.github.com>
Date:   Wed Mar 31 15:34:17 2021 +0800

    MKS H43 fix, cleanup (#21485)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 93a60394c2..5f9b1782fc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2373,7 +2373,11 @@
 //#define DGUS_LCD_UI_ORIGIN
 //#define DGUS_LCD_UI_FYSETC
 //#define DGUS_LCD_UI_HIPRECY
-//#define DGUS_LCD_UI_MKS
+
+// #define DGUS_LCD_UI_MKS
+#if ENABLED(DGUS_LCD_UI_MKS)
+  #define USE_MKS_GREEN_UI
+#endif
 
 //
 // Touch-screen LCD for Malyan M200/M300 printers

commit 3f7cd45df4b7159e92b37eb561fe4d7980d031af
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Tue Mar 30 04:14:11 2021 +0200

    Generalize MMU (#21469)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f333c3369b..93a60394c2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -160,11 +160,11 @@
  * Multi-Material Unit
  * Set to one of these predefined models:
  *
- *   PRUSA_MMU1      : Pr≈Ø≈°a MMU1 (The "multiplexer" version)
- *   PRUSA_MMU2      : Pr≈Ø≈°a MMU2
- *   PRUSA_MMU2S     : Pr≈Ø≈°a MMU2S (Requires MK3S extruder with motion sensor, EXTRUDERS = 5)
- *   SMUFF_EMU_MMU2  : Technik Gegg SMuFF (Pr≈Ø≈°a MMU2 emulation mode)
- *   SMUFF_EMU_MMU2S : Technik Gegg SMuFF (Pr≈Ø≈°a MMU2S emulation mode)
+ *   PRUSA_MMU1           : Pr≈Ø≈°a MMU1 (The "multiplexer" version)
+ *   PRUSA_MMU2           : Pr≈Ø≈°a MMU2
+ *   PRUSA_MMU2S          : Pr≈Ø≈°a MMU2S (Requires MK3S extruder with motion sensor, EXTRUDERS = 5)
+ *   EXTENDABLE_EMU_MMU2  : MMU with configurable number of filaments (ERCF, SMuFF or similar with Pr≈Ø≈°a MMU2 compatible firmware)
+ *   EXTENDABLE_EMU_MMU2S : MMUS with configurable number of filaments (ERCF, SMuFF or similar with Pr≈Ø≈°a MMU2 compatible firmware)
  *
  * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
  * See additional options in Configuration_adv.h.

commit c298095000ac0ff5213dea2348b432779ad894ef
Author: Ste <stefano.serioli@outlook.com>
Date:   Tue Mar 30 04:07:21 2021 +0200

    Align temp settings (#21329)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c9c83f9bb6..f333c3369b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -437,17 +437,17 @@
 //#define TEMP_SENSOR_1_AS_REDUNDANT
 #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 
-#define TEMP_RESIDENCY_TIME     10  // (seconds) Time to wait for hotend to "settle" in M109
-#define TEMP_WINDOW              1  // (¬∞C) Temperature proximity for the "temperature reached" timer
-#define TEMP_HYSTERESIS          3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#define TEMP_RESIDENCY_TIME         10  // (seconds) Time to wait for hotend to "settle" in M109
+#define TEMP_WINDOW                  1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+#define TEMP_HYSTERESIS              3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
-#define TEMP_BED_RESIDENCY_TIME 10  // (seconds) Time to wait for bed to "settle" in M190
-#define TEMP_BED_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
-#define TEMP_BED_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#define TEMP_BED_RESIDENCY_TIME     10  // (seconds) Time to wait for bed to "settle" in M190
+#define TEMP_BED_WINDOW              1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+#define TEMP_BED_HYSTERESIS          3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
 #define TEMP_CHAMBER_RESIDENCY_TIME 10  // (seconds) Time to wait for chamber to "settle" in M191
-#define TEMP_CHAMBER_WINDOW      1  // (¬∞C) Temperature proximity for the "temperature reached" timer
-#define TEMP_CHAMBER_HYSTERESIS  3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#define TEMP_CHAMBER_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+#define TEMP_CHAMBER_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
 // Below this temperature the heater will be switched off
 // because it probably indicates a broken thermistor wire.

commit cfa6c7d45ba72d1a0b26e6308191e008dcd0d9c9
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Mar 19 16:34:10 2021 -0500

    Improve max temp / target

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 339dae7702..c9c83f9bb6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -484,6 +484,7 @@
  */
 #define HOTEND_OVERSHOOT 15   // (¬∞C) Forbid temperatures over MAXTEMP - OVERSHOOT
 #define BED_OVERSHOOT    10   // (¬∞C) Forbid temperatures over MAXTEMP - OVERSHOOT
+#define COOLER_OVERSHOOT  2   // (¬∞C) Forbid temperatures closer than OVERSHOOT
 
 //===========================================================================
 //============================= PID Settings ================================

commit eee726ec7dfa774677e86d84573e04524eff64be
Author: Marcio T <mlt4356-github@yahoo.com>
Date:   Tue Mar 23 00:45:51 2021 -0600

    UBL - Hilbert space-filling curve probing sequence (#21387)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce847c0d65..339dae7702 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1478,6 +1478,8 @@
   #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
+  //#define UBL_HILBERT_CURVE       // Use Hilbert distribution for less travel when probing multiple points
+
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
   #define UBL_SAVE_ACTIVE_ON_M500   // Save the currently active mesh in the current slot on M500
 

commit b51aed8aa54f41cc5897485d3b34b019ce38343d
Author: Skorpi08 <skorpik08@gmail.com>
Date:   Fri Mar 19 02:51:19 2021 +0100

    Nextion TFT touch screen (#21324)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 726ff1ec0b..ce847c0d65 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2396,6 +2396,14 @@
   //#define ANYCUBIC_LCD_DEBUG
 #endif
 
+//
+// 320x240 Nextion 2.8" serial TFT Resistive Touch Screen NX3224T028
+//
+//#define NEXTION_TFT
+#if ENABLED(NEXTION_TFT)
+  #define LCD_SERIAL_PORT 1  // Default is 1 for Nextion
+#endif
+
 //
 // Third-party or vendor-customized controller interfaces.
 // Sources should be installed in 'src/lcd/extui'.

commit 1a23ffd7768483914485f9ea569c5813613eef92
Author: K.3D <40525619+KA8888@users.noreply.github.com>
Date:   Mon Mar 15 17:02:40 2021 +0100

    KRATOS32 / K.32 board and LCD controllers (#21334)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1098351d4e..726ff1ec0b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2181,6 +2181,11 @@
 //
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
+//
+// K.3D Full Graphic Smart Controller
+//
+//#define K3D_FULL_GRAPHIC_SMART_CONTROLLER
+
 //
 // ReprapWorld Graphical LCD
 // https://reprapworld.com/?products_details&products_id/1218
@@ -2318,7 +2323,7 @@
 //#define OLED_PANEL_TINYBOY2
 
 //
-// MKS OLED 1.3" 128√ó64 FULL GRAPHICS CONTROLLER
+// MKS OLED 1.3" 128√ó64 Full Graphics Controller
 // https://reprap.org/wiki/MKS_12864OLED
 //
 // Tiny, but very sharp OLED display
@@ -2327,7 +2332,7 @@
 //#define MKS_12864OLED_SSD1306  // Uses the SSD1306 controller
 
 //
-// Zonestar OLED 128√ó64 FULL GRAPHICS CONTROLLER
+// Zonestar OLED 128√ó64 Full Graphics Controller
 //
 //#define ZONESTAR_12864LCD           // Graphical (DOGM) with ST7920 controller
 //#define ZONESTAR_12864OLED          // 1.3" OLED with SH1106 controller (default)
@@ -2344,10 +2349,15 @@
 //#define OVERLORD_OLED
 
 //
-// FYSETC OLED 2.42" 128√ó64 FULL GRAPHICS CONTROLLER with WS2812 RGB
+// FYSETC OLED 2.42" 128√ó64 Full Graphics Controller with WS2812 RGB
 // Where to find : https://www.aliexpress.com/item/4000345255731.html
 //#define FYSETC_242_OLED_12864   // Uses the SSD1309 controller
 
+//
+// K.3D SSD1309 OLED 2.42" 128√ó64 Full Graphics Controller
+//
+//#define K3D_242_OLED_CONTROLLER   // Software SPI
+
 //=============================================================================
 //========================== Extensible UI Displays ===========================
 //=============================================================================

commit 5dc8f5cfabbfcc6803cad1edd3ea469b29b0834a
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sat Mar 6 20:55:37 2021 -0800

    Extend Heater Overshoot Options (#21273)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7b0023a564..1098351d4e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -476,6 +476,15 @@
 #define BED_MAXTEMP      150
 #define CHAMBER_MAXTEMP  60
 
+/**
+ * Thermal Overshoot
+ * During heatup (and printing) the temperature can often "overshoot" the target by many degrees
+ * (especially before PID tuning). Setting the target temperature too close to MAXTEMP guarantees
+ * a MAXTEMP shutdown! Use these values to forbid temperatures being set too close to MAXTEMP.
+ */
+#define HOTEND_OVERSHOOT 15   // (¬∞C) Forbid temperatures over MAXTEMP - OVERSHOOT
+#define BED_OVERSHOOT    10   // (¬∞C) Forbid temperatures over MAXTEMP - OVERSHOOT
+
 //===========================================================================
 //============================= PID Settings ================================
 //===========================================================================

commit b95e548ddbcbc1c088eabc17992d0a06f82ac167
Author: Mike La Spina <mike.laspina@shaw.ca>
Date:   Sat Mar 6 14:13:28 2021 -0600

    Cooler (for Laser) - M143, M193 (#21255)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 90ab4d58af..7b0023a564 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -329,8 +329,10 @@
     #define AUTO_POWER_E_FANS
     #define AUTO_POWER_CONTROLLERFAN
     #define AUTO_POWER_CHAMBER_FAN
+    #define AUTO_POWER_COOLER_FAN
     //#define AUTO_POWER_E_TEMP        50 // (¬∞C) Turn on PSU if any extruder is over this temperature
     //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) Turn on PSU if the chamber is over this temperature
+    //#define AUTO_POWER_COOLER_TEMP   26 // (¬∞C) Turn on PSU if the cooler is over this temperature
     #define POWER_TIMEOUT              30 // (s) Turn off power if the machine is idle for this duration
     //#define POWER_OFF_DELAY          60 // (s) Delay of poweroff after M81 command. Useful to let fans run for extra time.
   #endif
@@ -418,6 +420,7 @@
 #define TEMP_SENSOR_BED 0
 #define TEMP_SENSOR_PROBE 0
 #define TEMP_SENSOR_CHAMBER 0
+#define TEMP_SENSOR_COOLER 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
 #define DUMMY_THERMISTOR_998_VALUE  25
@@ -636,6 +639,7 @@
 #define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
 #define THERMAL_PROTECTION_BED     // Enable thermal protection for the heated bed
 #define THERMAL_PROTECTION_CHAMBER // Enable thermal protection for the heated chamber
+#define THERMAL_PROTECTION_COOLER  // Enable thermal protection for the laser cooling
 
 //===========================================================================
 //============================= Mechanical Settings =========================

commit 9299f4e98a95066c232d4657ff6d7c6acbb72fe0
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Thu Mar 4 01:32:02 2021 -0800

    SMUFF => SMuFF (#21243)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 018c171665..90ab4d58af 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -163,8 +163,8 @@
  *   PRUSA_MMU1      : Pr≈Ø≈°a MMU1 (The "multiplexer" version)
  *   PRUSA_MMU2      : Pr≈Ø≈°a MMU2
  *   PRUSA_MMU2S     : Pr≈Ø≈°a MMU2S (Requires MK3S extruder with motion sensor, EXTRUDERS = 5)
- *   SMUFF_EMU_MMU2  : Technik Gegg SMUFF (Pr≈Ø≈°a MMU2 emulation mode)
- *   SMUFF_EMU_MMU2S : Technik Gegg SMUFF (Pr≈Ø≈°a MMU2S emulation mode)
+ *   SMUFF_EMU_MMU2  : Technik Gegg SMuFF (Pr≈Ø≈°a MMU2 emulation mode)
+ *   SMUFF_EMU_MMU2S : Technik Gegg SMuFF (Pr≈Ø≈°a MMU2S emulation mode)
  *
  * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
  * See additional options in Configuration_adv.h.

commit a46e0257252bcd50f4c7acb04215f3ad2a92047c
Author: Axel <ansepulveda@uc.cl>
Date:   Wed Mar 3 20:46:32 2021 -0300

    TPARA - 3DOF robot arm IK (#21005)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 46b70eb72d..018c171665 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -58,18 +58,13 @@
  */
 
 //===========================================================================
-//============================= DELTA Printer ===============================
+//========================== DELTA / SCARA / TPARA ==========================
 //===========================================================================
-// For a Delta printer, start with one of the configuration files in the config/examples/delta directory
-// from https://github.com/MarlinFirmware/Configurations/branches/all and customize for your machine.
 //
-
-//===========================================================================
-//============================= SCARA Printer ===============================
-//===========================================================================
-// For a SCARA printer, start with one of the configuration files in the config/examples/SCARA directory
-// from https://github.com/MarlinFirmware/Configurations/branches/all and customize for your machine.
+// Download configurations from the link above and customize for your machine.
+// Examples are located in config/examples/delta, .../SCARA, and .../TPARA.
 //
+//===========================================================================
 
 // @section info
 

commit 713de872ce055bd10bd59b4f811136b0ec0cfbae
Author: Stephan <veigl@gmx.net>
Date:   Mon Mar 1 03:16:22 2021 +0100

    Filament Runout handling for Mixing Extruder (#20327)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 79b7f9dffa..46b70eb72d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1278,6 +1278,8 @@
   #define FIL_RUNOUT_STATE     LOW        // Pin state indicating that filament is NOT present.
   #define FIL_RUNOUT_PULLUP               // Use internal pullup for filament runout pins.
   //#define FIL_RUNOUT_PULLDOWN           // Use internal pulldown for filament runout pins.
+  //#define WATCH_ALL_RUNOUT_SENSORS      // Execute runout script on any triggering sensor, not only for the active extruder.
+                                          // This is automatically enabled for MIXING_EXTRUDERs.
 
   // Override individually if the runout sensors vary
   //#define FIL_RUNOUT1_STATE LOW
@@ -1312,8 +1314,9 @@
   //#define FIL_RUNOUT8_PULLUP
   //#define FIL_RUNOUT8_PULLDOWN
 
-  // Set one or more commands to execute on filament runout.
-  // (After 'M412 H' Marlin will ask the host to handle the process.)
+  // Commands to execute on filament runout.
+  // With multiple runout sensors use the %c placeholder for the current tool in commands (e.g., "M600 T%c")
+  // NOTE: After 'M412 H1' the host handles filament runout and this script does not apply.
   #define FILAMENT_RUNOUT_SCRIPT "M600"
 
   // After a runout is detected, continue printing this length of filament

commit c76008bd6a7bc0f88fec7fa58f11cfec88ab366f
Author: Sola <42537573+solawc@users.noreply.github.com>
Date:   Sun Feb 28 07:35:32 2021 +0800

    MKS H43 controller (#20609)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c813093554..79b7f9dffa 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2349,6 +2349,7 @@
 //#define DGUS_LCD_UI_ORIGIN
 //#define DGUS_LCD_UI_FYSETC
 //#define DGUS_LCD_UI_HIPRECY
+//#define DGUS_LCD_UI_MKS
 
 //
 // Touch-screen LCD for Malyan M200/M300 printers

commit e0aa9ce372710d2bd1147ab0779072e6a02b61c9
Author: LinFor <linfor@gmail.com>
Date:   Sun Feb 28 01:06:48 2021 +0300

    RGB Caselight (#20341)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 34f47bf485..c813093554 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2650,6 +2650,7 @@
   // Use a single NeoPixel LED for static (background) lighting
   //#define NEOPIXEL_BKGD_LED_INDEX  0               // Index of the LED to use
   //#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 } // R, G, B, W
+  //#define NEOPIXEL_BKGD_ALWAYS_ON                  // Keep the backlight on when other NeoPixels are off
 #endif
 
 /**

commit ee7701c15bc91f7a05f973e03624fb14815f5027
Author: jbuck2005 <59450931+jbuck2005@users.noreply.github.com>
Date:   Sat Feb 27 16:54:43 2021 -0500

    SPEED => FEEDRATE (#21217)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b50c884b7e..34f47bf485 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1047,13 +1047,13 @@
 #define PROBING_MARGIN 10
 
 // X and Y axis travel speed (mm/min) between probes
-#define XY_PROBE_SPEED (133*60)
+#define XY_PROBE_FEEDRATE (133*60)
 
 // Feedrate (mm/min) for the first approach when double-probing (MULTIPLE_PROBING == 2)
-#define Z_PROBE_SPEED_FAST (4*60)
+#define Z_PROBE_FEEDRATE_FAST (4*60)
 
 // Feedrate (mm/min) for the "accurate" probe of each point
-#define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
+#define Z_PROBE_FEEDRATE_SLOW (Z_PROBE_FEEDRATE_FAST / 2)
 
 /**
  * Probe Activation Switch

commit bcda46e3f3435a1f87d224be2f81778c1855deb7
Author: swissnorp <67485708+swissnorp@users.noreply.github.com>
Date:   Thu Feb 25 17:09:00 2021 +0100

    Combine Z_AFTER_DEACTIVATE with UNKNOWN_Z_NO_RAISE (#20444)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ea3385356a..b50c884b7e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -569,7 +569,6 @@
  * the issues involved, don't use chamber PID until someone else verifies that your hardware works.
  */
 //#define PIDTEMPCHAMBER
-
 //#define CHAMBER_LIMIT_SWITCHING
 
 /**
@@ -1196,7 +1195,13 @@
 
 //#define NO_MOTION_BEFORE_HOMING // Inhibit movement until all axes have been homed. Also enable HOME_AFTER_DEACTIVATE for extra safety.
 //#define HOME_AFTER_DEACTIVATE   // Require rehoming after steppers are deactivated. Also enable NO_MOTION_BEFORE_HOMING for extra safety.
-//#define UNKNOWN_Z_NO_RAISE      // Don't raise Z (lower the bed) if Z is "unknown." For beds that fall when Z is powered off.
+
+/**
+ * Set Z_IDLE_HEIGHT if the Z-Axis moves on its own when steppers are disabled.
+ *  - Use a low value (i.e., Z_MIN_POS) if the nozzle falls down to the bed.
+ *  - Use a large value (i.e., Z_MAX_POS) if the bed falls down, away from the nozzle.
+ */
+//#define Z_IDLE_HEIGHT Z_HOME_POS
 
 //#define Z_HOMING_HEIGHT  4      // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
                                   // Be sure to have this much clearance over your Z_MAX_POS to prevent grinding.

commit 735c1b6183739152eeddade4c06c17e3b0de38bc
Author: Katelyn Schiesser <katelyn.schiesser@gmail.com>
Date:   Thu Feb 25 06:28:27 2021 -0800

    PROBING_HEATERS_OFF sub-option WAIT_FOR_HOTEND (#20835)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1c98168236..ea3385356a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1139,6 +1139,7 @@
 //#define PROBING_HEATERS_OFF       // Turn heaters off when probing
 #if ENABLED(PROBING_HEATERS_OFF)
   //#define WAIT_FOR_BED_HEATER     // Wait for bed to heat back up between probes (to improve accuracy)
+  //#define WAIT_FOR_HOTEND         // Wait for hotend to heat back up between probes (to improve accuracy & prevent cold extrude)
 #endif
 //#define PROBING_FANS_OFF          // Turn fans off when probing
 //#define PROBING_STEPPERS_OFF      // Turn steppers off (unless needed to hold position) when probing

commit a3a10b62f21cfbedfd001746faa46ac55d248b36
Author: Ken Sanislo <ksanislo@users.noreply.github.com>
Date:   Wed Feb 24 16:26:51 2021 -0800

    Chamber Heater PID (#21156)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3234a73eda..1c98168236 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -447,6 +447,10 @@
 #define TEMP_BED_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
 #define TEMP_BED_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
+#define TEMP_CHAMBER_RESIDENCY_TIME 10  // (seconds) Time to wait for chamber to "settle" in M191
+#define TEMP_CHAMBER_WINDOW      1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+#define TEMP_CHAMBER_HYSTERESIS  3  // (¬∞C) Temperature proximity considered "close enough" to the target
+
 // Below this temperature the heater will be switched off
 // because it probably indicates a broken thermistor wire.
 #define HEATER_0_MINTEMP   5
@@ -458,6 +462,7 @@
 #define HEATER_6_MINTEMP   5
 #define HEATER_7_MINTEMP   5
 #define BED_MINTEMP        5
+#define CHAMBER_MINTEMP    5
 
 // Above this temperature the heater will be switched off.
 // This can protect components from overheating, but NOT from shorts and failures.
@@ -471,6 +476,7 @@
 #define HEATER_6_MAXTEMP 275
 #define HEATER_7_MAXTEMP 275
 #define BED_MAXTEMP      150
+#define CHAMBER_MAXTEMP  60
 
 //===========================================================================
 //============================= PID Settings ================================
@@ -544,7 +550,52 @@
   // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 #endif // PIDTEMPBED
 
-#if EITHER(PIDTEMP, PIDTEMPBED)
+//===========================================================================
+//==================== PID > Chamber Temperature Control ====================
+//===========================================================================
+
+/**
+ * PID Chamber Heating
+ *
+ * If this option is enabled set PID constants below.
+ * If this option is disabled, bang-bang will be used and CHAMBER_LIMIT_SWITCHING will enable
+ * hysteresis.
+ *
+ * The PID frequency will be the same as the extruder PWM.
+ * If PID_dT is the default, and correct for the hardware/configuration, that means 7.689Hz,
+ * which is fine for driving a square wave into a resistive load and does not significantly
+ * impact FET heating. This also works fine on a Fotek SSR-10DA Solid State Relay into a 200W
+ * heater. If your configuration is significantly different than this and you don't understand
+ * the issues involved, don't use chamber PID until someone else verifies that your hardware works.
+ */
+//#define PIDTEMPCHAMBER
+
+//#define CHAMBER_LIMIT_SWITCHING
+
+/**
+ * Max Chamber Power
+ * Applies to all forms of chamber control (PID, bang-bang, and bang-bang with hysteresis).
+ * When set to any value below 255, enables a form of PWM to the chamber heater that acts like a divider
+ * so don't use it unless you are OK with PWM on your heater. (See the comment on enabling PIDTEMPCHAMBER)
+ */
+#define MAX_CHAMBER_POWER 255 // limits duty cycle to chamber heater; 255=full current
+
+#if ENABLED(PIDTEMPCHAMBER)
+  #define MIN_CHAMBER_POWER 0
+  //#define PID_CHAMBER_DEBUG // Sends debug data to the serial port.
+
+  // Lasko "MyHeat Personal Heater" (200w) modified with a Fotek SSR-10DA to control only the heating element
+  // and placed inside the small Creality printer enclosure tent.
+  //
+  #define DEFAULT_chamberKp 37.04
+  #define DEFAULT_chamberKi 1.40
+  #define DEFAULT_chamberKd 655.17
+  // M309 P37.04 I1.04 D655.17
+
+  // FIND YOUR OWN: "M303 E-2 C8 S50" to run autotune on the chamber at 50 degreesC for 8 cycles.
+#endif // PIDTEMPCHAMBER
+
+#if ANY(PIDTEMP, PIDTEMPBED, PIDTEMPCHAMBER)
   //#define PID_DEBUG             // Sends debug data to the serial port. Use 'M303 D' to toggle activation.
   //#define PID_OPENLOOP          // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
@@ -1624,11 +1675,13 @@
 #define PREHEAT_1_LABEL       "PLA"
 #define PREHEAT_1_TEMP_HOTEND 180
 #define PREHEAT_1_TEMP_BED     70
+#define PREHEAT_1_TEMP_CHAMBER 35
 #define PREHEAT_1_FAN_SPEED     0 // Value from 0 to 255
 
 #define PREHEAT_2_LABEL       "ABS"
 #define PREHEAT_2_TEMP_HOTEND 240
 #define PREHEAT_2_TEMP_BED    110
+#define PREHEAT_2_TEMP_CHAMBER 35
 #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
 
 /**

commit 490d4a504a40a70e1a51c4758d37ec6116272b38
Author: Vert <45634861+Vertabreak@users.noreply.github.com>
Date:   Tue Feb 16 21:29:55 2021 -0500

    GT2560 v4.1B, YHCB2004 SPI character LCD (#21091)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 428e899b33..3234a73eda 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1953,6 +1953,14 @@
 //
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
 
+//
+// GT2560 (YHCB2004) LCD Display
+//
+// Requires Testato, Koepel softwarewire library and
+// Andriy Golovnya's LiquidCrystal_AIP31068 library.
+//
+//#define YHCB2004
+
 //
 // Original RADDS LCD Display+Encoder+SDCardReader
 // http://doku.radds.org/dokumentation/lcd-display/

commit 00985cffea749e4bd7c14fbffb483c69ed44716c
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Feb 13 19:05:28 2021 -0600

    Update helpful links

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b28eb72cb0..428e899b33 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -42,15 +42,19 @@
 //===========================================================================
 
 /**
- * Here are some standard links for getting your machine calibrated:
- *
- * https://reprap.org/wiki/Calibration
- * https://youtu.be/wAL9d7FgInk
- * http://calculator.josefprusa.cz
- * https://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
- * https://www.thingiverse.com/thing:5573
- * https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
- * https://www.thingiverse.com/thing:298812
+ * Here are some useful links to help get your machine configured and calibrated:
+ *
+ * Example Configs:     https://github.com/MarlinFirmware/Configurations/branches/all
+ *
+ * Pr≈Ø≈°a Calculator:    https://blog.prusaprinters.org/calculator_3416/
+ *
+ * Calibration Guides:  https://reprap.org/wiki/Calibration
+ *                      https://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
+ *                      https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
+ *                      https://youtu.be/wAL9d7FgInk
+ *
+ * Calibration Objects: https://www.thingiverse.com/thing:5573
+ *                      https://www.thingiverse.com/thing:1278865
  */
 
 //===========================================================================

commit e3deb6e9a5cfcad127d46418ef008ffc57ea007e
Author: ellensp <ellensp@hotmail.com>
Date:   Wed Feb 3 10:00:41 2021 +1300

    Note (MarlinUI) limit on PREHEAT settings (#20966)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d0c00d4ef5..b28eb72cb0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1614,7 +1614,9 @@
 
 // @section temperature
 
-// Preheat Constants
+//
+// Preheat Constants - Up to 5 are supported without changes
+//
 #define PREHEAT_1_LABEL       "PLA"
 #define PREHEAT_1_TEMP_HOTEND 180
 #define PREHEAT_1_TEMP_BED     70

commit 617f5dfe5e947a95d5037da9fffad655e849b805
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Tue Feb 2 17:31:51 2021 -0300

    Touch Calibration Screen auto-save option (#20971)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d888e62aaf..d0c00d4ef5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2457,6 +2457,10 @@
   //#define TOUCH_OFFSET_Y        257
   //#define TOUCH_ORIENTATION TOUCH_LANDSCAPE
 
+  #if BOTH(TOUCH_SCREEN_CALIBRATION, EEPROM_SETTINGS)
+    #define TOUCH_CALIBRATION_AUTO_SAVE // Auto save successful calibration values to EEPROM
+  #endif
+
   #if ENABLED(TFT_COLOR_UI)
     //#define SINGLE_TOUCH_NAVIGATION
   #endif

commit b95f5c5bea26ce50c73df3f30241365f220a623c
Author: ConstantijnCrijnen <43953114+ConstantijnCrijnen@users.noreply.github.com>
Date:   Tue Jan 26 09:30:31 2021 +0100

    Configure / disable PRINTCOUNTER save interval (#20856)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e48e2e4331..d888e62aaf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1754,6 +1754,9 @@
  * View the current statistics with M78.
  */
 //#define PRINTCOUNTER
+#if ENABLED(PRINTCOUNTER)
+  #define PRINTCOUNTER_SAVE_INTERVAL 60 // (minutes) EEPROM save interval during print
+#endif
 
 /**
  * Password

commit 8c0cb6cce8b02f0f5f972ff8ebbd7c6a8e39cd44
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Jan 26 02:15:05 2021 -0600

    Custom G26 FR followup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 71c4256401..e48e2e4331 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1357,11 +1357,11 @@
   //#define G26_MESH_VALIDATION
   #if ENABLED(G26_MESH_VALIDATION)
     #define MESH_TEST_NOZZLE_SIZE    0.4  // (mm) Diameter of primary nozzle.
-    #define MESH_TEST_LAYER_HEIGHT   0.2  // (mm) Default layer height for the G26 Mesh Validation Tool.
-    #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
-    #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
-    #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
-    #define G26_XY_FEEDRATE_TRAVEL 100    // (mm/s) Feedrate for XY Moves without extrusion for the G26 Mesh Validation Tool
+    #define MESH_TEST_LAYER_HEIGHT   0.2  // (mm) Default layer height for G26.
+    #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for G26.
+    #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for G26.
+    #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for G26 XY moves.
+    #define G26_XY_FEEDRATE_TRAVEL 100    // (mm/s) Feedrate for G26 XY travel moves.
     #define G26_RETRACT_MULTIPLIER   1.0  // G26 Q (retraction) used by default between mesh test elements.
   #endif
 

commit 7f4c5b86dbfca29622474ea8572c8e3df80089b9
Author: ScrewThisBanana <71625822+ScrewThisBanana@users.noreply.github.com>
Date:   Tue Jan 26 04:14:26 2021 +0100

    Adding custom move feedrate for G26 Travel moves, Original #20729 (#20879)
    
    * Adding custom move feedrate for G26
    
    This commit adds an additional configuration parameter that can be used to specify the movement speed during the G26 validation pattern command during moves without extrusion.
    
    Closes MarlinFirmware/Marlin#20615

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 51d978daad..71c4256401 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1361,6 +1361,7 @@
     #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
     #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
     #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
+    #define G26_XY_FEEDRATE_TRAVEL 100    // (mm/s) Feedrate for XY Moves without extrusion for the G26 Mesh Validation Tool
     #define G26_RETRACT_MULTIPLIER   1.0  // G26 Q (retraction) used by default between mesh test elements.
   #endif
 

commit 7c28d6b8691963e323a9190f3985b9f963718a35
Author: qwewer0 <57561110+qwewer0@users.noreply.github.com>
Date:   Mon Jan 25 08:52:45 2021 +0100

    Cosmetic changes (2) (#20876)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fd5b6dc848..51d978daad 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1360,7 +1360,7 @@
     #define MESH_TEST_LAYER_HEIGHT   0.2  // (mm) Default layer height for the G26 Mesh Validation Tool.
     #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
     #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
-    #define G26_XY_FEEDRATE        100    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
+    #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
     #define G26_RETRACT_MULTIPLIER   1.0  // G26 Q (retraction) used by default between mesh test elements.
   #endif
 

commit 90be1c3fa77b4fd5d504131ad06ce5f3197a5811
Author: qwewer0 <57561110+qwewer0@users.noreply.github.com>
Date:   Mon Jan 25 08:11:34 2021 +0100

    üßª Cosmetic changes (#20859)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d86c448441..fd5b6dc848 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -421,7 +421,7 @@
 #define TEMP_SENSOR_CHAMBER 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
-#define DUMMY_THERMISTOR_998_VALUE 25
+#define DUMMY_THERMISTOR_998_VALUE  25
 #define DUMMY_THERMISTOR_999_VALUE 100
 
 // Resistor values when using MAX31865 sensors (-5) on TEMP_SENSOR_0 / 1
@@ -1360,7 +1360,7 @@
     #define MESH_TEST_LAYER_HEIGHT   0.2  // (mm) Default layer height for the G26 Mesh Validation Tool.
     #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
     #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
-    #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
+    #define G26_XY_FEEDRATE        100    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
     #define G26_RETRACT_MULTIPLIER   1.0  // G26 Q (retraction) used by default between mesh test elements.
   #endif
 

commit 8f7bac49992c6df83f98bf25fc28caa8a2edde12
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Sun Jan 24 07:47:22 2021 -0700

    Revert "Adding custom move feedrate for G26 (#20729)" (#20870)
    
    This reverts commit 14567f3459d23f6cad0ab055a839b8f2652de979.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0b5883d88b..d86c448441 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1361,7 +1361,6 @@
     #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
     #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
     #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
-    #define G26_XY_FEEDRATE_TRAVEL  100   // (mm/s) Feedrate for XY Moves without extrusion for the G26 Mesh Validation Tool
     #define G26_RETRACT_MULTIPLIER   1.0  // G26 Q (retraction) used by default between mesh test elements.
   #endif
 

commit 14567f3459d23f6cad0ab055a839b8f2652de979
Author: ScrewThisBanana <71625822+ScrewThisBanana@users.noreply.github.com>
Date:   Sat Jan 23 04:02:22 2021 +0100

    Adding custom move feedrate for G26 (#20729)
    
    * Adding custom move feedrate for G26
    
    This commit adds an additional configuration parameter that can be used to specify the movement speed during the G26 validation pattern command during moves without extrusion.
    
    Closes MarlinFirmware/Marlin#20615
    
    * Fixing missing default 'G26_XY_FEEDRATE_MOVE' value
    
    This commit adds a default 'G26_XY_FEEDRATE_MOVE' value (max movement speed / 1.5) in the G26.cpp - same behaviour as the default 'G26_XY_FEEDRATE' value
    
    * Adding comment describing functionality in G26.cpp
    
    * Renaming 'G26_XY_FEEDRATE_MOVE' to 'G26_XY_FEEDRATE_TRAVEL'
    
    Configuration parameter renamed for better readability and consistency
    
    MarlinFirmware/Marlin#20615
    
    * Setting 'G26_XY_FEEDRATE_TRAVEL' to a safer value, aligned comments
    
    Changed default value for 'G26_XY_FEEDRATE_TRAVEL' from 150 mm/s to 100 mm/s for safety purposes, comment alignment
    
    MarlinFirmware/Marlin#20615

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d86c448441..0b5883d88b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1361,6 +1361,7 @@
     #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
     #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
     #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
+    #define G26_XY_FEEDRATE_TRAVEL  100   // (mm/s) Feedrate for XY Moves without extrusion for the G26 Mesh Validation Tool
     #define G26_RETRACT_MULTIPLIER   1.0  // G26 Q (retraction) used by default between mesh test elements.
   #endif
 

commit df238fe6a00a2e4a2299cb52d51c883c58015a60
Author: EmilGustafsson <emil@utvecklare.se>
Date:   Tue Jan 19 23:52:04 2021 +0100

    Swedish language for MarlinUI (#20826)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4ec64f8659..d86c448441 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1797,9 +1797,9 @@
  * Select the language to display on the LCD. These languages are available:
  *
  *   en, an, bg, ca, cz, da, de, el, el_gr, es, eu, fi, fr, gl, hr, hu, it,
- *   jp_kana, ko_KR, nl, pl, pt, pt_br, ro, ru, sk, tr, uk, vi, zh_CN, zh_TW, test
+ *   jp_kana, ko_KR, nl, pl, pt, pt_br, ro, ru, sk, sv, tr, uk, vi, zh_CN, zh_TW
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'hu':'Hungarian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ro':'Romanian', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'hu':'Hungarian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ro':'Romanian', 'ru':'Russian', 'sk':'Slovak', 'sv':'Swedish', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)' }
  */
 #define LCD_LANGUAGE en
 

commit 43a91e5963c7563c4db3fcde4f4862ea0f9670ee
Author: RFBomb <Robbery525@gmail.com>
Date:   Sat Jan 16 01:43:38 2021 -0500

    Configurable Corner Leveling point order (#20733)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3f9b6174c2..4ec64f8659 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1451,6 +1451,25 @@
     #define LEVEL_CORNERS_VERIFY_RAISED   // After adjustment triggers the probe, re-probe to verify
     //#define LEVEL_CORNERS_AUDIO_FEEDBACK
   #endif
+
+  /**
+   * Corner Leveling Order
+   *
+   * Set 2 or 4 points. When 2 points are given, the 3rd is the center of the opposite edge.
+   *
+   *  LF  Left-Front    RF  Right-Front
+   *  LB  Left-Back     RB  Right-Back
+   *
+   * Examples:
+   *
+   *      Default        {LF,RB,LB,RF}         {LF,RF}           {LB,LF}
+   *  LB --------- RB   LB --------- RB    LB --------- RB   LB --------- RB
+   *  |  4       3  |   | 3         2 |    |     <3>     |   | 1           |
+   *  |             |   |             |    |             |   |          <3>|
+   *  |  1       2  |   | 1         4 |    | 1         2 |   | 2           |
+   *  LF --------- RF   LF --------- RF    LF --------- RF   LF --------- RF
+   */
+  #define LEVEL_CORNERS_LEVELING_ORDER { LF, RF, RB, LB }
 #endif
 
 /**

commit 35c1b330ec62e698a455176330e7d75600af461d
Author: MKS-Sean <56996910+MKS-Sean@users.noreply.github.com>
Date:   Thu Jan 14 12:41:09 2021 +0800

    MKS WiFi for TFT_LVGL_UI (#20191)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ab112894b1..3f9b6174c2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2395,6 +2395,10 @@
 //#define TFT_COLOR_UI
 //#define TFT_LVGL_UI
 
+#if ENABLED(TFT_LVGL_UI)
+  //#define MKS_WIFI_MODULE  // MKS WiFi module
+#endif
+
 /**
  * TFT Rotation. Set to one of the following values:
  *

commit e3831c146d635530f0e7e3af1afc86186038cd1e
Author: wilbur4321 <wilbur4321@gmail.com>
Date:   Tue Jan 5 15:03:45 2021 -0800

    Multi-Z stepper inverting (#20678)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c283c86dd5..ab112894b1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1089,7 +1089,7 @@
 //#define PROBING_STEPPERS_OFF      // Turn steppers off (unless needed to hold position) when probing
 //#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
 
-// Require minimum nozzle and/or bed temperature for probing.
+// Require minimum nozzle and/or bed temperature for probing
 //#define PREHEAT_BEFORE_PROBING
 #if ENABLED(PREHEAT_BEFORE_PROBING)
   #define PROBING_NOZZLE_TEMP 120   // (¬∞C) Only applies to E0 at this time
@@ -2428,7 +2428,7 @@
   //#define TOUCH_CALIBRATION_Y -8981
   //#define TOUCH_OFFSET_X        -43
   //#define TOUCH_OFFSET_Y        257
-  //#define TOUCH_ORIENTATION   TOUCH_LANDSCAPE
+  //#define TOUCH_ORIENTATION TOUCH_LANDSCAPE
 
   #if ENABLED(TFT_COLOR_UI)
     //#define SINGLE_TOUCH_NAVIGATION

commit c840bbc970c2684c2c9c193ee967c03dd621d99a
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Fri Jan 1 17:31:15 2021 -0300

    Prefix SD SPI pins (SCK, MISO, MOSI, SS) (#20606)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d78657275b..c283c86dd5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1823,16 +1823,6 @@
  */
 //#define SDSUPPORT
 
-/**
- * SD CARD: SPI SPEED
- *
- * Enable one of the following items for a slower SPI transfer speed.
- * This may be required to resolve "volume init" errors.
- */
-//#define SPI_SPEED SPI_HALF_SPEED
-//#define SPI_SPEED SPI_QUARTER_SPEED
-//#define SPI_SPEED SPI_EIGHTH_SPEED
-
 /**
  * SD CARD: ENABLE CRC
  *

commit 41e4124af9cba37f1e7cd598f47bf21c51d00488
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Tue Dec 29 02:26:35 2020 -0300

    Support 4.3" (480x272) Color UI display (#20334)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d3b350bce4..d78657275b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2438,6 +2438,7 @@
   //#define TOUCH_CALIBRATION_Y -8981
   //#define TOUCH_OFFSET_X        -43
   //#define TOUCH_OFFSET_Y        257
+  //#define TOUCH_ORIENTATION   TOUCH_LANDSCAPE
 
   #if ENABLED(TFT_COLOR_UI)
     //#define SINGLE_TOUCH_NAVIGATION

commit d00c89946dac44326dd1eb0fd381fb404cfd654d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Dec 27 16:15:15 2020 -0600

    Remove CREALITY_TOUCH

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce24bd2117..d3b350bce4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -896,11 +896,6 @@
  */
 //#define BLTOUCH
 
-/**
- * Pressure sensor with a BLTouch-like interface
- */
-//#define CREALITY_TOUCH
-
 /**
  * Touch-MI Probe by hotends.fr
  *

commit a0c8d348a0baa179a13bc47be6edce4bb652dac9
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Tue Dec 22 04:51:29 2020 -0800

    Anet ET4 / ET4P and Anet TFT28 / TFT35 (#20280)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5fe746a77f..ce24bd2117 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2368,6 +2368,16 @@
 //
 //#define LONGER_LK_TFT28
 
+//
+// 320x240, 2.8", FSMC Stock Display from ET4
+//
+//#define ANET_ET4_TFT28
+
+//
+// 480x320, 3.5", FSMC Stock Display from ET5
+//
+//#define ANET_ET5_TFT35
+
 //
 // Generic TFT with detailed options
 //

commit 2963229dfa6648246951de90e4a86bf537cc876a
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sat Dec 19 23:11:43 2020 -0500

    Probe Tare, Probe Activation Switch (#20379)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>
    Co-authored-by: Victor Mateus Oliveira <rhapsodyv@gmail.com>
    Co-authored-by: Jason Smith <jason.inet@gmail.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0c166d5dda..5fe746a77f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1006,6 +1006,33 @@
 // Feedrate (mm/min) for the "accurate" probe of each point
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
 
+/**
+ * Probe Activation Switch
+ * A switch indicating proper deployment, or an optical
+ * switch triggered when the carriage is near the bed.
+ */
+//#define PROBE_ACTIVATION_SWITCH
+#if ENABLED(PROBE_ACTIVATION_SWITCH)
+  #define PROBE_ACTIVATION_SWITCH_STATE LOW // State indicating probe is active
+  //#define PROBE_ACTIVATION_SWITCH_PIN PC6 // Override default pin
+#endif
+
+/**
+ * Tare Probe (determine zero-point) prior to each probe.
+ * Useful for a strain gauge or piezo sensor that needs to factor out
+ * elements such as cables pulling on the carriage.
+ */
+//#define PROBE_TARE
+#if ENABLED(PROBE_TARE)
+  #define PROBE_TARE_TIME  200    // (ms) Time to hold tare pin
+  #define PROBE_TARE_DELAY 200    // (ms) Delay after tare before
+  #define PROBE_TARE_STATE HIGH   // State to write pin for tare
+  //#define PROBE_TARE_PIN PA5    // Override default pin
+  #if ENABLED(PROBE_ACTIVATION_SWITCH)
+    //#define PROBE_TARE_ONLY_WHILE_INACTIVE  // Fail to tare/probe if PROBE_ACTIVATION_SWITCH is active
+  #endif
+#endif
+
 /**
  * Multiple Probing
  *

commit 7a168205eb2463022ab1a4306bafa8152ab2d8bc
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sat Dec 19 23:02:38 2020 -0500

    Minimum temp options for Probing and G12 Nozzle Clean (#20383)
    
    Co-authored-by: Jason Smith <jason.inet@gmail.com>
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index adf6a3d536..0c166d5dda 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1067,6 +1067,13 @@
 //#define PROBING_STEPPERS_OFF      // Turn steppers off (unless needed to hold position) when probing
 //#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
 
+// Require minimum nozzle and/or bed temperature for probing.
+//#define PREHEAT_BEFORE_PROBING
+#if ENABLED(PREHEAT_BEFORE_PROBING)
+  #define PROBING_NOZZLE_TEMP 120   // (¬∞C) Only applies to E0 at this time
+  #define PROBING_BED_TEMP     50
+#endif
+
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 // :{ 0:'Low', 1:'High' }
 #define X_ENABLE_ON 0
@@ -1296,7 +1303,7 @@
  */
 //#define PREHEAT_BEFORE_LEVELING
 #if ENABLED(PREHEAT_BEFORE_LEVELING)
-  #define LEVELING_NOZZLE_TEMP 120
+  #define LEVELING_NOZZLE_TEMP 120   // (¬∞C) Only applies to E0 at this time
   #define LEVELING_BED_TEMP     50
 #endif
 
@@ -1666,6 +1673,10 @@
   // For a purge/clean station mounted on the X axis
   //#define NOZZLE_CLEAN_NO_Y
 
+  // Require a minimum hotend temperature for cleaning
+  #define NOZZLE_CLEAN_MIN_TEMP 170
+  //#define NOZZLE_CLEAN_HEATUP       // Heat up the nozzle instead of skipping wipe
+
   // Explicit wipe G-code script applies to a G12 with no arguments.
   //#define WIPE_SEQUENCE_COMMANDS "G1 X-17 Y25 Z10 F4000\nG1 Z1\nM114\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 Z15\nM400\nG0 X-10.0 Y-9.0"
 

commit fbcc07261d944222cca30ef8590fb387f53fcc70
Author: rafaljot <rafal@jastrzebscy.org>
Date:   Thu Dec 17 13:02:05 2020 +0100

    Homing feedrates as XYZ array (#20426)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8b29a4ba80..adf6a3d536 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1001,7 +1001,7 @@
 #define XY_PROBE_SPEED (133*60)
 
 // Feedrate (mm/min) for the first approach when double-probing (MULTIPLE_PROBING == 2)
-#define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
+#define Z_PROBE_SPEED_FAST (4*60)
 
 // Feedrate (mm/min) for the "accurate" probe of each point
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
@@ -1458,8 +1458,7 @@
 #endif
 
 // Homing speeds (mm/min)
-#define HOMING_FEEDRATE_XY (50*60)
-#define HOMING_FEEDRATE_Z  (4*60)
+#define HOMING_FEEDRATE_MM_M { (50*60), (50*60), (4*60) }
 
 // Validate that endstops are triggered on homing moves
 #define VALIDATE_HOMING_ENDSTOPS

commit 69999f962a7783f0a79c4fc87b62caaf07d93187
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Dec 14 21:27:05 2020 -0600

    Please install the EditorConfig plugin

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4b3371226e..8b29a4ba80 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -957,14 +957,14 @@
  * X and Y offset
  *   Use a caliper or ruler to measure the distance from the tip of
  *   the Nozzle to the center-point of the Probe in the X and Y axes.
- * 
+ *
  * Z offset
  * - For the Z offset use your best known value and adjust at runtime.
  * - Common probes trigger below the nozzle and have negative values for Z offset.
  * - Probes triggering above the nozzle height are uncommon but do exist. When using
  *   probes such as this, carefully set Z_CLEARANCE_DEPLOY_PROBE and Z_CLEARANCE_BETWEEN_PROBES
  *   to avoid collisions during probing.
- * 
+ *
  * Tune and Adjust
  * -  Probe Offsets can be tuned at runtime with 'M851', LCD menus, babystepping, etc.
  * -  PROBE_OFFSET_WIZARD (configuration_adv.h) can be used for setting the Z offset.

commit 80bde7b6b52a752a3f9b7cd925bbde4a0525c875
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Dec 5 20:10:13 2020 -0600

    Always enable leveling after G28

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f904803cc1..4b3371226e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1284,10 +1284,12 @@
 //#define MESH_BED_LEVELING
 
 /**
- * Normally G28 leaves leveling disabled on completion. Enable
- * this option to have G28 restore the prior leveling state.
+ * Normally G28 leaves leveling disabled on completion. Enable one of
+ * these options to restore the prior leveling state or to always enable
+ * leveling immediately after G28.
  */
 //#define RESTORE_LEVELING_AFTER_G28
+//#define ENABLE_LEVELING_AFTER_G28
 
 /**
  * Auto-leveling needs preheating

commit e349a44c6013a4a9d8d218e02dd334f70f3a79ad
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Dec 5 19:56:16 2020 -0600

    Preheat before leveling

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d528a97bf7..f904803cc1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1289,6 +1289,15 @@
  */
 //#define RESTORE_LEVELING_AFTER_G28
 
+/**
+ * Auto-leveling needs preheating
+ */
+//#define PREHEAT_BEFORE_LEVELING
+#if ENABLED(PREHEAT_BEFORE_LEVELING)
+  #define LEVELING_NOZZLE_TEMP 120
+  #define LEVELING_BED_TEMP     50
+#endif
+
 /**
  * Enable detailed logging of G28, G29, M48, etc.
  * Turn on with the command 'M111 S32'.

commit edb2a83e71105c67982a099b86578bf60ddd7b96
Author: swissnorp <67485708+swissnorp@users.noreply.github.com>
Date:   Wed Dec 9 10:06:50 2020 +0100

    Allow positive Z nozzle to probe offset (#20344)
    
    * Allow a positive value for z offset from nozzle to probe without sanity checks
    * Simplify menu_probe_offset.cpp (HOMING_Z_WITH_PROBE)
    * Add some more explanation to Configuration Files
    * Raise after probe_at_point as if homed
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>
    Co-authored-by: Jason Smith <jason.inet@gmail.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0f92f11418..d528a97bf7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -954,10 +954,20 @@
 /**
  * Nozzle-to-Probe offsets { X, Y, Z }
  *
- * - Use a caliper or ruler to measure the distance from the tip of
+ * X and Y offset
+ *   Use a caliper or ruler to measure the distance from the tip of
  *   the Nozzle to the center-point of the Probe in the X and Y axes.
+ * 
+ * Z offset
  * - For the Z offset use your best known value and adjust at runtime.
- * - Probe Offsets can be tuned at runtime with 'M851', LCD menus, babystepping, etc.
+ * - Common probes trigger below the nozzle and have negative values for Z offset.
+ * - Probes triggering above the nozzle height are uncommon but do exist. When using
+ *   probes such as this, carefully set Z_CLEARANCE_DEPLOY_PROBE and Z_CLEARANCE_BETWEEN_PROBES
+ *   to avoid collisions during probing.
+ * 
+ * Tune and Adjust
+ * -  Probe Offsets can be tuned at runtime with 'M851', LCD menus, babystepping, etc.
+ * -  PROBE_OFFSET_WIZARD (configuration_adv.h) can be used for setting the Z offset.
  *
  * Assuming the typical work area orientation:
  *  - Probe to RIGHT of the Nozzle has a Positive X offset

commit 2a4f8acd628254b1a75486b5caf9967511c0c7d5
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Tue Dec 8 22:12:42 2020 -0800

    Clarify Delta & SCARA config location (#20403)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ebc3311d9e..0f92f11418 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -56,15 +56,15 @@
 //===========================================================================
 //============================= DELTA Printer ===============================
 //===========================================================================
-// For a Delta printer start with one of the configuration files in the
-// config/examples/delta directory and customize for your machine.
+// For a Delta printer, start with one of the configuration files in the config/examples/delta directory
+// from https://github.com/MarlinFirmware/Configurations/branches/all and customize for your machine.
 //
 
 //===========================================================================
 //============================= SCARA Printer ===============================
 //===========================================================================
-// For a SCARA printer start with the configuration files in
-// config/examples/SCARA and customize for your machine.
+// For a SCARA printer, start with one of the configuration files in the config/examples/SCARA directory
+// from https://github.com/MarlinFirmware/Configurations/branches/all and customize for your machine.
 //
 
 // @section info

commit df0a0c9490346f57e1b8224cb0fe7a1ad46d76bb
Author: Jason Smith <jason.inet@gmail.com>
Date:   Sun Nov 29 13:00:08 2020 -0800

    Leveling Fade Height default setting (#20316)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0e529b3462..ebc3311d9e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1291,6 +1291,9 @@
   // at which point movement will be level to the machine's XY plane.
   // The height can be set with M420 Z<height>
   #define ENABLE_LEVELING_FADE_HEIGHT
+  #if ENABLED(ENABLE_LEVELING_FADE_HEIGHT)
+    #define DEFAULT_LEVELING_FADE_HEIGHT 10.0 // (mm) Default fade height.
+  #endif
 
   // For Cartesian machines, instead of dividing moves on mesh boundaries,
   // split up moves into short segments like a Delta. This follows the

commit 0acd751e2d99e3ba53dae69651ad25282ba6a058
Author: Sergey1560 <53866542+Sergey1560@users.noreply.github.com>
Date:   Fri Nov 27 09:00:25 2020 +0300

    Group related homing options (#20283)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3320e18abc..0e529b3462 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1099,8 +1099,8 @@
 
 // @section homing
 
-//#define NO_MOTION_BEFORE_HOMING // Inhibit movement until all axes have been homed
-
+//#define NO_MOTION_BEFORE_HOMING // Inhibit movement until all axes have been homed. Also enable HOME_AFTER_DEACTIVATE for extra safety.
+//#define HOME_AFTER_DEACTIVATE   // Require rehoming after steppers are deactivated. Also enable NO_MOTION_BEFORE_HOMING for extra safety.
 //#define UNKNOWN_Z_NO_RAISE      // Don't raise Z (lower the bed) if Z is "unknown." For beds that fall when Z is powered off.
 
 //#define Z_HOMING_HEIGHT  4      // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...

commit 58ac815822b4c04f29b66ddf076156e6b4994749
Author: wmariz <11435639+wmariz@users.noreply.github.com>
Date:   Thu Nov 26 10:58:19 2020 -0300

    Level Corners with Probe option (#20241)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c64569d2bf..3320e18abc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1392,6 +1392,12 @@
   #define LEVEL_CORNERS_HEIGHT      0.0   // (mm) Z height of nozzle at leveling points
   #define LEVEL_CORNERS_Z_HOP       4.0   // (mm) Z height of nozzle between leveling points
   //#define LEVEL_CENTER_TOO              // Move to the center after the last corner
+  //#define LEVEL_CORNERS_USE_PROBE
+  #if ENABLED(LEVEL_CORNERS_USE_PROBE)
+    #define LEVEL_CORNERS_PROBE_TOLERANCE 0.1
+    #define LEVEL_CORNERS_VERIFY_RAISED   // After adjustment triggers the probe, re-probe to verify
+    //#define LEVEL_CORNERS_AUDIO_FEEDBACK
+  #endif
 #endif
 
 /**

commit ca83e1a26f1a386344803cf5326016a8f8335008
Author: Kurt Haenen <Misterke@users.noreply.github.com>
Date:   Sun Nov 22 00:56:56 2020 +0100

    Proper pullup/pulldown configurability (#20242)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d2dd0b710..c64569d2bf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1176,25 +1176,41 @@
   #define NUM_RUNOUT_SENSORS   1          // Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.
 
   #define FIL_RUNOUT_STATE     LOW        // Pin state indicating that filament is NOT present.
-  #define FIL_RUNOUT_PULL                 // Use internal pullup / pulldown for filament runout pins.
+  #define FIL_RUNOUT_PULLUP               // Use internal pullup for filament runout pins.
+  //#define FIL_RUNOUT_PULLDOWN           // Use internal pulldown for filament runout pins.
 
   // Override individually if the runout sensors vary
   //#define FIL_RUNOUT1_STATE LOW
-  //#define FIL_RUNOUT1_PULL
+  //#define FIL_RUNOUT1_PULLUP
+  //#define FIL_RUNOUT1_PULLDOWN
+
   //#define FIL_RUNOUT2_STATE LOW
-  //#define FIL_RUNOUT2_PULL
+  //#define FIL_RUNOUT2_PULLUP
+  //#define FIL_RUNOUT2_PULLDOWN
+
   //#define FIL_RUNOUT3_STATE LOW
-  //#define FIL_RUNOUT3_PULL
+  //#define FIL_RUNOUT3_PULLUP
+  //#define FIL_RUNOUT3_PULLDOWN
+
   //#define FIL_RUNOUT4_STATE LOW
-  //#define FIL_RUNOUT4_PULL
+  //#define FIL_RUNOUT4_PULLUP
+  //#define FIL_RUNOUT4_PULLDOWN
+
   //#define FIL_RUNOUT5_STATE LOW
-  //#define FIL_RUNOUT5_PULL
+  //#define FIL_RUNOUT5_PULLUP
+  //#define FIL_RUNOUT5_PULLDOWN
+
   //#define FIL_RUNOUT6_STATE LOW
-  //#define FIL_RUNOUT6_PULL
+  //#define FIL_RUNOUT6_PULLUP
+  //#define FIL_RUNOUT6_PULLDOWN
+
   //#define FIL_RUNOUT7_STATE LOW
-  //#define FIL_RUNOUT7_PULL
+  //#define FIL_RUNOUT7_PULLUP
+  //#define FIL_RUNOUT7_PULLDOWN
+
   //#define FIL_RUNOUT8_STATE LOW
-  //#define FIL_RUNOUT8_PULL
+  //#define FIL_RUNOUT8_PULLUP
+  //#define FIL_RUNOUT8_PULLDOWN
 
   // Set one or more commands to execute on filament runout.
   // (After 'M412 H' Marlin will ask the host to handle the process.)

commit fcc29fc189d6289d01f3983867a17b63191035b2
Author: Till <quastus@gmail.com>
Date:   Thu Nov 19 21:07:47 2020 +0100

    Add Thermistor 20-21 notes (#19246)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4521895fdc..9d2dd0b710 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -375,8 +375,10 @@
  *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  *    15 : 100k thermistor calibration for JGAurora A5 hotend
  *    18 : ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327
- *    20 : Pt100 with circuit in the Ultimainboard V2.x with 5v excitation (AVR)
- *    21 : Pt100 with circuit in the Ultimainboard V2.x with 3.3v excitation (STM32 \ LPC176x....)
+ *    20 : Pt100 with circuit in the Ultimainboard V2.x with mainboard ADC reference voltage = INA826 amplifier-board supply voltage.
+ *         NOTES: (1) Must use an ADC input with no pullup. (2) Some INA826 amplifiers are unreliable at 3.3V so consider using sensor 147, 110, or 21.
+ *    21 : Pt100 with circuit in the Ultimainboard V2.x with 3.3v ADC reference voltage (STM32, LPC176x....) and 5V INA826 amplifier board supply.
+ *         NOTE: ADC pins are not 5V tolerant. Not recommended because it's possible to damage the CPU by going over 500¬∞C.
  *    22 : 100k (hotend) with 4.7k pullup to 3.3V and 220R to analog input (as in GTM32 Pro vB)
  *    23 : 100k (bed) with 4.7k pullup to 3.3v and 220R to analog input (as in GTM32 Pro vB)
  *    30 : Kis3d Silicone heating mat 200W/300W with 6mm precision cast plate (EN AW 5083) NTC100K / B3950 (4.7k pullup)

commit 41529b65988a58ba512977e0fe1692aaeeb6c811
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Wed Nov 18 08:27:21 2020 +0100

    SMUFF (MMU2 clone) support (#19912)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index be512e371c..4521895fdc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -158,33 +158,19 @@
 #endif
 
 /**
- * Pr≈Ø≈°a MK2 Single Nozzle Multi-Material Multiplexer, and variants.
- *
- * This device allows one stepper driver on a control board to drive
- * two to eight stepper motors, one at a time, in a manner suitable
- * for extruders.
- *
- * This option only allows the multiplexer to switch on tool-change.
- * Additional options to configure custom E moves are pending.
- */
-//#define MK2_MULTIPLEXER
-#if ENABLED(MK2_MULTIPLEXER)
-  // Override the default DIO selector pins here, if needed.
-  // Some pins files may provide defaults for these pins.
-  //#define E_MUX0_PIN 40  // Always Required
-  //#define E_MUX1_PIN 42  // Needed for 3 to 8 inputs
-  //#define E_MUX2_PIN 44  // Needed for 5 to 8 inputs
-#endif
-
-/**
- * Pr≈Ø≈°a Multi-Material Unit v2
+ * Multi-Material Unit
+ * Set to one of these predefined models:
  *
- * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
- * Requires EXTRUDERS = 5
+ *   PRUSA_MMU1      : Pr≈Ø≈°a MMU1 (The "multiplexer" version)
+ *   PRUSA_MMU2      : Pr≈Ø≈°a MMU2
+ *   PRUSA_MMU2S     : Pr≈Ø≈°a MMU2S (Requires MK3S extruder with motion sensor, EXTRUDERS = 5)
+ *   SMUFF_EMU_MMU2  : Technik Gegg SMUFF (Pr≈Ø≈°a MMU2 emulation mode)
+ *   SMUFF_EMU_MMU2S : Technik Gegg SMUFF (Pr≈Ø≈°a MMU2S emulation mode)
  *
- * For additional configuration see Configuration_adv.h
+ * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
+ * See additional options in Configuration_adv.h.
  */
-//#define PRUSA_MMU2
+//#define MMU_MODEL PRUSA_MMU2
 
 // A dual extruder that uses a single stepper motor
 //#define SWITCHING_EXTRUDER

commit ea371618da71dc43e6aee95a8e479c8797867e04
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Sun Nov 15 19:39:58 2020 -0300

    Add Touch Calibration screen (#20049)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 374a420539..be512e371c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2358,10 +2358,10 @@
 
   #define TOUCH_SCREEN_CALIBRATION
 
-  //#define XPT2046_X_CALIBRATION 12316
-  //#define XPT2046_Y_CALIBRATION -8981
-  //#define XPT2046_X_OFFSET        -43
-  //#define XPT2046_Y_OFFSET        257
+  //#define TOUCH_CALIBRATION_X 12316
+  //#define TOUCH_CALIBRATION_Y -8981
+  //#define TOUCH_OFFSET_X        -43
+  //#define TOUCH_OFFSET_Y        257
 
   #if ENABLED(TFT_COLOR_UI)
     //#define SINGLE_TOUCH_NAVIGATION

commit 40d442fde294faedf839e3a80c82cd72c1824ba8
Author: JoAnn Manges <joannmanges@gmail.com>
Date:   Wed Nov 11 16:52:35 2020 -0500

    Fix MAX31865 on SPI (PT100/1000) support (#20074)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 785be167b8..374a420539 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -436,11 +436,11 @@
 #define DUMMY_THERMISTOR_998_VALUE 25
 #define DUMMY_THERMISTOR_999_VALUE 100
 
-// Resistor values when using a MAX31865 (sensor -5)
-// Sensor value is typically 100 (PT100) or 1000 (PT1000)
-// Calibration value is typically 430 ohm for AdaFruit PT100 modules and 4300 ohm for AdaFruit PT1000 modules.
-//#define MAX31865_SENSOR_OHMS      100
-//#define MAX31865_CALIBRATION_OHMS 430
+// Resistor values when using MAX31865 sensors (-5) on TEMP_SENSOR_0 / 1
+//#define MAX31865_SENSOR_OHMS_0      100   // (Œ©) Typically 100 or 1000 (PT100 or PT1000)
+//#define MAX31865_CALIBRATION_OHMS_0 430   // (Œ©) Typically 430 for AdaFruit PT100; 4300 for AdaFruit PT1000
+//#define MAX31865_SENSOR_OHMS_1      100
+//#define MAX31865_CALIBRATION_OHMS_1 430
 
 // Use temp sensor 1 as a redundant sensor with sensor 0. If the readings
 // from the two sensors differ too much the print will be aborted.

commit bd6e60f56dc805625b56eff8728d28027d0b5b1e
Author: Davidsg33k <Davidsg33k@gmail.com>
Date:   Wed Nov 11 13:30:36 2020 -0700

    400 Z steps-per-mm (#20104)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0036f40c4a..785be167b8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -748,7 +748,7 @@
  * Override with M92
  *                                      X, Y, Z, E0 [, E1[, E2...]]
  */
-#define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
+#define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 400, 500 }
 
 /**
  * Default Max Feed Rate (mm/s)

commit 0465e0ae3aaec257618d095f7e2b28ef677dbe4a
Author: Costas Basdekis <costas.basdekis@gmail.com>
Date:   Wed Nov 11 06:39:23 2020 +0000

    Distinct runout states (#19965)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ea77b4e429..0036f40c4a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1186,9 +1186,27 @@
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
   #define FIL_RUNOUT_ENABLED_DEFAULT true // Enable the sensor on startup. Override with M412 followed by M500.
   #define NUM_RUNOUT_SENSORS   1          // Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.
+
   #define FIL_RUNOUT_STATE     LOW        // Pin state indicating that filament is NOT present.
-  #define FIL_RUNOUT_PULLUP               // Use internal pullup for filament runout pins.
-  //#define FIL_RUNOUT_PULLDOWN           // Use internal pulldown for filament runout pins.
+  #define FIL_RUNOUT_PULL                 // Use internal pullup / pulldown for filament runout pins.
+
+  // Override individually if the runout sensors vary
+  //#define FIL_RUNOUT1_STATE LOW
+  //#define FIL_RUNOUT1_PULL
+  //#define FIL_RUNOUT2_STATE LOW
+  //#define FIL_RUNOUT2_PULL
+  //#define FIL_RUNOUT3_STATE LOW
+  //#define FIL_RUNOUT3_PULL
+  //#define FIL_RUNOUT4_STATE LOW
+  //#define FIL_RUNOUT4_PULL
+  //#define FIL_RUNOUT5_STATE LOW
+  //#define FIL_RUNOUT5_PULL
+  //#define FIL_RUNOUT6_STATE LOW
+  //#define FIL_RUNOUT6_PULL
+  //#define FIL_RUNOUT7_STATE LOW
+  //#define FIL_RUNOUT7_PULL
+  //#define FIL_RUNOUT8_STATE LOW
+  //#define FIL_RUNOUT8_PULL
 
   // Set one or more commands to execute on filament runout.
   // (After 'M412 H' Marlin will ask the host to handle the process.)

commit 4ace02f4c2b6eda750412feaa661c856fe7a8674
Author: Hebezo <Kannix2005@users.noreply.github.com>
Date:   Mon Nov 9 01:37:41 2020 +0100

    Add POWER_OFF_DELAY option (#19987)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 719e11b899..ea77b4e429 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -344,9 +344,10 @@
     #define AUTO_POWER_E_FANS
     #define AUTO_POWER_CONTROLLERFAN
     #define AUTO_POWER_CHAMBER_FAN
-    //#define AUTO_POWER_E_TEMP        50 // (¬∞C) Turn on PSU over this temperature
-    //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) Turn on PSU over this temperature
-    #define POWER_TIMEOUT 30
+    //#define AUTO_POWER_E_TEMP        50 // (¬∞C) Turn on PSU if any extruder is over this temperature
+    //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) Turn on PSU if the chamber is over this temperature
+    #define POWER_TIMEOUT              30 // (s) Turn off power if the machine is idle for this duration
+    //#define POWER_OFF_DELAY          60 // (s) Delay of poweroff after M81 command. Useful to let fans run for extra time.
   #endif
 #endif
 

commit 2fdeceda58808015a93d1cb2a1137c0528668a3e
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Sat Nov 7 06:00:29 2020 -0300

    Color UI single touch menu navigation (#20053)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1297c61aed..719e11b899 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2343,6 +2343,10 @@
   //#define XPT2046_Y_CALIBRATION -8981
   //#define XPT2046_X_OFFSET        -43
   //#define XPT2046_Y_OFFSET        257
+
+  #if ENABLED(TFT_COLOR_UI)
+    //#define SINGLE_TOUCH_NAVIGATION
+  #endif
 #endif
 
 //

commit 10fd9ed896bc2eebc4f4d81e02d7f7502e207039
Author: Darren Horrocks <killallthehumans@gmail.com>
Date:   Sat Nov 7 08:42:14 2020 +0000

    Anet 1.0 alternative graphical LCD wiring (#20022)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0b6234bbcc..1297c61aed 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2095,9 +2095,10 @@
 //
 // Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
 // A clone of the RepRapDiscount full graphics display but with
-// different pins/wiring (see pins_ANET_10.h).
+// different pins/wiring (see pins_ANET_10.h). Enable one of these.
 //
 //#define ANET_FULL_GRAPHICS_LCD
+//#define ANET_FULL_GRAPHICS_LCD_ALT_WIRING
 
 //
 // AZSMZ 12864 LCD with SD

commit ea5886c77d303ed6074fbc33239a83ec2a792b0a
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Tue Nov 3 15:27:09 2020 -0800

    Add note about TMC2225/6 (#20002)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f2884c75cb..0b6234bbcc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -674,6 +674,8 @@
  *
  * A4988 is assumed for unspecified drivers.
  *
+ * Use TMC2208/TMC2208_STANDALONE for TMC2225 drivers and TMC2209/TMC2209_STANDALONE for TMC2226 drivers.
+ *
  * Options: A4988, A5984, DRV8825, LV8729, L6470, L6474, POWERSTEP01,
  *          TB6560, TB6600, TMC2100,
  *          TMC2130, TMC2130_STANDALONE, TMC2160, TMC2160_STANDALONE,

commit f131f58124c6f720ed6e9004ce0aa48cebb28aac
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Mon Nov 2 23:22:14 2020 -0300

    Add a filament runout note (#19973)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 054e90d8d9..f2884c75cb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1170,6 +1170,12 @@
  * Filament Runout Sensors
  * Mechanical or opto endstops are used to check for the presence of filament.
  *
+ * IMPORTANT: Runout will only trigger if Marlin is aware that a print job is running.
+ * Marlin knows a print job is running when:
+ *  1. Running a print job from media started with M24.
+ *  2. The Print Job Timer has been started with M75.
+ *  3. The heaters were turned on and PRINTJOB_TIMER_AUTOSTART is enabled.
+ *
  * RAMPS-based boards use SERVO3_PIN for the first runout sensor.
  * For other boards you may need to define FIL_RUNOUT_PIN, FIL_RUNOUT2_PIN, etc.
  */

commit 90fcb82a3e5959a4c8ea86876c3b530e86f5c4da
Author: Gurmeet Athwal <gurmeet.athwal@gmail.com>
Date:   Wed Oct 28 08:25:49 2020 +0530

    Update ExtUI path in config comment (#19908)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5ec41c596b..054e90d8d9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2196,7 +2196,7 @@
 
 //
 // Third-party or vendor-customized controller interfaces.
-// Sources should be installed in 'src/lcd/extensible_ui'.
+// Sources should be installed in 'src/lcd/extui'.
 //
 //#define EXTENSIBLE_UI
 

commit 7d64de646aadb1b99a7b9df782daa16ff3e50549
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Oct 21 15:03:11 2020 -0500

    Add power-on/off G-code options (#19837)
    
    Co-authored-by: Chris <chris@chrisnovoa.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b5dfb43fa2..5ec41c596b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -335,6 +335,9 @@
   //#define PSU_DEFAULT_OFF         // Keep power off until enabled directly with M80
   //#define PSU_POWERUP_DELAY 250   // (ms) Delay for the PSU to warm up to full power
 
+  //#define PSU_POWERUP_GCODE  "M355 S1"  // G-code to run after power-on (e.g., case light on)
+  //#define PSU_POWEROFF_GCODE "M355 S0"  // G-code to run before power-off (e.g., case light off)
+
   //#define AUTO_POWER_CONTROL      // Enable automatic control of the PS_ON pin
   #if ENABLED(AUTO_POWER_CONTROL)
     #define AUTO_POWER_FANS         // Turn on PSU if fans need power

commit 9baa944460e0bf5f15e46a501b64ebd39a9d5f34
Author: bilsef <bilsef1@gmail.com>
Date:   Tue Oct 20 12:35:29 2020 -0700

    Teensy 4.1 Ethernet support (#19801)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 60f8368517..b5dfb43fa2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -107,7 +107,8 @@
 
 /**
  * Select a secondary serial port on the board to use for communication with the host.
- * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
+ * Currently Ethernet (-2) is only supported on Teensy 4.1 boards.
+ * :[-2, -1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
 //#define SERIAL_PORT_2 -1
 

commit ea80b2c8fc4209160eed377437610c298312e97f
Author: ellensp <ellensp@hotmail.com>
Date:   Mon Oct 19 21:16:02 2020 +1300

    Ensure A4988 for unspecified driver type (#19798)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1f6b0db946..60f8368517 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -678,15 +678,15 @@
  *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
  * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'L6474', 'POWERSTEP01', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
-//#define X_DRIVER_TYPE  A4988
-//#define Y_DRIVER_TYPE  A4988
-//#define Z_DRIVER_TYPE  A4988
+#define X_DRIVER_TYPE  A4988
+#define Y_DRIVER_TYPE  A4988
+#define Z_DRIVER_TYPE  A4988
 //#define X2_DRIVER_TYPE A4988
 //#define Y2_DRIVER_TYPE A4988
 //#define Z2_DRIVER_TYPE A4988
 //#define Z3_DRIVER_TYPE A4988
 //#define Z4_DRIVER_TYPE A4988
-//#define E0_DRIVER_TYPE A4988
+#define E0_DRIVER_TYPE A4988
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988
 //#define E3_DRIVER_TYPE A4988

commit f6ffbe548c81abfeecc996c8f2bffd27cabe0014
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Oct 15 03:00:27 2020 -0500

    TFT Presets, Generic options, Sanity checks (#19723)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index db266b524b..1f6b0db946 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,7 +35,7 @@
  *
  * Advanced settings can be found in Configuration_adv.h
  */
-#define CONFIGURATION_H_VERSION 020007
+#define CONFIGURATION_H_VERSION 020008
 
 //===========================================================================
 //============================= Getting Started =============================
@@ -2205,22 +2205,83 @@
 //=============================================================================
 
 /**
- * TFT Type - Select your Display type
- *
- * Available options are:
- *   MKS_TS35_V2_0,
- *   MKS_ROBIN_TFT24, MKS_ROBIN_TFT28, MKS_ROBIN_TFT32, MKS_ROBIN_TFT35,
- *   MKS_ROBIN_TFT43, MKS_ROBIN_TFT_V1_1R
- *   TFT_TRONXY_X5SA, ANYCUBIC_TFT35, LONGER_LK_TFT28
- *   TFT_GENERIC
- *
- * For TFT_GENERIC, you need to configure these 3 options:
- *   Driver:     TFT_DRIVER
- *               Current Drivers are: AUTO, ST7735, ST7789, ST7796, R61505, ILI9328, ILI9341, ILI9488
- *   Resolution: TFT_WIDTH and TFT_HEIGHT
- *   Interface:  TFT_INTERFACE_FSMC or TFT_INTERFACE_SPI
+ * Specific TFT Model Presets. Enable one of the following options
+ * or enable TFT_GENERIC and set sub-options.
  */
+
+//
+// 480x320, 3.5", SPI Display From MKS
+// Normally used in MKS Robin Nano V2
+//
+//#define MKS_TS35_V2_0
+
+//
+// 320x240, 2.4", FSMC Display From MKS
+// Normally used in MKS Robin Nano V1.2
+//
+//#define MKS_ROBIN_TFT24
+
+//
+// 320x240, 2.8", FSMC Display From MKS
+// Normally used in MKS Robin Nano V1.2
+//
+//#define MKS_ROBIN_TFT28
+
+//
+// 320x240, 3.2", FSMC Display From MKS
+// Normally used in MKS Robin Nano V1.2
+//
+//#define MKS_ROBIN_TFT32
+
+//
+// 480x320, 3.5", FSMC Display From MKS
+// Normally used in MKS Robin Nano V1.2
+//
+//#define MKS_ROBIN_TFT35
+
+//
+// 480x272, 4.3", FSMC Display From MKS
+//
+//#define MKS_ROBIN_TFT43
+
+//
+// 320x240, 3.2", FSMC Display From MKS
+// Normally used in MKS Robin
+//
+//#define MKS_ROBIN_TFT_V1_1R
+
+//
+// 480x320, 3.5", FSMC Stock Display from TronxXY
+//
+//#define TFT_TRONXY_X5SA
+
+//
+// 480x320, 3.5", FSMC Stock Display from AnyCubic
+//
+//#define ANYCUBIC_TFT35
+
+//
+// 320x240, 2.8", FSMC Stock Display from Longer/Alfawise
+//
+//#define LONGER_LK_TFT28
+
+//
+// Generic TFT with detailed options
+//
 //#define TFT_GENERIC
+#if ENABLED(TFT_GENERIC)
+  // :[ 'AUTO', 'ST7735', 'ST7789', 'ST7796', 'R61505', 'ILI9328', 'ILI9341', 'ILI9488' ]
+  #define TFT_DRIVER AUTO
+
+  // Interface. Enable one of the following options:
+  //#define TFT_INTERFACE_FSMC
+  //#define TFT_INTERFACE_SPI
+
+  // TFT Resolution. Enable one of the following options:
+  //#define TFT_RES_320x240
+  //#define TFT_RES_480x272
+  //#define TFT_RES_480x320
+#endif
 
 /**
  * TFT UI - User Interface Selection. Enable one of the following options:

commit ae36ed390312c80b03fb36225755fddf9f9205b7
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Oct 12 17:48:50 2020 -0500

    Move @section temperature

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8f37f1e799..db266b524b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -346,11 +346,10 @@
   #endif
 #endif
 
-// @section temperature
-
 //===========================================================================
 //============================= Thermal Settings ============================
 //===========================================================================
+// @section temperature
 
 /**
  * --NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table

commit c0920bbf6a2490b7ea66d2a9e828c0f527a6c77b
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Mon Oct 12 18:38:07 2020 -0300

    TFT Refactoring (#19192)
    
    * split tft folder in two: tft for color ui; tft_io for shared tft code
    
    * after the files got moved, now the code was moved to the right place
    
    * classic ui using TFT IO init lcd codes
    
    * feature to compile tft_io when enabled
    
    * compiling fix
    
    * lvgl spi tft working with tft io init codes
    
    * there is no need for separeted fsmc and spi class in lvgl anymore, as tft io handle everything
    
    * remove debug
    
    * base for TFT rotation and mirroring API, and ILI9488 support
    
    * ST7796S rotate and mirror support
    
    * ST7789V rotate and mirror support
    
    * ST7735 rotate and mirror support
    
    * ILI9341 rotate and mirror support
    
    * ILI9328 rotate and mirror support
    
    * R61505 rotate and mirror support
    
    * MKS TFT definitions
    
    * more configs for mks tfts
    
    * update config
    
    * naming typo
    
    * to configure the user interface
    
    * ANYCUBIC_TFT35
    
    * tft configs
    
    * support for SSD1963
    
    * tft display types
    
    * updated conditionals lcd; first board fully working with the new code - all 3 ui!
    
    * compatiblity
    
    * changed name
    
    * move classic ui file name
    
    * rename TURN -> ROTATE
    
    * GRAPHICAL_TFT_ROTATE_180 deprecated
    
    * first fsmc board fully working - chitu v5
    
    * mks robin nano v1.2 + tft 35 ok!
    
    * right pin name
    
    * anycubic tft tested in a TRIGORILLA_PRO
    
    * chitu v6
    
    * nano 32 tft orientation
    
    * mks tft43
    
    * mks tft43 rotation
    
    * fixed LONGER LK tft setup
    
    * GRAPHICAL_TFT_UPSCALE defined by the display type
    
    * better offsets defaults
    
    * Update Configuration.h
    
    * Update tft_fsmc.cpp
    
    * Update Conditionals_LCD.h
    
    * Tweak comments
    
    * update nano tests
    
    * Revert "update nano tests"
    
    This reverts commit a071ebbfad30e28855a4a5695ec8a726542a1a65.
    
    * default tft
    
    * outdated comments
    
    * to not break non-vscode builds
    
    * upscale tft 35
    
    * support tft 180 rotation for color ui
    
    * Each TFT Driver is responsible for its default color mode.
    
    * use auto detect in mks displays, because some of them could be shipped with diferent drivers
    
    * extra s
    
    * unused code
    
    * wrong -1
    
    * missing mirror options
    
    * Smaller regex pattern
    
    * Comment updates
    
    * Clean up old defines
    
    * Apply pins formatting
    
    * GRAPHICAL_TFT_ROTATE_180 => TFT_ROTATE_180
    
    * MKS_ROBIN_TFT_V1_1R
    
    * merge fix
    
    * correct resolution
    
    * auto is default, dont need be there, and it will allow the user to configure it even for named displays
    
    * to not use rotation with MKS_ROBIN_TFT_V1_1R
    
    * i like () in macros
    
    * avoid sleepy commits
    
    * default for st7789 is rgb
    
    * nano follow up
    
    * to allow ili9328 rotation
    
    * default is rgb
    
    * boards merge follow up
    
    * to match bootloader orientation
    
    * HAS_TOUCH_XPT2046 is not hal specific anymore
    
    * lets not forget LPC
    
    * 180 rotation for ili9328 and R61505
    
    * Clean up whitespace
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 59f2be18c6..8f37f1e799 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2205,43 +2205,47 @@
 //=============================== Graphical TFTs ==============================
 //=============================================================================
 
-//
-// TFT display with optional touch screen
-// Color Marlin UI with standard menu system
-//
-//#define TFT_320x240
-//#define TFT_320x240_SPI
-//#define TFT_480x320
-//#define TFT_480x320_SPI
-
-//
-// Skip autodetect and force specific TFT driver
-// Mandatory for SPI screens with no MISO line
-// Available drivers are: ST7735, ST7789, ST7796, R61505, ILI9328, ILI9341, ILI9488
-//
-//#define TFT_DRIVER AUTO
-
-//
-// SPI display (MKS Robin Nano V2.0, MKS Gen L V2.0)
-// Upscaled 128x64 Marlin UI
-//
-//#define SPI_GRAPHICAL_TFT
+/**
+ * TFT Type - Select your Display type
+ *
+ * Available options are:
+ *   MKS_TS35_V2_0,
+ *   MKS_ROBIN_TFT24, MKS_ROBIN_TFT28, MKS_ROBIN_TFT32, MKS_ROBIN_TFT35,
+ *   MKS_ROBIN_TFT43, MKS_ROBIN_TFT_V1_1R
+ *   TFT_TRONXY_X5SA, ANYCUBIC_TFT35, LONGER_LK_TFT28
+ *   TFT_GENERIC
+ *
+ * For TFT_GENERIC, you need to configure these 3 options:
+ *   Driver:     TFT_DRIVER
+ *               Current Drivers are: AUTO, ST7735, ST7789, ST7796, R61505, ILI9328, ILI9341, ILI9488
+ *   Resolution: TFT_WIDTH and TFT_HEIGHT
+ *   Interface:  TFT_INTERFACE_FSMC or TFT_INTERFACE_SPI
+ */
+//#define TFT_GENERIC
 
-//
-// FSMC display (MKS Robin, Alfawise U20, JGAurora A5S, REXYZ A1, etc.)
-// Upscaled 128x64 Marlin UI
-//
-//#define FSMC_GRAPHICAL_TFT
+/**
+ * TFT UI - User Interface Selection. Enable one of the following options:
+ *
+ *   TFT_CLASSIC_UI - Emulated DOGM - 128x64 Upscaled
+ *   TFT_COLOR_UI   - Marlin Default Menus, Touch Friendly, using full TFT capabilities
+ *   TFT_LVGL_UI    - A Modern UI using LVGL
+ *
+ *   For LVGL_UI also copy the 'assets' folder from the build directory to the
+ *   root of your SD card, together with the compiled firmware.
+ */
+//#define TFT_CLASSIC_UI
+//#define TFT_COLOR_UI
+//#define TFT_LVGL_UI
 
-//
-// TFT LVGL UI
-//
-// Using default MKS icons and fonts from: https://git.io/JJvzK
-// Just copy the 'assets' folder from the build directory to the
-// root of your SD card, together with the compiled firmware.
-//
-//#define TFT_LVGL_UI_FSMC  // Robin nano v1.2 uses FSMC
-//#define TFT_LVGL_UI_SPI   // Robin nano v2.0 uses SPI
+/**
+ * TFT Rotation. Set to one of the following values:
+ *
+ *   TFT_ROTATE_90,  TFT_ROTATE_90_MIRROR_X,  TFT_ROTATE_90_MIRROR_Y,
+ *   TFT_ROTATE_180, TFT_ROTATE_180_MIRROR_X, TFT_ROTATE_180_MIRROR_Y,
+ *   TFT_ROTATE_270, TFT_ROTATE_270_MIRROR_X, TFT_ROTATE_270_MIRROR_Y,
+ *   TFT_MIRROR_X, TFT_MIRROR_Y, TFT_NO_ROTATION
+ */
+//#define TFT_ROTATION TFT_NO_ROTATION
 
 //=============================================================================
 //============================  Other Controllers  ============================

commit a866a758cc0ac671363fdce462dd967e488aa4e4
Author: Jason Smith <jason.inet@gmail.com>
Date:   Sun Oct 11 22:40:39 2020 -0700

    Allow MAX31865 resistance values configuration (#19695)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ec8b162cd6..59f2be18c6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -432,6 +432,12 @@
 #define DUMMY_THERMISTOR_998_VALUE 25
 #define DUMMY_THERMISTOR_999_VALUE 100
 
+// Resistor values when using a MAX31865 (sensor -5)
+// Sensor value is typically 100 (PT100) or 1000 (PT1000)
+// Calibration value is typically 430 ohm for AdaFruit PT100 modules and 4300 ohm for AdaFruit PT1000 modules.
+//#define MAX31865_SENSOR_OHMS      100
+//#define MAX31865_CALIBRATION_OHMS 430
+
 // Use temp sensor 1 as a redundant sensor with sensor 0. If the readings
 // from the two sensors differ too much the print will be aborted.
 //#define TEMP_SENSOR_1_AS_REDUNDANT

commit c25c31b1deef9325bec882b9a676b2ab40be1a35
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Oct 5 01:07:41 2020 -0500

    Sync config to examples

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e03887a9d7..ec8b162cd6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -486,12 +486,13 @@
   //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
+
   #if ENABLED(PID_PARAMS_PER_HOTEND)
     // Specify between 1 and HOTENDS values per array.
     // If fewer than EXTRUDER values are provided, the last element will be repeated.
-    #define DEFAULT_Kp_LIST {  22.20,  20.0 }
-    #define DEFAULT_Ki_LIST {   1.08,   1.0 }
-    #define DEFAULT_Kd_LIST { 114.00, 112.0 }
+    #define DEFAULT_Kp_LIST {  22.20,  22.20 }
+    #define DEFAULT_Ki_LIST {   1.08,   1.08 }
+    #define DEFAULT_Kd_LIST { 114.00, 114.00 }
   #else
     #define DEFAULT_Kp  22.20
     #define DEFAULT_Ki   1.08

commit 44d50c2bd366cef1aa7b19689dc9dee5143634fc
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Oct 4 15:45:13 2020 -0500

    Move SF_ARC_FIX option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dec1a81bee..e03887a9d7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2304,9 +2304,6 @@
 // then the BLUE led is on. Otherwise the RED led is on. (1C hysteresis)
 //#define TEMP_STAT_LEDS
 
-// SkeinForge sends the wrong arc G-codes when using Arc Point as fillet procedure
-//#define SF_ARC_FIX
-
 // Support for the BariCUDA Paste Extruder
 //#define BARICUDA
 
@@ -2392,17 +2389,12 @@
   #define PRINTER_EVENT_LEDS
 #endif
 
-/**
- * R/C SERVO support
- * Sponsored by TrinityLabs, Reworked by codexmas
- */
-
 /**
  * Number of servos
  *
  * For some servo-related options NUM_SERVOS will be set automatically.
  * Set this manually if there are extra servos needing manual control.
- * Leave undefined or set to 0 to entirely disable the servo subsystem.
+ * Set to 0 to turn off servo support.
  */
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
@@ -2414,5 +2406,5 @@
 // Only power servos during movement, otherwise leave off to prevent jitter
 //#define DEACTIVATE_SERVOS_AFTER_MOVE
 
-// Allow servo angle to be edited and saved to EEPROM
+// Edit servo angles with M281 and save to EEPROM with M500
 //#define EDITABLE_SERVO_ANGLES

commit 4424645e04c9e75462d36de8f7a82e67cc9c262e
Author: qwewer0 <57561110+qwewer0@users.noreply.github.com>
Date:   Mon Sep 28 21:53:50 2020 +0200

    Multi-line comments cleanup (#19535)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7fb3482afe..dec1a81bee 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -34,7 +34,6 @@
  * - Extra features
  *
  * Advanced settings can be found in Configuration_adv.h
- *
  */
 #define CONFIGURATION_H_VERSION 020007
 
@@ -855,7 +854,6 @@
  *    - For simple switches connect...
  *      - normally-closed switches to GND and D32.
  *      - normally-open switches to 5V and D32.
- *
  */
 //#define Z_MIN_PROBE_PIN 32 // Pin 32 is the RAMPS default
 
@@ -1567,7 +1565,6 @@
  *
  *   Caveats: The ending Z should be the same as starting Z.
  * Attention: EXPERIMENTAL. G-code arguments may change.
- *
  */
 //#define NOZZLE_CLEAN_FEATURE
 
@@ -1720,7 +1717,6 @@
  *
  * SD Card support is disabled by default. If your controller has an SD slot,
  * you must uncomment the following option or it won't work.
- *
  */
 //#define SDSUPPORT
 
@@ -2343,7 +2339,6 @@
  * *** CAUTION ***
  *
  * LED Type. Enable only one of the following two options.
- *
  */
 //#define RGB_LED
 //#define RGBW_LED

commit 4584a52ba580544de8e5efc611c72a05d99e3104
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Sep 28 03:55:04 2020 -0500

    Update configs to 020007

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bb724672b0..7fb3482afe 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -36,7 +36,7 @@
  * Advanced settings can be found in Configuration_adv.h
  *
  */
-#define CONFIGURATION_H_VERSION 020006
+#define CONFIGURATION_H_VERSION 020007
 
 //===========================================================================
 //============================= Getting Started =============================

commit 27bdf4b24e8da06ea7923b6382f38b5fb6292914
Author: Serhiy-K <52166448+Serhiy-K@users.noreply.github.com>
Date:   Mon Sep 28 09:52:38 2020 +0300

    MarlinUI for SPI/I2C TFT-GLCD character-based display bridge (#19375)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 35b45e7321..bb724672b0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1957,6 +1957,14 @@
 //
 //#define FF_INTERFACEBOARD
 
+//
+// TFT GLCD Panel with Marlin UI
+// Panel connected to main board by SPI or I2C interface.
+// See https://github.com/Serhiy-K/TFTGLCDAdapter
+//
+//#define TFTGLCD_PANEL_SPI
+//#define TFTGLCD_PANEL_I2C
+
 //=============================================================================
 //=======================   LCD / Controller Selection  =======================
 //=========================      (Graphical LCDs)      ========================

commit 00c09e95aca7fbc4c9ec29a1c1a99d024a59013d
Author: Emperor <leetspeak@me.com>
Date:   Mon Sep 28 04:38:30 2020 +0200

    Thermistor: Kis3d Silicone heater + precision cast plate (#19528)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 507b01b95a..35b45e7321 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -390,6 +390,7 @@
  *    21 : Pt100 with circuit in the Ultimainboard V2.x with 3.3v excitation (STM32 \ LPC176x....)
  *    22 : 100k (hotend) with 4.7k pullup to 3.3V and 220R to analog input (as in GTM32 Pro vB)
  *    23 : 100k (bed) with 4.7k pullup to 3.3v and 220R to analog input (as in GTM32 Pro vB)
+ *    30 : Kis3d Silicone heating mat 200W/300W with 6mm precision cast plate (EN AW 5083) NTC100K / B3950 (4.7k pullup)
  *   201 : Pt100 with circuit in Overlord, similar to Ultimainboard V2.x
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    61 : 100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup

commit dd118e2f36d99395c33f3ca4325f35bcfa48dfab
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Sep 25 16:47:14 2020 -0500

    Drop extra Bed PID

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 93e2a0229a..507b01b95a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -532,18 +532,12 @@
   //#define MIN_BED_POWER 0
   //#define PID_BED_DEBUG // Sends debug data to the serial port.
 
-  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
+  // 120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  // from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
   #define DEFAULT_bedKp 10.00
   #define DEFAULT_bedKi .023
   #define DEFAULT_bedKd 305.4
 
-  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-  //from pidautotune
-  //#define DEFAULT_bedKp 97.1
-  //#define DEFAULT_bedKi 1.41
-  //#define DEFAULT_bedKd 1675.16
-
   // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 #endif // PIDTEMPBED
 

commit da6c8317a7e7483fcb823c06f9cf953a764eacb0
Author: Jason Smith <jason.inet@gmail.com>
Date:   Thu Sep 24 18:28:48 2020 -0700

    Fix and improve STM32F1 serial (#19464)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2635bc750e..93e2a0229a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2165,6 +2165,9 @@
 // Touch-screen LCD for Malyan M200/M300 printers
 //
 //#define MALYAN_LCD
+#if ENABLED(MALYAN_LCD)
+  #define LCD_SERIAL_PORT 1  // Default is 1 for Malyan M200
+#endif
 
 //
 // Touch UI for FTDI EVE (FT800/FT810) displays
@@ -2178,7 +2181,7 @@
 //#define ANYCUBIC_LCD_I3MEGA
 //#define ANYCUBIC_LCD_CHIRON
 #if EITHER(ANYCUBIC_LCD_I3MEGA, ANYCUBIC_LCD_CHIRON)
-  #define ANYCUBIC_LCD_SERIAL_PORT 3
+  #define LCD_SERIAL_PORT 3  // Default is 3 for Anycubic
   //#define ANYCUBIC_LCD_DEBUG
 #endif
 

commit 9d5a9621de30e5a2c62727a479a6e73007ced7de
Author: Jason Smith <jason.inet@gmail.com>
Date:   Thu Sep 17 01:06:01 2020 -0700

    Demo and test multiple PID defaults (#19413)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 52af1375a5..2635bc750e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -486,24 +486,17 @@
   //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
-
-  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
-
-  // Ultimaker
-  #define DEFAULT_Kp 22.2
-  #define DEFAULT_Ki 1.08
-  #define DEFAULT_Kd 114
-
-  // MakerGear
-  //#define DEFAULT_Kp 7.0
-  //#define DEFAULT_Ki 0.1
-  //#define DEFAULT_Kd 12
-
-  // Mendel Parts V9 on 12V
-  //#define DEFAULT_Kp 63.0
-  //#define DEFAULT_Ki 2.25
-  //#define DEFAULT_Kd 440
-
+  #if ENABLED(PID_PARAMS_PER_HOTEND)
+    // Specify between 1 and HOTENDS values per array.
+    // If fewer than EXTRUDER values are provided, the last element will be repeated.
+    #define DEFAULT_Kp_LIST {  22.20,  20.0 }
+    #define DEFAULT_Ki_LIST {   1.08,   1.0 }
+    #define DEFAULT_Kd_LIST { 114.00, 112.0 }
+  #else
+    #define DEFAULT_Kp  22.20
+    #define DEFAULT_Ki   1.08
+    #define DEFAULT_Kd 114.00
+  #endif
 #endif // PIDTEMP
 
 //===========================================================================

commit e97e6865c3e587a04ae2878e72a8dfb137534b7e
Author: Victor Sokolov <gzigzigzeo@gmail.com>
Date:   Fri Sep 4 05:12:53 2020 +0400

    MarkForged kinematics (#19235)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8cd2faf7f8..52af1375a5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -608,7 +608,7 @@
 
 // @section machine
 
-// Uncomment one of these options to enable CoreXY, CoreXZ, or CoreYZ kinematics
+// Enable one of the options below for CoreXY, CoreXZ, or CoreYZ kinematics,
 // either in the usual order or reversed
 //#define COREXY
 //#define COREXZ
@@ -616,6 +616,7 @@
 //#define COREYX
 //#define COREZX
 //#define COREZY
+//#define MARKFORGED_XY  // MarkForged. See https://reprap.org/forum/read.php?152,504042
 
 //===========================================================================
 //============================== Endstop Settings ===========================

commit 97ec6c1be6f7b3b2e185be9f1637639815acbb1a
Author: Zachary Annand <baconfixation@gmail.com>
Date:   Thu Aug 27 14:18:16 2020 -0500

    Independent Neopixel option (#19115)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 44f14a8ee3..8cd2faf7f8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2362,12 +2362,21 @@
   #define NEOPIXEL_PIN     4       // LED driving pin
   //#define NEOPIXEL2_TYPE NEOPIXEL_TYPE
   //#define NEOPIXEL2_PIN    5
-  //#define NEOPIXEL2_INSERIES     // Default behavior is NeoPixel 2 in parallel
-  #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip, larger of 2 strips if 2 NeoPixel strips are used
+  #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip. (Longest strip when NEOPIXEL2_SEPARATE is disabled.)
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
   #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)
   //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup
 
+  // Support for second Adafruit NeoPixel LED driver controlled with M150 S1 ...
+  //#define NEOPIXEL2_SEPARATE
+  #if ENABLED(NEOPIXEL2_SEPARATE)
+    #define NEOPIXEL2_PIXELS      15  // Number of LEDs in the second strip
+    #define NEOPIXEL2_BRIGHTNESS 127  // Initial brightness (0-255)
+    #define NEOPIXEL2_STARTUP_TEST    // Cycle through colors at startup
+  #else
+    //#define NEOPIXEL2_INSERIES      // Default behavior is NeoPixel 2 in parallel
+  #endif
+
   // Use a single NeoPixel LED for static (background) lighting
   //#define NEOPIXEL_BKGD_LED_INDEX  0               // Index of the LED to use
   //#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 } // R, G, B, W

commit a96c5209d13976ae0cccc90089c6111a2c468954
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Aug 27 14:01:36 2020 -0500

    Fix small typ√∏

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d1f94c51f0..44f14a8ee3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1689,7 +1689,7 @@
  * Select the language to display on the LCD. These languages are available:
  *
  *   en, an, bg, ca, cz, da, de, el, el_gr, es, eu, fi, fr, gl, hr, hu, it,
- *   jp_kana, ko_KR, nl, pl, pt, pt_br, ro ru, sk, tr, uk, vi, zh_CN, zh_TW, test
+ *   jp_kana, ko_KR, nl, pl, pt, pt_br, ro, ru, sk, tr, uk, vi, zh_CN, zh_TW, test
  *
  * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'hu':'Hungarian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ro':'Romanian', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
  */

commit 4955aa5b783794c6a600ad2bf162748647f89143
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Aug 26 02:15:43 2020 -0500

    Prusa => Pr≈Ø≈°a

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 39dc195231..d1f94c51f0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -177,7 +177,7 @@
 #endif
 
 /**
- * Prusa Multi-Material Unit v2
+ * Pr≈Ø≈°a Multi-Material Unit v2
  *
  * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
  * Requires EXTRUDERS = 5
@@ -373,7 +373,7 @@
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
  *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan, J-Head, and E3D) (4.7k pullup)
  *   501 : 100K Zonestar (Tronxy X3A) Thermistor
- *   502 : 100K Zonestar Thermistor used by hot bed in Zonestar Prusa P802M
+ *   502 : 100K Zonestar Thermistor used by hot bed in Zonestar Pr≈Ø≈°a P802M
  *   512 : 100k RPW-Ultra hotend thermistor (4.7k pullup)
  *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
@@ -1720,9 +1720,9 @@
 #define DISPLAY_CHARSET_HD44780 JAPANESE
 
 /**
- * Info Screen Style (0:Classic, 1:Prusa)
+ * Info Screen Style (0:Classic, 1:Pr≈Ø≈°a)
  *
- * :[0:'Classic', 1:'Prusa']
+ * :[0:'Classic', 1:'Pr≈Ø≈°a']
  */
 #define LCD_INFO_SCREEN_STYLE 0
 

commit c488070859c1995fe957938b1b6302c4eeef1ea3
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Aug 23 23:57:51 2020 -0500

    Minor cleanup w/r/t LEDs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f84d78a507..39dc195231 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2363,7 +2363,7 @@
   //#define NEOPIXEL2_TYPE NEOPIXEL_TYPE
   //#define NEOPIXEL2_PIN    5
   //#define NEOPIXEL2_INSERIES     // Default behavior is NeoPixel 2 in parallel
-  #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip, larger of 2 strips if 2 neopixel strips are used
+  #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip, larger of 2 strips if 2 NeoPixel strips are used
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
   #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)
   //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup

commit 638f6f0f0607399bce82123663f5463380f83ce4
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Aug 23 03:14:11 2020 -0500

    Neopixel => NeoPixel

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d23b69c02b..f84d78a507 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2062,7 +2062,7 @@
 //#define FYSETC_MINI_12864_X_X    // Type C/D/E/F. No tunable RGB Backlight by default
 //#define FYSETC_MINI_12864_1_2    // Type C/D/E/F. Simple RGB Backlight (always on)
 //#define FYSETC_MINI_12864_2_0    // Type A/B. Discreet RGB Backlight
-//#define FYSETC_MINI_12864_2_1    // Type A/B. Neopixel RGB Backlight
+//#define FYSETC_MINI_12864_2_1    // Type A/B. NeoPixel RGB Backlight
 //#define FYSETC_GENERIC_12864_1_1 // Larger display with basic ON/OFF backlight.
 
 //
@@ -2332,13 +2332,13 @@
  * Adds the M150 command to set the LED (or LED strip) color.
  * If pins are PWM capable (e.g., 4, 5, 6, 11) then a range of
  * luminance values can be set from 0 to 255.
- * For Neopixel LED an overall brightness parameter is also available.
+ * For NeoPixel LED an overall brightness parameter is also available.
  *
  * *** CAUTION ***
  *  LED Strips require a MOSFET Chip between PWM lines and LEDs,
  *  as the Arduino cannot handle the current the LEDs will require.
  *  Failure to follow this precaution can destroy your Arduino!
- *  NOTE: A separate 5V power supply is required! The Neopixel LED needs
+ *  NOTE: A separate 5V power supply is required! The NeoPixel LED needs
  *  more current than the Arduino 5V linear regulator can produce.
  * *** CAUTION ***
  *
@@ -2355,7 +2355,7 @@
   //#define RGB_LED_W_PIN -1
 #endif
 
-// Support for Adafruit Neopixel LED driver
+// Support for Adafruit NeoPixel LED driver
 //#define NEOPIXEL_LED
 #if ENABLED(NEOPIXEL_LED)
   #define NEOPIXEL_TYPE   NEO_GRBW // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
@@ -2368,7 +2368,7 @@
   #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)
   //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup
 
-  // Use a single Neopixel LED for static (background) lighting
+  // Use a single NeoPixel LED for static (background) lighting
   //#define NEOPIXEL_BKGD_LED_INDEX  0               // Index of the LED to use
   //#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 } // R, G, B, W
 #endif

commit ca105493aa1cf5098e8ecac52197683d2de4bd17
Author: Mathew Winters <mathew@winters.org.nz>
Date:   Sun Aug 23 09:20:37 2020 +1200

    NOZZLE_CLEAN_NO_Y (#18870)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2639bcd97b..d23b69c02b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1604,9 +1604,12 @@
   // Move the nozzle to the initial position after cleaning
   #define NOZZLE_CLEAN_GOBACK
 
-  // Enable for a purge/clean station that's always at the gantry height (thus no Z move)
+  // For a purge/clean station that's always at the gantry height (thus no Z move)
   //#define NOZZLE_CLEAN_NO_Z
 
+  // For a purge/clean station mounted on the X axis
+  //#define NOZZLE_CLEAN_NO_Y
+
   // Explicit wipe G-code script applies to a G12 with no arguments.
   //#define WIPE_SEQUENCE_COMMANDS "G1 X-17 Y25 Z10 F4000\nG1 Z1\nM114\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 Z15\nM400\nG0 X-10.0 Y-9.0"
 

commit 434e43cc42f782d5fbe89db21f97571c71ad62f3
Author: qwewer0 <57561110+qwewer0@users.noreply.github.com>
Date:   Sat Aug 22 09:04:28 2020 +0200

    Change XY_PROBE_SPEED format to (x*60) (#18997)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2b36f883cc..2639bcd97b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -235,8 +235,8 @@
 
   #elif ENABLED(MAGNETIC_PARKING_EXTRUDER)
 
-    #define MPE_FAST_SPEED      9000      // (mm/m) Speed for travel before last distance point
-    #define MPE_SLOW_SPEED      4500      // (mm/m) Speed for last distance travel to park and couple
+    #define MPE_FAST_SPEED      9000      // (mm/min) Speed for travel before last distance point
+    #define MPE_SLOW_SPEED      4500      // (mm/min) Speed for last distance travel to park and couple
     #define MPE_TRAVEL_DISTANCE   10      // (mm) Last distance point
     #define MPE_COMPENSATION       0      // Offset Compensation -1 , 0 , 1 (multiplier) only for coupling
 
@@ -284,8 +284,8 @@
     #if ENABLED(PRIME_BEFORE_REMOVE)
       #define SWITCHING_TOOLHEAD_PRIME_MM           20  // (mm)   Extruder prime length
       #define SWITCHING_TOOLHEAD_RETRACT_MM         10  // (mm)   Retract after priming length
-      #define SWITCHING_TOOLHEAD_PRIME_FEEDRATE    300  // (mm/m) Extruder prime feedrate
-      #define SWITCHING_TOOLHEAD_RETRACT_FEEDRATE 2400  // (mm/m) Extruder retract feedrate
+      #define SWITCHING_TOOLHEAD_PRIME_FEEDRATE    300  // (mm/min) Extruder prime feedrate
+      #define SWITCHING_TOOLHEAD_RETRACT_FEEDRATE 2400  // (mm/min) Extruder retract feedrate
     #endif
   #elif ENABLED(ELECTROMAGNETIC_SWITCHING_TOOLHEAD)
     #define SWITCHING_TOOLHEAD_Z_HOP          2         // (mm) Z raise for switching
@@ -999,13 +999,13 @@
 // with NOZZLE_AS_PROBE this can be negative for a wider probing area.
 #define PROBING_MARGIN 10
 
-// X and Y axis travel speed (mm/m) between probes
-#define XY_PROBE_SPEED 8000
+// X and Y axis travel speed (mm/min) between probes
+#define XY_PROBE_SPEED (133*60)
 
-// Feedrate (mm/m) for the first approach when double-probing (MULTIPLE_PROBING == 2)
+// Feedrate (mm/min) for the first approach when double-probing (MULTIPLE_PROBING == 2)
 #define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
 
-// Feedrate (mm/m) for the "accurate" probe of each point
+// Feedrate (mm/min) for the "accurate" probe of each point
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
 
 /**
@@ -1399,7 +1399,7 @@
   #define Z_SAFE_HOMING_Y_POINT Y_CENTER  // Y point for Z homing
 #endif
 
-// Homing speeds (mm/m)
+// Homing speeds (mm/min)
 #define HOMING_FEEDRATE_XY (50*60)
 #define HOMING_FEEDRATE_Z  (4*60)
 

commit 8652a7bdd2dada6b5dcdbccbbf5feb76b465083d
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Sat Aug 22 06:13:43 2020 +0200

    HIGH/LOW naming of pin state settings (#19089)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7f7931ae7d..2b36f883cc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -330,7 +330,7 @@
 //#define PSU_NAME "Power Supply"
 
 #if ENABLED(PSU_CONTROL)
-  #define PSU_ACTIVE_HIGH false     // Set 'false' for ATX, 'true' for X-Box
+  #define PSU_ACTIVE_STATE LOW      // Set 'LOW' for ATX, 'HIGH' for X-Box
 
   //#define PSU_DEFAULT_OFF         // Keep power off until enabled directly with M80
   //#define PSU_POWERUP_DELAY 250   // (ms) Delay for the PSU to warm up to full power

commit 7e65464dd7812479042a3c1fd0e75a0a8cd15b1b
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Fri Aug 21 15:04:32 2020 -0700

    Fix M512 comment (#19108)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dc0416d516..7f7931ae7d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1667,7 +1667,7 @@
   #define PASSWORD_LENGTH 4                 // (#) Number of digits (1-9). 3 or 4 is recommended
   #define PASSWORD_ON_STARTUP
   #define PASSWORD_UNLOCK_GCODE             // Unlock with the M511 P<password> command. Disable to prevent brute-force attack.
-  #define PASSWORD_CHANGE_GCODE             // Change the password with M512 P<old> N<new>.
+  #define PASSWORD_CHANGE_GCODE             // Change the password with M512 P<old> S<new>.
   //#define PASSWORD_ON_SD_PRINT_MENU       // This does not prevent gcodes from running
   //#define PASSWORD_AFTER_SD_PRINT_END
   //#define PASSWORD_AFTER_SD_PRINT_ABORT

commit 38cd7b993884108eab13d9266ac69392be705b89
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Aug 13 20:03:49 2020 -0500

    Config adjustments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 986b9efb65..dc0416d516 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2359,7 +2359,7 @@
   #define NEOPIXEL_PIN     4       // LED driving pin
   //#define NEOPIXEL2_TYPE NEOPIXEL_TYPE
   //#define NEOPIXEL2_PIN    5
-  #define NEOPIXEL2_INSERIES false // The default behaviour is 'false' with neopixel2 in parallel
+  //#define NEOPIXEL2_INSERIES     // Default behavior is NeoPixel 2 in parallel
   #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip, larger of 2 strips if 2 neopixel strips are used
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
   #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)

commit 3426c7fc94beb62dedc85d5f5cd9ac9cac0859b1
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Thu Aug 20 03:11:20 2020 +0200

    Configurable number of M106 fans (#18883)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 24d7c46a68..986b9efb65 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2275,6 +2275,10 @@
 
 // @section extras
 
+// Set number of user-controlled fans. Disable to use all board-defined fans.
+// :[1,2,3,4,5,6,7,8]
+//#define NUM_M106_FANS 1
+
 // Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 

commit a62ae2aa2d74613fe15bf2b8ca4390fca53ebf01
Author: Steven Haigh <netwiz@crc.id.au>
Date:   Thu Aug 20 09:58:18 2020 +1000

    Default Filament Runout Sensor enabled state (#19013)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a4b6c51ae5..24d7c46a68 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1178,10 +1178,11 @@
  */
 //#define FILAMENT_RUNOUT_SENSOR
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
-  #define NUM_RUNOUT_SENSORS   1     // Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.
-  #define FIL_RUNOUT_STATE     LOW   // Pin state indicating that filament is NOT present.
-  #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
-  //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.
+  #define FIL_RUNOUT_ENABLED_DEFAULT true // Enable the sensor on startup. Override with M412 followed by M500.
+  #define NUM_RUNOUT_SENSORS   1          // Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.
+  #define FIL_RUNOUT_STATE     LOW        // Pin state indicating that filament is NOT present.
+  #define FIL_RUNOUT_PULLUP               // Use internal pullup for filament runout pins.
+  //#define FIL_RUNOUT_PULLDOWN           // Use internal pulldown for filament runout pins.
 
   // Set one or more commands to execute on filament runout.
   // (After 'M412 H' Marlin will ask the host to handle the process.)

commit 5038cddfd54cf4b8484d10e7378fb2acd2b5f2ad
Author: ellensp <ellensp@hotmail.com>
Date:   Sat Aug 15 01:25:45 2020 +1200

    Add option to arrange Neopixel sets in series  (#18992)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b6155f969..a4b6c51ae5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2354,6 +2354,7 @@
   #define NEOPIXEL_PIN     4       // LED driving pin
   //#define NEOPIXEL2_TYPE NEOPIXEL_TYPE
   //#define NEOPIXEL2_PIN    5
+  #define NEOPIXEL2_INSERIES false // The default behaviour is 'false' with neopixel2 in parallel
   #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip, larger of 2 strips if 2 neopixel strips are used
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
   #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)

commit 852e5ae0421810ecc6f44631237208030e70751f
Author: sherwin-dc <59867245+sherwin-dc@users.noreply.github.com>
Date:   Sun Aug 9 09:00:42 2020 +0800

    Password via G-code and MarlinUI (#18399)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3ad7dfdab3..3b6155f969 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1642,6 +1642,37 @@
  */
 //#define PRINTCOUNTER
 
+/**
+ * Password
+ *
+ * Set a numerical password for the printer which can be requested:
+ *
+ *  - When the printer boots up
+ *  - Upon opening the 'Print from Media' Menu
+ *  - When SD printing is completed or aborted
+ *
+ * The following G-codes can be used:
+ *
+ *  M510 - Lock Printer. Blocks all commands except M511.
+ *  M511 - Unlock Printer.
+ *  M512 - Set, Change and Remove Password.
+ *
+ * If you forget the password and get locked out you'll need to re-flash
+ * the firmware with the feature disabled, reset EEPROM, and (optionally)
+ * re-flash the firmware again with this feature enabled.
+ */
+//#define PASSWORD_FEATURE
+#if ENABLED(PASSWORD_FEATURE)
+  #define PASSWORD_LENGTH 4                 // (#) Number of digits (1-9). 3 or 4 is recommended
+  #define PASSWORD_ON_STARTUP
+  #define PASSWORD_UNLOCK_GCODE             // Unlock with the M511 P<password> command. Disable to prevent brute-force attack.
+  #define PASSWORD_CHANGE_GCODE             // Change the password with M512 P<old> N<new>.
+  //#define PASSWORD_ON_SD_PRINT_MENU       // This does not prevent gcodes from running
+  //#define PASSWORD_AFTER_SD_PRINT_END
+  //#define PASSWORD_AFTER_SD_PRINT_ABORT
+  //#include "Configuration_Secure.h"       // External file with PASSWORD_DEFAULT_VALUE
+#endif
+
 //=============================================================================
 //============================= LCD and SD support ============================
 //=============================================================================

commit da4eaebdc9c1adc7387e302fe6516ed009974edd
Author: wmariz <11435639+wmariz@users.noreply.github.com>
Date:   Fri Aug 7 19:03:59 2020 -0300

    ZoneStar Z6FB (#18918)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 75ee1eb990..3ad7dfdab3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2089,7 +2089,7 @@
 //#define OLED_PANEL_TINYBOY2
 
 //
-// MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER
+// MKS OLED 1.3" 128√ó64 FULL GRAPHICS CONTROLLER
 // https://reprap.org/wiki/MKS_12864OLED
 //
 // Tiny, but very sharp OLED display
@@ -2097,6 +2097,13 @@
 //#define MKS_12864OLED          // Uses the SH1106 controller (default)
 //#define MKS_12864OLED_SSD1306  // Uses the SSD1306 controller
 
+//
+// Zonestar OLED 128√ó64 FULL GRAPHICS CONTROLLER
+//
+//#define ZONESTAR_12864LCD           // Graphical (DOGM) with ST7920 controller
+//#define ZONESTAR_12864OLED          // 1.3" OLED with SH1106 controller (default)
+//#define ZONESTAR_12864OLED_SSD1306  // 0.96" OLED with SSD1306 controller
+
 //
 // Einstart S OLED SSD1306
 //
@@ -2108,7 +2115,7 @@
 //#define OVERLORD_OLED
 
 //
-// FYSETC OLED 2.42" 128 √ó 64 FULL GRAPHICS CONTROLLER with WS2812 RGB
+// FYSETC OLED 2.42" 128√ó64 FULL GRAPHICS CONTROLLER with WS2812 RGB
 // Where to find : https://www.aliexpress.com/item/4000345255731.html
 //#define FYSETC_242_OLED_12864   // Uses the SSD1309 controller
 

commit 6bcfb58cd4b208cf042fa4a66faf14f382d33d07
Author: Marco Burato <zmaster.adsl@gmail.com>
Date:   Thu Aug 6 12:38:18 2020 +0200

    More Anycubic + Trigorilla mappings, ExtUI (#18903)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 25efa79b7d..75ee1eb990 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2136,6 +2136,16 @@
 //
 //#define TOUCH_UI_FTDI_EVE
 
+//
+// Touch-screen LCD for Anycubic printers
+//
+//#define ANYCUBIC_LCD_I3MEGA
+//#define ANYCUBIC_LCD_CHIRON
+#if EITHER(ANYCUBIC_LCD_I3MEGA, ANYCUBIC_LCD_CHIRON)
+  #define ANYCUBIC_LCD_SERIAL_PORT 3
+  //#define ANYCUBIC_LCD_DEBUG
+#endif
+
 //
 // Third-party or vendor-customized controller interfaces.
 // Sources should be installed in 'src/lcd/extensible_ui'.
@@ -2188,12 +2198,6 @@
 //#define TFT_LVGL_UI_FSMC  // Robin nano v1.2 uses FSMC
 //#define TFT_LVGL_UI_SPI   // Robin nano v2.0 uses SPI
 
-//
-// Anycubic Mega TFT (AI3M)
-//
-//#define ANYCUBIC_TFT_MODEL
-//#define ANYCUBIC_TFT_DEBUG
-
 //=============================================================================
 //============================  Other Controllers  ============================
 //=============================================================================

commit 4856ac50281291790405a0fd35be88d035416b7a
Author: swissnorp <67485708+swissnorp@users.noreply.github.com>
Date:   Tue Aug 4 07:31:45 2020 +0200

    Add Z_AFTER_DEACTIVATE to account for gravity (#18906)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d1f7862bb..25efa79b7d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1076,18 +1076,18 @@
 #define Z_ENABLE_ON 0
 #define E_ENABLE_ON 0 // For all extruders
 
-// Disables axis stepper immediately when it's not being used.
+// Disable axis steppers immediately when they're not being stepped.
 // WARNING: When motors turn off there is a chance of losing position accuracy!
 #define DISABLE_X false
 #define DISABLE_Y false
 #define DISABLE_Z false
 
-// Warn on display about possibly reduced accuracy
+// Turn off the display blinking that warns about possible accuracy reduction
 //#define DISABLE_REDUCED_ACCURACY_WARNING
 
 // @section extruder
 
-#define DISABLE_E false             // For all extruders
+#define DISABLE_E false             // Disable the extruder when not stepping
 #define DISABLE_INACTIVE_EXTRUDER   // Keep only the active extruder enabled
 
 // @section machine

commit 90158f9f679e2d18b10450bca0f3f2966b7756cd
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jul 30 02:27:52 2020 -0500

    Repair config order

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 363ea2f351..9d1f7862bb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2167,16 +2167,16 @@
 //#define TFT_DRIVER AUTO
 
 //
-// FSMC display (MKS Robin, Alfawise U20, JGAurora A5S, REXYZ A1, etc.)
+// SPI display (MKS Robin Nano V2.0, MKS Gen L V2.0)
 // Upscaled 128x64 Marlin UI
 //
-//#define FSMC_GRAPHICAL_TFT
+//#define SPI_GRAPHICAL_TFT
 
 //
-// SPI display (MKS Robin Nano V2.0, MKS Gen L V2.0)
+// FSMC display (MKS Robin, Alfawise U20, JGAurora A5S, REXYZ A1, etc.)
 // Upscaled 128x64 Marlin UI
 //
-//#define SPI_GRAPHICAL_TFT
+//#define FSMC_GRAPHICAL_TFT
 
 //
 // TFT LVGL UI

commit 117df87d193994f6fbcd46c45573095adf921784
Author: Alexander Gavrilenko <jmz52@users.noreply.github.com>
Date:   Thu Jul 30 09:43:19 2020 +0300

    Support for TFT & Touch Screens (#18130)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c6ec607d9b..363ea2f351 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2150,6 +2150,22 @@
 //=============================== Graphical TFTs ==============================
 //=============================================================================
 
+//
+// TFT display with optional touch screen
+// Color Marlin UI with standard menu system
+//
+//#define TFT_320x240
+//#define TFT_320x240_SPI
+//#define TFT_480x320
+//#define TFT_480x320_SPI
+
+//
+// Skip autodetect and force specific TFT driver
+// Mandatory for SPI screens with no MISO line
+// Available drivers are: ST7735, ST7789, ST7796, R61505, ILI9328, ILI9341, ILI9488
+//
+//#define TFT_DRIVER AUTO
+
 //
 // FSMC display (MKS Robin, Alfawise U20, JGAurora A5S, REXYZ A1, etc.)
 // Upscaled 128x64 Marlin UI
@@ -2190,11 +2206,13 @@
 //
 // ADS7843/XPT2046 ADC Touchscreen such as ILI9341 2.8
 //
-//#define TOUCH_BUTTONS
-#if ENABLED(TOUCH_BUTTONS)
+//#define TOUCH_SCREEN
+#if ENABLED(TOUCH_SCREEN)
   #define BUTTON_DELAY_EDIT  50 // (ms) Button repeat delay for edit screens
   #define BUTTON_DELAY_MENU 250 // (ms) Button repeat delay for menus
 
+  #define TOUCH_SCREEN_CALIBRATION
+
   //#define XPT2046_X_CALIBRATION 12316
   //#define XPT2046_Y_CALIBRATION -8981
   //#define XPT2046_X_OFFSET        -43

commit 38ce5966e19094fb499ce7d647961c0594c5f811
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Wed Jul 29 23:25:07 2020 -0300

    SPI Emulated DOGM (like FSMC_GRAPHICAL_TFT, but SPI) (#18817)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1f34c06918..c6ec607d9b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2156,6 +2156,12 @@
 //
 //#define FSMC_GRAPHICAL_TFT
 
+//
+// SPI display (MKS Robin Nano V2.0, MKS Gen L V2.0)
+// Upscaled 128x64 Marlin UI
+//
+//#define SPI_GRAPHICAL_TFT
+
 //
 // TFT LVGL UI
 //
@@ -2189,10 +2195,10 @@
   #define BUTTON_DELAY_EDIT  50 // (ms) Button repeat delay for edit screens
   #define BUTTON_DELAY_MENU 250 // (ms) Button repeat delay for menus
 
-  #define XPT2046_X_CALIBRATION   12316
-  #define XPT2046_Y_CALIBRATION  -8981
-  #define XPT2046_X_OFFSET       -43
-  #define XPT2046_Y_OFFSET        257
+  //#define XPT2046_X_CALIBRATION 12316
+  //#define XPT2046_Y_CALIBRATION -8981
+  //#define XPT2046_X_OFFSET        -43
+  //#define XPT2046_Y_OFFSET        257
 #endif
 
 //

commit 5eae8e78306ac570d94128e05dd3e6563b63c32b
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Jul 29 15:44:05 2020 -0500

    Update keypad link

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bde1e78552..1f34c06918 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2197,7 +2197,7 @@
 
 //
 // RepRapWorld REPRAPWORLD_KEYPAD v1.1
-// https://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+// https://reprapworld.com/products/electronics/ramps/keypad_v1_0_fully_assembled/
 //
 //#define REPRAPWORLD_KEYPAD
 //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // (mm) Distance to move per key-press

commit 05d95171cc4ef51e91c0c0f069d935f8f252dcdc
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Wed Jul 29 21:35:31 2020 +0200

    Clarify Nozzle-to-Probe offset (#18828)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a01571c422..bde1e78552 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -964,24 +964,34 @@
 //
 
 /**
- * Z Probe to nozzle (X,Y) offset, relative to (0, 0).
+ * Nozzle-to-Probe offsets { X, Y, Z }
  *
- * In the following example the X and Y offsets are both positive:
+ * - Use a caliper or ruler to measure the distance from the tip of
+ *   the Nozzle to the center-point of the Probe in the X and Y axes.
+ * - For the Z offset use your best known value and adjust at runtime.
+ * - Probe Offsets can be tuned at runtime with 'M851', LCD menus, babystepping, etc.
  *
- *   #define NOZZLE_TO_PROBE_OFFSET { 10, 10, 0 }
+ * Assuming the typical work area orientation:
+ *  - Probe to RIGHT of the Nozzle has a Positive X offset
+ *  - Probe to LEFT  of the Nozzle has a Negative X offset
+ *  - Probe in BACK  of the Nozzle has a Positive Y offset
+ *  - Probe in FRONT of the Nozzle has a Negative Y offset
+ *
+ * Some examples:
+ *   #define NOZZLE_TO_PROBE_OFFSET { 10, 10, -1 }   // Example "1"
+ *   #define NOZZLE_TO_PROBE_OFFSET {-10,  5, -1 }   // Example "2"
+ *   #define NOZZLE_TO_PROBE_OFFSET {  5, -5, -1 }   // Example "3"
+ *   #define NOZZLE_TO_PROBE_OFFSET {-15,-10, -1 }   // Example "4"
  *
  *     +-- BACK ---+
- *     |           |
- *   L |    (+) P  | R <-- probe (20,20)
- *   E |           | I
- *   F | (-) N (+) | G <-- nozzle (10,10)
- *   T |           | H
- *     |    (-)    | T
- *     |           |
+ *     |    [+]    |
+ *   L |        1  | R <-- Example "1" (right+,  back+)
+ *   E |  2        | I <-- Example "2" ( left-,  back+)
+ *   F |[-]  N  [+]| G <-- Nozzle
+ *   T |       3   | H <-- Example "3" (right+, front-)
+ *     | 4         | T <-- Example "4" ( left-, front-)
+ *     |    [-]    |
  *     O-- FRONT --+
- *   (0,0)
- *
- * Specify a Probe position as { X, Y, Z }
  */
 #define NOZZLE_TO_PROBE_OFFSET { 10, 10, 0 }
 

commit de68b3753faa675bed4c42345633e4085c1c072b
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Jul 26 19:49:14 2020 -0500

    Config for Anycubic Mega TFT

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cf3fb61cb6..a01571c422 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2156,6 +2156,12 @@
 //#define TFT_LVGL_UI_FSMC  // Robin nano v1.2 uses FSMC
 //#define TFT_LVGL_UI_SPI   // Robin nano v2.0 uses SPI
 
+//
+// Anycubic Mega TFT (AI3M)
+//
+//#define ANYCUBIC_TFT_MODEL
+//#define ANYCUBIC_TFT_DEBUG
+
 //=============================================================================
 //============================  Other Controllers  ============================
 //=============================================================================

commit b9f0c06d834c1c4e1745f90b6b2b25f421caaf53
Author: ellensp <ellensp@hotmail.com>
Date:   Mon Jul 27 08:41:50 2020 +1200

    Add 0 to EXTRUDERS :[json] (#18786)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 60f7ed159c..cf3fb61cb6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -141,7 +141,7 @@
 // @section extruder
 
 // This defines the number of extruders
-// :[1, 2, 3, 4, 5, 6, 7, 8]
+// :[0, 1, 2, 3, 4, 5, 6, 7, 8]
 #define EXTRUDERS 1
 
 // Generally expected filament diameter (1.75, 2.85, 3.0, ...). Used for Volumetric, Filament Width Sensor, etc.

commit bc688f27dc6db76021da584bc529f29ddb6f6cce
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Jul 25 01:53:07 2020 -0500

    Clean up after changes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f2524cadb1..60f7ed159c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2142,6 +2142,7 @@
 
 //
 // FSMC display (MKS Robin, Alfawise U20, JGAurora A5S, REXYZ A1, etc.)
+// Upscaled 128x64 Marlin UI
 //
 //#define FSMC_GRAPHICAL_TFT
 
@@ -2149,17 +2150,11 @@
 // TFT LVGL UI
 //
 // Using default MKS icons and fonts from: https://git.io/JJvzK
-// Just copy the `assets` folder from the build directory to the
+// Just copy the 'assets' folder from the build directory to the
 // root of your SD card, together with the compiled firmware.
 //
-// Robin nano v1.2 uses FSMC
-//
-//#define TFT_LVGL_UI_FSMC
-
-// Robin nano v2.0 uses SPI
-//
-//#define TFT_LVGL_UI_SPI
-
+//#define TFT_LVGL_UI_FSMC  // Robin nano v1.2 uses FSMC
+//#define TFT_LVGL_UI_SPI   // Robin nano v2.0 uses SPI
 
 //=============================================================================
 //============================  Other Controllers  ============================

commit d20d4591321aa467c062f0050355d2aca84e03ad
Author: MKS-Sean <56996910+MKS-Sean@users.noreply.github.com>
Date:   Sat Jul 25 13:52:07 2020 +0800

    Robin nano V2, TFT LVGL UI parameters, and more (#18500)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c11b02bc52..f2524cadb1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -135,7 +135,7 @@
 //#define CUSTOM_MACHINE_NAME "3D Printer"
 
 // Printer's unique ID, used by some programs to differentiate between machines.
-// Choose your own or use a service like http://www.uuidgenerator.net/version4
+// Choose your own or use a service like https://www.uuidgenerator.net/version4
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
 // @section extruder
@@ -2148,20 +2148,23 @@
 //
 // TFT LVGL UI
 //
-// Default MKS icons and fonts: https://git.io/JJvzK
-// Copy mks_pic and mks_font folders to the root of your SD
+// Using default MKS icons and fonts from: https://git.io/JJvzK
+// Just copy the `assets` folder from the build directory to the
+// root of your SD card, together with the compiled firmware.
 //
-//#define TFT_LVGL_UI
+// Robin nano v1.2 uses FSMC
+//
+//#define TFT_LVGL_UI_FSMC
+
+// Robin nano v2.0 uses SPI
+//
+//#define TFT_LVGL_UI_SPI
+
 
 //=============================================================================
 //============================  Other Controllers  ============================
 //=============================================================================
 
-//
-// Robin nano v2.0 SPI touch screen
-//
-//#define SPI_GRAPHICAL_TFT
-
 //
 // Ender-3 v2 OEM display. A DWIN display with Rotary Encoder.
 //

commit d1e20eb29f15c0dc4faa21769251709c455d18b8
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jul 23 20:46:11 2020 -0500

    Update links, README, contributing, etc.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7804452561..c11b02bc52 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -473,7 +473,7 @@
 //===========================================================================
 //============================= PID Settings ================================
 //===========================================================================
-// PID Tuning Guide here: http://reprap.org/wiki/PID_Tuning
+// PID Tuning Guide here: https://reprap.org/wiki/PID_Tuning
 
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP

commit 42fbd527f3bcc317ae6851aca5a45bdbf979de55
Author: Diego von Deschwanden <68632259+Diegovd@users.noreply.github.com>
Date:   Thu Jul 23 05:20:14 2020 +0200

    Fix links to secure sites (#18745)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fccdf9ced3..7804452561 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -16,7 +16,7 @@
  * GNU General Public License for more details.
  *
  * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ * along with this program.  If not, see <https://www.gnu.org/licenses/>.
  *
  */
 #pragma once
@@ -45,13 +45,13 @@
 /**
  * Here are some standard links for getting your machine calibrated:
  *
- * http://reprap.org/wiki/Calibration
- * http://youtu.be/wAL9d7FgInk
+ * https://reprap.org/wiki/Calibration
+ * https://youtu.be/wAL9d7FgInk
  * http://calculator.josefprusa.cz
- * http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
- * http://www.thingiverse.com/thing:5573
+ * https://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
+ * https://www.thingiverse.com/thing:5573
  * https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
- * http://www.thingiverse.com/thing:298812
+ * https://www.thingiverse.com/thing:298812
  */
 
 //===========================================================================
@@ -815,7 +815,7 @@
  *
  * See:
  *   https://reprap.org/forum/read.php?1,739819
- *   http://blog.kyneticcnc.com/2018/10/computing-junction-deviation-for-marlin.html
+ *   https://blog.kyneticcnc.com/2018/10/computing-junction-deviation-for-marlin.html
  */
 #if DISABLED(CLASSIC_JERK)
   #define JUNCTION_DEVIATION_MM 0.013 // (mm) Distance from real junction edge
@@ -1795,7 +1795,7 @@
 
 //
 // RepRapDiscount Smart Controller.
-// http://reprap.org/wiki/RepRapDiscount_Smart_Controller
+// https://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //
 // Note: Usually sold with a white PCB.
 //
@@ -1819,13 +1819,13 @@
 
 //
 // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
-// http://reprap.org/wiki/PanelOne
+// https://reprap.org/wiki/PanelOne
 //
 //#define PANEL_ONE
 
 //
 // GADGETS3D G3D LCD/SD Controller
-// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+// https://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //
 // Note: Usually sold with a blue PCB.
 //
@@ -1912,7 +1912,7 @@
 
 //
 // 2-wire Non-latching LCD SR from https://goo.gl/aJJ4sH
-// LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
+// LCD configuration: https://reprap.org/wiki/SAV_3D_LCD
 //
 //#define SAV_3DLCD
 
@@ -1939,7 +1939,7 @@
 
 //
 // RepRapDiscount FULL GRAPHIC Smart Controller
-// http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
+// https://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
@@ -1952,20 +1952,20 @@
 //
 // Activate one of these if you have a Panucatt Devices
 // Viki 2.0 or mini Viki with Graphic LCD
-// http://panucatt.com
+// https://www.panucatt.com
 //
 //#define VIKI2
 //#define miniVIKI
 
 //
 // MakerLab Mini Panel with graphic
-// controller and SD support - http://reprap.org/wiki/Mini_panel
+// controller and SD support - https://reprap.org/wiki/Mini_panel
 //
 //#define MINIPANEL
 
 //
 // MaKr3d Makr-Panel with graphic controller and SD support.
-// http://reprap.org/wiki/MaKr3d_MaKrPanel
+// https://reprap.org/wiki/MaKr3d_MaKrPanel
 //
 //#define MAKRPANEL
 
@@ -2051,7 +2051,7 @@
 
 //
 // Silvergate GLCD controller
-// http://github.com/android444/Silvergate
+// https://github.com/android444/Silvergate
 //
 //#define SILVER_GATE_GLCD_CONTROLLER
 
@@ -2080,7 +2080,7 @@
 
 //
 // MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER
-// http://reprap.org/wiki/MKS_12864OLED
+// https://reprap.org/wiki/MKS_12864OLED
 //
 // Tiny, but very sharp OLED display
 //
@@ -2183,7 +2183,7 @@
 
 //
 // RepRapWorld REPRAPWORLD_KEYPAD v1.1
-// http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+// https://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
 //
 //#define REPRAPWORLD_KEYPAD
 //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // (mm) Distance to move per key-press

commit b4b19aef7f61c6dffa5ae51d76b5508296ac703b
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Wed Jul 22 02:42:44 2020 -0400

    Custom Nozzle Wipe (#18736)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index af98be4d1b..fccdf9ced3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1595,6 +1595,10 @@
 
   // Enable for a purge/clean station that's always at the gantry height (thus no Z move)
   //#define NOZZLE_CLEAN_NO_Z
+
+  // Explicit wipe G-code script applies to a G12 with no arguments.
+  //#define WIPE_SEQUENCE_COMMANDS "G1 X-17 Y25 Z10 F4000\nG1 Z1\nM114\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 X-17 Y25\nG1 X-17 Y95\nG1 Z15\nM400\nG0 X-10.0 Y-9.0"
+
 #endif
 
 /**

commit 2c238e4fc2f18da08d7cb171bb7236beccdd6f83
Author: Speaka <48431623+Speaka@users.noreply.github.com>
Date:   Sun Jul 12 20:16:56 2020 +0200

    Option for extra endstop check (#18424)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1148458616..af98be4d1b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -719,6 +719,9 @@
  */
 //#define ENDSTOP_NOISE_THRESHOLD 2
 
+// Check for stuck or disconnected endstops during homing moves.
+//#define DETECT_BROKEN_ENDSTOP
+
 //=============================================================================
 //============================== Movement Settings ============================
 //=============================================================================

commit b6051efe5b13052aa7654269c8bf8c4f5fed03d5
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Jul 10 01:27:10 2020 -0500

    Capitalize "G-code"

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2d50a9f8b2..1148458616 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2213,7 +2213,7 @@
 // then the BLUE led is on. Otherwise the RED led is on. (1C hysteresis)
 //#define TEMP_STAT_LEDS
 
-// SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
+// SkeinForge sends the wrong arc G-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX
 
 // Support for the BariCUDA Paste Extruder

commit 95c2cc3966f1c1f1cbaeb5085a4f501a07572700
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Thu Jul 9 08:43:59 2020 +0200

    Remove outdated comment (#18597)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0cef8928fd..2d50a9f8b2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1162,7 +1162,6 @@
  *
  * RAMPS-based boards use SERVO3_PIN for the first runout sensor.
  * For other boards you may need to define FIL_RUNOUT_PIN, FIL_RUNOUT2_PIN, etc.
- * By default the firmware assumes HIGH=FILAMENT PRESENT.
  */
 //#define FILAMENT_RUNOUT_SENSOR
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)

commit 8a55f9405c12b02263df4377e3ad4fa26d4404c7
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Jul 8 06:33:41 2020 -0500

    Fix some comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ffa31a8d72..0cef8928fd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1376,14 +1376,14 @@
 //
 // - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
 // - If stepper drivers time out, it will need X and Y homing again before Z homing.
-// - Move the Z probe (or nozzle) to a defined XY point before Z Homing when homing all axes (G28).
+// - Move the Z probe (or nozzle) to a defined XY point before Z Homing.
 // - Prevent Z homing when the Z probe is outside bed area.
 //
 //#define Z_SAFE_HOMING
 
 #if ENABLED(Z_SAFE_HOMING)
-  #define Z_SAFE_HOMING_X_POINT X_CENTER  // X point for Z homing when homing all axes (G28).
-  #define Z_SAFE_HOMING_Y_POINT Y_CENTER  // Y point for Z homing when homing all axes (G28).
+  #define Z_SAFE_HOMING_X_POINT X_CENTER  // X point for Z homing
+  #define Z_SAFE_HOMING_Y_POINT Y_CENTER  // Y point for Z homing
 #endif
 
 // Homing speeds (mm/m)

commit c02451b602d6ee24d09f4f41269c85c0972a2279
Author: Robby Candra <robbycandra.mail@gmail.com>
Date:   Mon Jul 6 05:42:19 2020 +0700

    Filament Runout Inverting => State (#18537)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 68039e7cab..ffa31a8d72 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1167,7 +1167,7 @@
 //#define FILAMENT_RUNOUT_SENSOR
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
   #define NUM_RUNOUT_SENSORS   1     // Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.
-  #define FIL_RUNOUT_INVERTING false // Set to true to invert the logic of the sensor.
+  #define FIL_RUNOUT_STATE     LOW   // Pin state indicating that filament is NOT present.
   #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
   //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.
 

commit 097347b5756dbbe54a4463d07e0c8cf3db792123
Author: George Fu <nailao_5918@163.com>
Date:   Fri Jul 3 09:33:52 2020 +0800

    Add FYSETC 2.42 inch OLED support (#18485)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ac32add6b9..68039e7cab 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2091,6 +2091,11 @@
 //
 //#define OVERLORD_OLED
 
+//
+// FYSETC OLED 2.42" 128 √ó 64 FULL GRAPHICS CONTROLLER with WS2812 RGB
+// Where to find : https://www.aliexpress.com/item/4000345255731.html
+//#define FYSETC_242_OLED_12864   // Uses the SSD1309 controller
+
 //=============================================================================
 //========================== Extensible UI Displays ===========================
 //=============================================================================

commit e5bc9d31cc87be5c7ef2bd3cd70c2599f76d2bd7
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Wed Jul 1 03:30:24 2020 -0300

    Add TFT_LVGL_UI support (#18438)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6daedf8156..ac32add6b9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2135,9 +2135,12 @@
 //#define FSMC_GRAPHICAL_TFT
 
 //
-// TFT Little VGL UI
+// TFT LVGL UI
 //
-//#define TFT_LITTLE_VGL_UI
+// Default MKS icons and fonts: https://git.io/JJvzK
+// Copy mks_pic and mks_font folders to the root of your SD
+//
+//#define TFT_LVGL_UI
 
 //=============================================================================
 //============================  Other Controllers  ============================

commit 59e4de8a55abc7eb0fd0b8c3c753e22c9aee0fb1
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Jun 27 22:59:44 2020 -0500

    Add Romanian language (#18455)
    
    Co-authored-by: cristyanul <47246451+cristyanul@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 04e4461db3..6daedf8156 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1638,9 +1638,9 @@
  * Select the language to display on the LCD. These languages are available:
  *
  *   en, an, bg, ca, cz, da, de, el, el_gr, es, eu, fi, fr, gl, hr, hu, it,
- *   jp_kana, ko_KR, nl, pl, pt, pt_br, ru, sk, tr, uk, vi, zh_CN, zh_TW, test
+ *   jp_kana, ko_KR, nl, pl, pt, pt_br, ro ru, sk, tr, uk, vi, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'hu':'Hungarian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'hu':'Hungarian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ro':'Romanian', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit 3b80690a71c0a97f75efb1721fc007ef5a018c1c
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sat Jun 27 23:02:28 2020 -0400

    ExtUI additions (#18447)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7c8222f014..04e4461db3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2121,6 +2121,10 @@
 //
 //#define EXTENSIBLE_UI
 
+#if ENABLED(EXTENSIBLE_UI)
+  //#define EXTUI_LOCAL_BEEPER // Enables use of local Beeper pin with external display
+#endif
+
 //=============================================================================
 //=============================== Graphical TFTs ==============================
 //=============================================================================

commit 2139141f99d94cfaa4bf5ec06605542a2601e9ee
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Jun 22 21:32:42 2020 -0500

    Graphical LCD note

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9109e723d0..7c8222f014 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1928,6 +1928,8 @@
 // IMPORTANT: The U8glib library is required for Graphical Display!
 //            https://github.com/olikraus/U8glib_Arduino
 //
+// NOTE: If the LCD is unresponsive you may need to reverse the plugs.
+//
 
 //
 // RepRapDiscount FULL GRAPHIC Smart Controller

commit caeba33d28b420acb868599914abab3d2fd7cd49
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Jun 16 14:08:51 2020 -0500

    Sensor 502 and PTC cleanup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6352f9e6ef..9109e723d0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -373,6 +373,7 @@
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
  *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan, J-Head, and E3D) (4.7k pullup)
  *   501 : 100K Zonestar (Tronxy X3A) Thermistor
+ *   502 : 100K Zonestar Thermistor used by hot bed in Zonestar Prusa P802M
  *   512 : 100k RPW-Ultra hotend thermistor (4.7k pullup)
  *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)

commit 2603a237f9553fe55262e4612a7a78fb98f030a4
Author: thisiskeithb <13375512+thisiskeithb@users.noreply.github.com>
Date:   Tue Jun 16 00:43:09 2020 -0700

    Add MKS LCD12864 A/B Controller Support (#18120)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f3ed3cb91f..6352f9e6ef 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1995,6 +1995,12 @@
 //
 //#define MKS_MINI_12864
 
+//
+// MKS LCD12864A/B with graphic controller and SD support. Follows MKS_MINI_12864 pinout.
+// https://www.aliexpress.com/item/33018110072.html
+//
+//#define MKS_LCD12864
+
 //
 // FYSETC variant of the MINI12864 graphic controller with SD support
 // https://wiki.fysetc.com/Mini12864_Panel/

commit f4c258dc2355fee871bec6e11095c7c4777b160d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Jun 16 01:45:27 2020 -0500

    Creality Ender 3 v2 (#17719)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c907cc0a52..f3ed3cb91f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -904,6 +904,11 @@
  */
 //#define BLTOUCH
 
+/**
+ * Pressure sensor with a BLTouch-like interface
+ */
+//#define CREALITY_TOUCH
+
 /**
  * Touch-MI Probe by hotends.fr
  *
@@ -2130,6 +2135,11 @@
 //
 //#define SPI_GRAPHICAL_TFT
 
+//
+// Ender-3 v2 OEM display. A DWIN display with Rotary Encoder.
+//
+//#define DWIN_CREALITY_LCD
+
 //
 // ADS7843/XPT2046 ADC Touchscreen such as ILI9341 2.8
 //

commit 642112d3eb7c1af9a52feec8134c85ed3e34891c
Author: makerbase <4164049@qq.com>
Date:   Tue Jun 16 10:05:33 2020 +0800

    Add MKS UI (TFT_LITTLE_VGL_UI) (#18071)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2a4e958d9b..c907cc0a52 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2116,10 +2116,20 @@
 //
 //#define FSMC_GRAPHICAL_TFT
 
+//
+// TFT Little VGL UI
+//
+//#define TFT_LITTLE_VGL_UI
+
 //=============================================================================
 //============================  Other Controllers  ============================
 //=============================================================================
 
+//
+// Robin nano v2.0 SPI touch screen
+//
+//#define SPI_GRAPHICAL_TFT
+
 //
 // ADS7843/XPT2046 ADC Touchscreen such as ILI9341 2.8
 //

commit a4b46eaf8f45ef9f8c212b9f17692682cae08aaa
Author: XDA-Bam <1209896+XDA-Bam@users.noreply.github.com>
Date:   Tue Jun 16 01:54:00 2020 +0200

    Add JD_HANDLE_SMALL_SEGMENTS option (#18316)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6aac20dd1e..2a4e958d9b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -815,6 +815,8 @@
  */
 #if DISABLED(CLASSIC_JERK)
   #define JUNCTION_DEVIATION_MM 0.013 // (mm) Distance from real junction edge
+  #define JD_HANDLE_SMALL_SEGMENTS    // Use curvature estimation instead of just the junction angle
+                                      // for small segments (< 1mm) with large junction angles (> 135¬∞).
 #endif
 
 /**

commit 75119c433af0a66236de07ef1c20548ea672104c
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Jun 9 23:20:20 2020 -0500

    Default filament 1.75mm

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index da61c00c16..6aac20dd1e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -145,7 +145,7 @@
 #define EXTRUDERS 1
 
 // Generally expected filament diameter (1.75, 2.85, 3.0, ...). Used for Volumetric, Filament Width Sensor, etc.
-#define DEFAULT_NOMINAL_FILAMENT_DIA 3.0
+#define DEFAULT_NOMINAL_FILAMENT_DIA 1.75
 
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE

commit ce62209bce9a1bd64cda1e72d5982a4ff0b593a2
Author: ellensp <ellensp@hotmail.com>
Date:   Wed Jun 3 13:41:50 2020 +1200

    Probe margin. Bump config version (#18140)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cb5ae06617..da61c00c16 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -36,7 +36,7 @@
  * Advanced settings can be found in Configuration_adv.h
  *
  */
-#define CONFIGURATION_H_VERSION 020005
+#define CONFIGURATION_H_VERSION 020006
 
 //===========================================================================
 //============================= Getting Started =============================
@@ -976,7 +976,7 @@
 
 // Most probes should stay away from the edges of the bed, but
 // with NOZZLE_AS_PROBE this can be negative for a wider probing area.
-#define MIN_PROBE_EDGE 10
+#define PROBING_MARGIN 10
 
 // X and Y axis travel speed (mm/m) between probes
 #define XY_PROBE_SPEED 8000

commit bce952770992bb9e1dbb7f943d67d9839e32b1a0
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon May 18 22:52:13 2020 -0500

    Whitespace

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 25f359c13c..cb5ae06617 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -559,7 +559,7 @@
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
-#endif 
+#endif
 
 // @section extruder
 

commit 94063e3a873d3e3644d1c363cd4d6eec82de649f
Author: Jason Smith <jason.inet@gmail.com>
Date:   Mon May 18 11:51:32 2020 -0700

    Fix PID + Thermal Protection combos (#18023)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 777f9a534b..25f359c13c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -479,16 +479,12 @@
 #define BANG_MAX 255     // Limits current to nozzle while in bang-bang mode; 255=full current
 #define PID_MAX BANG_MAX // Limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #define PID_K1 0.95      // Smoothing factor within any PID loop
+
 #if ENABLED(PIDTEMP)
   //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
   //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
-  //#define PID_DEBUG             // Sends debug data to the serial port. Use 'M303 D' to toggle activation.
-  //#define PID_OPENLOOP 1        // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
-  //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
-  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
-                                  // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
 
   // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
 
@@ -557,6 +553,14 @@
   // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 #endif // PIDTEMPBED
 
+#if EITHER(PIDTEMP, PIDTEMPBED)
+  //#define PID_DEBUG             // Sends debug data to the serial port. Use 'M303 D' to toggle activation.
+  //#define PID_OPENLOOP          // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
+  //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
+  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
+                                  // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
+#endif 
+
 // @section extruder
 
 /**

commit e6079bd14e3c8b68ff471fbe19cc3ee7a8d2f0d8
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon May 11 20:16:48 2020 -0500

    Correct endstop noise comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1da43df24c..777f9a534b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -706,7 +706,7 @@
  * Enable if your probe or endstops falsely trigger due to noise.
  *
  * - Higher values may affect repeatability or accuracy of some bed probes.
- * - To fix noise install a 100nF ceramic capacitor inline with the switch.
+ * - To fix noise install a 100nF ceramic capacitor in parallel with the switch.
  * - This feature is not required for common micro-switches mounted on PCBs
  *   based on the Makerbot design, which already have the 100nF capacitor.
  *

commit 34a2fd7b09f524ea124492bd465dcd62a3b3d16f
Author: George Fu <nailao_5918@163.com>
Date:   Fri May 8 14:24:27 2020 +0800

    DGUS minor fixups (#17901)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index de61230a6f..1da43df24c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2077,6 +2077,8 @@
 
 //
 // DGUS Touch Display with DWIN OS. (Choose one.)
+// ORIGIN : https://www.aliexpress.com/item/32993409517.html
+// FYSETC : https://www.aliexpress.com/item/32961471929.html
 //
 //#define DGUS_LCD_UI_ORIGIN
 //#define DGUS_LCD_UI_FYSETC

commit 7613383e7b5d3c71ad18e4ee9823d353403d01c2
Author: Axel <ansepulveda@uc.cl>
Date:   Sat May 2 19:45:54 2020 -0400

    Add Rostock 301 thermistors (22, 23) (#17806)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9564cad8a4..de61230a6f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -387,6 +387,8 @@
  *    18 : ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327
  *    20 : Pt100 with circuit in the Ultimainboard V2.x with 5v excitation (AVR)
  *    21 : Pt100 with circuit in the Ultimainboard V2.x with 3.3v excitation (STM32 \ LPC176x....)
+ *    22 : 100k (hotend) with 4.7k pullup to 3.3V and 220R to analog input (as in GTM32 Pro vB)
+ *    23 : 100k (bed) with 4.7k pullup to 3.3v and 220R to analog input (as in GTM32 Pro vB)
  *   201 : Pt100 with circuit in Overlord, similar to Ultimainboard V2.x
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    61 : 100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup

commit e7a6a52eda99a0575584ca2b1f83f8e38db0142c
Author: Stephan <veigl@gmx.net>
Date:   Wed Apr 29 01:12:56 2020 +0200

    Use center defines for Z Safe Homing XY (#17782)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 38c4ae4c94..9564cad8a4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1368,8 +1368,8 @@
 //#define Z_SAFE_HOMING
 
 #if ENABLED(Z_SAFE_HOMING)
-  #define Z_SAFE_HOMING_X_POINT ((X_BED_SIZE) / 2)    // X point for Z homing when homing all axes (G28).
-  #define Z_SAFE_HOMING_Y_POINT ((Y_BED_SIZE) / 2)    // Y point for Z homing when homing all axes (G28).
+  #define Z_SAFE_HOMING_X_POINT X_CENTER  // X point for Z homing when homing all axes (G28).
+  #define Z_SAFE_HOMING_Y_POINT Y_CENTER  // Y point for Z homing when homing all axes (G28).
 #endif
 
 // Homing speeds (mm/m)

commit 89b17b54637200838e52ae39a9e4b23f3c2f8d35
Author: studiodyne <42887851+studiodyne@users.noreply.github.com>
Date:   Tue Apr 28 07:21:23 2020 +0200

    Followup fixes for singlenozzle, etc. (#17712)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a69cecf4a0..38c4ae4c94 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -150,6 +150,13 @@
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
 
+// Save and restore temperature and fan speed on tool-change.
+// Set standby for the unselected tool with M104/106/109 T...
+#if ENABLED(SINGLENOZZLE)
+  //#define SINGLENOZZLE_STANDBY_TEMP
+  //#define SINGLENOZZLE_STANDBY_FAN
+#endif
+
 /**
  * Pr≈Ø≈°a MK2 Single Nozzle Multi-Material Multiplexer, and variants.
  *

commit 58ac9f257cb73a0607e3821591f3dfea75670d27
Author: studiodyne <42887851+studiodyne@users.noreply.github.com>
Date:   Sat Apr 25 17:42:34 2020 +0200

    NOZZLE_PARK_FEATURE - X/Y only axis move (#17697)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dc02515273..a69cecf4a0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1501,6 +1501,8 @@
 #if ENABLED(NOZZLE_PARK_FEATURE)
   // Specify a park position as { X, Y, Z_raise }
   #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
+  //#define NOZZLE_PARK_X_ONLY          // X move only is required to park
+  //#define NOZZLE_PARK_Y_ONLY          // Y move only is required to park
   #define NOZZLE_PARK_Z_RAISE_MIN   2   // (mm) Always raise Z by at least this distance
   #define NOZZLE_PARK_XY_FEEDRATE 100   // (mm/s) X and Y axes feedrate (also used for delta Z axis)
   #define NOZZLE_PARK_Z_FEEDRATE    5   // (mm/s) Z axis feedrate (not used for delta printers)

commit d2a5d51f69ff35961d65577f4855e63d123381fd
Author: Ond≈ôej Nov√Ω <ondrej.novy@firma.seznam.cz>
Date:   Sat Apr 25 05:39:08 2020 +0200

    Add NOZZLE_PARK_Z_RAISE_MIN (#17624)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2804d8ffef..dc02515273 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1501,8 +1501,9 @@
 #if ENABLED(NOZZLE_PARK_FEATURE)
   // Specify a park position as { X, Y, Z_raise }
   #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
+  #define NOZZLE_PARK_Z_RAISE_MIN   2   // (mm) Always raise Z by at least this distance
   #define NOZZLE_PARK_XY_FEEDRATE 100   // (mm/s) X and Y axes feedrate (also used for delta Z axis)
-  #define NOZZLE_PARK_Z_FEEDRATE 5      // (mm/s) Z axis feedrate (not used for delta printers)
+  #define NOZZLE_PARK_Z_FEEDRATE    5   // (mm/s) Z axis feedrate (not used for delta printers)
 #endif
 
 /**

commit e11a806460d59ebf11b7ff75864ad4742222d975
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Apr 23 22:35:54 2020 -0500

    Revert config replace

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 998d5ebea4..2804d8ffef 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -800,7 +800,7 @@
  *   https://reprap.org/forum/read.php?1,739819
  *   http://blog.kyneticcnc.com/2018/10/computing-junction-deviation-for-marlin.html
  */
-#if HAS_JUNCTION_DEVIATION
+#if DISABLED(CLASSIC_JERK)
   #define JUNCTION_DEVIATION_MM 0.013 // (mm) Distance from real junction edge
 #endif
 

commit 55d66fb8971d9e5dbfb15e7ae5c952839b488f59
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Apr 23 20:49:11 2020 -0500

    Add HAS_JUNCTION_DEVIATION

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2804d8ffef..998d5ebea4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -800,7 +800,7 @@
  *   https://reprap.org/forum/read.php?1,739819
  *   http://blog.kyneticcnc.com/2018/10/computing-junction-deviation-for-marlin.html
  */
-#if DISABLED(CLASSIC_JERK)
+#if HAS_JUNCTION_DEVIATION
   #define JUNCTION_DEVIATION_MM 0.013 // (mm) Distance from real junction edge
 #endif
 

commit 5d0deba938eaaa47c2fc27fdb296499698006f87
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Apr 19 23:37:05 2020 -0500

    Longer default power-up delay
    
    See MarlinFirmware/Configurations#78

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0b3d580530..2804d8ffef 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -326,7 +326,7 @@
   #define PSU_ACTIVE_HIGH false     // Set 'false' for ATX, 'true' for X-Box
 
   //#define PSU_DEFAULT_OFF         // Keep power off until enabled directly with M80
-  //#define PSU_POWERUP_DELAY 100   // (ms) Delay for the PSU to warm up to full power
+  //#define PSU_POWERUP_DELAY 250   // (ms) Delay for the PSU to warm up to full power
 
   //#define AUTO_POWER_CONTROL      // Enable automatic control of the PS_ON pin
   #if ENABLED(AUTO_POWER_CONTROL)

commit 360e07c90f8149cc4ff6d91082d9080ea8f3f474
Author: djessup <djessup@users.noreply.github.com>
Date:   Sat Apr 18 00:02:21 2020 +1000

    Add USE_PROBE_FOR_Z_HOMING option (#17359)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 09942ace0e..0b3d580530 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -824,12 +824,15 @@
 //
 
 /**
- * Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
- *
- * Enable this option for a probe connected to the Z Min endstop pin.
+ * Enable this option for a probe connected to the Z-MIN pin.
+ * The probe replaces the Z-MIN endstop and is used for Z homing.
+ * (Automatically enables USE_PROBE_FOR_Z_HOMING.)
  */
 #define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
 
+// Force the use of the probe for Z-axis homing
+//#define USE_PROBE_FOR_Z_HOMING
+
 /**
  * Z_MIN_PROBE_PIN
  *
@@ -1335,7 +1338,6 @@
  */
 //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
 
-
 // @section homing
 
 // The center of the bed is at (X=0, Y=0)

commit 3fcb36d8dc82a6c50e329d559184e108a2ae1da9
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Apr 17 03:43:48 2020 -0500

    M200/M300 LCD comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1e07ac49dc..09942ace0e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2069,7 +2069,7 @@
 //#define DGUS_LCD_UI_HIPRECY
 
 //
-// Touch-screen LCD for Malyan M200 printers
+// Touch-screen LCD for Malyan M200/M300 printers
 //
 //#define MALYAN_LCD
 

commit 78a50795584948a3a17c044dda944072d0586ea9
Author: Zs.Antal <45710979+AntoszHUN@users.noreply.github.com>
Date:   Thu Apr 16 11:11:42 2020 +0200

    Add Hungarian language (#17491)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a4a91078ef..1e07ac49dc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1611,10 +1611,10 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *   en, an, bg, ca, cz, da, de, el, el_gr, es, eu, fi, fr, gl, hr, it, jp_kana,
- *   ko_KR, nl, pl, pt, pt_br, ru, sk, tr, uk, vi, zh_CN, zh_TW, test
+ *   en, an, bg, ca, cz, da, de, el, el_gr, es, eu, fi, fr, gl, hr, hu, it,
+ *   jp_kana, ko_KR, nl, pl, pt, pt_br, ru, sk, tr, uk, vi, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'hu':'Hungarian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit 089a0af119e81d270435d9ac25c6f6201862d6d3
Author: thisiskeithb <13375512+thisiskeithb@users.noreply.github.com>
Date:   Wed Apr 15 22:04:53 2020 -0700

    More info on E3D, Keenovo, and Wanhao thermistors (#17561)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b0a0f8ebb8..a4a91078ef 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -364,7 +364,7 @@
  *   202 : 200k thermistor - Copymaster 3D
  *     3 : Mendel-parts thermistor (4.7k pullup)
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
- *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan & J-Head) (4.7k pullup)
+ *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan, J-Head, and E3D) (4.7k pullup)
  *   501 : 100K Zonestar (Tronxy X3A) Thermistor
  *   512 : 100k RPW-Ultra hotend thermistor (4.7k pullup)
  *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
@@ -373,7 +373,7 @@
  *     8 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
  *     9 : 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  *    10 : 100k RS thermistor 198-961 (4.7k pullup)
- *    11 : 100k beta 3950 1% thermistor (4.7k pullup)
+ *    11 : 100k beta 3950 1% thermistor (Used in Keenovo AC silicone mats and most Wanhao i3 machines) (4.7k pullup)
  *    12 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
  *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  *    15 : 100k thermistor calibration for JGAurora A5 hotend
@@ -395,7 +395,7 @@
  *    52 : 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  *    55 : 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
  *
- *  1047 : Pt1000 with 4k7 pullup
+ *  1047 : Pt1000 with 4k7 pullup (E3D)
  *  1010 : Pt1000 with 1k pullup (non standard)
  *   147 : Pt100 with 4k7 pullup
  *   110 : Pt100 with 1k pullup (non standard)

commit e3321920f3bab800812ed0d2395fb00fe80072fb
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Apr 12 17:21:02 2020 -0500

    Update Marlin website links to https

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 175a5fbef3..b0a0f8ebb8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -820,7 +820,7 @@
 // @section probes
 
 //
-// See http://marlinfw.org/docs/configuration/probes.html
+// See https://marlinfw.org/docs/configuration/probes.html
 //
 
 /**
@@ -1636,7 +1636,7 @@
  *  - Click the controller to view the LCD menu
  *  - The LCD will display Japanese, Western, or Cyrillic text
  *
- * See http://marlinfw.org/docs/development/lcd_language.html
+ * See https://marlinfw.org/docs/development/lcd_language.html
  *
  * :['JAPANESE', 'WESTERN', 'CYRILLIC']
  */

commit 293a0997c9a7a84de37018581c1ccc6ef454c298
Author: grauerfuchs <42082416+grauerfuchs@users.noreply.github.com>
Date:   Wed Apr 8 13:53:28 2020 -0400

    Fix / optimize PCA9533 LED (Mightyboard) (#17381)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f02e69ee5a..175a5fbef3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2164,7 +2164,6 @@
 //#define PCA9632
 
 // Support for PCA9533 PWM LED driver
-// https://github.com/mikeshub/SailfishRGB_LED
 //#define PCA9533
 
 /**

commit f2ed18d150a070b5542b6113c8bea6e62a31ab02
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Mar 25 15:07:58 2020 -0500

    M303 followup
    
    - Put 'D' before other params for clean exit.
    - Use serial on/off for debug status.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 77c077ed42..f02e69ee5a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -473,7 +473,7 @@
 #if ENABLED(PIDTEMP)
   //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
   //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
-  //#define PID_DEBUG             // Sends debug data to the serial port.  Use M303 D to toggle activation.
+  //#define PID_DEBUG             // Sends debug data to the serial port. Use 'M303 D' to toggle activation.
   //#define PID_OPENLOOP 1        // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)

commit 1986e1cdf851579958dc1fb245486cb2099582dc
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Tue Mar 24 19:38:09 2020 -0500

    Allow PID_DEBUG to be turned on and off (#17284)
    
    M303 D will now toggle activation of PID_DEBUG output.   This allows the debug capability to be built into the firmware, but turned on and off as needed.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index df99f8b676..77c077ed42 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -473,7 +473,7 @@
 #if ENABLED(PIDTEMP)
   //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
   //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
-  //#define PID_DEBUG             // Sends debug data to the serial port.
+  //#define PID_DEBUG             // Sends debug data to the serial port.  Use M303 D to toggle activation.
   //#define PID_OPENLOOP 1        // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)

commit e7a9f173718198b6196de0ee7f1b9d4aab84ecd2
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Mar 21 23:38:44 2020 -0500

    Tweak serial port descriptions

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 007b8fc5df..df99f8b676 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -99,6 +99,7 @@
 /**
  * Select the serial port on the board to use for communication with the host.
  * This allows the connection of wireless adapters (for instance) to non-default port pins.
+ * Serial port -1 is the USB emulated serial port, if available.
  * Note: The first serial port (-1 or 0) will always be used by the Arduino bootloader.
  *
  * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
@@ -107,9 +108,6 @@
 
 /**
  * Select a secondary serial port on the board to use for communication with the host.
- * This allows the connection of wireless adapters (for instance) to non-default port pins.
- * Serial port -1 is the USB emulated serial port, if available.
- *
  * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
 //#define SERIAL_PORT_2 -1

commit c768605bde89d636cd021e953f0ee4e5d3ed025b
Author: RasmusAaen <rasmus@aaen.net>
Date:   Tue Mar 17 21:25:10 2020 +0100

    Add Copymaster3D board (#17188)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6cac225fce..007b8fc5df 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -363,6 +363,7 @@
  *   331 : (3.3V scaled thermistor 1 table for MEGA)
  *   332 : (3.3V scaled thermistor 1 table for DUE)
  *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
+ *   202 : 200k thermistor - Copymaster 3D
  *     3 : Mendel-parts thermistor (4.7k pullup)
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
  *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan & J-Head) (4.7k pullup)

commit 090a90a0364fec1f13ade0680bbf26aa5aef23d9
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Mar 10 17:45:39 2020 -0500

    Add EEPROM_BOOT_SILENT option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a92557977f..6cac225fce 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1446,6 +1446,7 @@
 //#define EEPROM_SETTINGS     // Persistent storage with M500 and M501
 //#define DISABLE_M503        // Saves ~2700 bytes of PROGMEM. Disable for release!
 #define EEPROM_CHITCHAT       // Give feedback on EEPROM commands. Disable to save PROGMEM.
+#define EEPROM_BOOT_SILENT    // Keep M503 quiet and only give errors during first load
 #if ENABLED(EEPROM_SETTINGS)
   //#define EEPROM_AUTO_INIT  // Init EEPROM automatically on any errors.
 #endif

commit 8b2d55e345c6fadd4ca64209df323dc795af9969
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Mar 13 20:47:44 2020 -0500

    Config version 020005

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5bbaeba741..a92557977f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -36,7 +36,7 @@
  * Advanced settings can be found in Configuration_adv.h
  *
  */
-#define CONFIGURATION_H_VERSION 020004
+#define CONFIGURATION_H_VERSION 020005
 
 //===========================================================================
 //============================= Getting Started =============================

commit 0578e9b16e7b043935460839a860d6c20496d278
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Mar 5 11:03:35 2020 -0600

    Move SENSORLESS_PROBING to the probes section
    
    Fixes a bug with HAS_BED_PROBE not being set before use.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5679aa3093..5bbaeba741 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -925,6 +925,14 @@
   #define SMART_EFFECTOR_MOD_PIN  -1  // Connect a GPIO pin to the Smart Effector MOD pin
 #endif
 
+/**
+ * Use StallGuard2 to probe the bed with the nozzle.
+ * Requires stallGuard-capable Trinamic stepper drivers.
+ * CAUTION: This can damage machines with Z lead screws.
+ *          Take extreme care when setting up this feature.
+ */
+//#define SENSORLESS_PROBING
+
 //
 // For Z_PROBE_ALLEN_KEY see the Delta example configurations.
 //

commit 02cce7d4b40e229338619813912ad62f0480fa3a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Feb 26 06:39:29 2020 -0600

    Add TRAVEL_EXTRA_XYJERK option
    
    See #16949
    
    Co-Authored-By: josedpedroso <josedpedroso@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fd3687a7fc..5679aa3093 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -784,6 +784,8 @@
   #define DEFAULT_YJERK 10.0
   #define DEFAULT_ZJERK  0.3
 
+  //#define TRAVEL_EXTRA_XYJERK 0.0     // Additional jerk allowance for all travel moves
+
   //#define LIMITED_JERK_EDITING        // Limit edit via M205 or LCD to DEFAULT_aJERK * 2
   #if ENABLED(LIMITED_JERK_EDITING)
     #define MAX_JERK_EDIT_VALUES { 20, 20, 0.6, 10 } // ...or, set your own edit limits

commit 71539bcbeb68284663d0627207ffd5a9a377e920
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Feb 11 02:29:47 2020 -0600

    Undo driver type auto-assignment for now
    
    Good general concept but needs more time to develop and group with a stepper suite.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0a9df1feca..fd3687a7fc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -674,6 +674,11 @@
 //#define X_DRIVER_TYPE  A4988
 //#define Y_DRIVER_TYPE  A4988
 //#define Z_DRIVER_TYPE  A4988
+//#define X2_DRIVER_TYPE A4988
+//#define Y2_DRIVER_TYPE A4988
+//#define Z2_DRIVER_TYPE A4988
+//#define Z3_DRIVER_TYPE A4988
+//#define Z4_DRIVER_TYPE A4988
 //#define E0_DRIVER_TYPE A4988
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988

commit cc1ff2725677c3707a5d9c3e0a45437cd0f04e34
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sun Feb 9 13:13:52 2020 -0500

    Bump config version to 020004 (#16816)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a8e518098d..0a9df1feca 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -36,7 +36,7 @@
  * Advanced settings can be found in Configuration_adv.h
  *
  */
-#define CONFIGURATION_H_VERSION 020000
+#define CONFIGURATION_H_VERSION 020004
 
 //===========================================================================
 //============================= Getting Started =============================

commit 894762259b072407504ee584103680b103310026
Author: Fabio Santos <fabiosan@live.com>
Date:   Sat Feb 8 19:01:57 2020 -0800

    Coolstep for TMC2130, 2209, 5130, 5160 (#16790)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 99a254969c..a8e518098d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -674,11 +674,6 @@
 //#define X_DRIVER_TYPE  A4988
 //#define Y_DRIVER_TYPE  A4988
 //#define Z_DRIVER_TYPE  A4988
-//#define X2_DRIVER_TYPE A4988
-//#define Y2_DRIVER_TYPE A4988
-//#define Z2_DRIVER_TYPE A4988
-//#define Z3_DRIVER_TYPE A4988
-//#define Z4_DRIVER_TYPE A4988
 //#define E0_DRIVER_TYPE A4988
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988

commit 54aff831791e50a1cfb4cf7ccef36f5fefff5494
Author: Tanguy Pruvot <tpruvot@users.noreply.github.com>
Date:   Thu Feb 6 03:33:39 2020 +0100

    G26: Allow to set retraction for UBL mesh test (#16511)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 28625955af..99a254969c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1234,6 +1234,7 @@
     #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
     #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
     #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
+    #define G26_RETRACT_MULTIPLIER   1.0  // G26 Q (retraction) used by default between mesh test elements.
   #endif
 
 #endif

commit bfad23d3e2e590b257ebe4317d7b14cc2dd3435c
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Feb 3 08:00:57 2020 -0600

    (c) 2020

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ba07d3f088..28625955af 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,6 +1,6 @@
 /**
  * Marlin 3D Printer Firmware
- * Copyright (c) 2019 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ * Copyright (c) 2020 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
  *
  * Based on Sprinter and grbl.
  * Copyright (c) 2011 Camiel Gubbels / Erik van der Zalm

commit 7f9c62437e5c72947acc3310d94829f132697c81
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Feb 3 00:00:35 2020 -0600

    Corner Leveling: Add inset for each side (#16759)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 998055b725..ba07d3f088 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1313,10 +1313,10 @@
 //#define LEVEL_BED_CORNERS
 
 #if ENABLED(LEVEL_BED_CORNERS)
-  #define LEVEL_CORNERS_INSET 30    // (mm) An inset for corner leveling
-  #define LEVEL_CORNERS_Z_HOP  4.0  // (mm) Move nozzle up before moving between corners
-  #define LEVEL_CORNERS_HEIGHT 0.0  // (mm) Z height of nozzle at leveling points
-  //#define LEVEL_CENTER_TOO        // Move to the center after the last corner
+  #define LEVEL_CORNERS_INSET_LFRB { 30, 30, 30, 30 } // (mm) Left, Front, Right, Back insets
+  #define LEVEL_CORNERS_HEIGHT      0.0   // (mm) Z height of nozzle at leveling points
+  #define LEVEL_CORNERS_Z_HOP       4.0   // (mm) Z height of nozzle between leveling points
+  //#define LEVEL_CENTER_TOO              // Move to the center after the last corner
 #endif
 
 /**

commit 72b4d91d2e4d645c7b77eb7eb2aec2f5461f9728
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Feb 2 00:02:30 2020 -0600

    Add Z_AFTER_HOMING to raise Z more in G28 (#16755)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 550ea35467..998055b725 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1065,12 +1065,14 @@
 
 // @section homing
 
-//#define NO_MOTION_BEFORE_HOMING  // Inhibit movement until all axes have been homed
+//#define NO_MOTION_BEFORE_HOMING // Inhibit movement until all axes have been homed
 
-//#define UNKNOWN_Z_NO_RAISE // Don't raise Z (lower the bed) if Z is "unknown." For beds that fall when Z is powered off.
+//#define UNKNOWN_Z_NO_RAISE      // Don't raise Z (lower the bed) if Z is "unknown." For beds that fall when Z is powered off.
 
-//#define Z_HOMING_HEIGHT 4  // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
-                             // Be sure you have this distance over your Z_MAX_POS in case.
+//#define Z_HOMING_HEIGHT  4      // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
+                                  // Be sure to have this much clearance over your Z_MAX_POS to prevent grinding.
+
+//#define Z_AFTER_HOMING  10      // (mm) Height to move to after homing Z
 
 // Direction of endstops when homing; 1=MAX, -1=MIN
 // :[-1,1]

commit e4679c1b787887c466fa607b7408f69e420f4b90
Author: Artur Petrzak <petrzmax@gmail.com>
Date:   Fri Jan 31 01:00:37 2020 +0100

    (21) PT100 for MCUs with 3.3v logic (#16731)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7f242dce79..550ea35467 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -379,7 +379,8 @@
  *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  *    15 : 100k thermistor calibration for JGAurora A5 hotend
  *    18 : ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327
- *    20 : Pt100 with circuit in the Ultimainboard V2.x
+ *    20 : Pt100 with circuit in the Ultimainboard V2.x with 5v excitation (AVR)
+ *    21 : Pt100 with circuit in the Ultimainboard V2.x with 3.3v excitation (STM32 \ LPC176x....)
  *   201 : Pt100 with circuit in Overlord, similar to Ultimainboard V2.x
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    61 : 100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup

commit 0d166f9c7dccbf5f1cc243f06e3882c82a4bd86a
Author: Bob Kuhn <bob.kuhn@att.net>
Date:   Sat Jan 25 02:00:51 2020 -0600

    Duet Smart Effector support (#16641)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 355c782e86..7f242dce79 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -915,6 +915,13 @@
   #define Z_PROBE_RETRACT_X X_MAX_POS
 #endif
 
+// Duet Smart Effector (for delta printers) - https://bit.ly/2ul5U7J
+// When the pin is defined you can use M672 to set/reset the probe sensivity.
+//#define DUET_SMART_EFFECTOR
+#if ENABLED(DUET_SMART_EFFECTOR)
+  #define SMART_EFFECTOR_MOD_PIN  -1  // Connect a GPIO pin to the Smart Effector MOD pin
+#endif
+
 //
 // For Z_PROBE_ALLEN_KEY see the Delta example configurations.
 //

commit 86c18ea6e0709a660e0fd9bcc30dcbbc9f39925e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Jan 24 23:15:49 2020 -0600

    Bring configs and drivers.h up to date

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c3847908ce..355c782e86 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -143,7 +143,7 @@
 // @section extruder
 
 // This defines the number of extruders
-// :[1, 2, 3, 4, 5, 6]
+// :[1, 2, 3, 4, 5, 6, 7, 8]
 #define EXTRUDERS 1
 
 // Generally expected filament diameter (1.75, 2.85, 3.0, ...). Used for Volumetric, Filament Width Sensor, etc.
@@ -412,6 +412,8 @@
 #define TEMP_SENSOR_3 0
 #define TEMP_SENSOR_4 0
 #define TEMP_SENSOR_5 0
+#define TEMP_SENSOR_6 0
+#define TEMP_SENSOR_7 0
 #define TEMP_SENSOR_BED 0
 #define TEMP_SENSOR_PROBE 0
 #define TEMP_SENSOR_CHAMBER 0
@@ -441,6 +443,8 @@
 #define HEATER_3_MINTEMP   5
 #define HEATER_4_MINTEMP   5
 #define HEATER_5_MINTEMP   5
+#define HEATER_6_MINTEMP   5
+#define HEATER_7_MINTEMP   5
 #define BED_MINTEMP        5
 
 // Above this temperature the heater will be switched off.
@@ -452,6 +456,8 @@
 #define HEATER_3_MAXTEMP 275
 #define HEATER_4_MAXTEMP 275
 #define HEATER_5_MAXTEMP 275
+#define HEATER_6_MAXTEMP 275
+#define HEATER_7_MAXTEMP 275
 #define BED_MAXTEMP      150
 
 //===========================================================================
@@ -678,6 +684,8 @@
 //#define E3_DRIVER_TYPE A4988
 //#define E4_DRIVER_TYPE A4988
 //#define E5_DRIVER_TYPE A4988
+//#define E6_DRIVER_TYPE A4988
+//#define E7_DRIVER_TYPE A4988
 
 // Enable this feature if all enabled endstop pins are interrupt-capable.
 // This will remove the need to poll the interrupt pins, saving many CPU cycles.
@@ -1044,6 +1052,8 @@
 #define INVERT_E3_DIR false
 #define INVERT_E4_DIR false
 #define INVERT_E5_DIR false
+#define INVERT_E6_DIR false
+#define INVERT_E7_DIR false
 
 // @section homing
 
@@ -1429,11 +1439,6 @@
 #define DEFAULT_KEEPALIVE_INTERVAL 2  // Number of seconds between "busy" messages. Set with M113.
 #define BUSY_WHILE_HEATING            // Some hosts require "busy" messages even during heating
 
-//
-// M100 Free Memory Watcher
-//
-//#define M100_FREE_MEMORY_WATCHER    // Add M100 (Free Memory Watcher) to debug memory usage
-
 //
 // G20/G21 Inch mode support
 //

commit 79810b7fcb4149896180d757e2fbb1ec7a8fc217
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue Jan 21 03:51:23 2020 -0500

    G12 defaults per tool. Event G-code for post-toolchange (#16554)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 65381fcce7..c3847908ce 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1524,9 +1524,10 @@
   // Default number of triangles
   #define NOZZLE_CLEAN_TRIANGLES  3
 
-  // Specify positions as { X, Y, Z }
-  #define NOZZLE_CLEAN_START_POINT {  30, 30, (Z_MIN_POS + 1) }
-  #define NOZZLE_CLEAN_END_POINT   { 100, 60, (Z_MIN_POS + 1) }
+  // Specify positions for each tool as { { X, Y, Z }, { X, Y, Z } }
+  // Dual hotend system may use { {  -20, (Y_BED_SIZE / 2), (Z_MIN_POS + 1) },  {  420, (Y_BED_SIZE / 2), (Z_MIN_POS + 1) }}
+  #define NOZZLE_CLEAN_START_POINT { {  30, 30, (Z_MIN_POS + 1) } }
+  #define NOZZLE_CLEAN_END_POINT   { { 100, 60, (Z_MIN_POS + 1) } }
 
   // Circular pattern radius
   #define NOZZLE_CLEAN_CIRCLE_RADIUS 6.5

commit 04d64351a24d3278ef8079c74cc24a55e32a1de2
Author: MaukCC <jos@mauk.cc>
Date:   Tue Jan 21 08:10:31 2020 +0100

    Add HMS434 V15 ATSAM board (#16620)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d23a31c0db..65381fcce7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -360,7 +360,8 @@
  *    -1 : thermocouple with AD595
  *     0 : not used
  *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
- *   331 : (3.3V scaled thermistor 1 table)
+ *   331 : (3.3V scaled thermistor 1 table for MEGA)
+ *   332 : (3.3V scaled thermistor 1 table for DUE)
  *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
  *     3 : Mendel-parts thermistor (4.7k pullup)
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!

commit 0fcf2b1110d9f0d362e5aab9cc73d963710e9865
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Mon Jan 20 00:35:07 2020 -0500

    Quad Z stepper support (#16277)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 20e74127a7..d23a31c0db 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -670,6 +670,7 @@
 //#define Y2_DRIVER_TYPE A4988
 //#define Z2_DRIVER_TYPE A4988
 //#define Z3_DRIVER_TYPE A4988
+//#define Z4_DRIVER_TYPE A4988
 //#define E0_DRIVER_TYPE A4988
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988

commit a338dce83f6f3b3348a8422ad8acd7b81cc1cefe
Author: tompe-proj <59094873+tompe-proj@users.noreply.github.com>
Date:   Sat Jan 18 00:16:45 2020 +0100

    PINDA v2 temperature sensor / compensation (#16293)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 25c6ffdb22..20e74127a7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -412,6 +412,7 @@
 #define TEMP_SENSOR_4 0
 #define TEMP_SENSOR_5 0
 #define TEMP_SENSOR_BED 0
+#define TEMP_SENSOR_PROBE 0
 #define TEMP_SENSOR_CHAMBER 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999

commit 4108c5d01fe56c4cb06bffdd926cbaf879e34f11
Author: George Fu <nailao_5918@163.com>
Date:   Sat Jan 18 03:16:05 2020 +0800

    Update FYSETC S6 pins (#16559)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ee82fbf9f3..25c6ffdb22 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1944,10 +1944,11 @@
 // FYSETC variant of the MINI12864 graphic controller with SD support
 // https://wiki.fysetc.com/Mini12864_Panel/
 //
-//#define FYSETC_MINI_12864_X_X  // Type C/D/E/F. No tunable RGB Backlight by default
-//#define FYSETC_MINI_12864_1_2  // Type C/D/E/F. Simple RGB Backlight (always on)
-//#define FYSETC_MINI_12864_2_0  // Type A/B. Discreet RGB Backlight
-//#define FYSETC_MINI_12864_2_1  // Type A/B. Neopixel RGB Backlight
+//#define FYSETC_MINI_12864_X_X    // Type C/D/E/F. No tunable RGB Backlight by default
+//#define FYSETC_MINI_12864_1_2    // Type C/D/E/F. Simple RGB Backlight (always on)
+//#define FYSETC_MINI_12864_2_0    // Type A/B. Discreet RGB Backlight
+//#define FYSETC_MINI_12864_2_1    // Type A/B. Neopixel RGB Backlight
+//#define FYSETC_GENERIC_12864_1_1 // Larger display with basic ON/OFF backlight.
 
 //
 // Factory display for Creality CR-10

commit ea7363a8f47f60e2014039b2ff5d33532ba00957
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Jan 14 15:31:15 2020 -0600

    Update more configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3c34718562..ee82fbf9f3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -660,7 +660,7 @@
  *          TMC2208, TMC2208_STANDALONE, TMC2209, TMC2209_STANDALONE,
  *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
  *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
- * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'L6474', 'powerSTEP01', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
+ * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'L6474', 'POWERSTEP01', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
 //#define X_DRIVER_TYPE  A4988
 //#define Y_DRIVER_TYPE  A4988

commit 1ad53cee1f4e2768310fca98de0381df9c39b617
Author: Bob Kuhn <bob.kuhn@att.net>
Date:   Mon Jan 13 18:47:30 2020 -0600

    Improved STMicro L64XX stepper driver support (#16452)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7a6e43c7a8..3c34718562 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -654,12 +654,13 @@
  *
  * A4988 is assumed for unspecified drivers.
  *
- * Options: A4988, A5984, DRV8825, LV8729, L6470, TB6560, TB6600, TMC2100,
+ * Options: A4988, A5984, DRV8825, LV8729, L6470, L6474, POWERSTEP01,
+ *          TB6560, TB6600, TMC2100,
  *          TMC2130, TMC2130_STANDALONE, TMC2160, TMC2160_STANDALONE,
  *          TMC2208, TMC2208_STANDALONE, TMC2209, TMC2209_STANDALONE,
  *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
  *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
- * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
+ * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'L6474', 'powerSTEP01', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
 //#define X_DRIVER_TYPE  A4988
 //#define Y_DRIVER_TYPE  A4988

commit e593da1c23a4759f6591826f815a504f0272e21a
Author: George Fu <nailao_5918@163.com>
Date:   Sat Jan 4 11:00:44 2020 +0800

    Update and fix DGUS (#16317)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f4c9de3a79..7a6e43c7a8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2030,9 +2030,11 @@
 //=============================================================================
 
 //
-// DGUS Touch Display with DWIN OS
+// DGUS Touch Display with DWIN OS. (Choose one.)
 //
-//#define DGUS_LCD
+//#define DGUS_LCD_UI_ORIGIN
+//#define DGUS_LCD_UI_FYSETC
+//#define DGUS_LCD_UI_HIPRECY
 
 //
 // Touch-screen LCD for Malyan M200 printers

commit 7f87a044cdb7c4ca3fca81d4d175987484710a1f
Author: greppp <gregory.perrin87@gmail.com>
Date:   Fri Jan 3 21:44:16 2020 -0500

    Fix Ender-2 display pins, add BTN_ENC (#16349)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9e0970a56e..f4c9de3a79 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1957,6 +1957,11 @@
 //
 //#define CR10_STOCKDISPLAY
 
+//
+// Ender-2 OEM display, a variant of the MKS_MINI_12864
+//
+//#define ENDER2_STOCKDISPLAY
+
 //
 // ANET and Tronxy Graphical Controller
 //

commit 00c83e9ca64edec54e5352e8bfedd41cba02765d
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Jan 1 19:41:23 2020 -0600

    Update comments re: NOZZLE_AS_PROBE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e41bae29bb..9e0970a56e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -929,7 +929,8 @@
  */
 #define NOZZLE_TO_PROBE_OFFSET { 10, 10, 0 }
 
-// Certain types of probes need to stay away from edges
+// Most probes should stay away from the edges of the bed, but
+// with NOZZLE_AS_PROBE this can be negative for a wider probing area.
 #define MIN_PROBE_EDGE 10
 
 // X and Y axis travel speed (mm/m) between probes

commit 1c9ccce5209cd1727bf80e632f4f781c651e0c35
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue Dec 24 01:03:08 2019 -0500

    Add NOZZLE_AS_PROBE (no probe offsets) (#15929)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 90351c6025..e41bae29bb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -855,6 +855,12 @@
  */
 //#define FIX_MOUNTED_PROBE
 
+/**
+ * Use the nozzle as the probe, as with a conductive
+ * nozzle system or a piezo-electric smart effector.
+ */
+//#define NOZZLE_AS_PROBE
+
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.
  */

commit af4c62b422981150f2eaba7d31d9fdaeade65abd
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Dec 15 20:58:31 2019 -0600

    Update product links

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 30ad8aa968..90351c6025 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1769,7 +1769,7 @@
 
 //
 // Makeboard 3D Printer Parts 3D Printer Mini Display 1602 Mini Controller
-// https://www.aliexpress.com/item/Micromake-Makeboard-3D-Printer-Parts-3D-Printer-Mini-Display-1602-Mini-Controller-Compatible-with-Ramps-1/32765887917.html
+// https://www.aliexpress.com/item/32765887917.html
 //
 //#define MAKEBOARD_MINI_2_LINE_DISPLAY_1602
 
@@ -1943,7 +1943,7 @@
 
 //
 // Factory display for Creality CR-10
-// https://www.aliexpress.com/item/Universal-LCD-12864-3D-Printer-Display-Screen-With-Encoder-For-CR-10-CR-7-Model/32833148327.html
+// https://www.aliexpress.com/item/32833148327.html
 //
 // This is RAMPS-compatible using a single 10-pin connector.
 // (For CR-10 owners who want to replace the Melzi Creality board but retain the display)

commit f3155af4442b6560a9f53dd3f67b5769ecb978bc
Author: Luu Lac <45380455+shitcreek@users.noreply.github.com>
Date:   Fri Dec 6 01:35:06 2019 -0600

    Update AZSMZ LCD link (#16106)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c2bf6340dc..30ad8aa968 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1961,7 +1961,7 @@
 
 //
 // AZSMZ 12864 LCD with SD
-// https://www.aliexpress.com/store/product/3D-printer-smart-controller-SMART-RAMPS-OR-RAMPS-1-4-LCD-12864-LCD-control-panel-green/2179173_32213636460.html
+// https://www.aliexpress.com/item/32837222770.html
 //
 //#define AZSMZ_12864
 

commit 690ed531b6e404bbc3fe85bdc4653484e5a4f3d0
Author: Felicia Hummel <felicia@drachenkatze.org>
Date:   Sat Nov 30 14:17:24 2019 +0100

    Configurable PSU power-on delay (#16050)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 08a38ef2fc..c2bf6340dc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -325,13 +325,14 @@
 //#define PSU_NAME "Power Supply"
 
 #if ENABLED(PSU_CONTROL)
-  #define PSU_ACTIVE_HIGH false // Set 'false' for ATX (1), 'true' for X-Box (2)
+  #define PSU_ACTIVE_HIGH false     // Set 'false' for ATX, 'true' for X-Box
 
-  //#define PS_DEFAULT_OFF      // Keep power off until enabled directly with M80
+  //#define PSU_DEFAULT_OFF         // Keep power off until enabled directly with M80
+  //#define PSU_POWERUP_DELAY 100   // (ms) Delay for the PSU to warm up to full power
 
-  //#define AUTO_POWER_CONTROL  // Enable automatic control of the PS_ON pin
+  //#define AUTO_POWER_CONTROL      // Enable automatic control of the PS_ON pin
   #if ENABLED(AUTO_POWER_CONTROL)
-    #define AUTO_POWER_FANS           // Turn on PSU if fans need power
+    #define AUTO_POWER_FANS         // Turn on PSU if fans need power
     #define AUTO_POWER_E_FANS
     #define AUTO_POWER_CONTROLLERFAN
     #define AUTO_POWER_CHAMBER_FAN

commit 441e822fb351d273477785af84d7d040c1a92cc0
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Nov 23 16:53:44 2019 -0600

    LULZBOT_TOUCH_UI => TOUCH_UI_FTDI_EVE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6cd35a7c26..08a38ef2fc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2027,10 +2027,10 @@
 //#define MALYAN_LCD
 
 //
-// LulzBot Color Touch UI for FTDI EVE (FT800/FT810) displays
+// Touch UI for FTDI EVE (FT800/FT810) displays
 // See Configuration_adv.h for all configuration options.
 //
-//#define LULZBOT_TOUCH_UI
+//#define TOUCH_UI_FTDI_EVE
 
 //
 // Third-party or vendor-customized controller interfaces.

commit bdd366b97cf9d962bdb543cf8398a3aa08f828cd
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Nov 21 04:57:57 2019 -0600

    Update sensor -5 label

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 49c87c9833..6cd35a7c26 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -352,7 +352,7 @@
  *
  * Temperature sensors available:
  *
- *    -5 : thermocouple with MAX31865 (only for sensors 0-1)
+ *    -5 : PT100 / PT1000 with MAX31865 (only for sensors 0-1)
  *    -3 : thermocouple with MAX31855 (only for sensors 0-1)
  *    -2 : thermocouple with MAX6675 (only for sensors 0-1)
  *    -4 : thermocouple with AD8495

commit 751cd1f53306cdbdd98e108af144201a6624a14b
Author: Bob <bob808@users.noreply.github.com>
Date:   Thu Nov 21 11:15:10 2019 +0200

    MAX31865 temperature sensor (#15930)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a49905d594..49c87c9833 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -352,9 +352,10 @@
  *
  * Temperature sensors available:
  *
- *    -4 : thermocouple with AD8495
+ *    -5 : thermocouple with MAX31865 (only for sensors 0-1)
  *    -3 : thermocouple with MAX31855 (only for sensors 0-1)
  *    -2 : thermocouple with MAX6675 (only for sensors 0-1)
+ *    -4 : thermocouple with AD8495
  *    -1 : thermocouple with AD595
  *     0 : not used
  *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)

commit 47e4e5f1db722a4e9e8e2abb582846bf9d2350df
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Nov 20 23:51:51 2019 -0600

    Update thermocouple comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ec5bc0bfdb..a49905d594 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -353,8 +353,8 @@
  * Temperature sensors available:
  *
  *    -4 : thermocouple with AD8495
- *    -3 : thermocouple with MAX31855 (only for sensor 0)
- *    -2 : thermocouple with MAX6675 (only for sensor 0)
+ *    -3 : thermocouple with MAX31855 (only for sensors 0-1)
+ *    -2 : thermocouple with MAX6675 (only for sensors 0-1)
  *    -1 : thermocouple with AD595
  *     0 : not used
  *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)

commit 7e9c846ec30b65560a186227726a1efc40989db1
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Nov 13 01:45:35 2019 -0600

    Modify comment for unlimited E steppers

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 155605f609..ec5bc0bfdb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -714,14 +714,14 @@
 /**
  * Default Axis Steps Per Unit (steps/mm)
  * Override with M92
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
+ *                                      X, Y, Z, E0 [, E1[, E2...]]
  */
 #define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
 
 /**
  * Default Max Feed Rate (mm/s)
  * Override with M203
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
+ *                                      X, Y, Z, E0 [, E1[, E2...]]
  */
 #define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
 
@@ -734,7 +734,7 @@
  * Default Max Acceleration (change/s) change = mm/s
  * (Maximum start speed for accelerated moves)
  * Override with M201
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
+ *                                      X, Y, Z, E0 [, E1[, E2...]]
  */
 #define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 

commit 0074d63962f54372dc718074481231d7bf7db174
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue Oct 15 13:32:44 2019 -0400

    Vendor version override (#14189)
    
    Co-Authored-By: InsanityAutomation <insanityautomation@users.noreply.github.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e682f132ed..155605f609 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -72,6 +72,7 @@
 
 // Author info of this build printed to the host during boot and M115
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
+//#define CUSTOM_VERSION_FILE Version.h // Path from the root directory (no quotes)
 
 /**
  * *** VENDORS PLEASE READ ***

commit ac8083588bcd4d41adcf02cb176a425da9a65b11
Author: Matthew Piercey <piercey.matthew@gmail.com>
Date:   Sat Sep 21 16:45:35 2019 -0400

    Add config for Wanhao Duplicator i3 v2.1

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4568965f85..e682f132ed 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -383,6 +383,7 @@
  *    67 : 450C thermistor from SliceEngineering
  *    70 : the 100K thermistor found in the bq Hephestos 2
  *    75 : 100k Generic Silicon Heat Pad with NTC 100K MGB18-104F39050L32 thermistor
+ *    99 : 100k thermistor with a 10K pull-up resistor (found on some Wanhao i3 machines)
  *
  *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
  *                              (but gives greater accuracy and more stable PID)
@@ -400,8 +401,6 @@
  *         Use these for Testing or Development purposes. NEVER for production machine.
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
- *
- * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '331':"(3.3V thermistor 1)", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '512':"100k RPW-Ultra hotend thermistor", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '18':"ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327" '20':"Pt100 (Ultimainboard V2.x)", '201':"Pt100 (Overlord)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit 2cf35267c4a9e85e7fecfc58aa7cab3edcabeffc
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Thu Oct 10 19:44:15 2019 -0500

    Set Junction Deviation value from Jerk and Default Acceleration (#15509)
    
    Formula: `0.4 * sq(min(xjerk, yjerk)) / (default accel)`

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fa5d27063b..4568965f85 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -785,7 +785,7 @@
  *   http://blog.kyneticcnc.com/2018/10/computing-junction-deviation-for-marlin.html
  */
 #if DISABLED(CLASSIC_JERK)
-  #define JUNCTION_DEVIATION_MM 0.02  // (mm) Distance from real junction edge
+  #define JUNCTION_DEVIATION_MM 0.013 // (mm) Distance from real junction edge
 #endif
 
 /**

commit b4d48fdc917cb89d89187c8b95b97cda9ae2c08d
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Oct 8 21:38:02 2019 -0500

    Followup to #15481

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 65a9ecc827..fa5d27063b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -55,45 +55,18 @@
  */
 
 //===========================================================================
-//============================= SCARA Printer ===============================
+//============================= DELTA Printer ===============================
 //===========================================================================
-
-/**
- * MORGAN_SCARA was developed by QHARLEY in South Africa in 2012-2013.
- * Implemented and slightly reworked by JCERNY in June, 2014.
- */
-
-// Specify the specific SCARA model
-#define MORGAN_SCARA
-
-#if ENABLED(MORGAN_SCARA)
-
-  //#define DEBUG_SCARA_KINEMATICS
-  #define SCARA_FEEDRATE_SCALING // Convert XY feedrate from mm/s to degrees/s on the fly
-
-  // If movement is choppy try lowering this value
-  #define SCARA_SEGMENTS_PER_SECOND 200
-
-  // Length of inner and outer support arms. Measure arm lengths precisely.
-  #define SCARA_LINKAGE_1 150 //mm
-  #define SCARA_LINKAGE_2 150 //mm
-
-  // SCARA tower offset (position of Tower relative to bed zero position)
-  // This needs to be reasonably accurate as it defines the printbed position in the SCARA space.
-  #define SCARA_OFFSET_X 100 //mm
-  #define SCARA_OFFSET_Y -56 //mm
-
-  // Radius around the center where the arm cannot reach
-  #define MIDDLE_DEAD_ZONE_R 0 //mm
-
-  #define THETA_HOMING_OFFSET 0  //calculatated from Calibration Guide and command M360 / M114 see picture in http://reprap.harleystudio.co.za/?page_id=1073
-  #define PSI_HOMING_OFFSET   0  //calculatated from Calibration Guide and command M364 / M114 see picture in http://reprap.harleystudio.co.za/?page_id=1073
-
-#endif
+// For a Delta printer start with one of the configuration files in the
+// config/examples/delta directory and customize for your machine.
+//
 
 //===========================================================================
-//==================== END ==== SCARA Printer ==== END ======================
+//============================= SCARA Printer ===============================
 //===========================================================================
+// For a SCARA printer start with the configuration files in
+// config/examples/SCARA and customize for your machine.
+//
 
 // @section info
 
@@ -160,7 +133,7 @@
 #endif
 
 // Name displayed in the LCD "Ready" message and Info menu
-#define CUSTOM_MACHINE_NAME "SCARA"
+//#define CUSTOM_MACHINE_NAME "3D Printer"
 
 // Printer's unique ID, used by some programs to differentiate between machines.
 // Choose your own or use a service like http://www.uuidgenerator.net/version4
@@ -347,7 +320,7 @@
  * Enable and connect the power supply to the PS_ON_PIN.
  * Specify whether the power supply is active HIGH or active LOW.
  */
-#define PSU_CONTROL
+//#define PSU_CONTROL
 //#define PSU_NAME "Power Supply"
 
 #if ENABLED(PSU_CONTROL)
@@ -436,7 +409,7 @@
 #define TEMP_SENSOR_3 0
 #define TEMP_SENSOR_4 0
 #define TEMP_SENSOR_5 0
-#define TEMP_SENSOR_BED 1
+#define TEMP_SENSOR_BED 0
 #define TEMP_SENSOR_CHAMBER 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
@@ -448,11 +421,11 @@
 //#define TEMP_SENSOR_1_AS_REDUNDANT
 #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 
-#define TEMP_RESIDENCY_TIME 3  // (seconds) Time to wait for hotend to "settle" in M109
-#define TEMP_HYSTERESIS 2       // (¬∞C) Temperature proximity considered "close enough" to the target
-#define TEMP_WINDOW     1       // (¬∞C) Temperature proximity for the "temperature reached" timer
+#define TEMP_RESIDENCY_TIME     10  // (seconds) Time to wait for hotend to "settle" in M109
+#define TEMP_WINDOW              1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+#define TEMP_HYSTERESIS          3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
-#define TEMP_BED_RESIDENCY_TIME  0  // (seconds) Time to wait for bed to "settle" in M190
+#define TEMP_BED_RESIDENCY_TIME 10  // (seconds) Time to wait for bed to "settle" in M190
 #define TEMP_BED_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
 #define TEMP_BED_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
@@ -495,13 +468,25 @@
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
-  #define PID_FUNCTIONAL_RANGE 20 // If the temperature difference between the target temperature and the actual temperature
+  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
 
-  // Merlin Hotend: From Autotune
-  #define DEFAULT_Kp 24.5
-  #define DEFAULT_Ki 1.72
-  #define DEFAULT_Kd 87.73
+  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
+
+  // Ultimaker
+  #define DEFAULT_Kp 22.2
+  #define DEFAULT_Ki 1.08
+  #define DEFAULT_Kd 114
+
+  // MakerGear
+  //#define DEFAULT_Kp 7.0
+  //#define DEFAULT_Ki 0.1
+  //#define DEFAULT_Kd 12
+
+  // Mendel Parts V9 on 12V
+  //#define DEFAULT_Kp 63.0
+  //#define DEFAULT_Ki 2.25
+  //#define DEFAULT_Kd 440
 
 #endif // PIDTEMP
 
@@ -522,7 +507,7 @@
  * heater. If your configuration is significantly different than this and you don't understand
  * the issues involved, don't use bed PID until someone else verifies that your hardware works.
  */
-#define PIDTEMPBED
+//#define PIDTEMPBED
 
 //#define BED_LIMIT_SWITCHING
 
@@ -538,11 +523,17 @@
   //#define MIN_BED_POWER 0
   //#define PID_BED_DEBUG // Sends debug data to the serial port.
 
-  //12v Heatbed Mk3 12V in parallel
+  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
+  #define DEFAULT_bedKp 10.00
+  #define DEFAULT_bedKi .023
+  #define DEFAULT_bedKd 305.4
+
+  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
   //from pidautotune
-  #define DEFAULT_bedKp 630.14
-  #define DEFAULT_bedKi 121.71
-  #define DEFAULT_bedKd 815.64
+  //#define DEFAULT_bedKp 97.1
+  //#define DEFAULT_bedKi 1.41
+  //#define DEFAULT_bedKd 1675.16
 
   // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 #endif // PIDTEMPBED
@@ -611,23 +602,23 @@
 // Specify here all the endstop connectors that are connected to any endstop or probe.
 // Almost all printers will be using one per axis. Probes will use one or more of the
 // extra connectors. Leave undefined any used for non-endstop and non-probe purposes.
-//#define USE_XMIN_PLUG
-//#define USE_YMIN_PLUG
+#define USE_XMIN_PLUG
+#define USE_YMIN_PLUG
 #define USE_ZMIN_PLUG
-#define USE_XMAX_PLUG
-#define USE_YMAX_PLUG
+//#define USE_XMAX_PLUG
+//#define USE_YMAX_PLUG
 //#define USE_ZMAX_PLUG
 
 // Enable pullup for all endstops to prevent a floating state
-//#define ENDSTOPPULLUPS
+#define ENDSTOPPULLUPS
 #if DISABLED(ENDSTOPPULLUPS)
   // Disable ENDSTOPPULLUPS to set pullups individually
-  #define ENDSTOPPULLUP_XMAX
-  #define ENDSTOPPULLUP_YMAX
-  //#define ENDSTOPPULLUP_ZMAX  // open pin, inverted
-  //#define ENDSTOPPULLUP_XMIN  // open pin, inverted
-  //#define ENDSTOPPULLUP_YMIN  // open pin, inverted
-  #define ENDSTOPPULLUP_ZMIN
+  //#define ENDSTOPPULLUP_XMAX
+  //#define ENDSTOPPULLUP_YMAX
+  //#define ENDSTOPPULLUP_ZMAX
+  //#define ENDSTOPPULLUP_XMIN
+  //#define ENDSTOPPULLUP_YMIN
+  //#define ENDSTOPPULLUP_ZMIN
   //#define ENDSTOPPULLUP_ZMIN_PROBE
 #endif
 
@@ -645,13 +636,13 @@
 #endif
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
-#define X_MIN_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
-#define Y_MIN_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
-#define Z_MIN_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
-#define X_MAX_ENDSTOP_INVERTING false
-#define Y_MAX_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
-#define Z_MAX_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
-#define Z_MIN_PROBE_ENDSTOP_INVERTING true  // Set to true to invert the logic of the probe.
+#define X_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Y_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Z_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define X_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Y_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Z_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Z_MIN_PROBE_ENDSTOP_INVERTING false // Set to true to invert the logic of the probe.
 
 /**
  * Stepper Drivers
@@ -668,14 +659,14 @@
  *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
  * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
-#define X_DRIVER_TYPE TMC2209
-#define Y_DRIVER_TYPE TMC2130
-#define Z_DRIVER_TYPE TMC2130
+//#define X_DRIVER_TYPE  A4988
+//#define Y_DRIVER_TYPE  A4988
+//#define Z_DRIVER_TYPE  A4988
 //#define X2_DRIVER_TYPE A4988
 //#define Y2_DRIVER_TYPE A4988
 //#define Z2_DRIVER_TYPE A4988
 //#define Z3_DRIVER_TYPE A4988
-#define E0_DRIVER_TYPE TMC2660
+//#define E0_DRIVER_TYPE A4988
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988
 //#define E3_DRIVER_TYPE A4988
@@ -725,14 +716,14 @@
  * Override with M92
  *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
-#define DEFAULT_AXIS_STEPS_PER_UNIT   { 103.69, 106.65, 200/1.25, 1000 }  // default steps per unit for SCARA
+#define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
 
 /**
  * Default Max Feed Rate (mm/s)
  * Override with M203
  *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
-#define DEFAULT_MAX_FEEDRATE          { 300, 300, 30, 25 }
+#define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
 
 //#define LIMITED_MAX_FR_EDITING        // Limit edit via M203 or LCD to DEFAULT_MAX_FEEDRATE * 2
 #if ENABLED(LIMITED_MAX_FR_EDITING)
@@ -745,7 +736,7 @@
  * Override with M201
  *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
-#define DEFAULT_MAX_ACCELERATION      { 300, 300, 20, 1000 }
+#define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 
 //#define LIMITED_MAX_ACCEL_EDITING     // Limit edit via M201 or LCD to DEFAULT_MAX_ACCELERATION * 2
 #if ENABLED(LIMITED_MAX_ACCEL_EDITING)
@@ -760,9 +751,9 @@
  *   M204 R    Retract Acceleration
  *   M204 T    Travel Acceleration
  */
-#define DEFAULT_ACCELERATION          400    // X, Y, Z and E acceleration for printing moves
-#define DEFAULT_RETRACT_ACCELERATION  2000   // E acceleration for retracts
-#define DEFAULT_TRAVEL_ACCELERATION   400    // X, Y, Z acceleration for travel (non printing) moves
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration for printing moves
+#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration for retracts
+#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
 
 /**
  * Default Jerk limits (mm/s)
@@ -772,10 +763,10 @@
  * When changing speed and direction, if the difference is less than the
  * value set here, it may happen instantaneously.
  */
-#define CLASSIC_JERK
+//#define CLASSIC_JERK
 #if ENABLED(CLASSIC_JERK)
-  #define DEFAULT_XJERK  5.0
-  #define DEFAULT_YJERK  5.0
+  #define DEFAULT_XJERK 10.0
+  #define DEFAULT_YJERK 10.0
   #define DEFAULT_ZJERK  0.3
 
   //#define LIMITED_JERK_EDITING        // Limit edit via M205 or LCD to DEFAULT_aJERK * 2
@@ -784,7 +775,7 @@
   #endif
 #endif
 
-#define DEFAULT_EJERK    3.0  // May be used by Linear Advance
+#define DEFAULT_EJERK    5.0  // May be used by Linear Advance
 
 /**
  * Junction Deviation Factor
@@ -860,7 +851,7 @@
  * A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
  *   (e.g., an inductive probe or a nozzle-based probe-switch.)
  */
-#define FIX_MOUNTED_PROBE
+//#define FIX_MOUNTED_PROBE
 
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.
@@ -928,7 +919,7 @@
  *
  * Specify a Probe position as { X, Y, Z }
  */
-#define NOZZLE_TO_PROBE_OFFSET { -25, -29, -12.35 }
+#define NOZZLE_TO_PROBE_OFFSET { 10, 10, 0 }
 
 // Certain types of probes need to stay away from edges
 #define MIN_PROBE_EDGE 10
@@ -968,7 +959,7 @@
  * Example: `M851 Z-5` with a CLEARANCE of 4  =>  9mm from bed to nozzle.
  *     But: `M851 Z+1` with a CLEARANCE of 2  =>  2mm from bed to nozzle.
  */
-#define Z_CLEARANCE_DEPLOY_PROBE   15 // Z Clearance for Deploy/Stow
+#define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
 #define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
 #define Z_CLEARANCE_MULTI_PROBE     5 // Z Clearance between multiple probes
 //#define Z_AFTER_PROBING           5 // Z position after probing is done
@@ -983,7 +974,7 @@
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
 // Before deploy/stow pause for user confirmation
-#define PAUSE_BEFORE_DEPLOY_STOW
+//#define PAUSE_BEFORE_DEPLOY_STOW
 #if ENABLED(PAUSE_BEFORE_DEPLOY_STOW)
   //#define PAUSE_PROBE_DEPLOY_WHEN_TRIGGERED // For Manual Deploy Allenkey Probe
 #endif
@@ -1028,8 +1019,8 @@
 
 // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
 #define INVERT_X_DIR false
-#define INVERT_Y_DIR false
-#define INVERT_Z_DIR true
+#define INVERT_Y_DIR true
+#define INVERT_Z_DIR false
 
 // @section extruder
 
@@ -1052,8 +1043,8 @@
 
 // Direction of endstops when homing; 1=MAX, -1=MIN
 // :[-1,1]
-#define X_HOME_DIR 1
-#define Y_HOME_DIR 1
+#define X_HOME_DIR -1
+#define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
 
 // @section machine
@@ -1065,10 +1056,10 @@
 // Travel limits (mm) after homing, corresponding to endstop positions.
 #define X_MIN_POS 0
 #define Y_MIN_POS 0
-#define Z_MIN_POS MANUAL_Z_HOME_POS
+#define Z_MIN_POS 0
 #define X_MAX_POS X_BED_SIZE
 #define Y_MAX_POS Y_BED_SIZE
-#define Z_MAX_POS 225
+#define Z_MAX_POS 200
 
 /**
  * Software Endstops
@@ -1171,7 +1162,7 @@
  */
 //#define AUTO_BED_LEVELING_3POINT
 //#define AUTO_BED_LEVELING_LINEAR
-#define AUTO_BED_LEVELING_BILINEAR
+//#define AUTO_BED_LEVELING_BILINEAR
 //#define AUTO_BED_LEVELING_UBL
 //#define MESH_BED_LEVELING
 
@@ -1309,9 +1300,9 @@
 
 // Manually set the home position. Leave these undefined for automatic settings.
 // For DELTA this is the top-center of the Cartesian print volume.
-#define MANUAL_X_HOME_POS -22
-#define MANUAL_Y_HOME_POS -52
-#define MANUAL_Z_HOME_POS 0.1
+//#define MANUAL_X_HOME_POS 0
+//#define MANUAL_Y_HOME_POS 0
+//#define MANUAL_Z_HOME_POS 0
 
 // Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
 //
@@ -1330,8 +1321,8 @@
 #endif
 
 // Homing speeds (mm/m)
-#define HOMING_FEEDRATE_XY (40*60)
-#define HOMING_FEEDRATE_Z  (10*60)
+#define HOMING_FEEDRATE_XY (50*60)
+#define HOMING_FEEDRATE_Z  (4*60)
 
 // Validate that endstops are triggered on homing moves
 #define VALIDATE_HOMING_ENDSTOPS
@@ -1408,7 +1399,7 @@
  *   M501 - Read settings from EEPROM. (i.e., Throw away unsaved changes)
  *   M502 - Revert settings to "factory" defaults. (Follow with M500 to init the EEPROM.)
  */
-#define EEPROM_SETTINGS     // Persistent storage with M500 and M501
+//#define EEPROM_SETTINGS     // Persistent storage with M500 and M501
 //#define DISABLE_M503        // Saves ~2700 bytes of PROGMEM. Disable for release!
 #define EEPROM_CHITCHAT       // Give feedback on EEPROM commands. Disable to save PROGMEM.
 #if ENABLED(EEPROM_SETTINGS)
@@ -1446,12 +1437,12 @@
 #define PREHEAT_1_LABEL       "PLA"
 #define PREHEAT_1_TEMP_HOTEND 180
 #define PREHEAT_1_TEMP_BED     70
-#define PREHEAT_1_FAN_SPEED   255 // Value from 0 to 255
+#define PREHEAT_1_FAN_SPEED     0 // Value from 0 to 255
 
 #define PREHEAT_2_LABEL       "ABS"
 #define PREHEAT_2_TEMP_HOTEND 240
-#define PREHEAT_2_TEMP_BED    100
-#define PREHEAT_2_FAN_SPEED   255 // Value from 0 to 255
+#define PREHEAT_2_TEMP_BED    110
+#define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
 
 /**
  * Nozzle Park
@@ -1747,7 +1738,7 @@
 //
 // ULTIMAKER Controller.
 //
-#define ULTIMAKERCONTROLLER
+//#define ULTIMAKERCONTROLLER
 
 //
 // ULTIPANEL as seen on Thingiverse.

commit 89490171ef0f1a5069c2d468b89612121fca8b12
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Oct 8 20:15:01 2019 -0500

    Use "concatenatable" language codes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c644e6bc47..65a9ecc827 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1580,10 +1580,10 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *   en, an, bg, ca, cz, da, de, el, el-gr, es, eu, fi, fr, gl, hr, it, jp-kana,
- *   ko_KR, nl, pl, pt, pt-br, ru, sk, tr, uk, vi, zh_CN, zh_TW, test
+ *   en, an, bg, ca, cz, da, de, el, el_gr, es, eu, fi, fr, gl, hr, it, jp_kana,
+ *   ko_KR, nl, pl, pt, pt_br, ru, sk, tr, uk, vi, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el_gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp_kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt_br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit c0005e939cf9c1d9db16f20e605c3228bc41a758
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Oct 8 19:42:18 2019 -0500

    Enable junction deviation by default (#15481)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 812df3c208..c644e6bc47 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -55,18 +55,45 @@
  */
 
 //===========================================================================
-//============================= DELTA Printer ===============================
+//============================= SCARA Printer ===============================
 //===========================================================================
-// For a Delta printer start with one of the configuration files in the
-// config/examples/delta directory and customize for your machine.
-//
+
+/**
+ * MORGAN_SCARA was developed by QHARLEY in South Africa in 2012-2013.
+ * Implemented and slightly reworked by JCERNY in June, 2014.
+ */
+
+// Specify the specific SCARA model
+#define MORGAN_SCARA
+
+#if ENABLED(MORGAN_SCARA)
+
+  //#define DEBUG_SCARA_KINEMATICS
+  #define SCARA_FEEDRATE_SCALING // Convert XY feedrate from mm/s to degrees/s on the fly
+
+  // If movement is choppy try lowering this value
+  #define SCARA_SEGMENTS_PER_SECOND 200
+
+  // Length of inner and outer support arms. Measure arm lengths precisely.
+  #define SCARA_LINKAGE_1 150 //mm
+  #define SCARA_LINKAGE_2 150 //mm
+
+  // SCARA tower offset (position of Tower relative to bed zero position)
+  // This needs to be reasonably accurate as it defines the printbed position in the SCARA space.
+  #define SCARA_OFFSET_X 100 //mm
+  #define SCARA_OFFSET_Y -56 //mm
+
+  // Radius around the center where the arm cannot reach
+  #define MIDDLE_DEAD_ZONE_R 0 //mm
+
+  #define THETA_HOMING_OFFSET 0  //calculatated from Calibration Guide and command M360 / M114 see picture in http://reprap.harleystudio.co.za/?page_id=1073
+  #define PSI_HOMING_OFFSET   0  //calculatated from Calibration Guide and command M364 / M114 see picture in http://reprap.harleystudio.co.za/?page_id=1073
+
+#endif
 
 //===========================================================================
-//============================= SCARA Printer ===============================
+//==================== END ==== SCARA Printer ==== END ======================
 //===========================================================================
-// For a SCARA printer start with the configuration files in
-// config/examples/SCARA and customize for your machine.
-//
 
 // @section info
 
@@ -133,7 +160,7 @@
 #endif
 
 // Name displayed in the LCD "Ready" message and Info menu
-//#define CUSTOM_MACHINE_NAME "3D Printer"
+#define CUSTOM_MACHINE_NAME "SCARA"
 
 // Printer's unique ID, used by some programs to differentiate between machines.
 // Choose your own or use a service like http://www.uuidgenerator.net/version4
@@ -320,7 +347,7 @@
  * Enable and connect the power supply to the PS_ON_PIN.
  * Specify whether the power supply is active HIGH or active LOW.
  */
-//#define PSU_CONTROL
+#define PSU_CONTROL
 //#define PSU_NAME "Power Supply"
 
 #if ENABLED(PSU_CONTROL)
@@ -409,7 +436,7 @@
 #define TEMP_SENSOR_3 0
 #define TEMP_SENSOR_4 0
 #define TEMP_SENSOR_5 0
-#define TEMP_SENSOR_BED 0
+#define TEMP_SENSOR_BED 1
 #define TEMP_SENSOR_CHAMBER 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
@@ -421,11 +448,11 @@
 //#define TEMP_SENSOR_1_AS_REDUNDANT
 #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 
-#define TEMP_RESIDENCY_TIME     10  // (seconds) Time to wait for hotend to "settle" in M109
-#define TEMP_WINDOW              1  // (¬∞C) Temperature proximity for the "temperature reached" timer
-#define TEMP_HYSTERESIS          3  // (¬∞C) Temperature proximity considered "close enough" to the target
+#define TEMP_RESIDENCY_TIME 3  // (seconds) Time to wait for hotend to "settle" in M109
+#define TEMP_HYSTERESIS 2       // (¬∞C) Temperature proximity considered "close enough" to the target
+#define TEMP_WINDOW     1       // (¬∞C) Temperature proximity for the "temperature reached" timer
 
-#define TEMP_BED_RESIDENCY_TIME 10  // (seconds) Time to wait for bed to "settle" in M190
+#define TEMP_BED_RESIDENCY_TIME  0  // (seconds) Time to wait for bed to "settle" in M190
 #define TEMP_BED_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
 #define TEMP_BED_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
@@ -468,25 +495,13 @@
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
-  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
+  #define PID_FUNCTIONAL_RANGE 20 // If the temperature difference between the target temperature and the actual temperature
                                   // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
 
-  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
-
-  // Ultimaker
-  #define DEFAULT_Kp 22.2
-  #define DEFAULT_Ki 1.08
-  #define DEFAULT_Kd 114
-
-  // MakerGear
-  //#define DEFAULT_Kp 7.0
-  //#define DEFAULT_Ki 0.1
-  //#define DEFAULT_Kd 12
-
-  // Mendel Parts V9 on 12V
-  //#define DEFAULT_Kp 63.0
-  //#define DEFAULT_Ki 2.25
-  //#define DEFAULT_Kd 440
+  // Merlin Hotend: From Autotune
+  #define DEFAULT_Kp 24.5
+  #define DEFAULT_Ki 1.72
+  #define DEFAULT_Kd 87.73
 
 #endif // PIDTEMP
 
@@ -507,7 +522,7 @@
  * heater. If your configuration is significantly different than this and you don't understand
  * the issues involved, don't use bed PID until someone else verifies that your hardware works.
  */
-//#define PIDTEMPBED
+#define PIDTEMPBED
 
 //#define BED_LIMIT_SWITCHING
 
@@ -523,17 +538,11 @@
   //#define MIN_BED_POWER 0
   //#define PID_BED_DEBUG // Sends debug data to the serial port.
 
-  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
-  #define DEFAULT_bedKp 10.00
-  #define DEFAULT_bedKi .023
-  #define DEFAULT_bedKd 305.4
-
-  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  //12v Heatbed Mk3 12V in parallel
   //from pidautotune
-  //#define DEFAULT_bedKp 97.1
-  //#define DEFAULT_bedKi 1.41
-  //#define DEFAULT_bedKd 1675.16
+  #define DEFAULT_bedKp 630.14
+  #define DEFAULT_bedKi 121.71
+  #define DEFAULT_bedKd 815.64
 
   // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 #endif // PIDTEMPBED
@@ -602,23 +611,23 @@
 // Specify here all the endstop connectors that are connected to any endstop or probe.
 // Almost all printers will be using one per axis. Probes will use one or more of the
 // extra connectors. Leave undefined any used for non-endstop and non-probe purposes.
-#define USE_XMIN_PLUG
-#define USE_YMIN_PLUG
+//#define USE_XMIN_PLUG
+//#define USE_YMIN_PLUG
 #define USE_ZMIN_PLUG
-//#define USE_XMAX_PLUG
-//#define USE_YMAX_PLUG
+#define USE_XMAX_PLUG
+#define USE_YMAX_PLUG
 //#define USE_ZMAX_PLUG
 
 // Enable pullup for all endstops to prevent a floating state
-#define ENDSTOPPULLUPS
+//#define ENDSTOPPULLUPS
 #if DISABLED(ENDSTOPPULLUPS)
   // Disable ENDSTOPPULLUPS to set pullups individually
-  //#define ENDSTOPPULLUP_XMAX
-  //#define ENDSTOPPULLUP_YMAX
-  //#define ENDSTOPPULLUP_ZMAX
-  //#define ENDSTOPPULLUP_XMIN
-  //#define ENDSTOPPULLUP_YMIN
-  //#define ENDSTOPPULLUP_ZMIN
+  #define ENDSTOPPULLUP_XMAX
+  #define ENDSTOPPULLUP_YMAX
+  //#define ENDSTOPPULLUP_ZMAX  // open pin, inverted
+  //#define ENDSTOPPULLUP_XMIN  // open pin, inverted
+  //#define ENDSTOPPULLUP_YMIN  // open pin, inverted
+  #define ENDSTOPPULLUP_ZMIN
   //#define ENDSTOPPULLUP_ZMIN_PROBE
 #endif
 
@@ -636,13 +645,13 @@
 #endif
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
-#define X_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Y_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Z_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define X_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Y_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Z_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
-#define Z_MIN_PROBE_ENDSTOP_INVERTING false // Set to true to invert the logic of the probe.
+#define X_MIN_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
+#define Y_MIN_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
+#define Z_MIN_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
+#define X_MAX_ENDSTOP_INVERTING false
+#define Y_MAX_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
+#define Z_MAX_ENDSTOP_INVERTING true  // Set to true to invert the logic of the endstop.
+#define Z_MIN_PROBE_ENDSTOP_INVERTING true  // Set to true to invert the logic of the probe.
 
 /**
  * Stepper Drivers
@@ -659,14 +668,14 @@
  *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
  * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
-//#define X_DRIVER_TYPE  A4988
-//#define Y_DRIVER_TYPE  A4988
-//#define Z_DRIVER_TYPE  A4988
+#define X_DRIVER_TYPE TMC2209
+#define Y_DRIVER_TYPE TMC2130
+#define Z_DRIVER_TYPE TMC2130
 //#define X2_DRIVER_TYPE A4988
 //#define Y2_DRIVER_TYPE A4988
 //#define Z2_DRIVER_TYPE A4988
 //#define Z3_DRIVER_TYPE A4988
-//#define E0_DRIVER_TYPE A4988
+#define E0_DRIVER_TYPE TMC2660
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988
 //#define E3_DRIVER_TYPE A4988
@@ -716,14 +725,14 @@
  * Override with M92
  *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
-#define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
+#define DEFAULT_AXIS_STEPS_PER_UNIT   { 103.69, 106.65, 200/1.25, 1000 }  // default steps per unit for SCARA
 
 /**
  * Default Max Feed Rate (mm/s)
  * Override with M203
  *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
-#define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
+#define DEFAULT_MAX_FEEDRATE          { 300, 300, 30, 25 }
 
 //#define LIMITED_MAX_FR_EDITING        // Limit edit via M203 or LCD to DEFAULT_MAX_FEEDRATE * 2
 #if ENABLED(LIMITED_MAX_FR_EDITING)
@@ -736,7 +745,7 @@
  * Override with M201
  *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
-#define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
+#define DEFAULT_MAX_ACCELERATION      { 300, 300, 20, 1000 }
 
 //#define LIMITED_MAX_ACCEL_EDITING     // Limit edit via M201 or LCD to DEFAULT_MAX_ACCELERATION * 2
 #if ENABLED(LIMITED_MAX_ACCEL_EDITING)
@@ -751,35 +760,22 @@
  *   M204 R    Retract Acceleration
  *   M204 T    Travel Acceleration
  */
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration for printing moves
-#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration for retracts
-#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
-
-/**
- * Junction Deviation
- *
- * Use Junction Deviation instead of traditional Jerk Limiting
- *
- * See:
- *   https://reprap.org/forum/read.php?1,739819
- *   http://blog.kyneticcnc.com/2018/10/computing-junction-deviation-for-marlin.html
- */
-//#define JUNCTION_DEVIATION
-#if ENABLED(JUNCTION_DEVIATION)
-  #define JUNCTION_DEVIATION_MM 0.02  // (mm) Distance from real junction edge
-#endif
+#define DEFAULT_ACCELERATION          400    // X, Y, Z and E acceleration for printing moves
+#define DEFAULT_RETRACT_ACCELERATION  2000   // E acceleration for retracts
+#define DEFAULT_TRAVEL_ACCELERATION   400    // X, Y, Z acceleration for travel (non printing) moves
 
 /**
- * Default Jerk (mm/s)
+ * Default Jerk limits (mm/s)
  * Override with M205 X Y Z E
  *
  * "Jerk" specifies the minimum speed change that requires acceleration.
  * When changing speed and direction, if the difference is less than the
  * value set here, it may happen instantaneously.
  */
-#if DISABLED(JUNCTION_DEVIATION)
-  #define DEFAULT_XJERK 10.0
-  #define DEFAULT_YJERK 10.0
+#define CLASSIC_JERK
+#if ENABLED(CLASSIC_JERK)
+  #define DEFAULT_XJERK  5.0
+  #define DEFAULT_YJERK  5.0
   #define DEFAULT_ZJERK  0.3
 
   //#define LIMITED_JERK_EDITING        // Limit edit via M205 or LCD to DEFAULT_aJERK * 2
@@ -788,7 +784,18 @@
   #endif
 #endif
 
-#define DEFAULT_EJERK    5.0  // May be used by Linear Advance
+#define DEFAULT_EJERK    3.0  // May be used by Linear Advance
+
+/**
+ * Junction Deviation Factor
+ *
+ * See:
+ *   https://reprap.org/forum/read.php?1,739819
+ *   http://blog.kyneticcnc.com/2018/10/computing-junction-deviation-for-marlin.html
+ */
+#if DISABLED(CLASSIC_JERK)
+  #define JUNCTION_DEVIATION_MM 0.02  // (mm) Distance from real junction edge
+#endif
 
 /**
  * S-Curve Acceleration
@@ -853,7 +860,7 @@
  * A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
  *   (e.g., an inductive probe or a nozzle-based probe-switch.)
  */
-//#define FIX_MOUNTED_PROBE
+#define FIX_MOUNTED_PROBE
 
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.
@@ -921,7 +928,7 @@
  *
  * Specify a Probe position as { X, Y, Z }
  */
-#define NOZZLE_TO_PROBE_OFFSET { 10, 10, 0 }
+#define NOZZLE_TO_PROBE_OFFSET { -25, -29, -12.35 }
 
 // Certain types of probes need to stay away from edges
 #define MIN_PROBE_EDGE 10
@@ -961,7 +968,7 @@
  * Example: `M851 Z-5` with a CLEARANCE of 4  =>  9mm from bed to nozzle.
  *     But: `M851 Z+1` with a CLEARANCE of 2  =>  2mm from bed to nozzle.
  */
-#define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
+#define Z_CLEARANCE_DEPLOY_PROBE   15 // Z Clearance for Deploy/Stow
 #define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
 #define Z_CLEARANCE_MULTI_PROBE     5 // Z Clearance between multiple probes
 //#define Z_AFTER_PROBING           5 // Z position after probing is done
@@ -976,7 +983,7 @@
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
 // Before deploy/stow pause for user confirmation
-//#define PAUSE_BEFORE_DEPLOY_STOW
+#define PAUSE_BEFORE_DEPLOY_STOW
 #if ENABLED(PAUSE_BEFORE_DEPLOY_STOW)
   //#define PAUSE_PROBE_DEPLOY_WHEN_TRIGGERED // For Manual Deploy Allenkey Probe
 #endif
@@ -1021,8 +1028,8 @@
 
 // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
 #define INVERT_X_DIR false
-#define INVERT_Y_DIR true
-#define INVERT_Z_DIR false
+#define INVERT_Y_DIR false
+#define INVERT_Z_DIR true
 
 // @section extruder
 
@@ -1045,8 +1052,8 @@
 
 // Direction of endstops when homing; 1=MAX, -1=MIN
 // :[-1,1]
-#define X_HOME_DIR -1
-#define Y_HOME_DIR -1
+#define X_HOME_DIR 1
+#define Y_HOME_DIR 1
 #define Z_HOME_DIR -1
 
 // @section machine
@@ -1058,10 +1065,10 @@
 // Travel limits (mm) after homing, corresponding to endstop positions.
 #define X_MIN_POS 0
 #define Y_MIN_POS 0
-#define Z_MIN_POS 0
+#define Z_MIN_POS MANUAL_Z_HOME_POS
 #define X_MAX_POS X_BED_SIZE
 #define Y_MAX_POS Y_BED_SIZE
-#define Z_MAX_POS 200
+#define Z_MAX_POS 225
 
 /**
  * Software Endstops
@@ -1164,7 +1171,7 @@
  */
 //#define AUTO_BED_LEVELING_3POINT
 //#define AUTO_BED_LEVELING_LINEAR
-//#define AUTO_BED_LEVELING_BILINEAR
+#define AUTO_BED_LEVELING_BILINEAR
 //#define AUTO_BED_LEVELING_UBL
 //#define MESH_BED_LEVELING
 
@@ -1302,9 +1309,9 @@
 
 // Manually set the home position. Leave these undefined for automatic settings.
 // For DELTA this is the top-center of the Cartesian print volume.
-//#define MANUAL_X_HOME_POS 0
-//#define MANUAL_Y_HOME_POS 0
-//#define MANUAL_Z_HOME_POS 0
+#define MANUAL_X_HOME_POS -22
+#define MANUAL_Y_HOME_POS -52
+#define MANUAL_Z_HOME_POS 0.1
 
 // Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
 //
@@ -1323,8 +1330,8 @@
 #endif
 
 // Homing speeds (mm/m)
-#define HOMING_FEEDRATE_XY (50*60)
-#define HOMING_FEEDRATE_Z  (4*60)
+#define HOMING_FEEDRATE_XY (40*60)
+#define HOMING_FEEDRATE_Z  (10*60)
 
 // Validate that endstops are triggered on homing moves
 #define VALIDATE_HOMING_ENDSTOPS
@@ -1401,7 +1408,7 @@
  *   M501 - Read settings from EEPROM. (i.e., Throw away unsaved changes)
  *   M502 - Revert settings to "factory" defaults. (Follow with M500 to init the EEPROM.)
  */
-//#define EEPROM_SETTINGS     // Persistent storage with M500 and M501
+#define EEPROM_SETTINGS     // Persistent storage with M500 and M501
 //#define DISABLE_M503        // Saves ~2700 bytes of PROGMEM. Disable for release!
 #define EEPROM_CHITCHAT       // Give feedback on EEPROM commands. Disable to save PROGMEM.
 #if ENABLED(EEPROM_SETTINGS)
@@ -1439,12 +1446,12 @@
 #define PREHEAT_1_LABEL       "PLA"
 #define PREHEAT_1_TEMP_HOTEND 180
 #define PREHEAT_1_TEMP_BED     70
-#define PREHEAT_1_FAN_SPEED     0 // Value from 0 to 255
+#define PREHEAT_1_FAN_SPEED   255 // Value from 0 to 255
 
 #define PREHEAT_2_LABEL       "ABS"
 #define PREHEAT_2_TEMP_HOTEND 240
-#define PREHEAT_2_TEMP_BED    110
-#define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
+#define PREHEAT_2_TEMP_BED    100
+#define PREHEAT_2_FAN_SPEED   255 // Value from 0 to 255
 
 /**
  * Nozzle Park
@@ -1740,7 +1747,7 @@
 //
 // ULTIMAKER Controller.
 //
-//#define ULTIMAKERCONTROLLER
+#define ULTIMAKERCONTROLLER
 
 //
 // ULTIPANEL as seen on Thingiverse.

commit 438835f6a52ab23c9b0114a27d35941a34648592
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue Oct 1 20:59:48 2019 -0400

    Configurable Max Accel, Max Feedrate, Max Jerk edit limits (#13929)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 16f1ca6800..812df3c208 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -725,6 +725,11 @@
  */
 #define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
 
+//#define LIMITED_MAX_FR_EDITING        // Limit edit via M203 or LCD to DEFAULT_MAX_FEEDRATE * 2
+#if ENABLED(LIMITED_MAX_FR_EDITING)
+  #define MAX_FEEDRATE_EDIT_VALUES    { 600, 600, 10, 50 } // ...or, set your own edit limits
+#endif
+
 /**
  * Default Max Acceleration (change/s) change = mm/s
  * (Maximum start speed for accelerated moves)
@@ -733,6 +738,11 @@
  */
 #define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 
+//#define LIMITED_MAX_ACCEL_EDITING     // Limit edit via M201 or LCD to DEFAULT_MAX_ACCELERATION * 2
+#if ENABLED(LIMITED_MAX_ACCEL_EDITING)
+  #define MAX_ACCEL_EDIT_VALUES       { 6000, 6000, 200, 20000 } // ...or, set your own edit limits
+#endif
+
 /**
  * Default Acceleration (change/s) change = mm/s
  * Override with M204
@@ -771,6 +781,11 @@
   #define DEFAULT_XJERK 10.0
   #define DEFAULT_YJERK 10.0
   #define DEFAULT_ZJERK  0.3
+
+  //#define LIMITED_JERK_EDITING        // Limit edit via M205 or LCD to DEFAULT_aJERK * 2
+  #if ENABLED(LIMITED_JERK_EDITING)
+    #define MAX_JERK_EDIT_VALUES { 20, 20, 0.6, 10 } // ...or, set your own edit limits
+  #endif
 #endif
 
 #define DEFAULT_EJERK    5.0  // May be used by Linear Advance

commit e9cf46a9a5d0f6aa5521497d25aab5ff4e12399c
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Wed Sep 25 03:43:41 2019 -0400

    M851 XY 3 point followup (incomplete) (#15361)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5935f99269..16f1ca6800 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1251,19 +1251,6 @@
 
 #endif // BED_LEVELING
 
-/**
- * Points to probe for all 3-point Leveling procedures.
- * Override if the automatically selected points are inadequate.
- */
-#if EITHER(AUTO_BED_LEVELING_3POINT, AUTO_BED_LEVELING_UBL)
-  //#define PROBE_PT_1_X 15
-  //#define PROBE_PT_1_Y 180
-  //#define PROBE_PT_2_X 15
-  //#define PROBE_PT_2_Y 20
-  //#define PROBE_PT_3_X 170
-  //#define PROBE_PT_3_Y 20
-#endif
-
 /**
  * Add a bed leveling sub-menu for ABL or MBL.
  * Include a guided procedure if manual probing is enabled.

commit df1e51258a8bcc432deed9f5bd60df41a75b2c32
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue Sep 24 22:29:21 2019 -0400

    Add M851 X Y probe offsets (#15202)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6f27160153..5935f99269 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -888,11 +888,10 @@
 
 /**
  * Z Probe to nozzle (X,Y) offset, relative to (0, 0).
- * X and Y offsets must be integers.
  *
  * In the following example the X and Y offsets are both positive:
- * #define X_PROBE_OFFSET_FROM_EXTRUDER 10
- * #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
+ *
+ *   #define NOZZLE_TO_PROBE_OFFSET { 10, 10, 0 }
  *
  *     +-- BACK ---+
  *     |           |
@@ -904,10 +903,10 @@
  *     |           |
  *     O-- FRONT --+
  *   (0,0)
+ *
+ * Specify a Probe position as { X, Y, Z }
  */
-#define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
-#define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
-#define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
+#define NOZZLE_TO_PROBE_OFFSET { 10, 10, 0 }
 
 // Certain types of probes need to stay away from edges
 #define MIN_PROBE_EDGE 10
@@ -941,7 +940,7 @@
  *
  * Use these settings to specify the distance (mm) to raise the probe (or
  * lower the bed). The values set here apply over and above any (negative)
- * probe Z Offset set with Z_PROBE_OFFSET_FROM_EXTRUDER, M851, or the LCD.
+ * probe Z Offset set with NOZZLE_TO_PROBE_OFFSET, M851, or the LCD.
  * Only integer values >= 1 are valid here.
  *
  * Example: `M851 Z-5` with a CLEARANCE of 4  =>  9mm from bed to nozzle.
@@ -1199,12 +1198,6 @@
   #define GRID_MAX_POINTS_X 3
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
-  // Set the boundaries for probing (where the probe can reach).
-  //#define LEFT_PROBE_BED_POSITION MIN_PROBE_EDGE
-  //#define RIGHT_PROBE_BED_POSITION (X_BED_SIZE - (MIN_PROBE_EDGE))
-  //#define FRONT_PROBE_BED_POSITION MIN_PROBE_EDGE
-  //#define BACK_PROBE_BED_POSITION (Y_BED_SIZE - (MIN_PROBE_EDGE))
-
   // Probe along the Y axis, advancing X after each column
   //#define PROBE_Y_FIRST
 

commit d277e93f4df441e0ce9f21e7d3466f8649433875
Author: Tanguy Pruvot <tpruvot@users.noreply.github.com>
Date:   Tue Sep 17 04:32:55 2019 +0200

    Configurable TOUCH_BUTTONS repeat delays (#15245)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 01bd43b9cb..6f27160153 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2062,6 +2062,9 @@
 //
 //#define TOUCH_BUTTONS
 #if ENABLED(TOUCH_BUTTONS)
+  #define BUTTON_DELAY_EDIT  50 // (ms) Button repeat delay for edit screens
+  #define BUTTON_DELAY_MENU 250 // (ms) Button repeat delay for menus
+
   #define XPT2046_X_CALIBRATION   12316
   #define XPT2046_Y_CALIBRATION  -8981
   #define XPT2046_X_OFFSET       -43
@@ -2201,7 +2204,7 @@
  */
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
-// Delay (in milliseconds) before the next move will start, to give the servo time to reach its target angle.
+// (ms) Delay  before the next move will start, to give the servo time to reach its target angle.
 // 300ms is a good value but you can try less delay.
 // If the servo can't reach the requested position, increase it.
 #define SERVO_DELAY { 300 }

commit 3648bce8866c53e155ca1712233e106a036363e6
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Sep 10 21:28:20 2019 -0500

    Tweak NOZZLE_CLEAN_START_POINT spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6beb94a7ec..01bd43b9cb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1519,7 +1519,7 @@
   #define NOZZLE_CLEAN_TRIANGLES  3
 
   // Specify positions as { X, Y, Z }
-  #define NOZZLE_CLEAN_START_POINT { 30, 30, (Z_MIN_POS + 1)}
+  #define NOZZLE_CLEAN_START_POINT {  30, 30, (Z_MIN_POS + 1) }
   #define NOZZLE_CLEAN_END_POINT   { 100, 60, (Z_MIN_POS + 1) }
 
   // Circular pattern radius

commit cff502c6d4e7dbd9721cacfdea90e0733e5d0ab0
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Sep 4 17:23:24 2019 -0500

    Tweak REPRAPWORLD_KEYPAD config comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4ccbe90b1f..6beb94a7ec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2072,11 +2072,8 @@
 // RepRapWorld REPRAPWORLD_KEYPAD v1.1
 // http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
 //
-// REPRAPWORLD_KEYPAD_MOVE_STEP sets how much should the robot move when a key
-// is pressed, a value of 10.0 means 10mm per click.
-//
 //#define REPRAPWORLD_KEYPAD
-//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0
+//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // (mm) Distance to move per key-press
 
 //=============================================================================
 //=============================== Extra Features ==============================

commit 87b16ed5f65bb8511d648c47a3d48fadf1f2dee7
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Aug 31 07:03:36 2019 -0500

    Bring Configuration.h up to date

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4695854011..4ccbe90b1f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -84,6 +84,9 @@
  * respectfully request that you retain the unmodified Marlin boot screen.
  */
 
+// Show the Marlin bootscreen on startup. ** ENABLE FOR PRODUCTION **
+#define SHOW_BOOTSCREEN
+
 // Show the bitmap in Marlin/_Bootscreen.h on startup.
 //#define SHOW_CUSTOM_BOOTSCREEN
 

commit 38983fdfa9773faf7006ef392110aca01ad006d5
Author: Robby Candra <robbycandra.mail@gmail.com>
Date:   Thu Aug 29 13:19:07 2019 +0700

    Add 'Back' Button for Touch TFT 320x240 (#15060)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 59038229e2..4695854011 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2046,7 +2046,7 @@
 //=============================================================================
 
 //
-// FSMC display (MKS Robin, Alfawise U20, JGAurora A5S, A1, etc.)
+// FSMC display (MKS Robin, Alfawise U20, JGAurora A5S, REXYZ A1, etc.)
 //
 //#define FSMC_GRAPHICAL_TFT
 

commit 3ac76f048973e1ecb5ea6f2c50eb5990bbd6a5b9
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Aug 28 07:40:18 2019 -0500

    Invariant Marlin bootscreen (#15057)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 84be39dda5..59038229e2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -70,13 +70,8 @@
 
 // @section info
 
-// User-specified version info of this build to display in [Pronterface, etc] terminal window during
-// startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
-// build by the user have been successfully uploaded into firmware.
+// Author info of this build printed to the host during boot and M115
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
-#define SHOW_BOOTSCREEN
-#define STRING_SPLASH_LINE1 SHORT_BUILD_VERSION // will be shown during bootup in line 1
-#define STRING_SPLASH_LINE2 WEBSITE_URL         // will be shown during bootup in line 2
 
 /**
  * *** VENDORS PLEASE READ ***
@@ -89,10 +84,10 @@
  * respectfully request that you retain the unmodified Marlin boot screen.
  */
 
-// Enable to show the bitmap in Marlin/_Bootscreen.h on startup.
+// Show the bitmap in Marlin/_Bootscreen.h on startup.
 //#define SHOW_CUSTOM_BOOTSCREEN
 
-// Enable to show the bitmap in Marlin/_Statusscreen.h on the status screen.
+// Show the bitmap in Marlin/_Statusscreen.h on the status screen.
 //#define CUSTOM_STATUS_SCREEN_IMAGE
 
 // @section machine

commit d6a16525c2742719ce2f477738dd548f27015328
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Aug 24 03:40:28 2019 -0500

    New Language: Vietnamese (#13892)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7a1111fde3..84be39dda5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1580,10 +1580,10 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *    en, an, bg, ca, cz, da, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
- *    jp-kana, ko_KR, nl, pl, pt, pt-br, ru, sk, tr, uk, zh_CN, zh_TW, test
+ *   en, an, bg, ca, cz, da, de, el, el-gr, es, eu, fi, fr, gl, hr, it, jp-kana,
+ *   ko_KR, nl, pl, pt, pt-br, ru, sk, tr, uk, vi, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'vi':'Vietnamese', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit 8664b8e97be8b32c3173616f6e37b787be917258
Author: MaukCC <jos@mauk.cc>
Date:   Tue Aug 20 10:40:48 2019 +0200

    Adding HMS434 machine (#14931)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 90b1802576..7a1111fde3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -359,6 +359,7 @@
  *    -1 : thermocouple with AD595
  *     0 : not used
  *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
+ *   331 : (3.3V scaled thermistor 1 table)
  *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
  *     3 : Mendel-parts thermistor (4.7k pullup)
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
@@ -402,7 +403,7 @@
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '512':"100k RPW-Ultra hotend thermistor", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '18':"ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327" '20':"Pt100 (Ultimainboard V2.x)", '201':"Pt100 (Overlord)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
+ * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '331':"(3.3V thermistor 1)", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '512':"100k RPW-Ultra hotend thermistor", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '18':"ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327" '20':"Pt100 (Ultimainboard V2.x)", '201':"Pt100 (Overlord)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit bc93ac53b597d9a8f56c9f3e8559c093994c19f5
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Aug 18 19:51:37 2019 -0500

    Fix #define typo in configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2858b33290..90b1802576 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2037,7 +2037,7 @@
 // LulzBot Color Touch UI for FTDI EVE (FT800/FT810) displays
 // See Configuration_adv.h for all configuration options.
 //
-//#defined LULZBOT_TOUCH_UI
+//#define LULZBOT_TOUCH_UI
 
 //
 // Third-party or vendor-customized controller interfaces.

commit 274934ad81ee6cd9b4f686e55107966cc4e23bd7
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Fri Aug 16 17:34:13 2019 -0600

    Add LULZBOT_TOUCH_UI (#14967)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2744d43b15..2858b33290 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2033,6 +2033,12 @@
 //
 //#define MALYAN_LCD
 
+//
+// LulzBot Color Touch UI for FTDI EVE (FT800/FT810) displays
+// See Configuration_adv.h for all configuration options.
+//
+//#defined LULZBOT_TOUCH_UI
+
 //
 // Third-party or vendor-customized controller interfaces.
 // Sources should be installed in 'src/lcd/extensible_ui'.

commit e3660bca2591fad81589b2e4a3a7cf174bbc8eea
Author: Tim Moore <tim@youngmoores.com>
Date:   Sat Aug 3 18:57:56 2019 -0700

    Overlord printer thermistor (#14815)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 676d8bce6d..2744d43b15 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -376,7 +376,8 @@
  *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  *    15 : 100k thermistor calibration for JGAurora A5 hotend
  *    18 : ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327
- *    20 : the PT100 circuit found in the Ultimainboard V2.x
+ *    20 : Pt100 with circuit in the Ultimainboard V2.x
+ *   201 : Pt100 with circuit in Overlord, similar to Ultimainboard V2.x
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    61 : 100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup
  *    66 : 4.7M High Temperature thermistor from Dyze Design
@@ -401,7 +402,7 @@
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '512':"100k RPW-Ultra hotend thermistor", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '18':"ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327" '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
+ * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '512':"100k RPW-Ultra hotend thermistor", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '18':"ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327" '20':"Pt100 (Ultimainboard V2.x)", '201':"Pt100 (Overlord)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit e85eca2630db50574f3829aa9d58237d7562d38f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Aug 2 07:22:07 2019 -0500

    HAL cleanup, Teensy 3.1 platform

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index de74e057fb..676d8bce6d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -461,7 +461,6 @@
 #define PID_MAX BANG_MAX // Limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #define PID_K1 0.95      // Smoothing factor within any PID loop
 #if ENABLED(PIDTEMP)
-  //#define MIN_POWER 0
   //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
   //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
   //#define PID_DEBUG             // Sends debug data to the serial port.

commit 940c59d9dad5af071052f5c0cd1ec98c48c2778c
Author: Tim Moore <tim@youngmoores.com>
Date:   Fri Aug 2 04:19:45 2019 -0700

    Overlord i2c LCD with LEDs and buzzer (#14801)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index baf955a640..de74e057fb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2014,6 +2014,11 @@
 //
 //#define U8GLIB_SH1106_EINSTART
 
+//
+// Overlord OLED display/controller with i2c buzzer and LEDs
+//
+//#define OVERLORD_OLED
+
 //=============================================================================
 //========================== Extensible UI Displays ===========================
 //=============================================================================

commit 128eed6b57a8dd67d0fe02511e9437755e326c31
Author: Robby Candra <robbycandra.mail@gmail.com>
Date:   Wed Jul 31 05:42:57 2019 +0700

    Option to reverse select direction/buttons (#14693)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ee1b480bd7..baf955a640 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1691,6 +1691,14 @@
 //
 //#define REVERSE_MENU_DIRECTION
 
+//
+// This option reverses the encoder direction for Select Screen.
+//
+//  If CLOCKWISE normally moves LEFT this makes it go RIGHT.
+//  If CLOCKWISE normally moves RIGHT this makes it go LEFT.
+//
+//#define REVERSE_SELECT_DIRECTION
+
 //
 // Individual Axis Homing
 //

commit bc58e678bde3399b6852ce5cd19e0031bb76eccb
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Jul 30 04:00:51 2019 -0500

    More general FSMC display option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 520dfbc5ff..ee1b480bd7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2031,9 +2031,9 @@
 //=============================================================================
 
 //
-// MKS Robin 320x240 color display
+// FSMC display (MKS Robin, Alfawise U20, JGAurora A5S, A1, etc.)
 //
-//#define MKS_ROBIN_TFT
+//#define FSMC_GRAPHICAL_TFT
 
 //=============================================================================
 //============================  Other Controllers  ============================

commit c942ca130f1939e2425fe3a3a342604bfecf5b62
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Jul 30 04:19:55 2019 -0500

    More general TOUCH_BUTTONS comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a711395943..520dfbc5ff 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2040,8 +2040,7 @@
 //=============================================================================
 
 //
-// Alfawise U30 ILI9341 2.8 TP Ver 1.2
-// (Blue PCB on the back of touchscreen)
+// ADS7843/XPT2046 ADC Touchscreen such as ILI9341 2.8
 //
 //#define TOUCH_BUTTONS
 #if ENABLED(TOUCH_BUTTONS)

commit 1579091c206c14bbf7c88186fae07ccddc001a36
Author: mikeshub <mikesbaker@gmail.com>
Date:   Sun Jul 28 15:50:25 2019 -0500

    PID loop improvements (#14746)
    
    * Fix macro evaluation in `temperature.cpp`
    * Improve bed PID, PID debug output
    * Add min PID power define

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dff0a4b77e..a711395943 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -461,6 +461,7 @@
 #define PID_MAX BANG_MAX // Limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #define PID_K1 0.95      // Smoothing factor within any PID loop
 #if ENABLED(PIDTEMP)
+  //#define MIN_POWER 0
   //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
   //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
   //#define PID_DEBUG             // Sends debug data to the serial port.
@@ -520,7 +521,7 @@
 #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
 
 #if ENABLED(PIDTEMPBED)
-
+  //#define MIN_BED_POWER 0
   //#define PID_BED_DEBUG // Sends debug data to the serial port.
 
   //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)

commit e5aa45329305be8ac5e277305d52a449a41bfc98
Author: Tim Moore <tim@youngmoores.com>
Date:   Sat Jul 20 21:14:09 2019 -0700

    Add support for 2 Neopixel strips (#14667)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e2a6fe746d..dff0a4b77e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2144,8 +2144,10 @@
 //#define NEOPIXEL_LED
 #if ENABLED(NEOPIXEL_LED)
   #define NEOPIXEL_TYPE   NEO_GRBW // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
-  #define NEOPIXEL_PIN    4        // LED driving pin
-  #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip
+  #define NEOPIXEL_PIN     4       // LED driving pin
+  //#define NEOPIXEL2_TYPE NEOPIXEL_TYPE
+  //#define NEOPIXEL2_PIN    5
+  #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip, larger of 2 strips if 2 neopixel strips are used
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
   #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)
   //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup

commit 00e2f6da8f097215ddb96a83fe6853d26fb6bca4
Author: wookie666 <chemmings60@gmail.com>
Date:   Fri Jul 19 21:07:26 2019 +1000

    Improve magnetic dock switching toolhead (#14663)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9a25b6ac9a..e2a6fe746d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -275,7 +275,14 @@
     #define SWITCHING_TOOLHEAD_SERVO_ANGLES { 0, 180 }  // (degrees) Angles for Lock, Unlock
   #elif ENABLED(MAGNETIC_SWITCHING_TOOLHEAD)
     #define SWITCHING_TOOLHEAD_Y_RELEASE      5         // (mm) Security distance Y axis
-    #define SWITCHING_TOOLHEAD_X_SECURITY   -35         // (mm) Security distance X axis
+    #define SWITCHING_TOOLHEAD_X_SECURITY   { 90, 150 } // (mm) Security distance X axis (T0,T1)
+    //#define PRIME_BEFORE_REMOVE                       // Prime the nozzle before release from the dock
+    #if ENABLED(PRIME_BEFORE_REMOVE)
+      #define SWITCHING_TOOLHEAD_PRIME_MM           20  // (mm)   Extruder prime length
+      #define SWITCHING_TOOLHEAD_RETRACT_MM         10  // (mm)   Retract after priming length
+      #define SWITCHING_TOOLHEAD_PRIME_FEEDRATE    300  // (mm/m) Extruder prime feedrate
+      #define SWITCHING_TOOLHEAD_RETRACT_FEEDRATE 2400  // (mm/m) Extruder retract feedrate
+    #endif
   #elif ENABLED(ELECTROMAGNETIC_SWITCHING_TOOLHEAD)
     #define SWITCHING_TOOLHEAD_Z_HOP          2         // (mm) Z raise for switching
   #endif

commit 81d629bc471dcf926337836d1dd76910d9ff4bfe
Author: Tanguy Pruvot <tpruvot@users.noreply.github.com>
Date:   Mon Jul 15 01:16:26 2019 +0200

    Robin & Longer3D SPI TFT driver (#14595)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bcecca1dca..9a25b6ac9a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2032,8 +2032,16 @@
 //=============================================================================
 
 //
-// CONTROLLER TYPE: Keypad / Add-on
-//
+// Alfawise U30 ILI9341 2.8 TP Ver 1.2
+// (Blue PCB on the back of touchscreen)
+//
+//#define TOUCH_BUTTONS
+#if ENABLED(TOUCH_BUTTONS)
+  #define XPT2046_X_CALIBRATION   12316
+  #define XPT2046_Y_CALIBRATION  -8981
+  #define XPT2046_X_OFFSET       -43
+  #define XPT2046_Y_OFFSET        257
+#endif
 
 //
 // RepRapWorld REPRAPWORLD_KEYPAD v1.1

commit d2f20803baa05874e374c5eefd8f124acd3d97fe
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sun Jul 14 07:58:53 2019 -0400

    Allow nozzle clean with limited Axis (#14619)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6880d7bbea..bcecca1dca 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1522,8 +1522,11 @@
   // Middle point of circle
   #define NOZZLE_CLEAN_CIRCLE_MIDDLE NOZZLE_CLEAN_START_POINT
 
-  // Moves the nozzle to the initial position
+  // Move the nozzle to the initial position after cleaning
   #define NOZZLE_CLEAN_GOBACK
+
+  // Enable for a purge/clean station that's always at the gantry height (thus no Z move)
+  //#define NOZZLE_CLEAN_NO_Z
 #endif
 
 /**

commit 3218c4b33f5322e385eafb536bbcf3b557f2b04e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jul 11 05:45:20 2019 -0500

    Shorten some config descriptions

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 104bb5a651..6880d7bbea 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -129,18 +129,16 @@
 // Enable the Bluetooth serial interface on AT90USB devices
 //#define BLUETOOTH
 
-// The following define selects which electronics board you have.
-// Please choose the name from boards.h that matches your setup
+// Choose the name from boards.h that matches your setup
 #ifndef MOTHERBOARD
   #define MOTHERBOARD BOARD_RAMPS_14_EFB
 #endif
 
-// Optional custom name for your RepStrap or other custom machine
-// Displayed in the LCD "Ready" message
+// Name displayed in the LCD "Ready" message and Info menu
 //#define CUSTOM_MACHINE_NAME "3D Printer"
 
-// Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
-// You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)
+// Printer's unique ID, used by some programs to differentiate between machines.
+// Choose your own or use a service like http://www.uuidgenerator.net/version4
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
 // @section extruder

commit 84d0bc5c170c9a63928cb9c3e1c45c525a61a3e3
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jul 4 15:48:22 2019 -0500

    OLED LCD section

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2741ef4396..104bb5a651 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1909,31 +1909,12 @@
 //
 //#define LCD_FOR_MELZI
 
-//
-// SSD1306 OLED full graphics generic display
-//
-//#define U8GLIB_SSD1306
-
-//
-// SAV OLEd LCD module support using either SSD1306 or SH1106 based LCD modules
-//
-//#define SAV_3DGLCD
-#if ENABLED(SAV_3DGLCD)
-  //#define U8GLIB_SSD1306
-  #define U8GLIB_SH1106
-#endif
-
 //
 // Original Ulticontroller from Ultimaker 2 printer with SSD1309 I2C display and encoder
 // https://github.com/Ultimaker/Ultimaker2/tree/master/1249_Ulticontroller_Board_(x1)
 //
 //#define ULTI_CONTROLLER
 
-//
-// TinyBoy2 128x64 OLED / Encoder Panel
-//
-//#define OLED_PANEL_TINYBOY2
-
 //
 // MKS MINI12864 with graphic controller and SD support
 // https://reprap.org/wiki/MKS_MINI_12864
@@ -1967,15 +1948,6 @@
 //
 //#define ANET_FULL_GRAPHICS_LCD
 
-//
-// MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER
-// http://reprap.org/wiki/MKS_12864OLED
-//
-// Tiny, but very sharp OLED display
-//
-//#define MKS_12864OLED          // Uses the SH1106 controller (default)
-//#define MKS_12864OLED_SSD1306  // Uses the SSD1306 controller
-
 //
 // AZSMZ 12864 LCD with SD
 // https://www.aliexpress.com/store/product/3D-printer-smart-controller-SMART-RAMPS-OR-RAMPS-1-4-LCD-12864-LCD-control-panel-green/2179173_32213636460.html
@@ -1988,6 +1960,43 @@
 //
 //#define SILVER_GATE_GLCD_CONTROLLER
 
+//=============================================================================
+//==============================  OLED Displays  ==============================
+//=============================================================================
+
+//
+// SSD1306 OLED full graphics generic display
+//
+//#define U8GLIB_SSD1306
+
+//
+// SAV OLEd LCD module support using either SSD1306 or SH1106 based LCD modules
+//
+//#define SAV_3DGLCD
+#if ENABLED(SAV_3DGLCD)
+  #define U8GLIB_SSD1306
+  //#define U8GLIB_SH1106
+#endif
+
+//
+// TinyBoy2 128x64 OLED / Encoder Panel
+//
+//#define OLED_PANEL_TINYBOY2
+
+//
+// MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER
+// http://reprap.org/wiki/MKS_12864OLED
+//
+// Tiny, but very sharp OLED display
+//
+//#define MKS_12864OLED          // Uses the SH1106 controller (default)
+//#define MKS_12864OLED_SSD1306  // Uses the SSD1306 controller
+
+//
+// Einstart S OLED SSD1306
+//
+//#define U8GLIB_SH1106_EINSTART
+
 //=============================================================================
 //========================== Extensible UI Displays ===========================
 //=============================================================================

commit 4fa8053638c7107e9584414fe2fb571a97d7e402
Author: Vanessa Dannenberg <vanessa.e.dannenberg@gmail.com>
Date:   Fri Jul 5 21:37:05 2019 -0400

    RPW-Ultra thermistor table (#14517)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f0a826ac6d..2741ef4396 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -359,6 +359,7 @@
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
  *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan & J-Head) (4.7k pullup)
  *   501 : 100K Zonestar (Tronxy X3A) Thermistor
+ *   512 : 100k RPW-Ultra hotend thermistor (4.7k pullup)
  *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
  *    71 : 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
@@ -395,7 +396,7 @@
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '18':"ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327" '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
+ * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '512':"100k RPW-Ultra hotend thermistor", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '18':"ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327" '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit eb6dec03bd8d5f6a99b594c933f0934c348f5034
Author: Tim Moore <tim@youngmoores.com>
Date:   Thu Jul 4 23:58:34 2019 -0700

    Simplify power supply naming logic (#14488)
    
    Co-Authored-By: Tim Moore <tim.moore@lightbend.com>
    Co-Authored-By: AnHardt <github@kitelab.de>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 87146750ba..f0a826ac6d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -312,22 +312,20 @@
 // @section machine
 
 /**
- * Select your power supply here. Use 0 if you haven't connected the PS_ON_PIN
+ * Power Supply Control
  *
- * 0 = No Power Switch
- * 1 = ATX
- * 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
- *
- * :{ 0:'No power switch', 1:'ATX', 2:'X-Box 360' }
+ * Enable and connect the power supply to the PS_ON_PIN.
+ * Specify whether the power supply is active HIGH or active LOW.
  */
-#define POWER_SUPPLY 0
+//#define PSU_CONTROL
+//#define PSU_NAME "Power Supply"
+
+#if ENABLED(PSU_CONTROL)
+  #define PSU_ACTIVE_HIGH false // Set 'false' for ATX (1), 'true' for X-Box (2)
 
-#if POWER_SUPPLY > 0
-  // Enable this option to leave the PSU off at startup.
-  // Power to steppers and heaters will need to be turned on with M80.
-  //#define PS_DEFAULT_OFF
+  //#define PS_DEFAULT_OFF      // Keep power off until enabled directly with M80
 
-  //#define AUTO_POWER_CONTROL        // Enable automatic control of the PS_ON pin
+  //#define AUTO_POWER_CONTROL  // Enable automatic control of the PS_ON pin
   #if ENABLED(AUTO_POWER_CONTROL)
     #define AUTO_POWER_FANS           // Turn on PSU if fans need power
     #define AUTO_POWER_E_FANS
@@ -337,7 +335,6 @@
     //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) Turn on PSU over this temperature
     #define POWER_TIMEOUT 30
   #endif
-
 #endif
 
 // @section temperature

commit 2f932a11b3bacb50c520fed0549551e2e363a41a
Author: Aliaksei Kvitsinski <aleksei.wm@gmail.com>
Date:   Mon Jul 1 13:55:23 2019 +0300

    Park heads with electromagnet (#14023)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d5072c0706..87146750ba 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -258,7 +258,16 @@
  */
 //#define MAGNETIC_SWITCHING_TOOLHEAD
 
-#if EITHER(SWITCHING_TOOLHEAD, MAGNETIC_SWITCHING_TOOLHEAD)
+/**
+ * Electromagnetic Switching Toolhead
+ *
+ * Parking for CoreXY / HBot kinematics.
+ * Toolheads are parked at one edge and held with an electromagnet.
+ * Supports more than 2 Toolheads. See https://youtu.be/JolbsAKTKf4
+ */
+//#define ELECTROMAGNETIC_SWITCHING_TOOLHEAD
+
+#if ANY(SWITCHING_TOOLHEAD, MAGNETIC_SWITCHING_TOOLHEAD, ELECTROMAGNETIC_SWITCHING_TOOLHEAD)
   #define SWITCHING_TOOLHEAD_Y_POS          235         // (mm) Y position of the toolhead dock
   #define SWITCHING_TOOLHEAD_Y_SECURITY      10         // (mm) Security distance Y axis
   #define SWITCHING_TOOLHEAD_Y_CLEAR         60         // (mm) Minimum distance from dock for unobstructed X axis
@@ -269,6 +278,8 @@
   #elif ENABLED(MAGNETIC_SWITCHING_TOOLHEAD)
     #define SWITCHING_TOOLHEAD_Y_RELEASE      5         // (mm) Security distance Y axis
     #define SWITCHING_TOOLHEAD_X_SECURITY   -35         // (mm) Security distance X axis
+  #elif ENABLED(ELECTROMAGNETIC_SWITCHING_TOOLHEAD)
+    #define SWITCHING_TOOLHEAD_Z_HOP          2         // (mm) Z raise for switching
   #endif
 #endif
 

commit 4b9f6d531b56157e28f5e702fbc3fa79fcca043a
Author: thisiskeithb <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Jun 30 23:17:53 2019 -0700

    Add links to Junction Deviation heading (#14272)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 99acf27804..d5072c0706 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -731,9 +731,15 @@
 #define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration for retracts
 #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
 
-//
-// Use Junction Deviation instead of traditional Jerk Limiting
-//
+/**
+ * Junction Deviation
+ *
+ * Use Junction Deviation instead of traditional Jerk Limiting
+ *
+ * See:
+ *   https://reprap.org/forum/read.php?1,739819
+ *   http://blog.kyneticcnc.com/2018/10/computing-junction-deviation-for-marlin.html
+ */
 //#define JUNCTION_DEVIATION
 #if ENABLED(JUNCTION_DEVIATION)
   #define JUNCTION_DEVIATION_MM 0.02  // (mm) Distance from real junction edge

commit 24655a6bf32163cda24fffc08b558ab6533e2dbc
Author: Tanguy Pruvot <tpruvot@users.noreply.github.com>
Date:   Mon Jul 1 06:55:27 2019 +0200

    Touch-MI Menu and Manual Deploy option (#14290)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 812cba152c..99acf27804 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -839,12 +839,13 @@
  * on the right, enable and set TOUCH_MI_DEPLOY_XPOS to the deploy position.
  *
  * Also requires: BABYSTEPPING, BABYSTEP_ZPROBE_OFFSET, Z_SAFE_HOMING,
- *                MIN_PROBE_EDGE, and a minimum Z_HOMING_HEIGHT of 10.
+ *                and a minimum Z_HOMING_HEIGHT of 10.
  */
 //#define TOUCH_MI_PROBE
 #if ENABLED(TOUCH_MI_PROBE)
   #define TOUCH_MI_RETRACT_Z 0.5                  // Height at which the probe retracts
   //#define TOUCH_MI_DEPLOY_XPOS (X_MAX_BED + 2)  // For a magnet on the right side of the bed
+  //#define TOUCH_MI_MANUAL_DEPLOY                // For manual deploy (LCD menu)
 #endif
 
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)

commit 93cd66ac1146603e8a9911fceb3c63f4351f4d8e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jun 27 23:57:50 2019 -0500

    Tweaky change from (C) to (c)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5ca11f68e8..812cba152c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,9 +1,9 @@
 /**
  * Marlin 3D Printer Firmware
- * Copyright (C) 2019 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ * Copyright (c) 2019 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
  *
  * Based on Sprinter and grbl.
- * Copyright (C) 2011 Camiel Gubbels / Erik van der Zalm
+ * Copyright (c) 2011 Camiel Gubbels / Erik van der Zalm
  *
  * This program is free software: you can redistribute it and/or modify
  * it under the terms of the GNU General Public License as published by

commit 8ce84fa44fd4f728249335df9d03a3444fd8933c
Author: Tim Moore <tim@youngmoores.com>
Date:   Thu Jun 27 14:28:07 2019 -0700

    Add temperature-based auto power options (#14397)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 703263fa3a..5ca11f68e8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -322,6 +322,8 @@
     #define AUTO_POWER_E_FANS
     #define AUTO_POWER_CONTROLLERFAN
     #define AUTO_POWER_CHAMBER_FAN
+    //#define AUTO_POWER_E_TEMP        50 // (¬∞C) Turn on PSU over this temperature
+    //#define AUTO_POWER_CHAMBER_TEMP  30 // (¬∞C) Turn on PSU over this temperature
     #define POWER_TIMEOUT 30
   #endif
 

commit c41b005f33ce14a3ee0de4af5c6004a0d52137b6
Author: MrMabulous <matthias.buehlmann@mabulous.com>
Date:   Sat Jun 22 02:02:26 2019 +0200

    Add Extra Probing option, discarding outliers (#14338)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d9e2e40ca5..703263fa3a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -898,10 +898,17 @@
 // Feedrate (mm/m) for the "accurate" probe of each point
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
 
-// The number of probes to perform at each point.
-//   Set to 2 for a fast/slow probe, using the second probe result.
-//   Set to 3 or more for slow probes, averaging the results.
+/**
+ * Multiple Probing
+ *
+ * You may get improved results by probing 2 or more times.
+ * With EXTRA_PROBING the more atypical reading(s) will be disregarded.
+ *
+ * A total of 2 does fast/slow probes with a weighted average.
+ * A total of 3 or more adds more slow probes, taking the average.
+ */
 //#define MULTIPLE_PROBING 2
+//#define EXTRA_PROBING    1
 
 /**
  * Z probes require clearance when deploying, stowing, and moving between

commit eeaef2410ac80b7bfa21fbec98abd00003ff83f8
Author: Tobias Frost <coldtobi@users.noreply.github.com>
Date:   Fri Jun 21 11:47:23 2019 +0200

    Support DGUS Display with DWIN OS (#13253)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index da5dba0df2..d9e2e40ca5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1963,12 +1963,23 @@
 //
 //#define SILVER_GATE_GLCD_CONTROLLER
 
+//=============================================================================
+//========================== Extensible UI Displays ===========================
+//=============================================================================
+
+//
+// DGUS Touch Display with DWIN OS
 //
-// Extensible UI
+//#define DGUS_LCD
+
+//
+// Touch-screen LCD for Malyan M200 printers
+//
+//#define MALYAN_LCD
+
 //
-// Enable third-party or vendor customized user interfaces that aren't
-// packaged with Marlin. Source code for the user interface will need to
-// be placed in "src/lcd/extensible_ui/lib"
+// Third-party or vendor-customized controller interfaces.
+// Sources should be installed in 'src/lcd/extensible_ui'.
 //
 //#define EXTENSIBLE_UI
 
@@ -1985,15 +1996,6 @@
 //============================  Other Controllers  ============================
 //=============================================================================
 
-//
-// CONTROLLER TYPE: Standalone / Serial
-//
-
-//
-// LCD for Malyan M200 printers.
-//
-//#define MALYAN_LCD
-
 //
 // CONTROLLER TYPE: Keypad / Add-on
 //

commit a31cb910f525fec4005af813249531952336d367
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jun 20 21:01:08 2019 -0500

    Tweak some config spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d905bd4984..da5dba0df2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -294,9 +294,9 @@
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
 // For the other hotends it is their distance from the extruder 0 hotend.
-//#define HOTEND_OFFSET_X {0.0, 20.00} // (mm) relative X-offset for each nozzle
-//#define HOTEND_OFFSET_Y {0.0, 5.00}  // (mm) relative Y-offset for each nozzle
-//#define HOTEND_OFFSET_Z {0.0, 0.00}  // (mm) relative Z-offset for each nozzle
+//#define HOTEND_OFFSET_X { 0.0, 20.00 } // (mm) relative X-offset for each nozzle
+//#define HOTEND_OFFSET_Y { 0.0, 5.00 }  // (mm) relative Y-offset for each nozzle
+//#define HOTEND_OFFSET_Z { 0.0, 0.00 }  // (mm) relative Z-offset for each nozzle
 
 // @section machine
 
@@ -821,8 +821,8 @@
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.
  */
-//#define Z_PROBE_SERVO_NR 0   // Defaults to SERVO 0 connector.
-//#define Z_SERVO_ANGLES {70,0}  // Z Servo Deploy and Stow angles
+//#define Z_PROBE_SERVO_NR 0       // Defaults to SERVO 0 connector.
+//#define Z_SERVO_ANGLES { 70, 0 } // Z Servo Deploy and Stow angles
 
 /**
  * The BLTouch probe uses a Hall effect sensor and emulates a servo.
@@ -1490,7 +1490,7 @@
 
   // Specify positions as { X, Y, Z }
   #define NOZZLE_CLEAN_START_POINT { 30, 30, (Z_MIN_POS + 1)}
-  #define NOZZLE_CLEAN_END_POINT   {100, 60, (Z_MIN_POS + 1)}
+  #define NOZZLE_CLEAN_END_POINT   { 100, 60, (Z_MIN_POS + 1) }
 
   // Circular pattern radius
   #define NOZZLE_CLEAN_CIRCLE_RADIUS 6.5

commit 4df4c47994f248428ae30218800803e467327b6e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Jun 20 15:47:50 2019 -0500

    Add TMC2209 support (#14249)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1e0991f318..d905bd4984 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -637,11 +637,11 @@
  * A4988 is assumed for unspecified drivers.
  *
  * Options: A4988, A5984, DRV8825, LV8729, L6470, TB6560, TB6600, TMC2100,
- *          TMC2130, TMC2130_STANDALONE, TMC2208, TMC2208_STANDALONE,
+ *          TMC2130, TMC2130_STANDALONE, TMC2160, TMC2160_STANDALONE,
+ *          TMC2208, TMC2208_STANDALONE, TMC2209, TMC2209_STANDALONE,
  *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
- *          TMC2160, TMC2160_STANDALONE, TMC5130, TMC5130_STANDALONE,
- *          TMC5160, TMC5160_STANDALONE
- * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
+ *          TMC5130, TMC5130_STANDALONE, TMC5160, TMC5160_STANDALONE
+ * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC2209', 'TMC2209_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
 //#define X_DRIVER_TYPE  A4988
 //#define Y_DRIVER_TYPE  A4988

commit ed0c70f0a07bbf8d1f0540fcca4d7c5bdf361f5e
Author: Tanguy Pruvot <tpruvot@users.noreply.github.com>
Date:   Thu Jun 20 12:49:27 2019 +0200

    SKRmini followup - Fysetc config updates (#14327)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 661dca9368..1e0991f318 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1911,14 +1911,15 @@
 
 //
 // MKS MINI12864 with graphic controller and SD support
-// http://reprap.org/wiki/MKS_MINI_12864
+// https://reprap.org/wiki/MKS_MINI_12864
 //
 //#define MKS_MINI_12864
 
 //
 // FYSETC variant of the MINI12864 graphic controller with SD support
-// https://wiki.fysetc.com/Mini12864_Panel/?fbclid=IwAR1FyjuNdVOOy9_xzky3qqo_WeM5h-4gpRnnWhQr_O1Ef3h0AFnFXmCehK8
+// https://wiki.fysetc.com/Mini12864_Panel/
 //
+//#define FYSETC_MINI_12864_X_X  // Type C/D/E/F. No tunable RGB Backlight by default
 //#define FYSETC_MINI_12864_1_2  // Type C/D/E/F. Simple RGB Backlight (always on)
 //#define FYSETC_MINI_12864_2_0  // Type A/B. Discreet RGB Backlight
 //#define FYSETC_MINI_12864_2_1  // Type A/B. Neopixel RGB Backlight

commit aacb904e1f8841d0f8e74d66c8b0aed160678215
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Jun 17 18:45:43 2019 -0500

    Adjust some config comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b28387740a..661dca9368 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -620,13 +620,13 @@
 #endif
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
-#define X_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Y_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Z_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define X_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Y_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the probe.
+#define X_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Y_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Z_MIN_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define X_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Y_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Z_MAX_ENDSTOP_INVERTING false // Set to true to invert the logic of the endstop.
+#define Z_MIN_PROBE_ENDSTOP_INVERTING false // Set to true to invert the logic of the probe.
 
 /**
  * Stepper Drivers
@@ -1059,7 +1059,7 @@
 //#define FILAMENT_RUNOUT_SENSOR
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
   #define NUM_RUNOUT_SENSORS   1     // Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.
-  #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
+  #define FIL_RUNOUT_INVERTING false // Set to true to invert the logic of the sensor.
   #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
   //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.
 

commit f2cfa408b74ad6d2d885c72e5fee9cde7973aa55
Author: Tanguy Pruvot <tpruvot@users.noreply.github.com>
Date:   Sat Jun 15 05:19:48 2019 +0200

    Touch-MI probe by hotends.fr (#14101)
    
    A simple Z probe using a magnet to deploy a probe. See https://youtu.be/E7Ik9PbKPl0 for the sensor description...

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index df435b970d..b28387740a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -829,6 +829,22 @@
  */
 //#define BLTOUCH
 
+/**
+ * Touch-MI Probe by hotends.fr
+ *
+ * This probe is deployed and activated by moving the X-axis to a magnet at the edge of the bed.
+ * By default, the magnet is assumed to be on the left and activated by a home. If the magnet is
+ * on the right, enable and set TOUCH_MI_DEPLOY_XPOS to the deploy position.
+ *
+ * Also requires: BABYSTEPPING, BABYSTEP_ZPROBE_OFFSET, Z_SAFE_HOMING,
+ *                MIN_PROBE_EDGE, and a minimum Z_HOMING_HEIGHT of 10.
+ */
+//#define TOUCH_MI_PROBE
+#if ENABLED(TOUCH_MI_PROBE)
+  #define TOUCH_MI_RETRACT_Z 0.5                  // Height at which the probe retracts
+  //#define TOUCH_MI_DEPLOY_XPOS (X_MAX_BED + 2)  // For a magnet on the right side of the bed
+#endif
+
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE
 

commit b7eeb5b13b4f299b8e1b994d678e35262a1c09b0
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Mon Jun 10 18:46:42 2019 -0400

    Move BLTouch options to adv config (#14131)
    
    Plus other BLTouch and menu enhancements.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 59e2d5c723..df435b970d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -828,72 +828,6 @@
  * The BLTouch probe uses a Hall effect sensor and emulates a servo.
  */
 //#define BLTOUCH
-#if ENABLED(BLTOUCH)
-  /**
-   * Either: Use the defaults (recommended) or: For special purposes, use the following DEFINES
-   * Do not activate settings that the probe might not understand. Clones might misunderstand
-   * advanced commands.
-   *
-   * Note: If the probe is not deploying, check a "Cmd: Reset" and "Cmd: Self-Test" and then
-   *       check the wiring of the BROWN, RED and ORANGE wires.
-   *
-   * Note: If the trigger signal of your probe is not being recognized, it has been very often
-   *       because the BLACK and WHITE wires needed to be swapped. They are not "interchangeable"
-   *       like they would be with a real switch. So please check the wiring first.
-   *
-   * Settings for all BLTouch and clone probes:
-   */
-
-  // Safety: The probe needs time to recognize the command.
-  //         Minimum command delay (ms). Enable and increase if needed.
-  //#define BLTOUCH_DELAY 500
-
-  /**
-   * Settings for BLTOUCH Classic 1.2, 1.3 or BLTouch Smart 1.0, 2.0, 2.2, 3.0, 3.1, and most clones:
-   */
-
-  // Feature: Switch into SW mode after a deploy. It makes the output pulse longer. Can be useful
-  //          in special cases, like noisy or filtered input configurations.
-  //#define BLTOUCH_FORCE_SW_MODE
-
-  /**
-   * Settings for BLTouch Smart 3.0 and 3.1
-   * Summary:
-   *   - Voltage modes: 5V and OD (open drain - "logic voltage free") output modes
-   *   - High-Speed mode
-   *   - Disable LCD voltage options
-   */
-
-  /**
-   * Danger: Don't activate 5V mode unless attached to a 5V-tolerant controller!
-   * V3.0 or 3.1: Set default mode to 5V mode at Marlin startup.
-   * If disabled, OD mode is the hard-coded default on 3.0
-   * On startup, Marlin will compare its eeprom to this vale. If the selected mode
-   * differs, a mode set eeprom write will be completed at initialization.
-   * Use the option below to force an eeprom write to a V3.1 probe regardless.
-   */
-  //#define BLTOUCH_SET_5V_MODE
-
-  /**
-   * Safety: Activate if connecting a probe with an unknown voltage mode.
-   * V3.0: Set a probe into mode selected above at Marlin startup. Required for 5V mode on 3.0
-   * V3.1: Force a probe with unknown mode into selected mode at Marlin startup ( = Probe EEPROM write )
-   * To preserve the life of the probe, use this once then turn it off and re-flash.
-   */
-  //#define BLTOUCH_FORCE_MODE_SET
-
-  /**
-   * Use "HIGH SPEED" mode for probing.
-   * Danger: Disable if your probe sometimes fails. Only suitable for stable well-adjusted systems.
-   * This feature was designed for Delta's with very fast Z moves however higher speed cartesians may function
-   * If the machine cannot raise the probe fast enough after a trigger, it may enter a fault state.
-   */
-  //#define BLTOUCH_HS_MODE
-
-  // Safety: Enable voltage mode settings in the LCD menu.
-  //#define BLTOUCH_LCD_VOLTAGE_MENU
-
-#endif // BLTOUCH
 
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE

commit f6ec00d776090a59fd8a61f65e05ab537f068023
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue Jun 4 20:25:00 2019 -0400

    Update thermistor and working config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d0ccf20148..59e2d5c723 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -359,6 +359,7 @@
  *    12 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
  *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  *    15 : 100k thermistor calibration for JGAurora A5 hotend
+ *    18 : ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327
  *    20 : the PT100 circuit found in the Ultimainboard V2.x
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    61 : 100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup
@@ -384,7 +385,7 @@
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
+ * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '18':"ATC Semitec 204GT-2 (4.7k pullup) Dagoma.Fr - MKS_Base_DKU001327" '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit 49e83dd7c81cffef7462a0a53a70a125562de83a
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sat May 25 22:56:47 2019 -0400

    BLTouch V3.1 changes (#14104)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4e4393ae8c..d0ccf20148 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -828,15 +828,71 @@
  */
 //#define BLTOUCH
 #if ENABLED(BLTOUCH)
-  //#define BLTOUCH_DELAY 500   // Minimum Command delay (ms). Enable and increase if needed
+  /**
+   * Either: Use the defaults (recommended) or: For special purposes, use the following DEFINES
+   * Do not activate settings that the probe might not understand. Clones might misunderstand
+   * advanced commands.
+   *
+   * Note: If the probe is not deploying, check a "Cmd: Reset" and "Cmd: Self-Test" and then
+   *       check the wiring of the BROWN, RED and ORANGE wires.
+   *
+   * Note: If the trigger signal of your probe is not being recognized, it has been very often
+   *       because the BLACK and WHITE wires needed to be swapped. They are not "interchangeable"
+   *       like they would be with a real switch. So please check the wiring first.
+   *
+   * Settings for all BLTouch and clone probes:
+   */
+
+  // Safety: The probe needs time to recognize the command.
+  //         Minimum command delay (ms). Enable and increase if needed.
+  //#define BLTOUCH_DELAY 500
 
   /**
-   * BLTouch V3.0 and newer smart series
-   * For genuine BLTouch 3.0 sensors. Clones may be confused by 3.0 command angles. YMMV.
-   * If the pin trigger is not detected, first try swapping the black and white wires then toggle this.
+   * Settings for BLTOUCH Classic 1.2, 1.3 or BLTouch Smart 1.0, 2.0, 2.2, 3.0, 3.1, and most clones:
    */
-  //#define BLTOUCH_FORCE_5V_MODE
-#endif
+
+  // Feature: Switch into SW mode after a deploy. It makes the output pulse longer. Can be useful
+  //          in special cases, like noisy or filtered input configurations.
+  //#define BLTOUCH_FORCE_SW_MODE
+
+  /**
+   * Settings for BLTouch Smart 3.0 and 3.1
+   * Summary:
+   *   - Voltage modes: 5V and OD (open drain - "logic voltage free") output modes
+   *   - High-Speed mode
+   *   - Disable LCD voltage options
+   */
+
+  /**
+   * Danger: Don't activate 5V mode unless attached to a 5V-tolerant controller!
+   * V3.0 or 3.1: Set default mode to 5V mode at Marlin startup.
+   * If disabled, OD mode is the hard-coded default on 3.0
+   * On startup, Marlin will compare its eeprom to this vale. If the selected mode
+   * differs, a mode set eeprom write will be completed at initialization.
+   * Use the option below to force an eeprom write to a V3.1 probe regardless.
+   */
+  //#define BLTOUCH_SET_5V_MODE
+
+  /**
+   * Safety: Activate if connecting a probe with an unknown voltage mode.
+   * V3.0: Set a probe into mode selected above at Marlin startup. Required for 5V mode on 3.0
+   * V3.1: Force a probe with unknown mode into selected mode at Marlin startup ( = Probe EEPROM write )
+   * To preserve the life of the probe, use this once then turn it off and re-flash.
+   */
+  //#define BLTOUCH_FORCE_MODE_SET
+
+  /**
+   * Use "HIGH SPEED" mode for probing.
+   * Danger: Disable if your probe sometimes fails. Only suitable for stable well-adjusted systems.
+   * This feature was designed for Delta's with very fast Z moves however higher speed cartesians may function
+   * If the machine cannot raise the probe fast enough after a trigger, it may enter a fault state.
+   */
+  //#define BLTOUCH_HS_MODE
+
+  // Safety: Enable voltage mode settings in the LCD menu.
+  //#define BLTOUCH_LCD_VOLTAGE_MENU
+
+#endif // BLTOUCH
 
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE

commit 14fe41f6b24cbd5a9596a788854aae0937e1412f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat May 25 19:41:03 2019 -0500

    Update Z probe offset comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bc01eba00c..4e4393ae8c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -857,23 +857,23 @@
 //
 
 /**
- *   Z Probe to nozzle (X,Y) offset, relative to (0, 0).
- *   X and Y offsets must be integers.
- *
- *   In the following example the X and Y offsets are both positive:
- *   #define X_PROBE_OFFSET_FROM_EXTRUDER 10
- *   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
- *
- *      +-- BACK ---+
- *      |           |
- *    L |    (+) P  | R <-- probe (20,20)
- *    E |           | I
- *    F | (-) N (+) | G <-- nozzle (10,10)
- *    T |           | H
- *      |    (-)    | T
- *      |           |
- *      O-- FRONT --+
- *    (0,0)
+ * Z Probe to nozzle (X,Y) offset, relative to (0, 0).
+ * X and Y offsets must be integers.
+ *
+ * In the following example the X and Y offsets are both positive:
+ * #define X_PROBE_OFFSET_FROM_EXTRUDER 10
+ * #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
+ *
+ *     +-- BACK ---+
+ *     |           |
+ *   L |    (+) P  | R <-- probe (20,20)
+ *   E |           | I
+ *   F | (-) N (+) | G <-- nozzle (10,10)
+ *   T |           | H
+ *     |    (-)    | T
+ *     |           |
+ *     O-- FRONT --+
+ *   (0,0)
  */
 #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
 #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]

commit 1dad6e754b1fc09e9018e663c7afc5da1794d0ae
Author: Bob Kuhn <bob.kuhn@att.net>
Date:   Sat May 18 02:36:37 2019 -0500

    Neopixel background LED option (#14025)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0575d981f0..bc01eba00c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2089,6 +2089,10 @@
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
   #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)
   //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup
+
+  // Use a single Neopixel LED for static (background) lighting
+  //#define NEOPIXEL_BKGD_LED_INDEX  0               // Index of the LED to use
+  //#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 } // R, G, B, W
 #endif
 
 /**

commit 6811e2921bcd272e7487e4f379b42a5a403a07c2
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue May 7 22:25:54 2019 -0400

    BLTouch v3 / 3DTouch Interoperability & performance (#13814)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 488445321e..0575d981f0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -828,18 +828,14 @@
  */
 //#define BLTOUCH
 #if ENABLED(BLTOUCH)
-  //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
+  //#define BLTOUCH_DELAY 500   // Minimum Command delay (ms). Enable and increase if needed
 
   /**
    * BLTouch V3.0 and newer smart series
    * For genuine BLTouch 3.0 sensors. Clones may be confused by 3.0 command angles. YMMV.
    * If the pin trigger is not detected, first try swapping the black and white wires then toggle this.
    */
-  //#define BLTOUCH_V3
-  #if ENABLED(BLTOUCH_V3)
-    //#define BLTOUCH_FORCE_5V_MODE
-    //#define BLTOUCH_FORCE_OPEN_DRAIN_MODE
-  #endif
+  //#define BLTOUCH_FORCE_5V_MODE
 #endif
 
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)

commit 5dcb25664f829be801e20ab6032e782c1c65b4ba
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue May 7 17:30:31 2019 -0400

    Option to Auto-Initialize EEPROM (#13935)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 47200885dd..488445321e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1364,17 +1364,21 @@
 
 // @section extras
 
-//
-// EEPROM
-//
-// The microcontroller can store settings in the EEPROM, e.g. max velocity...
-// M500 - stores parameters in EEPROM
-// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
-// M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
-//
-//#define EEPROM_SETTINGS // Enable for M500 and M501 commands
-//#define DISABLE_M503    // Saves ~2700 bytes of PROGMEM. Disable for release!
-#define EEPROM_CHITCHAT   // Give feedback on EEPROM commands. Disable to save PROGMEM.
+/**
+ * EEPROM
+ *
+ * Persistent storage to preserve configurable settings across reboots.
+ *
+ *   M500 - Store settings to EEPROM.
+ *   M501 - Read settings from EEPROM. (i.e., Throw away unsaved changes)
+ *   M502 - Revert settings to "factory" defaults. (Follow with M500 to init the EEPROM.)
+ */
+//#define EEPROM_SETTINGS     // Persistent storage with M500 and M501
+//#define DISABLE_M503        // Saves ~2700 bytes of PROGMEM. Disable for release!
+#define EEPROM_CHITCHAT       // Give feedback on EEPROM commands. Disable to save PROGMEM.
+#if ENABLED(EEPROM_SETTINGS)
+  //#define EEPROM_AUTO_INIT  // Init EEPROM automatically on any errors.
+#endif
 
 //
 // Host Keepalive

commit 23a8707ef1969be3db28251ccee2287e1ea7b9e4
Author: doggyfan <49303635+doggyfan@users.noreply.github.com>
Date:   Tue May 7 00:51:06 2019 +0100

    Configurable Thermistor (#13888)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b9443c8680..47200885dd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -378,11 +378,13 @@
  *   147 : Pt100 with 4k7 pullup
  *   110 : Pt100 with 1k pullup (non standard)
  *
+ *  1000 : Custom - Specify parameters in Configuration_adv.h
+ *
  *         Use these for Testing or Development purposes. NEVER for production machine.
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
+ * :{ '0':"Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595", '998':"Dummy 1", '999':"Dummy 2", '1000':"Custom thermistor params" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit e2a77ed8813ebe33b75479bd43b9d1308da48b12
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Sun May 5 05:51:47 2019 +0200

    Bring chamber temp to completion (#13837)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2b6dbb07ab..b9443c8680 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -321,6 +321,7 @@
     #define AUTO_POWER_FANS           // Turn on PSU if fans need power
     #define AUTO_POWER_E_FANS
     #define AUTO_POWER_CONTROLLERFAN
+    #define AUTO_POWER_CHAMBER_FAN
     #define POWER_TIMEOUT 30
   #endif
 

commit bf54251a10d94fde34dc41149af2d7e26c630f4b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed May 1 20:05:29 2019 -0500

    Finish, improve, clean up FYSETC_MINI_12864 revisions (#13871)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2e37c9ac5e..2b6dbb07ab 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1909,13 +1909,9 @@
 // FYSETC variant of the MINI12864 graphic controller with SD support
 // https://wiki.fysetc.com/Mini12864_Panel/?fbclid=IwAR1FyjuNdVOOy9_xzky3qqo_WeM5h-4gpRnnWhQr_O1Ef3h0AFnFXmCehK8
 //
-//#define FYSETC_MINI_12864
-#ifdef FYSETC_MINI_12864
-  #define FYSETC_MINI_12864_REV_1_2              //  types C, D, E & F  back light is monochrome (always on) - discrete RGB signals
-  //#define FYSETC_MINI_12864_REV_2_0            //  types A & B  back light is RGB - requires LED_USER_PRESET_STARTUP - discrete RGB signals
-  //#define FYSETC_MINI_12864_REV_2_1            //  types A & B  back light is RGB - requires LED_USER_PRESET_STARTUP -  RGB
-  //#define FYSETC_MINI_12864_REV_2_1            //  types A & B  back light is RGB - requires LED_USER_PRESET_STARTUP - Neopixel
-#endif
+//#define FYSETC_MINI_12864_1_2  // Type C/D/E/F. Simple RGB Backlight (always on)
+//#define FYSETC_MINI_12864_2_0  // Type A/B. Discreet RGB Backlight
+//#define FYSETC_MINI_12864_2_1  // Type A/B. Neopixel RGB Backlight
 
 //
 // Factory display for Creality CR-10

commit 9372e2603cd3a38d7f085d17c74fb6e0fa100d22
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed May 1 13:55:09 2019 -0500

    Simpler neopixel comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b29e1e4054..2e37c9ac5e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2085,7 +2085,7 @@
 //#define NEOPIXEL_LED
 #if ENABLED(NEOPIXEL_LED)
   #define NEOPIXEL_TYPE   NEO_GRBW // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
-  #define NEOPIXEL_PIN    4        // LED driving pin on motherboard 4 => D4 (EXP2-5 on Printrboard) / 30 => PC7 (EXP3-13 on Rumba)
+  #define NEOPIXEL_PIN    4        // LED driving pin
   #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
   #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)

commit 6ff81a33c1ec329c9ddd25e53d507a0b4b01e1a4
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Apr 22 14:06:04 2019 -0500

    Provide JSON values for SOFT_PWM_SCALE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 43ce28baaf..b29e1e4054 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2019,6 +2019,7 @@
 // affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
 // However, control resolution will be halved for each increment;
 // at zero value, there are 128 effective control positions.
+// :[0,1,2,3,4,5,6,7]
 #define SOFT_PWM_SCALE 0
 
 // If SOFT_PWM_SCALE is set to a value higher than 0, dithering can

commit 81ca5a4cd43944bd7e9fffd740ce3abfb89a8687
Author: Bob Kuhn <bob.kuhn@att.net>
Date:   Sun Apr 21 20:48:53 2019 -0500

    Fix and improve FYSETC LCD support (#13767)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7ea040803c..43ce28baaf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1910,6 +1910,12 @@
 // https://wiki.fysetc.com/Mini12864_Panel/?fbclid=IwAR1FyjuNdVOOy9_xzky3qqo_WeM5h-4gpRnnWhQr_O1Ef3h0AFnFXmCehK8
 //
 //#define FYSETC_MINI_12864
+#ifdef FYSETC_MINI_12864
+  #define FYSETC_MINI_12864_REV_1_2              //  types C, D, E & F  back light is monochrome (always on) - discrete RGB signals
+  //#define FYSETC_MINI_12864_REV_2_0            //  types A & B  back light is RGB - requires LED_USER_PRESET_STARTUP - discrete RGB signals
+  //#define FYSETC_MINI_12864_REV_2_1            //  types A & B  back light is RGB - requires LED_USER_PRESET_STARTUP -  RGB
+  //#define FYSETC_MINI_12864_REV_2_1            //  types A & B  back light is RGB - requires LED_USER_PRESET_STARTUP - Neopixel
+#endif
 
 //
 // Factory display for Creality CR-10

commit 7ca1fea22b531710fa976bfaa527efbc15ebb83f
Author: Robby Candra <robbycandra.mail@gmail.com>
Date:   Tue Apr 16 13:32:43 2019 +0700

    Option to pause probe deployment only when triggered, for manually-deployed allen-key probe (#13698)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5faed3c8b9..7ea040803c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -927,6 +927,9 @@
 
 // Before deploy/stow pause for user confirmation
 //#define PAUSE_BEFORE_DEPLOY_STOW
+#if ENABLED(PAUSE_BEFORE_DEPLOY_STOW)
+  //#define PAUSE_PROBE_DEPLOY_WHEN_TRIGGERED // For Manual Deploy Allenkey Probe
+#endif
 
 /**
  * Enable one or more of the following if probing seems unreliable.

commit 84273557f9231c445ee30ee89dbcc66bc9c10e59
Author: Stephan <stephan.veigl@gmail.com>
Date:   Fri Apr 12 22:38:10 2019 +0200

    Move and update heated chamber settings (#13671)
    
    Co-Authored-By: the-real-orca <stephan.veigl@gmail.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eb3a22fc31..5faed3c8b9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -391,7 +391,6 @@
 #define TEMP_SENSOR_5 0
 #define TEMP_SENSOR_BED 0
 #define TEMP_SENSOR_CHAMBER 0
-#define CHAMBER_HEATER_PIN -1  // On/off pin for enclosure heating system
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
 #define DUMMY_THERMISTOR_998_VALUE 25
@@ -410,8 +409,6 @@
 #define TEMP_BED_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
 #define TEMP_BED_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
-#define TEMP_CHAMBER_HYSTERESIS  3  // (¬∞C) Temperature proximity considered "close enough" to the target
-
 // Below this temperature the heater will be switched off
 // because it probably indicates a broken thermistor wire.
 #define HEATER_0_MINTEMP   5
@@ -421,7 +418,6 @@
 #define HEATER_4_MINTEMP   5
 #define HEATER_5_MINTEMP   5
 #define BED_MINTEMP        5
-#define CHAMBER_MINTEMP    5
 
 // Above this temperature the heater will be switched off.
 // This can protect components from overheating, but NOT from shorts and failures.
@@ -433,7 +429,6 @@
 #define HEATER_4_MAXTEMP 275
 #define HEATER_5_MAXTEMP 275
 #define BED_MAXTEMP      150
-#define CHAMBER_MAXTEMP  100
 
 //===========================================================================
 //============================= PID Settings ================================
@@ -476,7 +471,7 @@
 #endif // PIDTEMP
 
 //===========================================================================
-//============================= PID > Bed Temperature Control ===============
+//====================== PID > Bed Temperature Control ======================
 //===========================================================================
 
 /**

commit 2adc37becc3afcb45c6fd9e507d7d4b88c64c69c
Author: chai-md <48555545+chai-md@users.noreply.github.com>
Date:   Fri Apr 12 03:29:17 2019 +0900

    MAGNETIC_SWITCHING_TOOLHEAD (#13629)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 66a8a3d2ce..eb3a22fc31 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -249,13 +249,27 @@
  * the E3D Tool Changer. Toolheads are locked with a servo.
  */
 //#define SWITCHING_TOOLHEAD
-#if ENABLED(SWITCHING_TOOLHEAD)
-  #define SWITCHING_TOOLHEAD_SERVO_NR       2         // Index of the servo connector
-  #define SWITCHING_TOOLHEAD_SERVO_ANGLES { 0, 180 }  // (degrees) Angles for Lock, Unlock
-  #define SWITCHING_TOOLHEAD_Y_POS        235         // (mm) Y position of the toolhead dock
-  #define SWITCHING_TOOLHEAD_Y_SECURITY    10         // (mm) Security distance Y axis
-  #define SWITCHING_TOOLHEAD_Y_CLEAR       60         // (mm) Minimum distance from dock for unobstructed X axis
-  #define SWITCHING_TOOLHEAD_X_POS        { 215, 0 }  // (mm) X positions for parking the extruders
+
+/**
+ * Magnetic Switching Toolhead
+ *
+ * Support swappable and dockable toolheads with a magnetic
+ * docking mechanism using movement and no servo.
+ */
+//#define MAGNETIC_SWITCHING_TOOLHEAD
+
+#if EITHER(SWITCHING_TOOLHEAD, MAGNETIC_SWITCHING_TOOLHEAD)
+  #define SWITCHING_TOOLHEAD_Y_POS          235         // (mm) Y position of the toolhead dock
+  #define SWITCHING_TOOLHEAD_Y_SECURITY      10         // (mm) Security distance Y axis
+  #define SWITCHING_TOOLHEAD_Y_CLEAR         60         // (mm) Minimum distance from dock for unobstructed X axis
+  #define SWITCHING_TOOLHEAD_X_POS          { 215, 0 }  // (mm) X positions for parking the extruders
+  #if ENABLED(SWITCHING_TOOLHEAD)
+    #define SWITCHING_TOOLHEAD_SERVO_NR       2         // Index of the servo connector
+    #define SWITCHING_TOOLHEAD_SERVO_ANGLES { 0, 180 }  // (degrees) Angles for Lock, Unlock
+  #elif ENABLED(MAGNETIC_SWITCHING_TOOLHEAD)
+    #define SWITCHING_TOOLHEAD_Y_RELEASE      5         // (mm) Security distance Y axis
+    #define SWITCHING_TOOLHEAD_X_SECURITY   -35         // (mm) Security distance X axis
+  #endif
 #endif
 
 /**

commit 5018fdacbeb0807fc255f83049044b89323eea55
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Apr 9 18:34:29 2019 -0500

    Support FYSETC_MINI_12864_PANEL (#13365)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ef0042315b..66a8a3d2ce 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1893,6 +1893,12 @@
 //
 //#define MKS_MINI_12864
 
+//
+// FYSETC variant of the MINI12864 graphic controller with SD support
+// https://wiki.fysetc.com/Mini12864_Panel/?fbclid=IwAR1FyjuNdVOOy9_xzky3qqo_WeM5h-4gpRnnWhQr_O1Ef3h0AFnFXmCehK8
+//
+//#define FYSETC_MINI_12864
+
 //
 // Factory display for Creality CR-10
 // https://www.aliexpress.com/item/Universal-LCD-12864-3D-Printer-Display-Screen-With-Encoder-For-CR-10-CR-7-Model/32833148327.html

commit a2b3ad6d0a4e7b238288b01b6f282009a72f7a53
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Apr 7 16:31:34 2019 -0500

    Don't override RGB LED pins, by default

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4c08bd0dee..ef0042315b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2050,10 +2050,10 @@
 //#define RGBW_LED
 
 #if EITHER(RGB_LED, RGBW_LED)
-  #define RGB_LED_R_PIN 34
-  #define RGB_LED_G_PIN 43
-  #define RGB_LED_B_PIN 35
-  #define RGB_LED_W_PIN -1
+  //#define RGB_LED_R_PIN 34
+  //#define RGB_LED_G_PIN 43
+  //#define RGB_LED_B_PIN 35
+  //#define RGB_LED_W_PIN -1
 #endif
 
 // Support for Adafruit Neopixel LED driver

commit 3221658a7819e9f7797c5df327eef88c51a990e9
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Apr 5 20:39:54 2019 -0500

    Adjust park position description

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 16d0bfa317..4c08bd0dee 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1413,7 +1413,7 @@
 //#define NOZZLE_PARK_FEATURE
 
 #if ENABLED(NOZZLE_PARK_FEATURE)
-  // Specify a park position as { X, Y, Z }
+  // Specify a park position as { X, Y, Z_raise }
   #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
   #define NOZZLE_PARK_XY_FEEDRATE 100   // (mm/s) X and Y axes feedrate (also used for delta Z axis)
   #define NOZZLE_PARK_Z_FEEDRATE 5      // (mm/s) Z axis feedrate (not used for delta printers)

commit b46ca9aa94bf49ec294930925d15d4f7a2bd307a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Mar 26 19:20:13 2019 -0500

    Less timely comment, tweak conditions

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7a9ebe5b45..16d0bfa317 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -818,9 +818,10 @@
 #if ENABLED(BLTOUCH)
   //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
 
-  /** BLTouch V3.0 and newer smart series
-   *  Functions with most genuine sensors, however clones have been reporting issues with the new code.
-   *  If the pin trigger is not detected, first try swapping black and white wires then toggle this.
+  /**
+   * BLTouch V3.0 and newer smart series
+   * For genuine BLTouch 3.0 sensors. Clones may be confused by 3.0 command angles. YMMV.
+   * If the pin trigger is not detected, first try swapping the black and white wires then toggle this.
    */
   //#define BLTOUCH_V3
   #if ENABLED(BLTOUCH_V3)

commit eb91f08725f72f104c43f147ae47e496d43def34
Author: InsanityAutomation <d.menzel@insanityautomation.com>
Date:   Tue Mar 26 11:24:52 2019 -0400

    Update descriptions and dont call unneeded functions

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a91fa086a5..7a9ebe5b45 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -818,7 +818,10 @@
 #if ENABLED(BLTOUCH)
   //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
 
-  // BLTouch V3.0 and newer smart series
+  /** BLTouch V3.0 and newer smart series
+   *  Functions with most genuine sensors, however clones have been reporting issues with the new code.
+   *  If the pin trigger is not detected, first try swapping black and white wires then toggle this.
+   */
   //#define BLTOUCH_V3
   #if ENABLED(BLTOUCH_V3)
     //#define BLTOUCH_FORCE_5V_MODE

commit 70e6a3db8ae566553d2eb02fd9f7b916bd34fa8a
Author: drzejkopf <41212609+drzejkopf@users.noreply.github.com>
Date:   Thu Mar 21 00:26:12 2019 +0100

    Add LEVEL_CORNERS_HEIGHT to LEVEL_BED_CORNERS (#13439)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 690a64e590..a91fa086a5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1237,6 +1237,7 @@
 #if ENABLED(LEVEL_BED_CORNERS)
   #define LEVEL_CORNERS_INSET 30    // (mm) An inset for corner leveling
   #define LEVEL_CORNERS_Z_HOP  4.0  // (mm) Move nozzle up before moving between corners
+  #define LEVEL_CORNERS_HEIGHT 0.0  // (mm) Z height of nozzle at leveling points
   //#define LEVEL_CENTER_TOO        // Move to the center after the last corner
 #endif
 

commit 691e5c3bb8d04b0b6690424034d73ade19e91586
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sun Mar 17 06:57:25 2019 -0400

    BLTouch V3.0 support (#13406)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 950b85cb21..690a64e590 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -817,6 +817,13 @@
 //#define BLTOUCH
 #if ENABLED(BLTOUCH)
   //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
+
+  // BLTouch V3.0 and newer smart series
+  //#define BLTOUCH_V3
+  #if ENABLED(BLTOUCH_V3)
+    //#define BLTOUCH_FORCE_5V_MODE
+    //#define BLTOUCH_FORCE_OPEN_DRAIN_MODE
+  #endif
 #endif
 
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)

commit 49cf92dc36424cf828436f32e72263eca39a1cc3
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Mar 16 23:43:06 2019 -0500

    Extended condition macros (#13419)
    
    Allow `ENABLED`, `DISABLED`, `PIN_EXISTS`, and `BUTTON_EXISTS` to take multiple arguments. Also add:
    - Alias `ANY(...)` for `!DISABLED(...)`
    - Alias `ANY_PIN(...)` for `PIN_EXISTS(a) || PIN_EXISTS(b) ...`
    - Alias `EITHER(A,B)` for `ANY(...)`
    - Alias `ALL(...)` and `BOTH(A,B)` for `ENABLED(...)`
    - `NONE(...)` for `DISABLED(...)`

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bd67939356..950b85cb21 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -218,7 +218,7 @@
  */
 //#define MAGNETIC_PARKING_EXTRUDER
 
-#if ENABLED(PARKING_EXTRUDER) || ENABLED(MAGNETIC_PARKING_EXTRUDER)
+#if EITHER(PARKING_EXTRUDER, MAGNETIC_PARKING_EXTRUDER)
 
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
   #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // (mm) Distance to move beyond the parking point to grab the extruder
@@ -1015,7 +1015,7 @@
   #define MAX_SOFTWARE_ENDSTOP_Z
 #endif
 
-#if ENABLED(MIN_SOFTWARE_ENDSTOPS) || ENABLED(MAX_SOFTWARE_ENDSTOPS)
+#if EITHER(MIN_SOFTWARE_ENDSTOPS, MAX_SOFTWARE_ENDSTOPS)
   //#define SOFT_ENDSTOPS_MENU_ITEM  // Enable/Disable software endstops from the LCD
 #endif
 
@@ -1108,7 +1108,7 @@
  */
 //#define DEBUG_LEVELING_FEATURE
 
-#if ENABLED(MESH_BED_LEVELING) || ENABLED(AUTO_BED_LEVELING_BILINEAR) || ENABLED(AUTO_BED_LEVELING_UBL)
+#if ANY(MESH_BED_LEVELING, AUTO_BED_LEVELING_BILINEAR, AUTO_BED_LEVELING_UBL)
   // Gradually reduce leveling correction until a set height is reached,
   // at which point movement will be level to the machine's XY plane.
   // The height can be set with M420 Z<height>
@@ -1134,7 +1134,7 @@
 
 #endif
 
-#if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
+#if EITHER(AUTO_BED_LEVELING_LINEAR, AUTO_BED_LEVELING_BILINEAR)
 
   // Set the number of grid points per dimension.
   #define GRID_MAX_POINTS_X 3
@@ -1203,7 +1203,7 @@
  * Points to probe for all 3-point Leveling procedures.
  * Override if the automatically selected points are inadequate.
  */
-#if ENABLED(AUTO_BED_LEVELING_3POINT) || ENABLED(AUTO_BED_LEVELING_UBL)
+#if EITHER(AUTO_BED_LEVELING_3POINT, AUTO_BED_LEVELING_UBL)
   //#define PROBE_PT_1_X 15
   //#define PROBE_PT_1_Y 180
   //#define PROBE_PT_2_X 15
@@ -2037,7 +2037,7 @@
 //#define RGB_LED
 //#define RGBW_LED
 
-#if ENABLED(RGB_LED) || ENABLED(RGBW_LED)
+#if EITHER(RGB_LED, RGBW_LED)
   #define RGB_LED_R_PIN 34
   #define RGB_LED_G_PIN 43
   #define RGB_LED_B_PIN 35
@@ -2066,7 +2066,7 @@
  *  - Change to green once print has finished
  *  - Turn off after the print has finished and the user has pushed a button
  */
-#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632) || ENABLED(PCA9533)|| ENABLED(NEOPIXEL_LED)
+#if ANY(BLINKM, RGB_LED, RGBW_LED, PCA9632, PCA9533, NEOPIXEL_LED)
   #define PRINTER_EVENT_LEDS
 #endif
 

commit 31ff7da7acc45b4371ec82daf591fb73bb60c5ab
Author: Andrei Pozolotin <Andrei-Pozolotin@users.noreply.github.com>
Date:   Mon Mar 11 16:50:07 2019 -0500

    Add missing CHAMBER options (for M141) (#13371)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 655ec94c7f..bd67939356 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -396,6 +396,8 @@
 #define TEMP_BED_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
 #define TEMP_BED_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
 
+#define TEMP_CHAMBER_HYSTERESIS  3  // (¬∞C) Temperature proximity considered "close enough" to the target
+
 // Below this temperature the heater will be switched off
 // because it probably indicates a broken thermistor wire.
 #define HEATER_0_MINTEMP   5
@@ -405,6 +407,7 @@
 #define HEATER_4_MINTEMP   5
 #define HEATER_5_MINTEMP   5
 #define BED_MINTEMP        5
+#define CHAMBER_MINTEMP    5
 
 // Above this temperature the heater will be switched off.
 // This can protect components from overheating, but NOT from shorts and failures.
@@ -416,6 +419,7 @@
 #define HEATER_4_MAXTEMP 275
 #define HEATER_5_MAXTEMP 275
 #define BED_MAXTEMP      150
+#define CHAMBER_MAXTEMP  100
 
 //===========================================================================
 //============================= PID Settings ================================

commit 98b55421a524a0ad1e98839e80179452228971b4
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Mar 11 16:24:58 2019 -0500

    Clean up some temp config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f31d4481b5..655ec94c7f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -388,37 +388,34 @@
 //#define TEMP_SENSOR_1_AS_REDUNDANT
 #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 
-// Extruder temperature must be close to target for this long before M109 returns success
-#define TEMP_RESIDENCY_TIME 10  // (seconds)
-#define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
-#define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
-
-// Bed temperature must be close to target for this long before M190 returns success
-#define TEMP_BED_RESIDENCY_TIME 10  // (seconds)
-#define TEMP_BED_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
-#define TEMP_BED_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
-
-// The minimal temperature defines the temperature below which the heater will not be enabled It is used
-// to check that the wiring to the thermistor is not broken.
-// Otherwise this would lead to the heater being powered on all the time.
-#define HEATER_0_MINTEMP 5
-#define HEATER_1_MINTEMP 5
-#define HEATER_2_MINTEMP 5
-#define HEATER_3_MINTEMP 5
-#define HEATER_4_MINTEMP 5
-#define HEATER_5_MINTEMP 5
-#define BED_MINTEMP 5
-
-// When temperature exceeds max temp, your heater will be switched off.
-// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
-// You should use MINTEMP for thermistor short/failure protection.
+#define TEMP_RESIDENCY_TIME     10  // (seconds) Time to wait for hotend to "settle" in M109
+#define TEMP_WINDOW              1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+#define TEMP_HYSTERESIS          3  // (¬∞C) Temperature proximity considered "close enough" to the target
+
+#define TEMP_BED_RESIDENCY_TIME 10  // (seconds) Time to wait for bed to "settle" in M190
+#define TEMP_BED_WINDOW          1  // (¬∞C) Temperature proximity for the "temperature reached" timer
+#define TEMP_BED_HYSTERESIS      3  // (¬∞C) Temperature proximity considered "close enough" to the target
+
+// Below this temperature the heater will be switched off
+// because it probably indicates a broken thermistor wire.
+#define HEATER_0_MINTEMP   5
+#define HEATER_1_MINTEMP   5
+#define HEATER_2_MINTEMP   5
+#define HEATER_3_MINTEMP   5
+#define HEATER_4_MINTEMP   5
+#define HEATER_5_MINTEMP   5
+#define BED_MINTEMP        5
+
+// Above this temperature the heater will be switched off.
+// This can protect components from overheating, but NOT from shorts and failures.
+// (Use MINTEMP for thermistor short/failure protection.)
 #define HEATER_0_MAXTEMP 275
 #define HEATER_1_MAXTEMP 275
 #define HEATER_2_MAXTEMP 275
 #define HEATER_3_MAXTEMP 275
 #define HEATER_4_MAXTEMP 275
 #define HEATER_5_MAXTEMP 275
-#define BED_MAXTEMP 150
+#define BED_MAXTEMP      150
 
 //===========================================================================
 //============================= PID Settings ================================

commit d54741eda853153ca852d06024deebfa9c343a90
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Fri Mar 8 04:13:44 2019 -0500

    Update some G26 plausible values. Add speed control. (#13330)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a03fc8ce4b..f31d4481b5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1126,8 +1126,9 @@
   #if ENABLED(G26_MESH_VALIDATION)
     #define MESH_TEST_NOZZLE_SIZE    0.4  // (mm) Diameter of primary nozzle.
     #define MESH_TEST_LAYER_HEIGHT   0.2  // (mm) Default layer height for the G26 Mesh Validation Tool.
-    #define MESH_TEST_HOTEND_TEMP  205.0  // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
-    #define MESH_TEST_BED_TEMP      60.0  // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
+    #define MESH_TEST_HOTEND_TEMP  205    // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
+    #define MESH_TEST_BED_TEMP      60    // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
+    #define G26_XY_FEEDRATE         20    // (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.
   #endif
 
 #endif
@@ -1401,8 +1402,8 @@
 #if ENABLED(NOZZLE_PARK_FEATURE)
   // Specify a park position as { X, Y, Z }
   #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
-  #define NOZZLE_PARK_XY_FEEDRATE 100   // X and Y axes feedrate in mm/s (also used for delta printers Z axis)
-  #define NOZZLE_PARK_Z_FEEDRATE 5      // Z axis feedrate in mm/s (not used for delta printers)
+  #define NOZZLE_PARK_XY_FEEDRATE 100   // (mm/s) X and Y axes feedrate (also used for delta Z axis)
+  #define NOZZLE_PARK_Z_FEEDRATE 5      // (mm/s) Z axis feedrate (not used for delta printers)
 #endif
 
 /**

commit 645ca7af7ac27af9d6690659dc71ff9867b34b6c
Author: 3dlabsio <shane@warnertci.com>
Date:   Thu Mar 7 00:09:39 2019 -0800

    M141 Heated Chamber, Temperature rework (#12201)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 34b3512363..a03fc8ce4b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -377,6 +377,7 @@
 #define TEMP_SENSOR_5 0
 #define TEMP_SENSOR_BED 0
 #define TEMP_SENSOR_CHAMBER 0
+#define CHAMBER_HEATER_PIN -1  // On/off pin for enclosure heating system
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
 #define DUMMY_THERMISTOR_998_VALUE 25
@@ -545,6 +546,7 @@
 
 #define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
 #define THERMAL_PROTECTION_BED     // Enable thermal protection for the heated bed
+#define THERMAL_PROTECTION_CHAMBER // Enable thermal protection for the heated chamber
 
 //===========================================================================
 //============================= Mechanical Settings =========================

commit 99d0022fae0efd9164946062bf641f7294597675
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 1 00:27:45 2019 -0600

    Drop the Z_MIN_PROBE_ENDSTOP option (#13276)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 498804b4af..34b3512363 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -764,11 +764,11 @@
 #define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
 
 /**
- * Z_MIN_PROBE_ENDSTOP
+ * Z_MIN_PROBE_PIN
  *
- * Enable this option for a probe connected to any pin except Z-Min.
- * (By default Marlin assumes the Z-Max endstop pin.)
- * To use a custom Z Probe pin, set Z_MIN_PROBE_PIN below.
+ * Define this pin if the probe is not connected to Z_MIN_PIN.
+ * If not defined the default pin for the selected MOTHERBOARD
+ * will be used. Most of the time the default is what you want.
  *
  *  - The simplest option is to use a free endstop connector.
  *  - Use 5V for powered (usually inductive) sensors.
@@ -778,11 +778,8 @@
  *      - normally-closed switches to GND and D32.
  *      - normally-open switches to 5V and D32.
  *
- * WARNING: Setting the wrong pin may have unexpected and potentially
- * disastrous consequences. Use with caution and do your homework.
- *
  */
-//#define Z_MIN_PROBE_ENDSTOP
+//#define Z_MIN_PROBE_PIN 32 // Pin 32 is the RAMPS default
 
 /**
  * Probe Type

commit e2e2a55d9bb9e6202f6e24e913f19d9d645f406f
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Thu Feb 28 20:44:17 2019 -0500

    Add thermistor type 67 SliceEng (#13275)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 62145f2d8c..498804b4af 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -348,6 +348,7 @@
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    61 : 100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup
  *    66 : 4.7M High Temperature thermistor from Dyze Design
+ *    67 : 450C thermistor from SliceEngineering
  *    70 : the 100K thermistor found in the bq Hephestos 2
  *    75 : 100k Generic Silicon Heat Pad with NTC 100K MGB18-104F39050L32 thermistor
  *
@@ -366,7 +367,7 @@
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
+ * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '67':"Slice Engineering 450C High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit d2bdb71c13fa18957638b137395200ba2c28e1b2
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Feb 14 15:09:35 2019 -0600

    Add PHOTO_GCODE option, photo trigger physical move (#13168)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e9ac0666c1..62145f2d8c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1994,10 +1994,6 @@
 // then the BLUE led is on. Otherwise the RED led is on. (1C hysteresis)
 //#define TEMP_STAT_LEDS
 
-// M240  Triggers a camera by emulating a Canon RC-1 Remote
-// Data from: http://www.doc-diy.net/photo/rc-1_hacked/
-//#define PHOTOGRAPH_PIN     23
-
 // SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX
 

commit 7f1b69b0c83ae914ed9ae35fdad9f79814069652
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue Feb 12 16:55:47 2019 -0500

    Add HOST_PROMPT_SUPPORT (#13039)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7c9ecf7d0c..e9ac0666c1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1033,20 +1033,10 @@
   #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
   //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.
 
-  // Set one or more commands to run on filament runout.
-  //  - Always applies to SD-card printing.
-  //  - Applies to host-based printing if ACTION_ON_FILAMENT_RUNOUT is not set.
+  // Set one or more commands to execute on filament runout.
+  // (After 'M412 H' Marlin will ask the host to handle the process.)
   #define FILAMENT_RUNOUT_SCRIPT "M600"
 
-  // With this option, if filament runs out during host-based printing, Marlin
-  // will send "//action:<ACTION_ON_FILAMENT_RUNOUT>" to the host and let the
-  // host handle filament change. If left undefined the FILAMENT_RUNOUT_SCRIPT
-  // will be used on filament runout for both host-based and SD-card printing.
-  //
-  // The host must be able to respond to the //action: command set here.
-  //
-  //#define ACTION_ON_FILAMENT_RUNOUT "pause: filament_runout"
-
   // After a runout is detected, continue printing this length of filament
   // before executing the runout script. Useful for a sensor at the end of
   // a feed tube. Requires 4 bytes SRAM per sensor, plus 4 bytes overhead.

commit 0feeef26048883640b37ebe3994730f31ef6e922
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Feb 12 15:06:53 2019 -0600

    Update copyright in headers

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 236cef62cf..7c9ecf7d0c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,6 +1,6 @@
 /**
  * Marlin 3D Printer Firmware
- * Copyright (C) 2016 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ * Copyright (C) 2019 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
  *
  * Based on Sprinter and grbl.
  * Copyright (C) 2011 Camiel Gubbels / Erik van der Zalm

commit 6de3d3437849c0710881311bc9ad4069b0aee55d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Feb 10 04:54:23 2019 -0600

    M166 Gradients, LCD Menu for 2-channel Mixer (Geeetech A10M/A20M) (#13022)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 995e2a19fd..236cef62cf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -271,6 +271,10 @@
   #define MIXING_STEPPERS 2        // Number of steppers in your mixing extruder
   #define MIXING_VIRTUAL_TOOLS 16  // Use the Virtual Tool method with M163 and M164
   //#define DIRECT_MIXING_IN_G1    // Allow ABCDHI mix factors in G1 movement commands
+  //#define GRADIENT_MIX           // Support for gradient mixing with M166 and LCD
+  #if ENABLED(GRADIENT_MIX)
+    //#define GRADIENT_VTOOL       // Add M166 T to use a V-tool index as a Gradient alias
+  #endif
 #endif
 
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).

commit 7ee35c261102a8ed2db4b77a45ea7d4b3f19d416
Author: LinFor <linfor@gmail.com>
Date:   Sun Feb 10 13:03:18 2019 +0300

    PID_MENU option to save PROGMEM in LCD menus (#13095)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 191e11de89..995e2a19fd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -425,7 +425,8 @@
 #define PID_MAX BANG_MAX // Limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #define PID_K1 0.95      // Smoothing factor within any PID loop
 #if ENABLED(PIDTEMP)
-  //#define PID_AUTOTUNE_MENU     // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
+  //#define PID_EDIT_MENU         // Add PID editing to the "Advanced Settings" menu. (~700 bytes of PROGMEM)
+  //#define PID_AUTOTUNE_MENU     // Add PID auto-tuning to the "Advanced Settings" menu. (~250 bytes of PROGMEM)
   //#define PID_DEBUG             // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1        // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay

commit f3b6cb4d34d91629939dcc736f916c039dfb8bea
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Feb 8 15:13:28 2019 -0600

    Clean up, update config comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f1d280ea21..191e11de89 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -205,9 +205,6 @@
 /**
  * Two separate X-carriages with extruders that connect to a moving part
  * via a solenoid docking mechanism. Requires SOL1_PIN and SOL2_PIN.
- *
- * for cooling multi extruder with separate fans
- * see on Configuration_adv.h and look for "Part-Cooling"
  */
 //#define PARKING_EXTRUDER
 
@@ -218,9 +215,6 @@
  * project   : https://www.thingiverse.com/thing:3080893
  * movements : https://youtu.be/0xCEiG9VS3k
  *             https://youtu.be/Bqbcs0CU2FE
- *
- * for cooling multi extruder with separate fans
- * see on Configuration_adv.h and look for "Part-Cooling"
  */
 //#define MAGNETIC_PARKING_EXTRUDER
 

commit d81342254a1fb8b12ce7d86cde574d7d96cc9871
Author: teemuatlut <teemu.mantykallio@live.fi>
Date:   Wed Feb 6 14:33:14 2019 +0200

    Support new TMC drivers (#13026)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index aebf90117f..f1d280ea21 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -623,8 +623,9 @@
  * Options: A4988, A5984, DRV8825, LV8729, L6470, TB6560, TB6600, TMC2100,
  *          TMC2130, TMC2130_STANDALONE, TMC2208, TMC2208_STANDALONE,
  *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
- *          TMC5130, TMC5130_STANDALONE
- * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE']
+ *          TMC2160, TMC2160_STANDALONE, TMC5130, TMC5130_STANDALONE,
+ *          TMC5160, TMC5160_STANDALONE
+ * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2160', 'TMC2160_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE', 'TMC5160', 'TMC5160_STANDALONE']
  */
 //#define X_DRIVER_TYPE  A4988
 //#define Y_DRIVER_TYPE  A4988

commit 524c6c10bf52b9956ca2f68eb3d3074e5cba0706
Author: Rolf Werum <39219447+Weruminger@users.noreply.github.com>
Date:   Wed Feb 6 13:30:53 2019 +0100

    MAGNETIC_PARKING_EXTRUDER (#12351)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 587d7d74a0..aebf90117f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -204,16 +204,48 @@
 
 /**
  * Two separate X-carriages with extruders that connect to a moving part
- * via a magnetic docking mechanism. Requires SOL1_PIN and SOL2_PIN.
+ * via a solenoid docking mechanism. Requires SOL1_PIN and SOL2_PIN.
+ *
+ * for cooling multi extruder with separate fans
+ * see on Configuration_adv.h and look for "Part-Cooling"
  */
 //#define PARKING_EXTRUDER
-#if ENABLED(PARKING_EXTRUDER)
-  #define PARKING_EXTRUDER_SOLENOIDS_INVERT           // If enabled, the solenoid is NOT magnetized with applied voltage
-  #define PARKING_EXTRUDER_SOLENOIDS_PINS_ACTIVE LOW  // LOW or HIGH pin signal energizes the coil
-  #define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        // Delay (ms) for magnetic field. No delay if 0 or not defined.
+
+/**
+ * Two separate X-carriages with extruders that connect to a moving part
+ * via a magnetic docking mechanism using movements and no solenoid
+ *
+ * project   : https://www.thingiverse.com/thing:3080893
+ * movements : https://youtu.be/0xCEiG9VS3k
+ *             https://youtu.be/Bqbcs0CU2FE
+ *
+ * for cooling multi extruder with separate fans
+ * see on Configuration_adv.h and look for "Part-Cooling"
+ */
+//#define MAGNETIC_PARKING_EXTRUDER
+
+#if ENABLED(PARKING_EXTRUDER) || ENABLED(MAGNETIC_PARKING_EXTRUDER)
+
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
   #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // (mm) Distance to move beyond the parking point to grab the extruder
   //#define MANUAL_SOLENOID_CONTROL                   // Manual control of docking solenoids with M380 S / M381
+
+  #if ENABLED(PARKING_EXTRUDER)
+
+    #define PARKING_EXTRUDER_SOLENOIDS_INVERT           // If enabled, the solenoid is NOT magnetized with applied voltage
+    #define PARKING_EXTRUDER_SOLENOIDS_PINS_ACTIVE LOW  // LOW or HIGH pin signal energizes the coil
+    #define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        // (ms) Delay for magnetic field. No delay if 0 or not defined.
+    //#define MANUAL_SOLENOID_CONTROL                   // Manual control of docking solenoids with M380 S / M381
+
+  #elif ENABLED(MAGNETIC_PARKING_EXTRUDER)
+
+    #define MPE_FAST_SPEED      9000      // (mm/m) Speed for travel before last distance point
+    #define MPE_SLOW_SPEED      4500      // (mm/m) Speed for last distance travel to park and couple
+    #define MPE_TRAVEL_DISTANCE   10      // (mm) Last distance point
+    #define MPE_COMPENSATION       0      // Offset Compensation -1 , 0 , 1 (multiplier) only for coupling
+
+  #endif
+
 #endif
 
 /**

commit 5cfc1cdacc52ca9e09e40872ab2918d0d88ef0f2
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Sun Feb 3 23:19:56 2019 -0700

    Support SWITCHING_NOZZLE with 2 servos (#13054)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bc3a5339cc..587d7d74a0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -194,11 +194,12 @@
   #endif
 #endif
 
-// A dual-nozzle that uses a servomotor to raise/lower one of the nozzles
+// A dual-nozzle that uses a servomotor to raise/lower one (or both) of the nozzles
 //#define SWITCHING_NOZZLE
 #if ENABLED(SWITCHING_NOZZLE)
   #define SWITCHING_NOZZLE_SERVO_NR 0
-  #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // Angles for E0, E1
+  //#define SWITCHING_NOZZLE_E1_SERVO_NR 1          // If two servos are used, the index of the second
+  #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // Angles for E0, E1 (single servo) or lowered/raised (dual servo)
 #endif
 
 /**

commit 6a57d0b381db99d67cccd48135cbdd2d831588a7
Author: revilor <oliver.rossmueller@web.de>
Date:   Fri Feb 1 02:10:52 2019 +0100

    Prusa MMU2 (#12967)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d5214d8821..bc3a5339cc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -174,6 +174,16 @@
   //#define E_MUX2_PIN 44  // Needed for 5 to 8 inputs
 #endif
 
+/**
+ * Prusa Multi-Material Unit v2
+ *
+ * Requires NOZZLE_PARK_FEATURE to park print head in case MMU unit fails.
+ * Requires EXTRUDERS = 5
+ *
+ * For additional configuration see Configuration_adv.h
+ */
+//#define PRUSA_MMU2
+
 // A dual extruder that uses a single stepper motor
 //#define SWITCHING_EXTRUDER
 #if ENABLED(SWITCHING_EXTRUDER)

commit f214118e45af0ed701b9c49092cb87c42be1434a
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Sun Jan 27 19:18:05 2019 -0700

    Action to notify host of filament runout. (#12817)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ea0ab63ffb..d5214d8821 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -989,8 +989,21 @@
   #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
   #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
   //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.
+
+  // Set one or more commands to run on filament runout.
+  //  - Always applies to SD-card printing.
+  //  - Applies to host-based printing if ACTION_ON_FILAMENT_RUNOUT is not set.
   #define FILAMENT_RUNOUT_SCRIPT "M600"
 
+  // With this option, if filament runs out during host-based printing, Marlin
+  // will send "//action:<ACTION_ON_FILAMENT_RUNOUT>" to the host and let the
+  // host handle filament change. If left undefined the FILAMENT_RUNOUT_SCRIPT
+  // will be used on filament runout for both host-based and SD-card printing.
+  //
+  // The host must be able to respond to the //action: command set here.
+  //
+  //#define ACTION_ON_FILAMENT_RUNOUT "pause: filament_runout"
+
   // After a runout is detected, continue printing this length of filament
   // before executing the runout script. Useful for a sensor at the end of
   // a feed tube. Requires 4 bytes SRAM per sensor, plus 4 bytes overhead.

commit 7fde8d9d1e264c09246b0c7f64fc5c56b3752cd6
Author: mikeshub <mikesbaker@gmail.com>
Date:   Mon Jan 14 14:29:55 2019 -0600

    Add CreatorPro / Makerbot / QIDI / etc and Mightboard RevE support (#12855)
    
    - Fix a bug in MAXxxxx thermocouple temp reporting.
    - Add support for 3-wire HD44780.
    - Add support for PCA9533 RGB driver.
    - Add configuration examples for FlashForge CreatorPro.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1c217ba37a..ea0ab63ffb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1723,11 +1723,18 @@
 //
 
 //
-// 2 wire Non-latching LCD SR from https://goo.gl/aJJ4sH
+// 2-wire Non-latching LCD SR from https://goo.gl/aJJ4sH
 // LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
 //
 //#define SAV_3DLCD
 
+//
+// 3-wire SR LCD with strobe using 74HC4094
+// https://github.com/mikeshub/SailfishLCD
+// Uses the code directly from Sailfish
+//
+//#define FF_INTERFACEBOARD
+
 //=============================================================================
 //=======================   LCD / Controller Selection  =======================
 //=========================      (Graphical LCDs)      ========================
@@ -1957,6 +1964,10 @@
 // Support for PCA9632 PWM LED driver
 //#define PCA9632
 
+// Support for PCA9533 PWM LED driver
+// https://github.com/mikeshub/SailfishRGB_LED
+//#define PCA9533
+
 /**
  * RGB LED / LED Strip Control
  *
@@ -2011,7 +2022,7 @@
  *  - Change to green once print has finished
  *  - Turn off after the print has finished and the user has pushed a button
  */
-#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632) || ENABLED(NEOPIXEL_LED)
+#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632) || ENABLED(PCA9533)|| ENABLED(NEOPIXEL_LED)
   #define PRINTER_EVENT_LEDS
 #endif
 

commit a0ef6198ff012b046a680f9feb535e1941a9690f
Author: Ond≈ôej Nov√Ω <novy@ondrej.org>
Date:   Fri Jan 11 02:15:17 2019 +0100

    Level bed corners Z-hop height option (#12858)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6f722714ca..1c217ba37a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1181,6 +1181,7 @@
 
 #if ENABLED(LEVEL_BED_CORNERS)
   #define LEVEL_CORNERS_INSET 30    // (mm) An inset for corner leveling
+  #define LEVEL_CORNERS_Z_HOP  4.0  // (mm) Move nozzle up before moving between corners
   //#define LEVEL_CENTER_TOO        // Move to the center after the last corner
 #endif
 

commit 813a4ea107f3b09b85a29e4446755fe276eba6f4
Author: jmz52 <jmz52@users.noreply.github.com>
Date:   Thu Jan 3 19:38:39 2019 +0300

    Add support for Mks Robin TFT display (#12706)
    
    * Add support for MKS Robin TFT display
    
    - Add support for MKS Robin TFT display and encoder for MKS Robin board.
    - Generic 128x64 UI with x2 upscale is used (for now).
    - Tested on MKS Robin TFT V2.0 with ST7789V controller.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 64bc3af491..6f722714ca 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1873,6 +1873,15 @@
 //
 //#define EXTENSIBLE_UI
 
+//=============================================================================
+//=============================== Graphical TFTs ==============================
+//=============================================================================
+
+//
+// MKS Robin 320x240 color display
+//
+//#define MKS_ROBIN_TFT
+
 //=============================================================================
 //============================  Other Controllers  ============================
 //=============================================================================

commit cfc5e96b4b316683391c7acae5b298a59fc7cba2
Author: Ludy <Ludy87@users.noreply.github.com>
Date:   Thu Dec 27 22:29:39 2018 +0100

    Move JD to Config.h (and fix jerk->eeprom bug) (#12720)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5918c9d49e..64bc3af491 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -669,6 +669,14 @@
 #define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration for retracts
 #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
 
+//
+// Use Junction Deviation instead of traditional Jerk Limiting
+//
+//#define JUNCTION_DEVIATION
+#if ENABLED(JUNCTION_DEVIATION)
+  #define JUNCTION_DEVIATION_MM 0.02  // (mm) Distance from real junction edge
+#endif
+
 /**
  * Default Jerk (mm/s)
  * Override with M205 X Y Z E
@@ -677,10 +685,13 @@
  * When changing speed and direction, if the difference is less than the
  * value set here, it may happen instantaneously.
  */
-#define DEFAULT_XJERK                 10.0
-#define DEFAULT_YJERK                 10.0
-#define DEFAULT_ZJERK                  0.3
-#define DEFAULT_EJERK                  5.0
+#if DISABLED(JUNCTION_DEVIATION)
+  #define DEFAULT_XJERK 10.0
+  #define DEFAULT_YJERK 10.0
+  #define DEFAULT_ZJERK  0.3
+#endif
+
+#define DEFAULT_EJERK    5.0  // May be used by Linear Advance
 
 /**
  * S-Curve Acceleration

commit 367a9f65aabbb50ab95f962fad281e9121962f47
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Thu Dec 20 18:04:17 2018 -0500

    Add Formbot 350c Thermistor (#12661)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 02e2b34412..5918c9d49e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -305,6 +305,7 @@
  *    15 : 100k thermistor calibration for JGAurora A5 hotend
  *    20 : the PT100 circuit found in the Ultimainboard V2.x
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
+ *    61 : 100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup
  *    66 : 4.7M High Temperature thermistor from Dyze Design
  *    70 : the 100K thermistor found in the bq Hephestos 2
  *    75 : 100k Generic Silicon Heat Pad with NTC 100K MGB18-104F39050L32 thermistor
@@ -324,7 +325,7 @@
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
+ * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '61':"100k Formbot / Vivedino 3950 350C thermistor 4.7k pullup", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit a7b3a6142456720a46e0c447abac4f811f4a0ff6
Author: Ludy <Ludy87@users.noreply.github.com>
Date:   Mon Dec 10 02:02:42 2018 +0100

    Improve some config comments readability (#12615)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f3139c4959..02e2b34412 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -387,10 +387,10 @@
 #define PID_MAX BANG_MAX // Limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #define PID_K1 0.95      // Smoothing factor within any PID loop
 #if ENABLED(PIDTEMP)
-  //#define PID_AUTOTUNE_MENU // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
-  //#define PID_DEBUG // Sends debug data to the serial port.
-  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
-  //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
+  //#define PID_AUTOTUNE_MENU     // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
+  //#define PID_DEBUG             // Sends debug data to the serial port.
+  //#define PID_OPENLOOP 1        // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
+  //#define SLOW_PWM_HEATERS      // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature

commit 4388015f1a9aef348fabd813f8c9a5213f836472
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Dec 7 16:31:31 2018 -0600

    Tweak config formatting

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 09ad249b42..f3139c4959 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -201,7 +201,7 @@
   #define PARKING_EXTRUDER_SOLENOIDS_PINS_ACTIVE LOW  // LOW or HIGH pin signal energizes the coil
   #define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        // Delay (ms) for magnetic field. No delay if 0 or not defined.
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
-  #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // mm to move beyond the parking point to grab the extruder
+  #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // (mm) Distance to move beyond the parking point to grab the extruder
   //#define MANUAL_SOLENOID_CONTROL                   // Manual control of docking solenoids with M380 S / M381
 #endif
 

commit 6471a75a228d8d60416f7b405e888064e7e8c8da
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Tue Nov 6 22:52:20 2018 -0500

    Combine more tool-change variables (#12137)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d50562f049..09ad249b42 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -154,17 +154,6 @@
 
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
-#if ENABLED(SINGLENOZZLE)
-  // Parameters for filament retract / prime on toolchange
-  #define SINGLENOZZLE_SWAP_LENGTH          12  // (mm)
-  #define SINGLENOZZLE_SWAP_RETRACT_SPEED 3600  // (mm/m)
-  #define SINGLENOZZLE_SWAP_PRIME_SPEED   3600  // (mm/m)
-  //#define SINGLENOZZLE_SWAP_PARK
-  #if ENABLED(SINGLENOZZLE_SWAP_PARK)
-    #define SINGLENOZZLE_TOOLCHANGE_XY    { X_MIN_POS + 10, Y_MIN_POS + 10 }
-    #define SINGLENOZZLE_PARK_XY_FEEDRATE 6000  // (mm/m)
-  #endif
-#endif
 
 /**
  * Pr≈Ø≈°a MK2 Single Nozzle Multi-Material Multiplexer, and variants.
@@ -945,9 +934,6 @@
 #define Y_MAX_POS Y_BED_SIZE
 #define Z_MAX_POS 200
 
-// Z raise distance for tool-change, as needed for some extruders
-#define TOOLCHANGE_ZRAISE     2  // (mm)
-
 /**
  * Software Endstops
  *

commit 82ff7c65425ec468e241291ddde0eeb133c703f4
Author: KangDroid <hyunwoo286@gmail.com>
Date:   Wed Jun 6 11:57:25 2018 +0900

    Add a mesh edit menu for MBL / ABL-Bilinear

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bd1833ac98..d50562f049 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1173,8 +1173,9 @@
 //#define LCD_BED_LEVELING
 
 #if ENABLED(LCD_BED_LEVELING)
-  #define MBL_Z_STEP 0.025    // Step size while manually probing Z axis.
-  #define LCD_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
+  #define MESH_EDIT_Z_STEP  0.025 // (mm) Step size while manually probing Z axis.
+  #define LCD_PROBE_Z_RANGE 4     // (mm) Z Range centered on Z_MIN_POS for LCD Z adjustment
+  //#define MESH_EDIT_MENU        // Add a menu to edit mesh points
 #endif
 
 // Add a menu item to move between bed corners for manual bed adjustment

commit 9cd3529108e088258eba6a3b448eb89e6719d0fe
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Oct 30 20:40:36 2018 -0500

    Organize language data, fix Korean and Danish

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 08bb9d066d..bd1833ac98 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1463,10 +1463,10 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *    en, an, bg, ca, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it, jp-kana,
- *    ko_KR, nl, pl, pt, pt-br, ru, sk, tr, uk, zh_CN, zh_TW, test
+ *    en, an, bg, ca, cz, da, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
+ *    jp-kana, ko_KR, nl, pl, pt, pt-br, ru, sk, tr, uk, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'da':'Danish', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit 9e663a624bfa0e546a9d1cf1af191ef85d698b6b
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Oct 30 18:35:12 2018 -0500

    Apply #pragma once to configuration files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c241b3f7ce..08bb9d066d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -19,6 +19,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  *
  */
+#pragma once
 
 /**
  * Configuration.h
@@ -35,8 +36,6 @@
  * Advanced settings can be found in Configuration_adv.h
  *
  */
-#ifndef CONFIGURATION_H
-#define CONFIGURATION_H
 #define CONFIGURATION_H_VERSION 020000
 
 //===========================================================================
@@ -2031,5 +2030,3 @@
 
 // Allow servo angle to be edited and saved to EEPROM
 //#define EDITABLE_SERVO_ANGLES
-
-#endif // CONFIGURATION_H

commit 3028a620af6d6e7bea05e1dee2cdd2eae47db3b0
Author: Chris Rigter <chris@rigter.com.au>
Date:   Sat Oct 27 08:47:38 2018 +1100

    Add RACK_AND_PINION_PROBE (#12218)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0cdd850cdb..c241b3f7ce 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -782,6 +782,13 @@
 //#define Z_PROBE_SLED
 //#define SLED_DOCKING_OFFSET 5  // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
+// A probe deployed by moving the x-axis, such as the Wilson II's rack-and-pinion probe designed by Marty Rice.
+//#define RACK_AND_PINION_PROBE
+#if ENABLED(RACK_AND_PINION_PROBE)
+  #define Z_PROBE_DEPLOY_X  X_MIN_POS
+  #define Z_PROBE_RETRACT_X X_MAX_POS
+#endif
+
 //
 // For Z_PROBE_ALLEN_KEY see the Delta example configurations.
 //

commit e229b831fab7b3e789631ea004640b7c82555253
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Oct 23 00:57:19 2018 -0500

    Customizable preheat labels

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 18ff2e5eb6..0cdd850cdb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1323,10 +1323,12 @@
 // @section temperature
 
 // Preheat Constants
+#define PREHEAT_1_LABEL       "PLA"
 #define PREHEAT_1_TEMP_HOTEND 180
 #define PREHEAT_1_TEMP_BED     70
 #define PREHEAT_1_FAN_SPEED     0 // Value from 0 to 255
 
+#define PREHEAT_2_LABEL       "ABS"
 #define PREHEAT_2_TEMP_HOTEND 240
 #define PREHEAT_2_TEMP_BED    110
 #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255

commit 67a3c5a16ad0c202352ef19b5993ac0c7f52862d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Oct 18 11:34:52 2018 -0500

    Alternative info screen (Prusa-style) (#12132)
    
    * Fix Z value display
    * Add HAS_PRINT_PROGRESS
    * Alternative Info Screen option
    * Add LCD_INFO_SCREEN_STYLE to example configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1ab2080bfb..18ff2e5eb6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1486,6 +1486,13 @@
  */
 #define DISPLAY_CHARSET_HD44780 JAPANESE
 
+/**
+ * Info Screen Style (0:Classic, 1:Prusa)
+ *
+ * :[0:'Classic', 1:'Prusa']
+ */
+#define LCD_INFO_SCREEN_STYLE 0
+
 /**
  * SD CARD
  *

commit 3ec38727305862c881f268e2fc27f8188b5bc767
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Wed Oct 17 12:11:41 2018 -0400

    Single Z raise value for all tool-changing / parking (#12090)
    
    * Universal tool-change Z lift
    * Add TOOLCHANGE_ZRAISE to example configs
    * Park/unpark changes to example configs
    * Implement DEBUG_DXC_MODE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bdfb99446c..1ab2080bfb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -161,7 +161,6 @@
   #define SINGLENOZZLE_SWAP_RETRACT_SPEED 3600  // (mm/m)
   #define SINGLENOZZLE_SWAP_PRIME_SPEED   3600  // (mm/m)
   //#define SINGLENOZZLE_SWAP_PARK
-  #define SINGLENOZZLE_TOOLCHANGE_ZRAISE     2  // (mm)
   #if ENABLED(SINGLENOZZLE_SWAP_PARK)
     #define SINGLENOZZLE_TOOLCHANGE_XY    { X_MIN_POS + 10, Y_MIN_POS + 10 }
     #define SINGLENOZZLE_PARK_XY_FEEDRATE 6000  // (mm/m)
@@ -215,7 +214,6 @@
   #define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        // Delay (ms) for magnetic field. No delay if 0 or not defined.
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
   #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // mm to move beyond the parking point to grab the extruder
-  #define PARKING_EXTRUDER_SECURITY_RAISE 5           // Z-raise before parking
   //#define MANUAL_SOLENOID_CONTROL                   // Manual control of docking solenoids with M380 S / M381
 #endif
 
@@ -233,7 +231,6 @@
   #define SWITCHING_TOOLHEAD_Y_SECURITY    10         // (mm) Security distance Y axis
   #define SWITCHING_TOOLHEAD_Y_CLEAR       60         // (mm) Minimum distance from dock for unobstructed X axis
   #define SWITCHING_TOOLHEAD_X_POS        { 215, 0 }  // (mm) X positions for parking the extruders
-  #define SWITCHING_TOOLHEAD_SECURITY_RAISE 5         // (mm) Z-raise before parking
 #endif
 
 /**
@@ -942,6 +939,9 @@
 #define Y_MAX_POS Y_BED_SIZE
 #define Z_MAX_POS 200
 
+// Z raise distance for tool-change, as needed for some extruders
+#define TOOLCHANGE_ZRAISE     2  // (mm)
+
 /**
  * Software Endstops
  *

commit 056561df935f47ecfabc16e2ed777f3754be837c
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Tue Oct 16 06:28:52 2018 -0600

    [2.0.x] Enhancements to FILAMENT_RUNOUT_SENSOR (#12069)
    
    - Added FILAMENT_RUNOUT_DISTANCE_MM option
    - Added FILAMENT_MOTION_SENSOR option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f4e989b2db..bdfb99446c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -986,6 +986,18 @@
   #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
   //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.
   #define FILAMENT_RUNOUT_SCRIPT "M600"
+
+  // After a runout is detected, continue printing this length of filament
+  // before executing the runout script. Useful for a sensor at the end of
+  // a feed tube. Requires 4 bytes SRAM per sensor, plus 4 bytes overhead.
+  //#define FILAMENT_RUNOUT_DISTANCE_MM 25
+
+  #ifdef FILAMENT_RUNOUT_DISTANCE_MM
+    // Enable this option to use an encoder disc that toggles the runout pin
+    // as the filament moves. (Be sure to set FILAMENT_RUNOUT_DISTANCE_MM
+    // large enough to avoid false positives.)
+    //#define FILAMENT_MOTION_SENSOR
+  #endif
 #endif
 
 //===========================================================================

commit 951b25163e8b9e09212594b47c26434f23dc1a1e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Oct 13 23:08:20 2018 -0500

    Extend M217 with configurable park/raise (#12076)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f2199290b6..f4e989b2db 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -161,11 +161,10 @@
   #define SINGLENOZZLE_SWAP_RETRACT_SPEED 3600  // (mm/m)
   #define SINGLENOZZLE_SWAP_PRIME_SPEED   3600  // (mm/m)
   //#define SINGLENOZZLE_SWAP_PARK
+  #define SINGLENOZZLE_TOOLCHANGE_ZRAISE     2  // (mm)
   #if ENABLED(SINGLENOZZLE_SWAP_PARK)
-    #define SINGLENOZZLE_TOOLCHANGE_POSITION { (X_MIN_POS + 10), (Y_MIN_POS + 10), 5 }
+    #define SINGLENOZZLE_TOOLCHANGE_XY    { X_MIN_POS + 10, Y_MIN_POS + 10 }
     #define SINGLENOZZLE_PARK_XY_FEEDRATE 6000  // (mm/m)
-  #else
-    #define SINGLENOZZLE_TOOLCHANGE_ZRAISE 2.0
   #endif
 #endif
 

commit af3bf6c9563fa6f9c6d10c8c62501f01bf5c3050
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Oct 12 16:09:27 2018 -0500

    Tweak config spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b92bd7452..f2199290b6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -163,7 +163,7 @@
   //#define SINGLENOZZLE_SWAP_PARK
   #if ENABLED(SINGLENOZZLE_SWAP_PARK)
     #define SINGLENOZZLE_TOOLCHANGE_POSITION { (X_MIN_POS + 10), (Y_MIN_POS + 10), 5 }
-    #define SINGLENOZZLE_PARK_XY_FEEDRATE 6000 // (mm/m)
+    #define SINGLENOZZLE_PARK_XY_FEEDRATE 6000  // (mm/m)
   #else
     #define SINGLENOZZLE_TOOLCHANGE_ZRAISE 2.0
   #endif

commit 906a24fa81586e3d9aeb60e7a3fb179a8b616b9b
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Mon Oct 8 14:44:05 2018 -0600

    Extensible user interface API (#11193)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d551fe4439..3b92bd7452 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1839,6 +1839,15 @@
 //
 //#define SILVER_GATE_GLCD_CONTROLLER
 
+//
+// Extensible UI
+//
+// Enable third-party or vendor customized user interfaces that aren't
+// packaged with Marlin. Source code for the user interface will need to
+// be placed in "src/lcd/extensible_ui/lib"
+//
+//#define EXTENSIBLE_UI
+
 //=============================================================================
 //============================  Other Controllers  ============================
 //=============================================================================

commit ee253991d4eeecacd022833ca72eff1c344b54ba
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Mon Oct 8 16:39:55 2018 -0400

    Various fixups for single-nozzle filament swap (#12036)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4028c70c0f..d551fe4439 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -156,13 +156,14 @@
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
 #if ENABLED(SINGLENOZZLE)
-  // Length of filament to retract and prime on toolchange
-  //#define SINGLENOZZLE_SWAP_LENGTH 12.0
-  //#define SINGLENOZZLE_SWAP_RETRACT_SPEED 3600  // (mm/m)
-  //#define SINGLENOZZLE_SWAP_PRIME_SPEED   3600  // (mm/m)
+  // Parameters for filament retract / prime on toolchange
+  #define SINGLENOZZLE_SWAP_LENGTH          12  // (mm)
+  #define SINGLENOZZLE_SWAP_RETRACT_SPEED 3600  // (mm/m)
+  #define SINGLENOZZLE_SWAP_PRIME_SPEED   3600  // (mm/m)
   //#define SINGLENOZZLE_SWAP_PARK
   #if ENABLED(SINGLENOZZLE_SWAP_PARK)
     #define SINGLENOZZLE_TOOLCHANGE_POSITION { (X_MIN_POS + 10), (Y_MIN_POS + 10), 5 }
+    #define SINGLENOZZLE_PARK_XY_FEEDRATE 6000 // (mm/m)
   #else
     #define SINGLENOZZLE_TOOLCHANGE_ZRAISE 2.0
   #endif

commit f2ecf8d5107e17508b55c2e9108c0f7395c7bb49
Author: Sam Lane <9569766+SJ-Innovation@users.noreply.github.com>
Date:   Sun Oct 7 23:07:12 2018 +0100

    Add option to control Solenoids under PARKING_EXTRUDER (#12028)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5ff732ade2..4028c70c0f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -216,6 +216,7 @@
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
   #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // mm to move beyond the parking point to grab the extruder
   #define PARKING_EXTRUDER_SECURITY_RAISE 5           // Z-raise before parking
+  //#define MANUAL_SOLENOID_CONTROL                   // Manual control of docking solenoids with M380 S / M381
 #endif
 
 /**

commit 74cd6cb4fc90e4c483e7a97a313c0257790f1375
Author: InsanityAutomation <38436470+InsanityAutomation@users.noreply.github.com>
Date:   Sun Oct 7 18:06:14 2018 -0400

    Single nozzle filament change (#11994)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5bcfa97d12..5ff732ade2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -155,6 +155,18 @@
 
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
+#if ENABLED(SINGLENOZZLE)
+  // Length of filament to retract and prime on toolchange
+  //#define SINGLENOZZLE_SWAP_LENGTH 12.0
+  //#define SINGLENOZZLE_SWAP_RETRACT_SPEED 3600  // (mm/m)
+  //#define SINGLENOZZLE_SWAP_PRIME_SPEED   3600  // (mm/m)
+  //#define SINGLENOZZLE_SWAP_PARK
+  #if ENABLED(SINGLENOZZLE_SWAP_PARK)
+    #define SINGLENOZZLE_TOOLCHANGE_POSITION { (X_MIN_POS + 10), (Y_MIN_POS + 10), 5 }
+  #else
+    #define SINGLENOZZLE_TOOLCHANGE_ZRAISE 2.0
+  #endif
+#endif
 
 /**
  * Pr≈Ø≈°a MK2 Single Nozzle Multi-Material Multiplexer, and variants.

commit bb561baf9efc880a5d30cdd6cf2b3f15d9513e01
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Oct 4 02:42:05 2018 -0500

    Tweak some config comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7249151830..5bcfa97d12 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -906,7 +906,7 @@
 
 //#define UNKNOWN_Z_NO_RAISE // Don't raise Z (lower the bed) if Z is "unknown." For beds that fall when Z is powered off.
 
-//#define Z_HOMING_HEIGHT 4  // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
+//#define Z_HOMING_HEIGHT 4  // (mm) Minimal Z height before homing (G28) for Z clearance above the bed, clamps, ...
                              // Be sure you have this distance over your Z_MAX_POS in case.
 
 // Direction of endstops when homing; 1=MAX, -1=MIN

commit 2abf3d258d119e337b1fadefb1085e7b667d7686
Author: brian park <gouache95@gmail.com>
Date:   Wed Oct 3 15:53:34 2018 +0900

    Korean language translation support (#11987)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2460b8d950..7249151830 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1430,10 +1430,10 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *    en, an, bg, ca, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
- *    jp-kana, nl, pl, pt, pt-br, ru, sk, tr, uk, zh_CN, zh_TW, test
+ *    en, an, bg, ca, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it, jp-kana,
+ *    ko_KR, nl, pl, pt, pt-br, ru, sk, tr, uk, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'ko_KR':'Korean (South Korea)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit e3f7b6910574edf7b0f1ec2e1670bb2003bb990d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Oct 2 05:13:58 2018 -0500

    Add PROBING_STEPPERS_OFF (#11984)
    
    Co-Authored-By: houseofbugs <houseofbugs@gmail.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9bca0c9901..2460b8d950 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -859,6 +859,7 @@
   //#define WAIT_FOR_BED_HEATER     // Wait for bed to heat back up between probes (to improve accuracy)
 #endif
 //#define PROBING_FANS_OFF          // Turn fans off when probing
+//#define PROBING_STEPPERS_OFF      // Turn steppers off (unless needed to hold position) when probing
 //#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1

commit 0e5bcdf695cc8a0a0f0bccc365a7307a87a763cc
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Oct 2 04:56:44 2018 -0500

    Make DISABLE_INACTIVE_EXTRUDER a simple switch

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ff0cebbf74..9bca0c9901 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -879,8 +879,8 @@
 
 // @section extruder
 
-#define DISABLE_E false // For all extruders
-#define DISABLE_INACTIVE_EXTRUDER true // Keep only the active extruder enabled.
+#define DISABLE_E false             // For all extruders
+#define DISABLE_INACTIVE_EXTRUDER   // Keep only the active extruder enabled
 
 // @section machine
 

commit aa6e8e932518a4463f6981b2dac1bfda46f4f9b6
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Sep 25 13:41:33 2018 -0400

    Tweak some config comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8242a1bbfc..ff0cebbf74 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1797,9 +1797,11 @@
 //
 // ANET and Tronxy Graphical Controller
 //
-//#define ANET_FULL_GRAPHICS_LCD  // Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
-                                  // A clone of the RepRapDiscount full graphics display but with
-                                  // different pins/wiring (see pins_ANET_10.h).
+// Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
+// A clone of the RepRapDiscount full graphics display but with
+// different pins/wiring (see pins_ANET_10.h).
+//
+//#define ANET_FULL_GRAPHICS_LCD
 
 //
 // MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER

commit 5490a664f51c3466fc171492a7016d21876ab33a
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Sep 24 21:59:12 2018 -0400

    Expose: Homing Validation and Endstop Noise Threshold (#11912)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c89bea954a..8242a1bbfc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -603,21 +603,18 @@
 //#define ENDSTOP_INTERRUPTS_FEATURE
 
 /**
- * Endstop Noise Filter
- *
- * Enable this option if endstops falsely trigger due to noise.
- * NOTE: Enabling this feature means adds an error of +/-0.2mm, so homing
- * will end up at a slightly different position on each G28. This will also
- * reduce accuracy of some bed probes.
- * For mechanical switches, the better approach to reduce noise is to install
- * a 100 nanofarads ceramic capacitor in parallel with the switch, making it
- * essentially noise-proof without sacrificing accuracy.
- * This option also increases MCU load when endstops or the probe are enabled.
- * So this is not recommended. USE AT YOUR OWN RISK.
- * (This feature is not required for common micro-switches mounted on PCBs
- * based on the Makerbot design, since they already include the 100nF capacitor.)
+ * Endstop Noise Threshold
+ *
+ * Enable if your probe or endstops falsely trigger due to noise.
+ *
+ * - Higher values may affect repeatability or accuracy of some bed probes.
+ * - To fix noise install a 100nF ceramic capacitor inline with the switch.
+ * - This feature is not required for common micro-switches mounted on PCBs
+ *   based on the Makerbot design, which already have the 100nF capacitor.
+ *
+ * :[2,3,4,5,6,7]
  */
-//#define ENDSTOP_NOISE_FILTER
+//#define ENDSTOP_NOISE_THRESHOLD 2
 
 //=============================================================================
 //============================== Movement Settings ============================
@@ -1194,6 +1191,9 @@
 #define HOMING_FEEDRATE_XY (50*60)
 #define HOMING_FEEDRATE_Z  (4*60)
 
+// Validate that endstops are triggered on homing moves
+#define VALIDATE_HOMING_ENDSTOPS
+
 // @section calibrate
 
 /**

commit 6742026568b232c749f8be2bfd6bc61b6313e265
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Sep 24 14:36:39 2018 -0400

    Followup for 6 extruders

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bdda6885bd..c89bea954a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -147,7 +147,7 @@
 // @section extruder
 
 // This defines the number of extruders
-// :[1, 2, 3, 4, 5]
+// :[1, 2, 3, 4, 5, 6]
 #define EXTRUDERS 1
 
 // Generally expected filament diameter (1.75, 2.85, 3.0, ...). Used for Volumetric, Filament Width Sensor, etc.

commit 04bdff4115dc8750c35f6f7f9499e607c2a6117d
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Sep 24 12:47:02 2018 -0400

    Add a blank line

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 69a9fbabeb..bdda6885bd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -876,6 +876,7 @@
 #define DISABLE_X false
 #define DISABLE_Y false
 #define DISABLE_Z false
+
 // Warn on display about possibly reduced accuracy
 //#define DISABLE_REDUCED_ACCURACY_WARNING
 

commit 217e0efd20292f5cab81af4f381af214a8bf06e2
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Sep 24 00:43:43 2018 -0400

    General option PAUSE_BEFORE_DEPLOY_STOW (#11905)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3c75cec830..69a9fbabeb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -753,9 +753,6 @@
  *   (e.g., an inductive probe or a nozzle-based probe-switch.)
  */
 //#define FIX_MOUNTED_PROBE
-#if ENABLED(FIX_MOUNTED_PROBE)
-  //#define MANUAL_DEPLOY_STOW
-#endif
 
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.
@@ -850,6 +847,9 @@
 // Enable the M48 repeatability test to test probe accuracy
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
+// Before deploy/stow pause for user confirmation
+//#define PAUSE_BEFORE_DEPLOY_STOW
+
 /**
  * Enable one or more of the following if probing seems unreliable.
  * Heaters and/or fans can be disabled during probing to minimize electrical

commit 849dea92a894a025595bf5c77fcb16503e63b218
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Sep 23 23:09:36 2018 -0400

    Move probe extras below probe types

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a1bbbfcb43..3c75cec830 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -771,20 +771,6 @@
   //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
 #endif
 
-/**
- * Enable one or more of the following if probing seems unreliable.
- * Heaters and/or fans can be disabled during probing to minimize electrical
- * noise. A delay can also be added to allow noise and vibration to settle.
- * These options are most useful for the BLTouch probe, but may also improve
- * readings with inductive probes and piezo sensors.
- */
-//#define PROBING_HEATERS_OFF       // Turn heaters off when probing
-#if ENABLED(PROBING_HEATERS_OFF)
-  //#define WAIT_FOR_BED_HEATER     // Wait for bed to heat back up between probes (to improve accuracy)
-#endif
-//#define PROBING_FANS_OFF          // Turn fans off when probing
-//#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
-
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE
 
@@ -864,6 +850,20 @@
 // Enable the M48 repeatability test to test probe accuracy
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
+/**
+ * Enable one or more of the following if probing seems unreliable.
+ * Heaters and/or fans can be disabled during probing to minimize electrical
+ * noise. A delay can also be added to allow noise and vibration to settle.
+ * These options are most useful for the BLTouch probe, but may also improve
+ * readings with inductive probes and piezo sensors.
+ */
+//#define PROBING_HEATERS_OFF       // Turn heaters off when probing
+#if ENABLED(PROBING_HEATERS_OFF)
+  //#define WAIT_FOR_BED_HEATER     // Wait for bed to heat back up between probes (to improve accuracy)
+#endif
+//#define PROBING_FANS_OFF          // Turn fans off when probing
+//#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
+
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 // :{ 0:'Low', 1:'High' }
 #define X_ENABLE_ON 0

commit a4cdffdd69112424a3d678713cc8ac4c38ad8bad
Author: Hannes Brandst√§tter-M√ºller <hannes.mueller@gmail.com>
Date:   Sun Sep 23 18:50:03 2018 +0200

    Support for manually deployed fixed probes (#11899)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index af2f096c47..a1bbbfcb43 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -753,6 +753,9 @@
  *   (e.g., an inductive probe or a nozzle-based probe-switch.)
  */
 //#define FIX_MOUNTED_PROBE
+#if ENABLED(FIX_MOUNTED_PROBE)
+  //#define MANUAL_DEPLOY_STOW
+#endif
 
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.

commit bae8f82ba80be8dd90f52156652d46be0b0a2a08
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Sep 18 01:10:41 2018 -0500

    [2.0] Fix Mixing Extruder mixing factors (#11861)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fe6dd5830b..af2f096c47 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -225,11 +225,11 @@
 
 /**
  * "Mixing Extruder"
- *   - Adds a new code, M165, to set the current mix factors.
+ *   - Adds G-codes M163 and M164 to set and "commit" the current mix factors.
  *   - Extends the stepping routines to move multiple steppers in proportion to the mix.
- *   - Optional support for Repetier Firmware M163, M164, and virtual extruder.
- *   - This implementation supports only a single extruder.
- *   - Enable DIRECT_MIXING_IN_G1 for Pia Taubert's reference implementation
+ *   - Optional support for Repetier Firmware's 'M164 S<index>' supporting virtual tools.
+ *   - This implementation supports up to two mixing extruders.
+ *   - Enable DIRECT_MIXING_IN_G1 for M165 and mixing in G1 (from Pia Taubert's reference implementation).
  */
 //#define MIXING_EXTRUDER
 #if ENABLED(MIXING_EXTRUDER)

commit f5c210d33dba860dd51f4cf45bfbffdebf53e34f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Sep 16 02:23:14 2018 -0500

    Config changes supporting up to 6 extruders

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 306ac4b53f..fe6dd5830b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -333,6 +333,7 @@
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_3 0
 #define TEMP_SENSOR_4 0
+#define TEMP_SENSOR_5 0
 #define TEMP_SENSOR_BED 0
 #define TEMP_SENSOR_CHAMBER 0
 
@@ -363,6 +364,7 @@
 #define HEATER_2_MINTEMP 5
 #define HEATER_3_MINTEMP 5
 #define HEATER_4_MINTEMP 5
+#define HEATER_5_MINTEMP 5
 #define BED_MINTEMP 5
 
 // When temperature exceeds max temp, your heater will be switched off.
@@ -373,6 +375,7 @@
 #define HEATER_2_MAXTEMP 275
 #define HEATER_3_MAXTEMP 275
 #define HEATER_4_MAXTEMP 275
+#define HEATER_5_MAXTEMP 275
 #define BED_MAXTEMP 150
 
 //===========================================================================
@@ -593,6 +596,7 @@
 //#define E2_DRIVER_TYPE A4988
 //#define E3_DRIVER_TYPE A4988
 //#define E4_DRIVER_TYPE A4988
+//#define E5_DRIVER_TYPE A4988
 
 // Enable this feature if all enabled endstop pins are interrupt-capable.
 // This will remove the need to poll the interrupt pins, saving many CPU cycles.
@@ -638,14 +642,14 @@
 /**
  * Default Axis Steps Per Unit (steps/mm)
  * Override with M92
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
 #define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
 
 /**
  * Default Max Feed Rate (mm/s)
  * Override with M203
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
 #define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
 
@@ -653,7 +657,7 @@
  * Default Max Acceleration (change/s) change = mm/s
  * (Maximum start speed for accelerated moves)
  * Override with M201
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4[, E5]]]]]
  */
 #define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 
@@ -892,6 +896,7 @@
 #define INVERT_E2_DIR false
 #define INVERT_E3_DIR false
 #define INVERT_E4_DIR false
+#define INVERT_E5_DIR false
 
 // @section homing
 

commit 1a6f2b29b8dd3bc8e6ef56d4f376f49cacfc8785
Author: Holger MuÃàller <holger@mueller-gelff.de>
Date:   Tue Jun 19 18:55:49 2018 +0200

    Add support for Triple-Z steppers/endstops

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bd63e6362b..306ac4b53f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -587,6 +587,7 @@
 //#define X2_DRIVER_TYPE A4988
 //#define Y2_DRIVER_TYPE A4988
 //#define Z2_DRIVER_TYPE A4988
+//#define Z3_DRIVER_TYPE A4988
 //#define E0_DRIVER_TYPE A4988
 //#define E1_DRIVER_TYPE A4988
 //#define E2_DRIVER_TYPE A4988

commit e25d2ae4a2063d30330facf81c4b2b93cd63dda6
Author: Kevin <kevinbayer8@gmail.com>
Date:   Sat Sep 8 08:43:24 2018 +0200

    [2.0.x] SWITCHING_TOOLHEAD (#11623)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 10d066996e..bd63e6362b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -206,6 +206,23 @@
   #define PARKING_EXTRUDER_SECURITY_RAISE 5           // Z-raise before parking
 #endif
 
+/**
+ * Switching Toolhead
+ *
+ * Support for swappable and dockable toolheads, such as
+ * the E3D Tool Changer. Toolheads are locked with a servo.
+ */
+//#define SWITCHING_TOOLHEAD
+#if ENABLED(SWITCHING_TOOLHEAD)
+  #define SWITCHING_TOOLHEAD_SERVO_NR       2         // Index of the servo connector
+  #define SWITCHING_TOOLHEAD_SERVO_ANGLES { 0, 180 }  // (degrees) Angles for Lock, Unlock
+  #define SWITCHING_TOOLHEAD_Y_POS        235         // (mm) Y position of the toolhead dock
+  #define SWITCHING_TOOLHEAD_Y_SECURITY    10         // (mm) Security distance Y axis
+  #define SWITCHING_TOOLHEAD_Y_CLEAR       60         // (mm) Minimum distance from dock for unobstructed X axis
+  #define SWITCHING_TOOLHEAD_X_POS        { 215, 0 }  // (mm) X positions for parking the extruders
+  #define SWITCHING_TOOLHEAD_SECURITY_RAISE 5         // (mm) Z-raise before parking
+#endif
+
 /**
  * "Mixing Extruder"
  *   - Adds a new code, M165, to set the current mix factors.

commit 2a61c9a9394c68b6eb26433f15f1bca9fe128da4
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Sep 6 05:33:16 2018 -0500

    Various fixups to configs, spacing, etc.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ceef8b393..10d066996e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -228,7 +228,6 @@
 //#define HOTEND_OFFSET_Y {0.0, 5.00}  // (mm) relative Y-offset for each nozzle
 //#define HOTEND_OFFSET_Z {0.0, 0.00}  // (mm) relative Z-offset for each nozzle
 
-
 // @section machine
 
 /**
@@ -1041,9 +1040,9 @@
 
   // Set the boundaries for probing (where the probe can reach).
   //#define LEFT_PROBE_BED_POSITION MIN_PROBE_EDGE
-  //#define RIGHT_PROBE_BED_POSITION (X_BED_SIZE - MIN_PROBE_EDGE)
+  //#define RIGHT_PROBE_BED_POSITION (X_BED_SIZE - (MIN_PROBE_EDGE))
   //#define FRONT_PROBE_BED_POSITION MIN_PROBE_EDGE
-  //#define BACK_PROBE_BED_POSITION (Y_BED_SIZE - MIN_PROBE_EDGE)
+  //#define BACK_PROBE_BED_POSITION (Y_BED_SIZE - (MIN_PROBE_EDGE))
 
   // Probe along the Y axis, advancing X after each column
   //#define PROBE_Y_FIRST

commit 3e81745e81fea173599b06ac9db7ed776e986808
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Aug 24 21:53:42 2018 -0500

    Fix issues, make optional

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 51af621f95..0ceef8b393 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1947,9 +1947,10 @@
 // If the servo can't reach the requested position, increase it.
 #define SERVO_DELAY { 300 }
 
-// Servo deactivation
-//
-// With this option servos are powered only during movement, then turned off to prevent jitter.
+// Only power servos during movement, otherwise leave off to prevent jitter
 //#define DEACTIVATE_SERVOS_AFTER_MOVE
 
+// Allow servo angle to be edited and saved to EEPROM
+//#define EDITABLE_SERVO_ANGLES
+
 #endif // CONFIGURATION_H

commit 66966dbd6906eeb458d0541d1847f06e03ec19fb
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Aug 25 17:00:34 2018 -0500

    Tweak comments for newer multiplexer

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b2530d7da0..51af621f95 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -171,8 +171,8 @@
   // Override the default DIO selector pins here, if needed.
   // Some pins files may provide defaults for these pins.
   //#define E_MUX0_PIN 40  // Always Required
-  //#define E_MUX1_PIN 42  // Needed for 3 to 8 steppers
-  //#define E_MUX2_PIN 44  // Needed for 5 to 8 steppers
+  //#define E_MUX1_PIN 42  // Needed for 3 to 8 inputs
+  //#define E_MUX2_PIN 44  // Needed for 5 to 8 inputs
 #endif
 
 // A dual extruder that uses a single stepper motor

commit 6483285bc5b41a6d1f38e1e52dc046be98ccdc06
Author: Kevin <kevinbayer8@gmail.com>
Date:   Wed Aug 22 07:21:29 2018 +0200

    HOTEND_OFFSET_Z always available (#11603)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f0b4402ed6..b2530d7da0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -190,7 +190,6 @@
 #if ENABLED(SWITCHING_NOZZLE)
   #define SWITCHING_NOZZLE_SERVO_NR 0
   #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // Angles for E0, E1
-  //#define HOTEND_OFFSET_Z { 0.0, 0.0 }
 #endif
 
 /**
@@ -205,7 +204,6 @@
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
   #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // mm to move beyond the parking point to grab the extruder
   #define PARKING_EXTRUDER_SECURITY_RAISE 5           // Z-raise before parking
-  #define HOTEND_OFFSET_Z { 0.0, 1.3 }                // Z-offsets of the two hotends. The first must be 0.
 #endif
 
 /**
@@ -226,8 +224,10 @@
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
 // For the other hotends it is their distance from the extruder 0 hotend.
-//#define HOTEND_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
-//#define HOTEND_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+//#define HOTEND_OFFSET_X {0.0, 20.00} // (mm) relative X-offset for each nozzle
+//#define HOTEND_OFFSET_Y {0.0, 5.00}  // (mm) relative Y-offset for each nozzle
+//#define HOTEND_OFFSET_Z {0.0, 0.00}  // (mm) relative Z-offset for each nozzle
+
 
 // @section machine
 

commit bd6d0326283a3b90af4712332a8fe848a7ebb5d7
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Aug 14 18:42:04 2018 -0500

    Update default driver configuration
    
    Co-Authored-By: teemuatlut <teemu.mantykallio@live.fi>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 64ae9ee97f..f0b4402ed6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -552,9 +552,12 @@
 #define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the probe.
 
 /**
- * Specify Stepper Driver types
- * The options are used to determine driver pulse timings as well as more advanced functionality.
- * Stepper timing options can be overridden in Configuration_adv.h
+ * Stepper Drivers
+ *
+ * These settings allow Marlin to tune stepper driver timing and enable advanced options for
+ * stepper drivers that support them. You may also override timing options in Configuration_adv.h.
+ *
+ * A4988 is assumed for unspecified drivers.
  *
  * Options: A4988, A5984, DRV8825, LV8729, L6470, TB6560, TB6600, TMC2100,
  *          TMC2130, TMC2130_STANDALONE, TMC2208, TMC2208_STANDALONE,
@@ -562,17 +565,17 @@
  *          TMC5130, TMC5130_STANDALONE
  * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE']
  */
-#define X_DRIVER_TYPE  A4988
-#define Y_DRIVER_TYPE  A4988
-#define Z_DRIVER_TYPE  A4988
-#define X2_DRIVER_TYPE A4988
-#define Y2_DRIVER_TYPE A4988
-#define Z2_DRIVER_TYPE A4988
-#define E0_DRIVER_TYPE A4988
-#define E1_DRIVER_TYPE A4988
-#define E2_DRIVER_TYPE A4988
-#define E3_DRIVER_TYPE A4988
-#define E4_DRIVER_TYPE A4988
+//#define X_DRIVER_TYPE  A4988
+//#define Y_DRIVER_TYPE  A4988
+//#define Z_DRIVER_TYPE  A4988
+//#define X2_DRIVER_TYPE A4988
+//#define Y2_DRIVER_TYPE A4988
+//#define Z2_DRIVER_TYPE A4988
+//#define E0_DRIVER_TYPE A4988
+//#define E1_DRIVER_TYPE A4988
+//#define E2_DRIVER_TYPE A4988
+//#define E3_DRIVER_TYPE A4988
+//#define E4_DRIVER_TYPE A4988
 
 // Enable this feature if all enabled endstop pins are interrupt-capable.
 // This will remove the need to poll the interrupt pins, saving many CPU cycles.

commit 846bd24eb95d9fcd22268b15a491923a4c70da0f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Aug 14 05:31:47 2018 -0500

    MALYAN_LCD is ok without SD

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4b9908b34b..64ae9ee97f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1803,7 +1803,6 @@
 
 //
 // LCD for Malyan M200 printers.
-// This requires SDSUPPORT to be enabled
 //
 //#define MALYAN_LCD
 

commit a1a5367380931a4c4c5b3eb0543dc8d7e57aa4c5
Author: Greg Nutt <gmnutt@hotmail.com>
Date:   Tue Aug 7 20:01:56 2018 -0400

    Smoothieboard V1.0/1.1 and A5984 support

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 104a797cb0..4b9908b34b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -556,11 +556,11 @@
  * The options are used to determine driver pulse timings as well as more advanced functionality.
  * Stepper timing options can be overridden in Configuration_adv.h
  *
- * Options: A4988, DRV8825, LV8729, L6470, TB6560, TB6600, TMC2100,
+ * Options: A4988, A5984, DRV8825, LV8729, L6470, TB6560, TB6600, TMC2100,
  *          TMC2130, TMC2130_STANDALONE, TMC2208, TMC2208_STANDALONE,
  *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
  *          TMC5130, TMC5130_STANDALONE
- * :['A4988', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE']
+ * :['A4988', 'A5984', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE']
  */
 #define X_DRIVER_TYPE  A4988
 #define Y_DRIVER_TYPE  A4988

commit bd3ec66a78eaa9d492e57d67b1b0729084d44e61
Author: Giuliano <3684609+GMagician@users.noreply.github.com>
Date:   Thu Jul 26 01:00:47 2018 +0200

    [2.0.x] typo fix (#11365)
    
    Typo fix

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1f0bc0559b..104a797cb0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1880,7 +1880,7 @@
  * For Neopixel LED an overall brightness parameter is also available.
  *
  * *** CAUTION ***
- *  LED Strips require a MOFSET Chip between PWM lines and LEDs,
+ *  LED Strips require a MOSFET Chip between PWM lines and LEDs,
  *  as the Arduino cannot handle the current the LEDs will require.
  *  Failure to follow this precaution can destroy your Arduino!
  *  NOTE: A separate 5V power supply is required! The Neopixel LED needs

commit fbcdf5eaeb4f2265fd43097ab6c652a89842d8e7
Author: teemuatlut <teemu.mantykallio@live.fi>
Date:   Sat Jul 14 14:13:06 2018 +0300

    Simplify stepper driver per-axis selection

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eb77556b65..1f0bc0559b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -551,6 +551,29 @@
 #define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 #define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the probe.
 
+/**
+ * Specify Stepper Driver types
+ * The options are used to determine driver pulse timings as well as more advanced functionality.
+ * Stepper timing options can be overridden in Configuration_adv.h
+ *
+ * Options: A4988, DRV8825, LV8729, L6470, TB6560, TB6600, TMC2100,
+ *          TMC2130, TMC2130_STANDALONE, TMC2208, TMC2208_STANDALONE,
+ *          TMC26X,  TMC26X_STANDALONE,  TMC2660, TMC2660_STANDALONE,
+ *          TMC5130, TMC5130_STANDALONE
+ * :['A4988', 'DRV8825', 'LV8729', 'L6470', 'TB6560', 'TB6600', 'TMC2100', 'TMC2130', 'TMC2130_STANDALONE', 'TMC2208', 'TMC2208_STANDALONE', 'TMC26X', 'TMC26X_STANDALONE', 'TMC2660', 'TMC2660_STANDALONE', 'TMC5130', 'TMC5130_STANDALONE']
+ */
+#define X_DRIVER_TYPE  A4988
+#define Y_DRIVER_TYPE  A4988
+#define Z_DRIVER_TYPE  A4988
+#define X2_DRIVER_TYPE A4988
+#define Y2_DRIVER_TYPE A4988
+#define Z2_DRIVER_TYPE A4988
+#define E0_DRIVER_TYPE A4988
+#define E1_DRIVER_TYPE A4988
+#define E2_DRIVER_TYPE A4988
+#define E3_DRIVER_TYPE A4988
+#define E4_DRIVER_TYPE A4988
+
 // Enable this feature if all enabled endstop pins are interrupt-capable.
 // This will remove the need to poll the interrupt pins, saving many CPU cycles.
 //#define ENDSTOP_INTERRUPTS_FEATURE

commit 14e2b111957a7f84e3264b677ee0c375959303a7
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Jul 24 21:03:27 2018 -0500

    Fix spelling in configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4cfc1007b8..eb77556b65 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -87,7 +87,7 @@
  * by the standard Marlin logo with version number and web URL.
  *
  * We encourage you to take advantage of this new feature and we also
- * respecfully request that you retain the unmodified Marlin boot screen.
+ * respectfully request that you retain the unmodified Marlin boot screen.
  */
 
 // Enable to show the bitmap in Marlin/_Bootscreen.h on startup.

commit 2106fa26b19e1d3edc2b59bfd1504f7b4e87683a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Jul 18 21:17:15 2018 -0500

    Add MANUAL_PROBE_START_Z for manual probing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 67710c8023..4cfc1007b8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -699,6 +699,7 @@
  * or (with LCD_BED_LEVELING) the LCD controller.
  */
 //#define PROBE_MANUALLY
+//#define MANUAL_PROBE_START_Z 0.2
 
 /**
  * A Fix-Mounted Probe either doesn't deploy or needs manual deployment.

commit 25e2ca88964a0f8156ccc385393102feec5443d3
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jul 12 21:36:24 2018 -0500

    Add Z_CLEARANCE_MULTI_PROBE
    
    Co-Authored-By: nightgryphon <ngryph@gmail.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bbb7c5da89..67710c8023 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -801,6 +801,7 @@
  */
 #define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
 #define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
+#define Z_CLEARANCE_MULTI_PROBE     5 // Z Clearance between multiple probes
 //#define Z_AFTER_PROBING           5 // Z position after probing is done
 
 #define Z_PROBE_LOW_POINT          -2 // Farthest distance below the trigger-point to go before stopping

commit cbea385ed7bfd2226e95aff0a4868bc7221d9c83
Author: Chris Pepper <p3p@p3psoft.co.uk>
Date:   Wed Jul 4 23:42:14 2018 +0100

    [2.0.x] Fix LCD_LANGUAGE options list formatting in config (#11198)
    
    * Fix LCD_LANGUAGE options list formatting in config
    * Remove 'cn' language option from list

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 60dc4cab79..bbb7c5da89 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1375,11 +1375,10 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr,
- *    gl, hr, it, jp-kana, nl, pl, pt, pt-br, ru, sk,
- *    tr, uk, zh_CN, zh_TW, test
+ *    en, an, bg, ca, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
+ *    jp-kana, nl, pl, pt, pt-br, ru, sk, tr, uk, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', 'test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit 568cfe7caa3a8153ef9618ea34cfa0a905f1313e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Jul 3 17:52:06 2018 -0500

    Add thermistor 501 (100K Zonestar)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8586c4e54f..60dc4cab79 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -278,6 +278,7 @@
  *     3 : Mendel-parts thermistor (4.7k pullup)
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
  *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan & J-Head) (4.7k pullup)
+ *   501 : 100K Zonestar (Tronxy X3A) Thermistor
  *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
  *    71 : 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
@@ -309,7 +310,7 @@
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
+ * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '501':"100K Zonestar (Tronxy X3A)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit 6f14bcaa3e85abdf5f043bdeab2d93024d75ea9d
Author: etagle <ejtagle@hotmail.com>
Date:   Sun Jun 3 14:24:23 2018 -0300

    Add MAXIMUM_STEPPER_RATE, enforce in multi-stepping
    
    The timing value should be properly set for ALL boards. The compiler will check and set maximum step rate calculations based on those values.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 067e4c87e1..8586c4e54f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -838,9 +838,6 @@
 #define INVERT_Y_DIR true
 #define INVERT_Z_DIR false
 
-// Enable this option for Toshiba stepper drivers
-//#define CONFIG_STEPPERS_TOSHIBA
-
 // @section extruder
 
 // For direct drive extruder v9 set to true, for geared extruder set to false.

commit aaaf09bda27eff38d773b4b73925442f61d34866
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat May 26 02:02:39 2018 -0500

    BEZIER_JERK_CONTROL => S_CURVE_ACCELERATION

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6b1d9af16c..067e4c87e1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -639,15 +639,14 @@
 #define DEFAULT_EJERK                  5.0
 
 /**
- * Realtime Jerk Control
+ * S-Curve Acceleration
  *
  * This option eliminates vibration during printing by fitting a B√©zier
  * curve to move acceleration, producing much smoother direction changes.
- * Because this is computationally-intensive, a 32-bit MCU is required.
  *
  * See https://github.com/synthetos/TinyG/wiki/Jerk-Controlled-Motion-Explained
  */
-//#define BEZIER_JERK_CONTROL
+//#define S_CURVE_ACCELERATION
 
 //===========================================================================
 //============================= Z Probe Options =============================

commit 4b2f6e3b2b0d6773cb15e55433bb243625ba71ea
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon May 21 15:51:38 2018 -0500

    [2.0.x] Add endstop noise filter (#10796)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e508b38dba..6b1d9af16c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -554,6 +554,23 @@
 // This will remove the need to poll the interrupt pins, saving many CPU cycles.
 //#define ENDSTOP_INTERRUPTS_FEATURE
 
+/**
+ * Endstop Noise Filter
+ *
+ * Enable this option if endstops falsely trigger due to noise.
+ * NOTE: Enabling this feature means adds an error of +/-0.2mm, so homing
+ * will end up at a slightly different position on each G28. This will also
+ * reduce accuracy of some bed probes.
+ * For mechanical switches, the better approach to reduce noise is to install
+ * a 100 nanofarads ceramic capacitor in parallel with the switch, making it
+ * essentially noise-proof without sacrificing accuracy.
+ * This option also increases MCU load when endstops or the probe are enabled.
+ * So this is not recommended. USE AT YOUR OWN RISK.
+ * (This feature is not required for common micro-switches mounted on PCBs
+ * based on the Makerbot design, since they already include the 100nF capacitor.)
+ */
+//#define ENDSTOP_NOISE_FILTER
+
 //=============================================================================
 //============================== Movement Settings ============================
 //=============================================================================

commit b7dfc7998833d5d63d1d7a8c062c45c0893eef16
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon May 14 21:38:24 2018 -0500

    Disable SERIAL_PORT_2 by default and sanity-check it (#10748)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4766a8d0cc..e508b38dba 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -114,7 +114,7 @@
  *
  * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
-#define SERIAL_PORT_2 -1
+//#define SERIAL_PORT_2 -1
 
 /**
  * This setting determines the communication speed of the printer.

commit e978e6e7820f70427ab435bfaae0feada713973e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun May 6 19:16:55 2018 -0500

    [2.0.x] Arrange LCD options by type (#10630)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce36d971be..4766a8d0cc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -447,15 +447,20 @@
 
 // @section extruder
 
-// This option prevents extrusion if the temperature is below EXTRUDE_MINTEMP.
-// It also enables the M302 command to set the minimum extrusion temperature
-// or to allow moving the extruder regardless of the hotend temperature.
-// *** IT IS HIGHLY RECOMMENDED TO LEAVE THIS OPTION ENABLED! ***
+/**
+ * Prevent extrusion if the temperature is below EXTRUDE_MINTEMP.
+ * Add M302 to set the minimum extrusion temperature and/or turn
+ * cold extrusion prevention on and off.
+ *
+ * *** IT IS HIGHLY RECOMMENDED TO LEAVE THIS OPTION ENABLED! ***
+ */
 #define PREVENT_COLD_EXTRUSION
 #define EXTRUDE_MINTEMP 170
 
-// This option prevents a single extrusion longer than EXTRUDE_MAXLENGTH.
-// Note that for Bowden Extruders a too-small value here may prevent loading.
+/**
+ * Prevent a single extrusion longer than EXTRUDE_MAXLENGTH.
+ * Note: For Bowden Extruders make this large enough to allow load/unload.
+ */
 #define PREVENT_LENGTHY_EXTRUDE
 #define EXTRUDE_MAXLENGTH 200
 
@@ -1388,19 +1393,6 @@
  */
 #define DISPLAY_CHARSET_HD44780 JAPANESE
 
-/**
- * LCD TYPE
- *
- * Enable ULTRA_LCD for a 16x2, 16x4, 20x2, or 20x4 character-based LCD.
- * Enable DOGLCD for a 128x64 (ST7565R) Full Graphical Display.
- * (These options will be enabled automatically for most displays.)
- *
- * IMPORTANT: The U8glib library is required for Full Graphic Display!
- *            https://github.com/olikraus/U8glib_Arduino
- */
-//#define ULTRA_LCD   // Character based
-//#define DOGLCD      // Full graphics display
-
 /**
  * SD CARD
  *
@@ -1500,12 +1492,18 @@
 //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 2
 //#define LCD_FEEDBACK_FREQUENCY_HZ 5000
 
+//=============================================================================
+//======================== LCD / Controller Selection =========================
+//========================   (Character-based LCDs)   =========================
+//=============================================================================
+
 //
-// CONTROLLER TYPE: Standard
+// RepRapDiscount Smart Controller.
+// http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //
-// Marlin supports a wide variety of controllers.
-// Enable one of the following options to specify your controller.
+// Note: Usually sold with a white PCB.
 //
+//#define REPRAP_DISCOUNT_SMART_CONTROLLER
 
 //
 // Original RADDS LCD Display+Encoder+SDCardReader
@@ -1529,40 +1527,6 @@
 //
 //#define PANEL_ONE
 
-//
-// MaKr3d Makr-Panel with graphic controller and SD support.
-// http://reprap.org/wiki/MaKr3d_MaKrPanel
-//
-//#define MAKRPANEL
-
-//
-// ReprapWorld Graphical LCD
-// https://reprapworld.com/?products_details&products_id/1218
-//
-//#define REPRAPWORLD_GRAPHICAL_LCD
-
-//
-// Activate one of these if you have a Panucatt Devices
-// Viki 2.0 or mini Viki with Graphic LCD
-// http://panucatt.com
-//
-//#define VIKI2
-//#define miniVIKI
-
-//
-// Adafruit ST7565 Full Graphic Controller.
-// https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
-//
-//#define ELB_FULL_GRAPHIC_CONTROLLER
-
-//
-// RepRapDiscount Smart Controller.
-// http://reprap.org/wiki/RepRapDiscount_Smart_Controller
-//
-// Note: Usually sold with a white PCB.
-//
-//#define REPRAP_DISCOUNT_SMART_CONTROLLER
-
 //
 // GADGETS3D G3D LCD/SD Controller
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
@@ -1571,28 +1535,6 @@
 //
 //#define G3D_PANEL
 
-//
-// RepRapDiscount FULL GRAPHIC Smart Controller
-// http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
-//
-//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
-
-//
-// MakerLab Mini Panel with graphic
-// controller and SD support - http://reprap.org/wiki/Mini_panel
-//
-//#define MINIPANEL
-
-//
-// RepRapWorld REPRAPWORLD_KEYPAD v1.1
-// http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
-//
-// REPRAPWORLD_KEYPAD_MOVE_STEP sets how much should the robot move when a key
-// is pressed, a value of 10.0 means 10mm per click.
-//
-//#define REPRAPWORLD_KEYPAD
-//#define REPRAPWORLD_KEYPAD_MOVE_STEP 1.0
-
 //
 // RigidBot Panel V1.0
 // http://www.inventapart.com/
@@ -1600,39 +1542,28 @@
 //#define RIGIDBOT_PANEL
 
 //
-// BQ LCD Smart Controller shipped by
-// default with the BQ Hephestos 2 and Witbox 2.
-//
-//#define BQ_LCD_SMART_CONTROLLER
-
-//
-// Cartesio UI
-// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
+// Makeboard 3D Printer Parts 3D Printer Mini Display 1602 Mini Controller
+// https://www.aliexpress.com/item/Micromake-Makeboard-3D-Printer-Parts-3D-Printer-Mini-Display-1602-Mini-Controller-Compatible-with-Ramps-1/32765887917.html
 //
-//#define CARTESIO_UI
+//#define MAKEBOARD_MINI_2_LINE_DISPLAY_1602
 
 //
-// ANET and Tronxy Controller supported displays.
+// ANET and Tronxy 20x4 Controller
 //
 //#define ZONESTAR_LCD            // Requires ADC_KEYPAD_PIN to be assigned to an analog pin.
                                   // This LCD is known to be susceptible to electrical interference
                                   // which scrambles the display.  Pressing any button clears it up.
                                   // This is a LCD2004 display with 5 analog buttons.
 
-//#define ANET_FULL_GRAPHICS_LCD  // Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
-                                  // A clone of the RepRapDiscount full graphics display but with
-                                  // different pins/wiring (see pins_ANET_10.h).
-
 //
-// LCD for Melzi Card with Graphical LCD
+// Generic 16x2, 16x4, 20x2, or 20x4 character-based LCD.
 //
-//#define LCD_FOR_MELZI
+//#define ULTRA_LCD
 
-//
-// LCD for Malyan M200 printers.
-// This requires SDSUPPORT to be enabled
-//
-//#define MALYAN_LCD
+//=============================================================================
+//======================== LCD / Controller Selection =========================
+//=====================   (I2C and Shift-Register LCDs)   =====================
+//=============================================================================
 
 //
 // CONTROLLER TYPE: I2C
@@ -1679,6 +1610,83 @@
 //
 //#define LCD_I2C_VIKI
 
+//
+// CONTROLLER TYPE: Shift register panels
+//
+
+//
+// 2 wire Non-latching LCD SR from https://goo.gl/aJJ4sH
+// LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
+//
+//#define SAV_3DLCD
+
+//=============================================================================
+//=======================   LCD / Controller Selection  =======================
+//=========================      (Graphical LCDs)      ========================
+//=============================================================================
+
+//
+// CONTROLLER TYPE: Graphical 128x64 (DOGM)
+//
+// IMPORTANT: The U8glib library is required for Graphical Display!
+//            https://github.com/olikraus/U8glib_Arduino
+//
+
+//
+// RepRapDiscount FULL GRAPHIC Smart Controller
+// http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
+//
+//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+
+//
+// ReprapWorld Graphical LCD
+// https://reprapworld.com/?products_details&products_id/1218
+//
+//#define REPRAPWORLD_GRAPHICAL_LCD
+
+//
+// Activate one of these if you have a Panucatt Devices
+// Viki 2.0 or mini Viki with Graphic LCD
+// http://panucatt.com
+//
+//#define VIKI2
+//#define miniVIKI
+
+//
+// MakerLab Mini Panel with graphic
+// controller and SD support - http://reprap.org/wiki/Mini_panel
+//
+//#define MINIPANEL
+
+//
+// MaKr3d Makr-Panel with graphic controller and SD support.
+// http://reprap.org/wiki/MaKr3d_MaKrPanel
+//
+//#define MAKRPANEL
+
+//
+// Adafruit ST7565 Full Graphic Controller.
+// https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
+//
+//#define ELB_FULL_GRAPHIC_CONTROLLER
+
+//
+// BQ LCD Smart Controller shipped by
+// default with the BQ Hephestos 2 and Witbox 2.
+//
+//#define BQ_LCD_SMART_CONTROLLER
+
+//
+// Cartesio UI
+// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
+//
+//#define CARTESIO_UI
+
+//
+// LCD for Melzi Card with Graphical LCD
+//
+//#define LCD_FOR_MELZI
+
 //
 // SSD1306 OLED full graphics generic display
 //
@@ -1699,25 +1707,11 @@
 //
 //#define ULTI_CONTROLLER
 
-//
-// CONTROLLER TYPE: Shift register panels
-//
-// 2 wire Non-latching LCD SR from https://goo.gl/aJJ4sH
-// LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
-//
-//#define SAV_3DLCD
-
 //
 // TinyBoy2 128x64 OLED / Encoder Panel
 //
 //#define OLED_PANEL_TINYBOY2
 
-//
-// Makeboard 3D Printer Parts 3D Printer Mini Display 1602 Mini Controller
-// https://www.aliexpress.com/item/Micromake-Makeboard-3D-Printer-Parts-3D-Printer-Mini-Display-1602-Mini-Controller-Compatible-with-Ramps-1/32765887917.html
-//
-//#define MAKEBOARD_MINI_2_LINE_DISPLAY_1602
-
 //
 // MKS MINI12864 with graphic controller and SD support
 // http://reprap.org/wiki/MKS_MINI_12864
@@ -1733,6 +1727,13 @@
 //
 //#define CR10_STOCKDISPLAY
 
+//
+// ANET and Tronxy Graphical Controller
+//
+//#define ANET_FULL_GRAPHICS_LCD  // Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
+                                  // A clone of the RepRapDiscount full graphics display but with
+                                  // different pins/wiring (see pins_ANET_10.h).
+
 //
 // MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER
 // http://reprap.org/wiki/MKS_12864OLED
@@ -1754,6 +1755,34 @@
 //
 //#define SILVER_GATE_GLCD_CONTROLLER
 
+//=============================================================================
+//============================  Other Controllers  ============================
+//=============================================================================
+
+//
+// CONTROLLER TYPE: Standalone / Serial
+//
+
+//
+// LCD for Malyan M200 printers.
+// This requires SDSUPPORT to be enabled
+//
+//#define MALYAN_LCD
+
+//
+// CONTROLLER TYPE: Keypad / Add-on
+//
+
+//
+// RepRapWorld REPRAPWORLD_KEYPAD v1.1
+// http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+//
+// REPRAPWORLD_KEYPAD_MOVE_STEP sets how much should the robot move when a key
+// is pressed, a value of 10.0 means 10mm per click.
+//
+//#define REPRAPWORLD_KEYPAD
+//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0
+
 //=============================================================================
 //=============================== Extra Features ==============================
 //=============================================================================

commit e911635fb1604b7ab2c2bd9f829446c2718697d8
Author: nightdemonx <demonx@demonx.ru>
Date:   Wed May 2 01:24:45 2018 +0500

    Add thermocouple with AD8495 support

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4ce5cb12b9..ce36d971be 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -268,6 +268,7 @@
  *
  * Temperature sensors available:
  *
+ *    -4 : thermocouple with AD8495
  *    -3 : thermocouple with MAX31855 (only for sensor 0)
  *    -2 : thermocouple with MAX6675 (only for sensor 0)
  *    -1 : thermocouple with AD595
@@ -308,7 +309,7 @@
  *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
  *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
  *
- * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
+ * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-4':"Thermocouple + AD8495", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
  */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0

commit b7e938a9fbc2c5dc9bc59ed56cb4c63e803d3ec7
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue May 1 07:10:43 2018 -0500

    LCD_BED_LEVELING enables a sub-menu for ABL

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 32d7477fef..4ce5cb12b9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1064,8 +1064,8 @@
 #endif
 
 /**
- * Use the LCD controller for bed leveling
- * Requires MESH_BED_LEVELING or PROBE_MANUALLY
+ * Add a bed leveling sub-menu for ABL or MBL.
+ * Include a guided procedure if manual probing is enabled.
  */
 //#define LCD_BED_LEVELING
 

commit c87b0e21beb516ed1aa783657fbdc93ee4f14057
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Apr 30 23:50:28 2018 -0500

    Add units to probe speed comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 48ad58fb3d..32d7477fef 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -751,10 +751,10 @@
 // X and Y axis travel speed (mm/m) between probes
 #define XY_PROBE_SPEED 8000
 
-// Speed for the first approach when double-probing (MULTIPLE_PROBING == 2)
+// Feedrate (mm/m) for the first approach when double-probing (MULTIPLE_PROBING == 2)
 #define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
 
-// Speed for the "accurate" probe of each point
+// Feedrate (mm/m) for the "accurate" probe of each point
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
 
 // The number of probes to perform at each point.

commit 05c33833e70c143b726fa32d0052618d178fa0ca
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Apr 30 21:16:31 2018 -0500

    [2.0.x] Add NO_LCD_MENUS option (#10582)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ed218e771c..48ad58fb3d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1426,6 +1426,15 @@
  */
 //#define SD_CHECK_AND_RETRY
 
+/**
+ * LCD Menu Items
+ *
+ * Disable all menus and only display the Status Screen, or
+ * just remove some extraneous menu items to recover space.
+ */
+//#define NO_LCD_MENUS
+//#define SLIM_LCD_MENUS
+
 //
 // ENCODER SETTINGS
 //

commit 9e07df5c1b39d0775158e21dcf0ec909eb98f75e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Apr 22 02:50:48 2018 -0500

    Extra options for LEVEL_BED_CORNERS (#10483)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 64258a181a..ed218e771c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1077,6 +1077,11 @@
 // Add a menu item to move between bed corners for manual bed adjustment
 //#define LEVEL_BED_CORNERS
 
+#if ENABLED(LEVEL_BED_CORNERS)
+  #define LEVEL_CORNERS_INSET 30    // (mm) An inset for corner leveling
+  //#define LEVEL_CENTER_TOO        // Move to the center after the last corner
+#endif
+
 /**
  * Commands to execute at the end of G29 probing.
  * Useful to retract or move the Z probe out of the way.

commit a90cbc633993dc236fdb5d2aa174b52c321533c4
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Apr 21 15:43:21 2018 -0500

    [2.0.x] Wait for bed heaters between probing (#10472)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ad2cfd66e..64258a181a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -705,6 +705,9 @@
  * readings with inductive probes and piezo sensors.
  */
 //#define PROBING_HEATERS_OFF       // Turn heaters off when probing
+#if ENABLED(PROBING_HEATERS_OFF)
+  //#define WAIT_FOR_BED_HEATER     // Wait for bed to heat back up between probes (to improve accuracy)
+#endif
 //#define PROBING_FANS_OFF          // Turn fans off when probing
 //#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
 

commit 6c535081ec6d35826a1bbb47ab060f95724de6a0
Author: KangDroid <hyunwoo286@gmail.com>
Date:   Fri Apr 13 14:24:09 2018 +0900

    [2.0.x] Add optional menu item to toggle software endstops (#10389)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index de8383a832..0ad2cfd66e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -879,6 +879,10 @@
   #define MAX_SOFTWARE_ENDSTOP_Z
 #endif
 
+#if ENABLED(MIN_SOFTWARE_ENDSTOPS) || ENABLED(MAX_SOFTWARE_ENDSTOPS)
+  //#define SOFT_ENDSTOPS_MENU_ITEM  // Enable/Disable software endstops from the LCD
+#endif
+
 /**
  * Filament Runout Sensors
  * Mechanical or opto endstops are used to check for the presence of filament.

commit c96412a78fbf7be0f1f4bca17edab49d8f1040bf
Author: Yunhui Fu <yhfudev@gmail.com>
Date:   Thu Apr 12 21:14:01 2018 -0400

    [2.0.x] UTF-8 language translation support (#10213)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e21b580e3f..de8383a832 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1343,11 +1343,11 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, es_utf8, eu, fi, fr, fr_utf8,
- *    gl, hr, it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
+ *    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr,
+ *    gl, hr, it, jp-kana, nl, pl, pt, pt-br, ru, sk,
  *    tr, uk, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'es_utf8':'Spanish (UTF8)', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'fr_utf8':'French (UTF8)', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'jp-kana':'Japanese', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'ru':'Russian', 'sk':'Slovak', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Traditional)', test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit 8b8ad14178374c06858444434988291993903fbb
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Apr 9 01:46:23 2018 -0500

    Add Z_PROBE_LOW_POINT to prevent damage

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d3753dafcf..e21b580e3f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -777,6 +777,8 @@
 #define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
 //#define Z_AFTER_PROBING           5 // Z position after probing is done
 
+#define Z_PROBE_LOW_POINT          -2 // Farthest distance below the trigger-point to go before stopping
+
 // For M851 give a range for adjusting the Z probe offset
 #define Z_PROBE_OFFSET_RANGE_MIN -20
 #define Z_PROBE_OFFSET_RANGE_MAX 20

commit dca69efc11e09773be1824065b0230f710bc99e0
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Apr 8 06:42:51 2018 -0500

    Update Bed PID comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fa688acb56..d3753dafcf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -399,23 +399,30 @@
 //===========================================================================
 //============================= PID > Bed Temperature Control ===============
 //===========================================================================
-// Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
-//
-// Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
-// If your PID_dT is the default, and correct for your hardware/configuration, that means 7.689Hz,
-// which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
-// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
-// If your configuration is significantly different than this and you don't understand the issues involved, you probably
-// shouldn't use bed PID until someone else verifies your hardware works.
-// If this is enabled, find your own PID constants below.
+
+/**
+ * PID Bed Heating
+ *
+ * If this option is enabled set PID constants below.
+ * If this option is disabled, bang-bang will be used and BED_LIMIT_SWITCHING will enable hysteresis.
+ *
+ * The PID frequency will be the same as the extruder PWM.
+ * If PID_dT is the default, and correct for the hardware/configuration, that means 7.689Hz,
+ * which is fine for driving a square wave into a resistive load and does not significantly
+ * impact FET heating. This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W
+ * heater. If your configuration is significantly different than this and you don't understand
+ * the issues involved, don't use bed PID until someone else verifies that your hardware works.
+ */
 //#define PIDTEMPBED
 
 //#define BED_LIMIT_SWITCHING
 
-// This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
-// all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
-// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
-// so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
+/**
+ * Max Bed Power
+ * Applies to all forms of bed control (PID, bang-bang, and bang-bang with hysteresis).
+ * When set to any value below 255, enables a form of PWM to the bed that acts like a divider
+ * so don't use it unless you are OK with PWM on your bed. (See the comment on enabling PIDTEMPBED)
+ */
 #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
 
 #if ENABLED(PIDTEMPBED)

commit a29adde5c0706a572261c40a02c61e1c966928a4
Author: etagle <ejtagle@hotmail.com>
Date:   Fri Apr 6 22:48:06 2018 -0300

    Implement BEZIER_JERK_CONTROL
    
    Enable 6th-order jerk-controlled motion planning in real-time.
    Only for 32bit MCUs. (AVR simply does not have enough processing power for this!)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f8bbc0bf7e..fa688acb56 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -608,6 +608,17 @@
 #define DEFAULT_ZJERK                  0.3
 #define DEFAULT_EJERK                  5.0
 
+/**
+ * Realtime Jerk Control
+ *
+ * This option eliminates vibration during printing by fitting a B√©zier
+ * curve to move acceleration, producing much smoother direction changes.
+ * Because this is computationally-intensive, a 32-bit MCU is required.
+ *
+ * See https://github.com/synthetos/TinyG/wiki/Jerk-Controlled-Motion-Explained
+ */
+//#define BEZIER_JERK_CONTROL
+
 //===========================================================================
 //============================= Z Probe Options =============================
 //===========================================================================

commit 0e8242180d8cf59f609fe3e775d2c41b1ef8272c
Author: Lenbok <lenbok@gmail.com>
Date:   Sat Feb 24 19:38:58 2018 +1300

    Chamber temperature monitoring and auto fan control.
    
    This is an initial cut for feedback, updated for 2.0.x.
    
    Chamber temperature is currently reported along with hot end and bed
    temperatures to serial. The format is just like that used for hot end
    and bed temperatures, but using 'C' prefix. As there is no heater,
    target is always 0. Is this appropriate, is there a better way to report
    chamber temperatures?
    
    Chamber temperatures are not reported on the LCD in any way.
    
    When auto chamber fan is enabled, it currently just uses the same
    temperature threshold as the other auto controlled fans.
    
    As the chamber temperature is not connected to any heater, it doesn't
    undergo mintemp/maxtemp monitoring. This would need to change in the
    future if chamber heating became a feature.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bf60efc9e2..f8bbc0bf7e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -316,6 +316,7 @@
 #define TEMP_SENSOR_3 0
 #define TEMP_SENSOR_4 0
 #define TEMP_SENSOR_BED 0
+#define TEMP_SENSOR_CHAMBER 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
 #define DUMMY_THERMISTOR_998_VALUE 25

commit adcb87f0db47672c28cfec9fda3354adac81fa99
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Apr 1 23:54:12 2018 -0500

    Z Endstop Servo => Z Probe Servo

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2fce1f70b5..bf60efc9e2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -667,7 +667,7 @@
 /**
  * Z Servo Probe, such as an endstop switch on a rotating arm.
  */
-//#define Z_ENDSTOP_SERVO_NR 0   // Defaults to SERVO 0 connector.
+//#define Z_PROBE_SERVO_NR 0   // Defaults to SERVO 0 connector.
 //#define Z_SERVO_ANGLES {70,0}  // Z Servo Deploy and Stow angles
 
 /**

commit dd2949922bfbfec08c3f77714325cb88b7df61de
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Mar 19 01:22:21 2018 -0500

    Consolidate 3-point leveling point options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ecd33acd61..2fce1f70b5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -963,12 +963,11 @@
   #define GRID_MAX_POINTS_X 3
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
-
   // Set the boundaries for probing (where the probe can reach).
-  #define LEFT_PROBE_BED_POSITION 15
-  #define RIGHT_PROBE_BED_POSITION (X_BED_SIZE - 15)
-  #define FRONT_PROBE_BED_POSITION 15
-  #define BACK_PROBE_BED_POSITION (Y_BED_SIZE - 15)
+  //#define LEFT_PROBE_BED_POSITION MIN_PROBE_EDGE
+  //#define RIGHT_PROBE_BED_POSITION (X_BED_SIZE - MIN_PROBE_EDGE)
+  //#define FRONT_PROBE_BED_POSITION MIN_PROBE_EDGE
+  //#define BACK_PROBE_BED_POSITION (Y_BED_SIZE - MIN_PROBE_EDGE)
 
   // Probe along the Y axis, advancing X after each column
   //#define PROBE_Y_FIRST
@@ -991,17 +990,6 @@
 
   #endif
 
-#elif ENABLED(AUTO_BED_LEVELING_3POINT)
-
-  // 3 arbitrary points to probe.
-  // A simple cross-product is used to estimate the plane of the bed.
-  #define ABL_PROBE_PT_1_X 15
-  #define ABL_PROBE_PT_1_Y 180
-  #define ABL_PROBE_PT_2_X 15
-  #define ABL_PROBE_PT_2_Y 20
-  #define ABL_PROBE_PT_3_X 170
-  #define ABL_PROBE_PT_3_Y 20
-
 #elif ENABLED(AUTO_BED_LEVELING_UBL)
 
   //===========================================================================
@@ -1014,13 +1002,6 @@
   #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
-  #define UBL_PROBE_PT_1_X 39       // Probing points for 3-Point leveling of the mesh
-  #define UBL_PROBE_PT_1_Y 180
-  #define UBL_PROBE_PT_2_X 39
-  #define UBL_PROBE_PT_2_Y 20
-  #define UBL_PROBE_PT_3_X 180
-  #define UBL_PROBE_PT_3_Y 20
-
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
   #define UBL_SAVE_ACTIVE_ON_M500   // Save the currently active mesh in the current slot on M500
 
@@ -1041,6 +1022,19 @@
 
 #endif // BED_LEVELING
 
+/**
+ * Points to probe for all 3-point Leveling procedures.
+ * Override if the automatically selected points are inadequate.
+ */
+#if ENABLED(AUTO_BED_LEVELING_3POINT) || ENABLED(AUTO_BED_LEVELING_UBL)
+  //#define PROBE_PT_1_X 15
+  //#define PROBE_PT_1_Y 180
+  //#define PROBE_PT_2_X 15
+  //#define PROBE_PT_2_Y 20
+  //#define PROBE_PT_3_X 170
+  //#define PROBE_PT_3_Y 20
+#endif
+
 /**
  * Use the LCD controller for bed leveling
  * Requires MESH_BED_LEVELING or PROBE_MANUALLY

commit c6ff39cc14fd2dbc656e41736712a37f755499ec
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Mar 17 16:49:08 2018 -0500

    Spacing cleanup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5e704ee386..ecd33acd61 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -379,19 +379,19 @@
   // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
 
   // Ultimaker
-  #define  DEFAULT_Kp 22.2
-  #define  DEFAULT_Ki 1.08
-  #define  DEFAULT_Kd 114
+  #define DEFAULT_Kp 22.2
+  #define DEFAULT_Ki 1.08
+  #define DEFAULT_Kd 114
 
   // MakerGear
-  //#define  DEFAULT_Kp 7.0
-  //#define  DEFAULT_Ki 0.1
-  //#define  DEFAULT_Kd 12
+  //#define DEFAULT_Kp 7.0
+  //#define DEFAULT_Ki 0.1
+  //#define DEFAULT_Kd 12
 
   // Mendel Parts V9 on 12V
-  //#define  DEFAULT_Kp 63.0
-  //#define  DEFAULT_Ki 2.25
-  //#define  DEFAULT_Kd 440
+  //#define DEFAULT_Kp 63.0
+  //#define DEFAULT_Ki 2.25
+  //#define DEFAULT_Kd 440
 
 #endif // PIDTEMP
 
@@ -423,15 +423,15 @@
 
   //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
   //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
-  #define  DEFAULT_bedKp 10.00
-  #define  DEFAULT_bedKi .023
-  #define  DEFAULT_bedKd 305.4
+  #define DEFAULT_bedKp 10.00
+  #define DEFAULT_bedKi .023
+  #define DEFAULT_bedKd 305.4
 
   //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
   //from pidautotune
-  //#define  DEFAULT_bedKp 97.1
-  //#define  DEFAULT_bedKi 1.41
-  //#define  DEFAULT_bedKd 1675.16
+  //#define DEFAULT_bedKp 97.1
+  //#define DEFAULT_bedKi 1.41
+  //#define DEFAULT_bedKd 1675.16
 
   // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 #endif // PIDTEMPBED

commit 14c03cb6f4bf20b06ba5d6c849cd1a15341627df
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Mar 13 01:15:22 2018 -0500

    [2.0.x] Make MIN_PROBE_EDGE a general option (for electronic probes) (#10069)
    
    Some probes don't work near the edges of the bed. This change promotes MIN_PROBE_EDGE to a general setting that applies to all probing functions.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cca1e9dcd2..5e704ee386 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -723,6 +723,9 @@
 #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
 #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
 
+// Certain types of probes need to stay away from edges
+#define MIN_PROBE_EDGE 10
+
 // X and Y axis travel speed (mm/m) between probes
 #define XY_PROBE_SPEED 8000
 
@@ -960,8 +963,6 @@
   #define GRID_MAX_POINTS_X 3
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
-  // The Z probe minimum outer margin (to validate G29 parameters).
-  #define MIN_PROBE_EDGE 10
 
   // Set the boundaries for probing (where the probe can reach).
   #define LEFT_PROBE_BED_POSITION 15
@@ -1009,7 +1010,7 @@
 
   //#define MESH_EDIT_GFX_OVERLAY   // Display a graphics overlay while editing the mesh
 
-  #define MESH_INSET 1              // Mesh inset margin on print area
+  #define MESH_INSET 1              // Set Mesh bounds as an inset region of the bed
   #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
@@ -1032,7 +1033,7 @@
   //=================================== Mesh ==================================
   //===========================================================================
 
-  #define MESH_INSET 10          // Mesh inset margin on print area
+  #define MESH_INSET 10          // Set Mesh bounds as an inset region of the bed
   #define GRID_MAX_POINTS_X 3    // Don't use more than 7 points per axis, implementation limited.
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 

commit 28f1276286da94f4a1b3a7bffa103a35a3ee8352
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Mar 11 13:07:55 2018 -0500

    [2.0.x] Add Z_AFTER_PROBING option (#10058)
    
    Some "fix-mounted" probes need manual stowing. And after probing some may prefer to raise or lower the nozzle. This restores an old option but tailors it to allow raise or lower as preferred.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9ac20ae0d8..cca1e9dcd2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -753,6 +753,7 @@
  */
 #define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
 #define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
+//#define Z_AFTER_PROBING           5 // Z position after probing is done
 
 // For M851 give a range for adjusting the Z probe offset
 #define Z_PROBE_OFFSET_RANGE_MIN -20

commit 419d12ca1be19d1792db05062b4fa2808b05d165
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Mar 9 23:18:47 2018 -0600

    Add UNKNOWN_Z_NO_RAISE option
    
    With this option enabled, Z won't ever be raised until after `G28` has been completed, and it won't raise if Z becomes unknown. This is good for machines whose beds fall when Z is powered off.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6bbcaeae28..9ac20ae0d8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -804,6 +804,8 @@
 
 //#define NO_MOTION_BEFORE_HOMING  // Inhibit movement until all axes have been homed
 
+//#define UNKNOWN_Z_NO_RAISE // Don't raise Z (lower the bed) if Z is "unknown." For beds that fall when Z is powered off.
+
 //#define Z_HOMING_HEIGHT 4  // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
                              // Be sure you have this distance over your Z_MAX_POS in case.
 

commit a2a672449ad6523e90094f313cf4349fdb84399f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Mar 3 20:04:17 2018 -0600

    Updated boot screen description

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a7afaafcde..6bbcaeae28 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -79,17 +79,18 @@
 #define STRING_SPLASH_LINE1 SHORT_BUILD_VERSION // will be shown during bootup in line 1
 #define STRING_SPLASH_LINE2 WEBSITE_URL         // will be shown during bootup in line 2
 
-//
-// *** VENDORS PLEASE READ *****************************************************
-//
-// Marlin now allow you to have a vendor boot image to be displayed on machine
-// start. When SHOW_CUSTOM_BOOTSCREEN is defined Marlin will first show your
-// custom boot image and then the default Marlin boot image is shown.
-//
-// We suggest for you to take advantage of this new feature and keep the Marlin
-// boot image unmodified. For an example have a look at the bq Hephestos 2
-// example configuration folder.
-//
+/**
+ * *** VENDORS PLEASE READ ***
+ *
+ * Marlin allows you to add a custom boot image for Graphical LCDs.
+ * With this option Marlin will first show your custom screen followed
+ * by the standard Marlin logo with version number and web URL.
+ *
+ * We encourage you to take advantage of this new feature and we also
+ * respecfully request that you retain the unmodified Marlin boot screen.
+ */
+
+// Enable to show the bitmap in Marlin/_Bootscreen.h on startup.
 //#define SHOW_CUSTOM_BOOTSCREEN
 
 // Enable to show the bitmap in Marlin/_Statusscreen.h on the status screen.

commit 4953fb1c886fff3f0c5d35b5f1507641a55a795e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Feb 24 22:09:10 2018 -0600

    Standardize encoder defaults

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b3e8d5146a..a7afaafcde 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1400,13 +1400,13 @@
 // This option overrides the default number of encoder pulses needed to
 // produce one step. Should be increased for high-resolution encoders.
 //
-//#define ENCODER_PULSES_PER_STEP 1
+//#define ENCODER_PULSES_PER_STEP 4
 
 //
 // Use this option to override the number of step signals required to
 // move between next/prev menu items.
 //
-//#define ENCODER_STEPS_PER_MENU_ITEM 5
+//#define ENCODER_STEPS_PER_MENU_ITEM 1
 
 /**
  * Encoder Direction Options
@@ -1533,10 +1533,8 @@
 // RepRapDiscount FULL GRAPHIC Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
-
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
-
 //
 // MakerLab Mini Panel with graphic
 // controller and SD support - http://reprap.org/wiki/Mini_panel

commit 5684beae905869903f8881430c4543e7bb258627
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Feb 24 20:29:29 2018 -0600

    Bring some configs up to speed

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 999fb37a3c..b3e8d5146a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1708,6 +1708,7 @@
 //
 //#define AZSMZ_12864
 
+//
 // Silvergate GLCD controller
 // http://github.com/android444/Silvergate
 //

commit 2024775e075345ce85dcee3182a8180fa7e6125f
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Feb 23 20:24:02 2018 -0600

    Spanish (UTF8) Language (#9786)
    
    From #7314 by @MrAmericanMike

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 02f2adb7b4..999fb37a3c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1323,11 +1323,11 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, fr_utf8, gl,
- *    hr, it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
+ *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, es_utf8, eu, fi, fr, fr_utf8,
+ *    gl, hr, it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
  *    tr, uk, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'fr_utf8':'French (UTF8)', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'es_utf8':'Spanish (UTF8)', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'fr_utf8':'French (UTF8)', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit b2cf253a13ba36baa681032e4e02639d23ff3774
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Feb 23 12:41:00 2018 -0600

    Add RESTORE_LEVELING_AFTER_G28 option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f6db659878..02f2adb7b4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -912,6 +912,12 @@
 //#define AUTO_BED_LEVELING_UBL
 //#define MESH_BED_LEVELING
 
+/**
+ * Normally G28 leaves leveling disabled on completion. Enable
+ * this option to have G28 restore the prior leveling state.
+ */
+//#define RESTORE_LEVELING_AFTER_G28
+
 /**
  * Enable detailed logging of G28, G29, M48, etc.
  * Turn on with the command 'M111 S32'.

commit 13176dfe2fc2f88a357faf84cb155382f4496607
Merge: e7f329edb2 556abc0888
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Thu Feb 22 08:02:31 2018 -0700

    Merge remote-tracking branch 'origin/pr-lite-st7920-status' into pr-lite-st7920-status

diff --combined Marlin/Configuration.h
index a209374368,a845122512..f6db659878
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -500,11 -500,10 +500,10 @@@
  //#define USE_YMAX_PLUG
  //#define USE_ZMAX_PLUG
  
- // coarse Endstop Settings
- #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
- 
+ // Enable pullup for all endstops to prevent a floating state
+ #define ENDSTOPPULLUPS
  #if DISABLED(ENDSTOPPULLUPS)
-   // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
+   // Disable ENDSTOPPULLUPS to set pullups individually
    //#define ENDSTOPPULLUP_XMAX
    //#define ENDSTOPPULLUP_YMAX
    //#define ENDSTOPPULLUP_ZMAX
@@@ -514,6 -513,19 +513,19 @@@
    //#define ENDSTOPPULLUP_ZMIN_PROBE
  #endif
  
+ // Enable pulldown for all endstops to prevent a floating state
+ //#define ENDSTOPPULLDOWNS
+ #if DISABLED(ENDSTOPPULLDOWNS)
+   // Disable ENDSTOPPULLDOWNS to set pulldowns individually
+   //#define ENDSTOPPULLDOWN_XMAX
+   //#define ENDSTOPPULLDOWN_YMAX
+   //#define ENDSTOPPULLDOWN_ZMAX
+   //#define ENDSTOPPULLDOWN_XMIN
+   //#define ENDSTOPPULLDOWN_YMIN
+   //#define ENDSTOPPULLDOWN_ZMIN
+   //#define ENDSTOPPULLDOWN_ZMIN_PROBE
+ #endif
+ 
  // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
  #define X_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
  #define Y_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
@@@ -840,17 -852,19 +852,19 @@@
  #endif
  
  /**
-  * Filament Runout Sensor
-  * A mechanical or opto endstop is used to check for the presence of filament.
+  * Filament Runout Sensors
+  * Mechanical or opto endstops are used to check for the presence of filament.
   *
-  * RAMPS-based boards use SERVO3_PIN.
-  * For other boards you may need to define FIL_RUNOUT_PIN.
-  * By default the firmware assumes HIGH = has filament, LOW = ran out
+  * RAMPS-based boards use SERVO3_PIN for the first runout sensor.
+  * For other boards you may need to define FIL_RUNOUT_PIN, FIL_RUNOUT2_PIN, etc.
+  * By default the firmware assumes HIGH=FILAMENT PRESENT.
   */
  //#define FILAMENT_RUNOUT_SENSOR
  #if ENABLED(FILAMENT_RUNOUT_SENSOR)
+   #define NUM_RUNOUT_SENSORS   1     // Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.
    #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
-   #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+   #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
+   //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.
    #define FILAMENT_RUNOUT_SCRIPT "M600"
  #endif
  
@@@ -1513,10 -1527,8 +1527,10 @@@
  // RepRapDiscount FULL GRAPHIC Smart Controller
  // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
  //
 +
  //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
  
 +
  //
  // MakerLab Mini Panel with graphic
  // controller and SD support - http://reprap.org/wiki/Mini_panel
@@@ -1588,12 -1600,13 +1602,13 @@@
  //#define RA_CONTROL_PANEL
  
  //
- // Sainsmart YW Robot (LCM1602) LCD Display
+ // Sainsmart (YwRobot) LCD Displays
  //
- // Note: This controller requires F.Malpartida's LiquidCrystal_I2C library
+ // These require F.Malpartida's LiquidCrystal_I2C library
  // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home
  //
- //#define LCD_I2C_SAINSMART_YWROBOT
+ //#define LCD_SAINSMART_I2C_1602
+ //#define LCD_SAINSMART_I2C_2004
  
  //
  // Generic LCM1602 LCD adapter

commit 716a22498f31f0fedf45d5d69587e8e0c4e8f70f
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Wed Feb 21 10:15:55 2018 -0700

    Changed temp type from uint8_t to int16_t
    
    - Also deleted old implementation files which had been renamed.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 457fdccf5c..a209374368 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1514,7 +1514,7 @@
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
 
-#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
 
 //

commit 7d8c6b3f3c31e783eada6f2ac28da9f920233062
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Feb 21 00:46:25 2018 -0600

    Add 20x4 option for Sainsmart LCD (#9740)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d84508183f..a845122512 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1600,12 +1600,13 @@
 //#define RA_CONTROL_PANEL
 
 //
-// Sainsmart YW Robot (LCM1602) LCD Display
+// Sainsmart (YwRobot) LCD Displays
 //
-// Note: This controller requires F.Malpartida's LiquidCrystal_I2C library
+// These require F.Malpartida's LiquidCrystal_I2C library
 // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home
 //
-//#define LCD_I2C_SAINSMART_YWROBOT
+//#define LCD_SAINSMART_I2C_1602
+//#define LCD_SAINSMART_I2C_2004
 
 //
 // Generic LCM1602 LCD adapter

commit aada1e698fe35abdf341f6a1f5abc622a70d44a9
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Mon Feb 19 16:14:33 2018 -0700

    Removed unused configuration options.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 126fdc0893..457fdccf5c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1513,18 +1513,9 @@
 // RepRapDiscount FULL GRAPHIC Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
-// If USE_ST7920_LIGHTWEIGHT_UI is uncommented, then an alternative
-// light-weight status screen will be used that takes advantage of
-// the ST7920 character-generator to conserve MCU resources.
-//
-// Since the lightweight status screen can only show a status
-// message or the position, but not both, set DELAY_TO_SHOW_POSITION
-// to the number of seconds until the position is revealed after a new
-// status message is drawn.
-
-//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
-//#define USE_ST7920_LIGHTWEIGHT_UI
-//#define DELAY_TO_SHOW_POSITION 20
+
+#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+
 
 //
 // MakerLab Mini Panel with graphic

commit c7513eb032cf502e72a49b10a1fdc03e0d622248
Merge: 8db67d1647 79272f98fc
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Mon Feb 19 15:38:13 2018 -0700

    Merge branch 'pr-lite-st7920-status' of github.com:marcio-ao/Marlin into pr-lite-st7920-status

diff --combined Marlin/Configuration.h
index 1438b8e334,9067655033..126fdc0893
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -109,7 -109,7 +109,7 @@@
  /**
   * Select a secondary serial port on the board to use for communication with the host.
   * This allows the connection of wireless adapters (for instance) to non-default port pins.
-  * Serial port -1 is the USB emulated serial port, if avaialble.
+  * Serial port -1 is the USB emulated serial port, if available.
   *
   * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
   */
@@@ -999,6 -999,9 +999,9 @@@
    #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
    #define UBL_SAVE_ACTIVE_ON_M500   // Save the currently active mesh in the current slot on M500
  
+   //#define UBL_Z_RAISE_WHEN_OFF_MESH 2.5 // When the nozzle is off the mesh, this value is used
+                                           // as the Z-Height correction value.
+ 
  #elif ENABLED(MESH_BED_LEVELING)
  
    //===========================================================================
@@@ -1510,18 -1513,7 +1513,18 @@@
  // RepRapDiscount FULL GRAPHIC Smart Controller
  // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
  //
 +// If USE_ST7920_LIGHTWEIGHT_UI is uncommented, then an alternative
 +// light-weight status screen will be used that takes advantage of
 +// the ST7920 character-generator to conserve MCU resources.
 +//
 +// Since the lightweight status screen can only show a status
 +// message or the position, but not both, set DELAY_TO_SHOW_POSITION
 +// to the number of seconds until the position is revealed after a new
 +// status message is drawn.
 +
  //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 +//#define USE_ST7920_LIGHTWEIGHT_UI
 +//#define DELAY_TO_SHOW_POSITION 20
  
  //
  // MakerLab Mini Panel with graphic

commit d3ca82d8c24b94a0073d5839ddca6569a6d013a1
Author: Studiodyne <diabolomix@hotmail.fr>
Date:   Sun Feb 18 09:42:09 2018 +0100

    Support for multiple filament runout sensors

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cf24356c63..d84508183f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -852,15 +852,16 @@
 #endif
 
 /**
- * Filament Runout Sensor
- * A mechanical or opto endstop is used to check for the presence of filament.
+ * Filament Runout Sensors
+ * Mechanical or opto endstops are used to check for the presence of filament.
  *
- * RAMPS-based boards use SERVO3_PIN.
- * For other boards you may need to define FIL_RUNOUT_PIN.
- * By default the firmware assumes HIGH = has filament, LOW = ran out
+ * RAMPS-based boards use SERVO3_PIN for the first runout sensor.
+ * For other boards you may need to define FIL_RUNOUT_PIN, FIL_RUNOUT2_PIN, etc.
+ * By default the firmware assumes HIGH=FILAMENT PRESENT.
  */
 //#define FILAMENT_RUNOUT_SENSOR
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
+  #define NUM_RUNOUT_SENSORS   1     // Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.
   #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
   #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
   //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.

commit ca55f2927ab7416c6f404cfdeade4c9d5103929c
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Feb 18 19:26:23 2018 -0600

    Pulldown pin mode support (#9701)
    
    Implemented for LPC1768.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9067655033..cf24356c63 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -500,11 +500,10 @@
 //#define USE_YMAX_PLUG
 //#define USE_ZMAX_PLUG
 
-// coarse Endstop Settings
-#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
-
+// Enable pullup for all endstops to prevent a floating state
+#define ENDSTOPPULLUPS
 #if DISABLED(ENDSTOPPULLUPS)
-  // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
+  // Disable ENDSTOPPULLUPS to set pullups individually
   //#define ENDSTOPPULLUP_XMAX
   //#define ENDSTOPPULLUP_YMAX
   //#define ENDSTOPPULLUP_ZMAX
@@ -514,6 +513,19 @@
   //#define ENDSTOPPULLUP_ZMIN_PROBE
 #endif
 
+// Enable pulldown for all endstops to prevent a floating state
+//#define ENDSTOPPULLDOWNS
+#if DISABLED(ENDSTOPPULLDOWNS)
+  // Disable ENDSTOPPULLDOWNS to set pulldowns individually
+  //#define ENDSTOPPULLDOWN_XMAX
+  //#define ENDSTOPPULLDOWN_YMAX
+  //#define ENDSTOPPULLDOWN_ZMAX
+  //#define ENDSTOPPULLDOWN_XMIN
+  //#define ENDSTOPPULLDOWN_YMIN
+  //#define ENDSTOPPULLDOWN_ZMIN
+  //#define ENDSTOPPULLDOWN_ZMIN_PROBE
+#endif
+
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
 #define X_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 #define Y_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
@@ -850,7 +862,8 @@
 //#define FILAMENT_RUNOUT_SENSOR
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
   #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
-  #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+  #define FIL_RUNOUT_PULLUP          // Use internal pullup for filament runout pins.
+  //#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.
   #define FILAMENT_RUNOUT_SCRIPT "M600"
 #endif
 

commit 79272f98fce43c9559d136101c5b4e5e617d0676
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Feb 16 01:04:15 2018 -0600

    Proposed changes to ST7920 lightweight status screen

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 126fdc0893..9067655033 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1513,18 +1513,7 @@
 // RepRapDiscount FULL GRAPHIC Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
-// If USE_ST7920_LIGHTWEIGHT_UI is uncommented, then an alternative
-// light-weight status screen will be used that takes advantage of
-// the ST7920 character-generator to conserve MCU resources.
-//
-// Since the lightweight status screen can only show a status
-// message or the position, but not both, set DELAY_TO_SHOW_POSITION
-// to the number of seconds until the position is revealed after a new
-// status message is drawn.
-
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
-//#define USE_ST7920_LIGHTWEIGHT_UI
-//#define DELAY_TO_SHOW_POSITION 20
 
 //
 // MakerLab Mini Panel with graphic

commit 24eb275b99bf8d31c2ae5d89c9e0cc7d0f0c5edb
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Wed Feb 14 14:43:54 2018 -0700

    Added a light-weight status screen for the ST7920
    
    - The status screen uses the ST7920 character generator to greatly
      reduce SPI traffic and MCU load when updating the status screen.
    
    - Has been tested with the RepRapDiscount Full Graphics Smart Controller
      but should work with any LCD that uses an ST7920 or fully compatible
      controller.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9067655033..126fdc0893 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1513,7 +1513,18 @@
 // RepRapDiscount FULL GRAPHIC Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
+// If USE_ST7920_LIGHTWEIGHT_UI is uncommented, then an alternative
+// light-weight status screen will be used that takes advantage of
+// the ST7920 character-generator to conserve MCU resources.
+//
+// Since the lightweight status screen can only show a status
+// message or the position, but not both, set DELAY_TO_SHOW_POSITION
+// to the number of seconds until the position is revealed after a new
+// status message is drawn.
+
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+//#define USE_ST7920_LIGHTWEIGHT_UI
+//#define DELAY_TO_SHOW_POSITION 20
 
 //
 // MakerLab Mini Panel with graphic

commit 08d685c97aee540e8e572ee461a29fb5d0b2a842
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Feb 16 02:09:17 2018 -0600

    Followup to 21e60fd

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6eabaec858..9067655033 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1001,6 +1001,7 @@
 
   //#define UBL_Z_RAISE_WHEN_OFF_MESH 2.5 // When the nozzle is off the mesh, this value is used
                                           // as the Z-Height correction value.
+
 #elif ENABLED(MESH_BED_LEVELING)
 
   //===========================================================================

commit 21e60fd3edd9ea009f1a86db5c06909d59ff1cd0
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Thu Feb 15 15:07:42 2018 -0600

    Allow user to control Z-Height correction for off mesh movements (#9661)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 08c4148214..6eabaec858 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -999,6 +999,8 @@
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
   #define UBL_SAVE_ACTIVE_ON_M500   // Save the currently active mesh in the current slot on M500
 
+  //#define UBL_Z_RAISE_WHEN_OFF_MESH 2.5 // When the nozzle is off the mesh, this value is used
+                                          // as the Z-Height correction value.
 #elif ENABLED(MESH_BED_LEVELING)
 
   //===========================================================================

commit 4880ac653303829ca1f50a9fe61a1b20688a3c8e
Author: Marcio Teixeira <marcio@alephobjects.com>
Date:   Wed Feb 14 14:43:54 2018 -0700

    Added a light-weight status screen for the ST7920
    
    - The status screen uses the ST7920 character generator to greatly
      reduce SPI traffic and MCU load when updating the status screen.
    
    - Has been tested with the RepRapDiscount Full Graphics Smart Controller
      but should work with any LCD that uses an ST7920 or fully compatible
      controller.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b3b8dc1c99..1438b8e334 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1510,7 +1510,18 @@
 // RepRapDiscount FULL GRAPHIC Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
+// If USE_ST7920_LIGHTWEIGHT_UI is uncommented, then an alternative
+// light-weight status screen will be used that takes advantage of
+// the ST7920 character-generator to conserve MCU resources.
+//
+// Since the lightweight status screen can only show a status
+// message or the position, but not both, set DELAY_TO_SHOW_POSITION
+// to the number of seconds until the position is revealed after a new
+// status message is drawn.
+
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+//#define USE_ST7920_LIGHTWEIGHT_UI
+//#define DELAY_TO_SHOW_POSITION 20
 
 //
 // MakerLab Mini Panel with graphic

commit 2ec65051fd0cb7a64de20a0318c99cb08c24b54d
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Feb 13 22:40:56 2018 -0600

    Fix serial comment sp.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b3b8dc1c99..08c4148214 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -109,7 +109,7 @@
 /**
  * Select a secondary serial port on the board to use for communication with the host.
  * This allows the connection of wireless adapters (for instance) to non-default port pins.
- * Serial port -1 is the USB emulated serial port, if avaialble.
+ * Serial port -1 is the USB emulated serial port, if available.
  *
  * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
  */

commit 2014d38e10c5493dcd6d761b6f6dc75a48292cc6
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Feb 8 18:54:45 2018 -0600

    NEOPIXEL_BRIGHTNESS parity

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fce9198450..b3b8dc1c99 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1773,7 +1773,7 @@
   #define NEOPIXEL_PIN    4        // LED driving pin on motherboard 4 => D4 (EXP2-5 on Printrboard) / 30 => PC7 (EXP3-13 on Rumba)
   #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
-  #define NEOPIXEL_BRIGHTNESS 255  // Initial brightness 0-255
+  #define NEOPIXEL_BRIGHTNESS 127  // Initial brightness (0-255)
   //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup
 #endif
 

commit b5e92f4f908461ca2c78a86eefe069b85af0a2dc
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Feb 6 00:22:30 2018 -0600

    [2.0.x] Enable / disable PSU automatically (#9503)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cf0b3abe2d..fce9198450 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -245,6 +245,15 @@
   // Enable this option to leave the PSU off at startup.
   // Power to steppers and heaters will need to be turned on with M80.
   //#define PS_DEFAULT_OFF
+
+  //#define AUTO_POWER_CONTROL        // Enable automatic control of the PS_ON pin
+  #if ENABLED(AUTO_POWER_CONTROL)
+    #define AUTO_POWER_FANS           // Turn on PSU if fans need power
+    #define AUTO_POWER_E_FANS
+    #define AUTO_POWER_CONTROLLERFAN
+    #define POWER_TIMEOUT 30
+  #endif
+
 #endif
 
 // @section temperature

commit 16739264d3a3799b44396985c3a200ffde73823f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Feb 5 22:25:49 2018 -0600

    Add UltiController v2.1 support
    
    Add compatibility with the original screen bord from Ultimaker 2 printer (UltiController v2.1 with the PG-2864ALBP I2C display)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cb110a942e..cf0b3abe2d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1618,6 +1618,12 @@
   #define U8GLIB_SH1106
 #endif
 
+//
+// Original Ulticontroller from Ultimaker 2 printer with SSD1309 I2C display and encoder
+// https://github.com/Ultimaker/Ultimaker2/tree/master/1249_Ulticontroller_Board_(x1)
+//
+//#define ULTI_CONTROLLER
+
 //
 // CONTROLLER TYPE: Shift register panels
 //

commit 4925f60cff389b0a35b3f8b232e43ab517f4ee9a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Feb 4 01:07:35 2018 -0600

    Add MALYAN_LCD to configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d49c57e3fc..cb110a942e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1554,6 +1554,12 @@
 //
 //#define LCD_FOR_MELZI
 
+//
+// LCD for Malyan M200 printers.
+// This requires SDSUPPORT to be enabled
+//
+//#define MALYAN_LCD
+
 //
 // CONTROLLER TYPE: I2C
 //

commit 7d6c0091041212af81f757dbf5ef3c49af5803d5
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Jan 21 17:12:37 2018 -0600

    Add thermistor 15 tuned for JGAurora A5

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f8abcedb39..d49c57e3fc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -276,6 +276,7 @@
  *    11 : 100k beta 3950 1% thermistor (4.7k pullup)
  *    12 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
  *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
+ *    15 : 100k thermistor calibration for JGAurora A5 hotend
  *    20 : the PT100 circuit found in the Ultimainboard V2.x
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    66 : 4.7M High Temperature thermistor from Dyze Design
@@ -1734,9 +1735,9 @@
  * LED Type. Enable only one of the following two options.
  *
  */
-
 //#define RGB_LED
 //#define RGBW_LED
+
 #if ENABLED(RGB_LED) || ENABLED(RGBW_LED)
   #define RGB_LED_R_PIN 34
   #define RGB_LED_G_PIN 43

commit 348b4544018c0279c4ba623a2109e009bdd7a893
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Jan 22 00:55:13 2018 -0600

    Probe bounds based on bed size

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d97c68eb85..f8abcedb39 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -926,15 +926,15 @@
   #define GRID_MAX_POINTS_X 3
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
-  // Set the boundaries for probing (where the probe can reach).
-  #define LEFT_PROBE_BED_POSITION 15
-  #define RIGHT_PROBE_BED_POSITION 170
-  #define FRONT_PROBE_BED_POSITION 20
-  #define BACK_PROBE_BED_POSITION 170
-
   // The Z probe minimum outer margin (to validate G29 parameters).
   #define MIN_PROBE_EDGE 10
 
+  // Set the boundaries for probing (where the probe can reach).
+  #define LEFT_PROBE_BED_POSITION 15
+  #define RIGHT_PROBE_BED_POSITION (X_BED_SIZE - 15)
+  #define FRONT_PROBE_BED_POSITION 15
+  #define BACK_PROBE_BED_POSITION (Y_BED_SIZE - 15)
+
   // Probe along the Y axis, advancing X after each column
   //#define PROBE_Y_FIRST
 

commit 58ed9901d7fe28a457a5783349e01b0cacb04487
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Jan 21 17:17:57 2018 -0600

    Consistent NEOPIXEL_TYPE options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index faf369eb7b..d97c68eb85 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1747,7 +1747,7 @@
 // Support for Adafruit Neopixel LED driver
 //#define NEOPIXEL_LED
 #if ENABLED(NEOPIXEL_LED)
-  #define NEOPIXEL_TYPE   NEO_GRB  // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
+  #define NEOPIXEL_TYPE   NEO_GRBW // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
   #define NEOPIXEL_PIN    4        // LED driving pin on motherboard 4 => D4 (EXP2-5 on Printrboard) / 30 => PC7 (EXP3-13 on Rumba)
   #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip
   #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.

commit fa432508b0cc9dabe08db4117f4f814d16ac7b06
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Jan 15 05:54:44 2018 -0600

    Followup to Ender config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 78f77bde47..faf369eb7b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -91,6 +91,10 @@
 // example configuration folder.
 //
 //#define SHOW_CUSTOM_BOOTSCREEN
+
+// Enable to show the bitmap in Marlin/_Statusscreen.h on the status screen.
+//#define CUSTOM_STATUS_SCREEN_IMAGE
+
 // @section machine
 
 /**

commit 048486390e886d1dda8eeaa23bde11d7a3be4d33
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jan 11 01:10:00 2018 -0600

    Bring some configs up to date

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b8cc3d3869..78f77bde47 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1642,11 +1642,10 @@
 //#define CR10_STOCKDISPLAY
 
 //
-// MKS OLED 1.3" 128 x 64 FULL GRAPHICS CONTROLLER
+// MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER
 // http://reprap.org/wiki/MKS_12864OLED
 //
 // Tiny, but very sharp OLED display
-// If there is a pixel shift, try the other controller.
 //
 //#define MKS_12864OLED          // Uses the SH1106 controller (default)
 //#define MKS_12864OLED_SSD1306  // Uses the SSD1306 controller

commit f7efac57b7ac607405529a71b4e36a6545525c89
Author: Thomas Moore <tcm0116@gmail.com>
Date:   Sun Nov 5 08:49:38 2017 -0600

    Multi-host support

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7601dd65a3..b8cc3d3869 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -102,6 +102,15 @@
  */
 #define SERIAL_PORT 0
 
+/**
+ * Select a secondary serial port on the board to use for communication with the host.
+ * This allows the connection of wireless adapters (for instance) to non-default port pins.
+ * Serial port -1 is the USB emulated serial port, if avaialble.
+ *
+ * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
+ */
+#define SERIAL_PORT_2 -1
+
 /**
  * This setting determines the communication speed of the printer.
  *

commit 5295b4713d91a16d07f7f687bcb7b14fe6df0c7a
Author: GMagician <3684609+GMagician@users.noreply.github.com>
Date:   Tue Jan 9 23:53:12 2018 +0100

    [2.0.x] add semitec 104NT-4 (#9119)
    
    Table is very very similar to old 104-GT2 so I added only the name and recycled old ID

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 09d5f3f1f1..7601dd65a3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -253,7 +253,7 @@
  *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
  *     3 : Mendel-parts thermistor (4.7k pullup)
  *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
- *     5 : 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
+ *     5 : 100K thermistor - ATC Semitec 104GT-2/104NT-4-R025H42G (Used in ParCan & J-Head) (4.7k pullup)
  *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
  *    71 : 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)

commit 0b4a46fa6c889d5048a78ea5f35c0432a02a298e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Dec 30 20:05:43 2017 -0600

    Bring configs up to date with 1.1.x

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ae74ec5f43..09d5f3f1f1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1633,12 +1633,12 @@
 //#define CR10_STOCKDISPLAY
 
 //
-// MKS OLED 1.3" 128x64 FULL GRAPHICS CONTROLLER
+// MKS OLED 1.3" 128 x 64 FULL GRAPHICS CONTROLLER
 // http://reprap.org/wiki/MKS_12864OLED
 //
 // Tiny, but very sharp OLED display
 // If there is a pixel shift, try the other controller.
-
+//
 //#define MKS_12864OLED          // Uses the SH1106 controller (default)
 //#define MKS_12864OLED_SSD1306  // Uses the SSD1306 controller
 

commit f0a8a1a85344207870bc7528fa9dd445d5263adf
Author: Thomas Moore <tcm0116@users.noreply.github.com>
Date:   Mon Dec 25 01:38:06 2017 -0600

    [2.0.x] Use NOZZLE_PARK_FEATURE for ADVANCED_PAUSE_FEATURE (#8866)
    
    * Use NOZZLE_PARK_FEATURE for ADVANCED_PAUSE_FEATURE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index af4a89d3da..ae74ec5f43 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1154,7 +1154,7 @@
 #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
 
 /**
- * Nozzle Park -- EXPERIMENTAL
+ * Nozzle Park
  *
  * Park the nozzle at the given XYZ position on idle or G27.
  *
@@ -1169,6 +1169,8 @@
 #if ENABLED(NOZZLE_PARK_FEATURE)
   // Specify a park position as { X, Y, Z }
   #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
+  #define NOZZLE_PARK_XY_FEEDRATE 100   // X and Y axes feedrate in mm/s (also used for delta printers Z axis)
+  #define NOZZLE_PARK_Z_FEEDRATE 5      // Z axis feedrate in mm/s (not used for delta printers)
 #endif
 
 /**

commit 28fc8741d6ec018eda9b1737bf1862ac6e9e1c3d
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Dec 24 19:38:41 2017 -0600

    Reduce default jerk. XY by half. Z by 1/4

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0674306d2f..af4a89d3da 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -566,9 +566,9 @@
  * When changing speed and direction, if the difference is less than the
  * value set here, it may happen instantaneously.
  */
-#define DEFAULT_XJERK                 20.0
-#define DEFAULT_YJERK                 20.0
-#define DEFAULT_ZJERK                  0.4
+#define DEFAULT_XJERK                 10.0
+#define DEFAULT_YJERK                 10.0
+#define DEFAULT_ZJERK                  0.3
 #define DEFAULT_EJERK                  5.0
 
 //===========================================================================

commit ea1a8d1223f0c66e73eb21e2e2b73884eecf51f0
Author: Even <10756851+subdancer@users.noreply.github.com>
Date:   Sat Dec 23 21:23:05 2017 +0100

    add original RADDS LCD + Controller
    
    adds setup for the original Radds Display+Controller+SD Card Reader PCB
    http://doku.radds.org/dokumentation/lcd-display/

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index be269f725f..0674306d2f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1417,6 +1417,12 @@
 // Enable one of the following options to specify your controller.
 //
 
+//
+// Original RADDS LCD Display+Encoder+SDCardReader
+// http://doku.radds.org/dokumentation/lcd-display/
+//
+//#define RADDS_DISPLAY
+
 //
 // ULTIMAKER Controller.
 //

commit b055d8c39cf0a3bc946e13510ba407e60f07518f
Author: Dan Delaney <drdelaney@loclhst.com>
Date:   Sat Dec 16 18:47:04 2017 -0600

    [2.0.x] Adding support for using the MKS_12864OLED with the SSD1306 controller (#8814)
    
    * Adding support for using the MKS_12864OLED with the SSD1306 controller
    
    * Update comment for correct controller type

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c60aea5186..be269f725f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1625,12 +1625,14 @@
 //#define CR10_STOCKDISPLAY
 
 //
-// MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER
+// MKS OLED 1.3" 128x64 FULL GRAPHICS CONTROLLER
 // http://reprap.org/wiki/MKS_12864OLED
 //
 // Tiny, but very sharp OLED display
-//
-//#define MKS_12864OLED
+// If there is a pixel shift, try the other controller.
+
+//#define MKS_12864OLED          // Uses the SH1106 controller (default)
+//#define MKS_12864OLED_SSD1306  // Uses the SSD1306 controller
 
 //
 // AZSMZ 12864 LCD with SD

commit 15d05748dfeee7573bfad03048714d9d38f64b36
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Dec 15 19:05:57 2017 -0600

    Adding support for the Tronxy and Zonestar LCD

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 17a87ef322..c60aea5186 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1516,11 +1516,13 @@
 //#define CARTESIO_UI
 
 //
-// ANET_10 Controller supported displays.
+// ANET and Tronxy Controller supported displays.
 //
-//#define ANET_KEYPAD_LCD         // Requires ADC_KEYPAD_PIN to be assigned to an analog pin.
+//#define ZONESTAR_LCD            // Requires ADC_KEYPAD_PIN to be assigned to an analog pin.
                                   // This LCD is known to be susceptible to electrical interference
                                   // which scrambles the display.  Pressing any button clears it up.
+                                  // This is a LCD2004 display with 5 analog buttons.
+
 //#define ANET_FULL_GRAPHICS_LCD  // Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
                                   // A clone of the RepRapDiscount full graphics display but with
                                   // different pins/wiring (see pins_ANET_10.h).

commit 69d49a2438203fc50695009a23902c60ff5cf35a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Dec 9 06:29:14 2017 -0600

    Shorter segments may be better

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ac450dbf18..17a87ef322 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -889,7 +889,8 @@
   #define ENABLE_LEVELING_FADE_HEIGHT
 
   // For Cartesian machines, instead of dividing moves on mesh boundaries,
-  // split up moves into short segments like a Delta.
+  // split up moves into short segments like a Delta. This follows the
+  // contours of the bed more closely than edge-to-edge straight moves.
   #define SEGMENT_LEVELED_MOVES
   #define LEVELED_SEGMENT_LENGTH 5.0 // (mm) Length of all segments (except the last one)
 

commit ae663a4198512796319934a0dbd64832040fd0a0
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Dec 7 16:33:51 2017 -0600

    PROBE_DOUBLE_TOUCH => MULTIPLE_PROBING

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1429d098df..ac450dbf18 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -690,14 +690,16 @@
 // X and Y axis travel speed (mm/m) between probes
 #define XY_PROBE_SPEED 8000
 
-// Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH)
+// Speed for the first approach when double-probing (MULTIPLE_PROBING == 2)
 #define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
 
 // Speed for the "accurate" probe of each point
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
 
-// Use double touch for probing
-//#define PROBE_DOUBLE_TOUCH
+// The number of probes to perform at each point.
+//   Set to 2 for a fast/slow probe, using the second probe result.
+//   Set to 3 or more for slow probes, averaging the results.
+//#define MULTIPLE_PROBING 2
 
 /**
  * Z probes require clearance when deploying, stowing, and moving between

commit c1184552acfd69ec118ddae57d8e135357234959
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Fri Dec 1 09:08:30 2017 -0600

    Change K1 to required option PID_K1

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 48202354f9..1429d098df 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -339,8 +339,9 @@
 
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
-#define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
-#define PID_MAX BANG_MAX // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
+#define BANG_MAX 255     // Limits current to nozzle while in bang-bang mode; 255=full current
+#define PID_MAX BANG_MAX // Limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
+#define PID_K1 0.95      // Smoothing factor within any PID loop
 #if ENABLED(PIDTEMP)
   //#define PID_AUTOTUNE_MENU // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
   //#define PID_DEBUG // Sends debug data to the serial port.
@@ -350,7 +351,6 @@
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
-  #define K1 0.95 //smoothing factor within the PID
 
   // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
 

commit aa7efb96bfffbbfc45d3a3e4a41810ef1b4b7c7a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Dec 2 21:50:51 2017 -0600

    Bring configurations up to date

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c1c5add624..48202354f9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1404,8 +1404,8 @@
 // Note: Test audio output with the G-Code:
 //  M300 S<frequency Hz> P<duration ms>
 //
-//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
-//#define LCD_FEEDBACK_FREQUENCY_HZ 1000
+//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 2
+//#define LCD_FEEDBACK_FREQUENCY_HZ 5000
 
 //
 // CONTROLLER TYPE: Standard

commit 0154e3480c44bf9d96d662382da25afaaf3fd854
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Dec 1 16:42:23 2017 -0600

    New feature: BED_SKEW_CORRECTION

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 44649e9dd8..c1c5add624 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -832,7 +832,7 @@
 //===========================================================================
 //=============================== Bed Leveling ==============================
 //===========================================================================
-// @section bedlevel
+// @section calibrate
 
 /**
  * Choose one of the options below to enable G29 Bed Leveling. The parameters
@@ -1039,6 +1039,63 @@
 #define HOMING_FEEDRATE_XY (50*60)
 #define HOMING_FEEDRATE_Z  (4*60)
 
+// @section calibrate
+
+/**
+ * Bed Skew Compensation
+ *
+ * This feature corrects for misalignment in the XYZ axes.
+ *
+ * Take the following steps to get the bed skew in the XY plane:
+ *  1. Print a test square (e.g., https://www.thingiverse.com/thing:2563185)
+ *  2. For XY_DIAG_AC measure the diagonal A to C
+ *  3. For XY_DIAG_BD measure the diagonal B to D
+ *  4. For XY_SIDE_AD measure the edge A to D
+ *
+ * Marlin automatically computes skew factors from these measurements.
+ * Skew factors may also be computed and set manually:
+ *
+ *  - Compute AB     : SQRT(2*AC*AC+2*BD*BD-4*AD*AD)/2
+ *  - XY_SKEW_FACTOR : TAN(PI/2-ACOS((AC*AC-AB*AB-AD*AD)/(2*AB*AD)))
+ *
+ * If desired, follow the same procedure for XZ and YZ.
+ * Use these diagrams for reference:
+ *
+ *    Y                     Z                     Z
+ *    ^     B-------C       ^     B-------C       ^     B-------C
+ *    |    /       /        |    /       /        |    /       /
+ *    |   /       /         |   /       /         |   /       /
+ *    |  A-------D          |  A-------D          |  A-------D
+ *    +-------------->X     +-------------->X     +-------------->Y
+ *     XY_SKEW_FACTOR        XZ_SKEW_FACTOR        YZ_SKEW_FACTOR
+ */
+//#define SKEW_CORRECTION
+
+#if ENABLED(SKEW_CORRECTION)
+  // Input all length measurements here:
+  #define XY_DIAG_AC 282.8427124746
+  #define XY_DIAG_BD 282.8427124746
+  #define XY_SIDE_AD 200
+
+  // Or, set the default skew factors directly here
+  // to override the above measurements:
+  #define XY_SKEW_FACTOR 0.0
+
+  //#define SKEW_CORRECTION_FOR_Z
+  #if ENABLED(SKEW_CORRECTION_FOR_Z)
+    #define XZ_DIAG_AC 282.8427124746
+    #define XZ_DIAG_BD 282.8427124746
+    #define YZ_DIAG_AC 282.8427124746
+    #define YZ_DIAG_BD 282.8427124746
+    #define YZ_SIDE_AD 200
+    #define XZ_SKEW_FACTOR 0.0
+    #define YZ_SKEW_FACTOR 0.0
+  #endif
+
+  // Enable this option for M852 to set skew at runtime
+  //#define SKEW_CORRECTION_GCODE
+#endif
+
 //=============================================================================
 //============================= Additional Features ===========================
 //=============================================================================

commit ef2531558cab8317a772ac766ae5243d742fc89a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Nov 29 15:30:42 2017 -0600

    Add an option to segment leveled moves

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 472fc9dae0..44649e9dd8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -886,6 +886,11 @@
   // The height can be set with M420 Z<height>
   #define ENABLE_LEVELING_FADE_HEIGHT
 
+  // For Cartesian machines, instead of dividing moves on mesh boundaries,
+  // split up moves into short segments like a Delta.
+  #define SEGMENT_LEVELED_MOVES
+  #define LEVELED_SEGMENT_LENGTH 5.0 // (mm) Length of all segments (except the last one)
+
   /**
    * Enable the G26 Mesh Validation Pattern tool.
    */

commit 5926c9c97b7855b75ec6af14ce49366b91ab0bec
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Nov 24 13:35:08 2017 -0600

    Followup for MESH_EDIT_GFX_OVERLAY

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 061ab1a4c0..472fc9dae0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -879,7 +879,6 @@
  * NOTE: Requires a lot of PROGMEM!
  */
 //#define DEBUG_LEVELING_FEATURE
-//#define ENABLE_MESH_EDIT_GFX_OVERLAY  // enable a graphics overly while editing the mesh from auto-level
 
 #if ENABLED(MESH_BED_LEVELING) || ENABLED(AUTO_BED_LEVELING_BILINEAR) || ENABLED(AUTO_BED_LEVELING_UBL)
   // Gradually reduce leveling correction until a set height is reached,
@@ -953,6 +952,8 @@
   //========================= Unified Bed Leveling ============================
   //===========================================================================
 
+  //#define MESH_EDIT_GFX_OVERLAY   // Display a graphics overlay while editing the mesh
+
   #define MESH_INSET 1              // Mesh inset margin on print area
   #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X

commit 5ce7f23afa703012e3008ecf64a7ed4ce1e99cd4
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Nov 23 17:49:05 2017 -0600

    Config option G26_MESH_VALIDATION for all meshes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 366397ca02..061ab1a4c0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -886,6 +886,18 @@
   // at which point movement will be level to the machine's XY plane.
   // The height can be set with M420 Z<height>
   #define ENABLE_LEVELING_FADE_HEIGHT
+
+  /**
+   * Enable the G26 Mesh Validation Pattern tool.
+   */
+  //#define G26_MESH_VALIDATION
+  #if ENABLED(G26_MESH_VALIDATION)
+    #define MESH_TEST_NOZZLE_SIZE    0.4  // (mm) Diameter of primary nozzle.
+    #define MESH_TEST_LAYER_HEIGHT   0.2  // (mm) Default layer height for the G26 Mesh Validation Tool.
+    #define MESH_TEST_HOTEND_TEMP  205.0  // (¬∞C) Default nozzle temperature for the G26 Mesh Validation Tool.
+    #define MESH_TEST_BED_TEMP      60.0  // (¬∞C) Default bed temperature for the G26 Mesh Validation Tool.
+  #endif
+
 #endif
 
 #if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
@@ -952,14 +964,6 @@
   #define UBL_PROBE_PT_3_X 180
   #define UBL_PROBE_PT_3_Y 20
 
-  //#define UBL_G26_MESH_VALIDATION // Enable G26 mesh validation
-  #if ENABLED(UBL_G26_MESH_VALIDATION)
-    #define MESH_TEST_NOZZLE_SIZE    0.4  // (mm) Diameter of primary nozzle.
-    #define MESH_TEST_LAYER_HEIGHT   0.2  // (mm) Default layer height for the G26 Mesh Validation Tool.
-    #define MESH_TEST_HOTEND_TEMP  205.0  // (c)  Default nozzle temperature for the G26 Mesh Validation Tool.
-    #define MESH_TEST_BED_TEMP      60.0  // (c)  Default bed temperature for the G26 Mesh Validation Tool.
-  #endif
-
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
   #define UBL_SAVE_ACTIVE_ON_M500   // Save the currently active mesh in the current slot on M500
 

commit 3f0a982b8c87b7911d413abcc046eb1299fe9e21
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Nov 13 20:50:58 2017 -0600

    Move Filament Width Sensor to Configuration_adv.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3004cf1258..366397ca02 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1700,38 +1700,4 @@
 // With this option servos are powered only during movement, then turned off to prevent jitter.
 //#define DEACTIVATE_SERVOS_AFTER_MOVE
 
-/**
- * Filament Width Sensor
- *
- * Measures the filament width in real-time and adjusts
- * flow rate to compensate for any irregularities.
- *
- * Also allows the measured filament diameter to set the
- * extrusion rate, so the slicer only has to specify the
- * volume.
- *
- * Only a single extruder is supported at this time.
- *
- *  34 RAMPS_14    : Analog input 5 on the AUX2 connector
- *  81 PRINTRBOARD : Analog input 2 on the Exp1 connector (version B,C,D,E)
- * 301 RAMBO       : Analog input 3
- *
- * Note: May require analog pins to be defined for other boards.
- */
-//#define FILAMENT_WIDTH_SENSOR
-
-#if ENABLED(FILAMENT_WIDTH_SENSOR)
-  #define FILAMENT_SENSOR_EXTRUDER_NUM 0    // Index of the extruder that has the filament sensor. :[0,1,2,3,4]
-  #define MEASUREMENT_DELAY_CM        14    // (cm) The distance from the filament sensor to the melting chamber
-
-  #define MEASURED_UPPER_LIMIT         3.30 // (mm) Upper limit used to validate sensor reading
-  #define MEASURED_LOWER_LIMIT         1.90 // (mm) Lower limit used to validate sensor reading
-  #define MAX_MEASUREMENT_DELAY       20    // (bytes) Buffer size for stored measurements (1 byte per cm). Must be larger than MEASUREMENT_DELAY_CM.
-
-  #define DEFAULT_MEASURED_FILAMENT_DIA DEFAULT_NOMINAL_FILAMENT_DIA // Set measured to nominal initially
-
-  // Display filament width on the LCD status line. Status messages will expire after 5 seconds.
-  //#define FILAMENT_LCD_DISPLAY
-#endif
-
 #endif // CONFIGURATION_H

commit b76e173205dc8f2cb5e8b869b8dcbf9b968746ce
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Nov 13 16:15:03 2017 -0600

    Move test extrusion options under G26

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a338ff85e6..3004cf1258 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -136,6 +136,9 @@
 // :[1, 2, 3, 4, 5]
 #define EXTRUDERS 1
 
+// Generally expected filament diameter (1.75, 2.85, 3.0, ...). Used for Volumetric, Filament Width Sensor, etc.
+#define DEFAULT_NOMINAL_FILAMENT_DIA 3.0
+
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
 
@@ -950,6 +953,13 @@
   #define UBL_PROBE_PT_3_Y 20
 
   //#define UBL_G26_MESH_VALIDATION // Enable G26 mesh validation
+  #if ENABLED(UBL_G26_MESH_VALIDATION)
+    #define MESH_TEST_NOZZLE_SIZE    0.4  // (mm) Diameter of primary nozzle.
+    #define MESH_TEST_LAYER_HEIGHT   0.2  // (mm) Default layer height for the G26 Mesh Validation Tool.
+    #define MESH_TEST_HOTEND_TEMP  205.0  // (c)  Default nozzle temperature for the G26 Mesh Validation Tool.
+    #define MESH_TEST_BED_TEMP      60.0  // (c)  Default bed temperature for the G26 Mesh Validation Tool.
+  #endif
+
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
   #define UBL_SAVE_ACTIVE_ON_M500   // Save the currently active mesh in the current slot on M500
 
@@ -1690,18 +1700,6 @@
 // With this option servos are powered only during movement, then turned off to prevent jitter.
 //#define DEACTIVATE_SERVOS_AFTER_MOVE
 
-/**
- * Default extrusion settings
- *
- * These settings control basic extrusion from within the Marlin firmware.
- *
- */
-#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00   // (mm) Diameter of the filament generally used (3.0 or 1.75mm), also used in the slicer. Used to validate sensor reading.
-#define DEFAULT_NOZZLE_SIZE           .4    // (mm) Diameter of primary nozzle.  Used by G26 Mesh Validation Pattern tool.
-#define DEFAULT_LAYER_HEIGHT          .2    // (mm) Default layer height that will produce usable results by the printer.  Used by G26 Mesh Validation Pattern tool.
-#define DEFAULT_HOTEND_TEMP        205.0    // (c)  Default nozzle temperature that will produce usable results by the printer.  Used by G26 Mesh Validation Pattern tool.
-#define DEFAULT_BED_TEMP            60.0    // (c)  Default bed temperature that will produce usable results by the printer.  Used by G26 Mesh Validation Pattern tool.
-
 /**
  * Filament Width Sensor
  *
@@ -1723,7 +1721,7 @@
 //#define FILAMENT_WIDTH_SENSOR
 
 #if ENABLED(FILAMENT_WIDTH_SENSOR)
-  #define FILAMENT_SENSOR_EXTRUDER_NUM 0    // Index of the extruder that has the filament sensor (0,1,2,3)
+  #define FILAMENT_SENSOR_EXTRUDER_NUM 0    // Index of the extruder that has the filament sensor. :[0,1,2,3,4]
   #define MEASUREMENT_DELAY_CM        14    // (cm) The distance from the filament sensor to the melting chamber
 
   #define MEASURED_UPPER_LIMIT         3.30 // (mm) Upper limit used to validate sensor reading

commit 81b91b3f9dbec4cb0460c81085d5ddfe84dc40cc
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Nov 10 02:28:53 2017 -0600

    Clean up some trailing white-space

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e838c9a3ba..a338ff85e6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1694,7 +1694,7 @@
  * Default extrusion settings
  *
  * These settings control basic extrusion from within the Marlin firmware.
- * 
+ *
  */
 #define DEFAULT_NOMINAL_FILAMENT_DIA 3.00   // (mm) Diameter of the filament generally used (3.0 or 1.75mm), also used in the slicer. Used to validate sensor reading.
 #define DEFAULT_NOZZLE_SIZE           .4    // (mm) Diameter of primary nozzle.  Used by G26 Mesh Validation Pattern tool.

commit 967104e1cef33d71d0a0948ca8018082f2e3d1fe
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Wed Nov 8 11:56:00 2017 -0600

    Default Extrusion Settings were off a few lines in some of the example config files. (#8333)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8d4efc8d83..e838c9a3ba 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1685,6 +1685,11 @@
 // If the servo can't reach the requested position, increase it.
 #define SERVO_DELAY { 300 }
 
+// Servo deactivation
+//
+// With this option servos are powered only during movement, then turned off to prevent jitter.
+//#define DEACTIVATE_SERVOS_AFTER_MOVE
+
 /**
  * Default extrusion settings
  *
@@ -1697,11 +1702,6 @@
 #define DEFAULT_HOTEND_TEMP        205.0    // (c)  Default nozzle temperature that will produce usable results by the printer.  Used by G26 Mesh Validation Pattern tool.
 #define DEFAULT_BED_TEMP            60.0    // (c)  Default bed temperature that will produce usable results by the printer.  Used by G26 Mesh Validation Pattern tool.
 
-// Servo deactivation
-//
-// With this option servos are powered only during movement, then turned off to prevent jitter.
-//#define DEACTIVATE_SERVOS_AFTER_MOVE
-
 /**
  * Filament Width Sensor
  *

commit ed62c621d78bdcfcf8ace903ac4130d07834dca1
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Tue Nov 7 17:13:53 2017 -0600

    Fix G26 Circle Drawing.  Add Default Extrusion Settings (#8313)
    
    - Fix G26 Circle Drawing.
    - Add default extrusion settings so machine can print lines on print bed
    - Yet to be done: Get LCD Menu's to use these settings.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 00752dfc08..8d4efc8d83 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1685,6 +1685,18 @@
 // If the servo can't reach the requested position, increase it.
 #define SERVO_DELAY { 300 }
 
+/**
+ * Default extrusion settings
+ *
+ * These settings control basic extrusion from within the Marlin firmware.
+ * 
+ */
+#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00   // (mm) Diameter of the filament generally used (3.0 or 1.75mm), also used in the slicer. Used to validate sensor reading.
+#define DEFAULT_NOZZLE_SIZE           .4    // (mm) Diameter of primary nozzle.  Used by G26 Mesh Validation Pattern tool.
+#define DEFAULT_LAYER_HEIGHT          .2    // (mm) Default layer height that will produce usable results by the printer.  Used by G26 Mesh Validation Pattern tool.
+#define DEFAULT_HOTEND_TEMP        205.0    // (c)  Default nozzle temperature that will produce usable results by the printer.  Used by G26 Mesh Validation Pattern tool.
+#define DEFAULT_BED_TEMP            60.0    // (c)  Default bed temperature that will produce usable results by the printer.  Used by G26 Mesh Validation Pattern tool.
+
 // Servo deactivation
 //
 // With this option servos are powered only during movement, then turned off to prevent jitter.
@@ -1710,8 +1722,6 @@
  */
 //#define FILAMENT_WIDTH_SENSOR
 
-#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00   // (mm) Diameter of the filament generally used (3.0 or 1.75mm), also used in the slicer. Used to validate sensor reading.
-
 #if ENABLED(FILAMENT_WIDTH_SENSOR)
   #define FILAMENT_SENSOR_EXTRUDER_NUM 0    // Index of the extruder that has the filament sensor (0,1,2,3)
   #define MEASUREMENT_DELAY_CM        14    // (cm) The distance from the filament sensor to the melting chamber

commit 2c099fd4c26db998583caf5baec8dd5b1daa85d1
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Nov 7 15:46:44 2017 -0600

    Update Thermal Protection Documentation

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2a97c35be4..00752dfc08 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -428,12 +428,13 @@
 //===========================================================================
 
 /**
- * Thermal Protection protects your printer from damage and fire if a
- * thermistor falls out or temperature sensors fail in any way.
+ * Thermal Protection provides additional protection to your printer from damage
+ * and fire. Marlin always includes safe min and max temperature ranges which
+ * protect against a broken or disconnected thermistor wire.
  *
- * The issue: If a thermistor falls out or a temperature sensor fails,
- * Marlin can no longer sense the actual temperature. Since a disconnected
- * thermistor reads as a low temperature, the firmware will keep the heater on.
+ * The issue: If a thermistor falls out, it will report the much lower
+ * temperature of the air in the room, and the the firmware will keep
+ * the heater on.
  *
  * If you get "Thermal Runaway" or "Heating failed" errors the
  * details can be tuned in Configuration_adv.h

commit d83a9a53e85565d0aa3f614f69c4bf07c73eb48a
Merge: b561ee2738 93ba72ea83
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Nov 3 15:25:12 2017 -0500

    Merge pull request #8220 from thinkyhead/bf2_serial_port_-1
    
    [2.0] Add SERIAL_PORT -1 option for configurators

diff --combined Marlin/Configuration.h
index bd568406e8,f200d8c3e0..2a97c35be4
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -94,11 -94,11 +94,11 @@@
  // @section machine
  
  /**
-  * Select which serial port on the board will be used for communication with the host.
+  * Select the serial port on the board to use for communication with the host.
   * This allows the connection of wireless adapters (for instance) to non-default port pins.
-  * Serial port 0 is always used by the Arduino bootloader regardless of this setting.
+  * Note: The first serial port (-1 or 0) will always be used by the Arduino bootloader.
   *
-  * :[0, 1, 2, 3, 4, 5, 6, 7]
+  * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
   */
  #define SERIAL_PORT 0
  
@@@ -573,7 -573,7 +573,7 @@@
  // @section probes
  
  //
 -// See http://marlinfw.org/configuration/probes.html
 +// See http://marlinfw.org/docs/configuration/probes.html
  //
  
  /**

commit 93ba72ea83654bc4a1c052067a92471638eec3ff
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Nov 2 13:39:05 2017 -0500

    Add SERIAL_PORT -1, set on SBASE, STM32F103RET6

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f34cd94746..f200d8c3e0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -94,11 +94,11 @@
 // @section machine
 
 /**
- * Select which serial port on the board will be used for communication with the host.
+ * Select the serial port on the board to use for communication with the host.
  * This allows the connection of wireless adapters (for instance) to non-default port pins.
- * Serial port 0 is always used by the Arduino bootloader regardless of this setting.
+ * Note: The first serial port (-1 or 0) will always be used by the Arduino bootloader.
  *
- * :[0, 1, 2, 3, 4, 5, 6, 7]
+ * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
 #define SERIAL_PORT 0
 

commit 7e43dd1d23e32a08c76c9ae3fda20c7a28c8344b
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Nov 3 13:35:40 2017 -0500

    Fix probes configuration url
    
    Based on #8241 by @machaj

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f34cd94746..bd568406e8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -573,7 +573,7 @@
 // @section probes
 
 //
-// See http://marlinfw.org/configuration/probes.html
+// See http://marlinfw.org/docs/configuration/probes.html
 //
 
 /**

commit 9cc1d8e312438e6801f9860f52c76c0ea74c8a6d
Author: android444 <github@c64.com.pl>
Date:   Fri Oct 27 10:42:04 2017 +0200

    [2.0.x] Support for SilverGate Board

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index af8b9266c3..f34cd94746 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1555,6 +1555,11 @@
 //
 //#define AZSMZ_12864
 
+// Silvergate GLCD controller
+// http://github.com/android444/Silvergate
+//
+//#define SILVER_GATE_GLCD_CONTROLLER
+
 //=============================================================================
 //=============================== Extra Features ==============================
 //=============================================================================

commit 34be5d33c0d54ac0c81cdce16fbd0d593bc5d552
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Oct 30 14:21:43 2017 -0500

    The plural of 'axis' is 'axes'

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0a5a049818..af8b9266c3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1010,8 +1010,8 @@
 //#define Z_SAFE_HOMING
 
 #if ENABLED(Z_SAFE_HOMING)
-  #define Z_SAFE_HOMING_X_POINT ((X_BED_SIZE) / 2)    // X point for Z homing when homing all axis (G28).
-  #define Z_SAFE_HOMING_Y_POINT ((Y_BED_SIZE) / 2)    // Y point for Z homing when homing all axis (G28).
+  #define Z_SAFE_HOMING_X_POINT ((X_BED_SIZE) / 2)    // X point for Z homing when homing all axes (G28).
+  #define Z_SAFE_HOMING_Y_POINT ((Y_BED_SIZE) / 2)    // Y point for Z homing when homing all axes (G28).
 #endif
 
 // Homing speeds (mm/m)

commit 7fad26549be537c00cb3c455f19cb27e58d36cb8
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Oct 26 23:33:02 2017 -0500

    Concise SD_REPRINT_LAST_SELECTED_FILE description

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b8da5c0af..0a5a049818 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1618,7 +1618,7 @@
  *  as the Arduino cannot handle the current the LEDs will require.
  *  Failure to follow this precaution can destroy your Arduino!
  *  NOTE: A separate 5V power supply is required! The Neopixel LED needs
- *  more current than the Arduino 5V linear regulator can produce. 
+ *  more current than the Arduino 5V linear regulator can produce.
  * *** CAUTION ***
  *
  * LED Type. Enable only one of the following two options.

commit 46e9eae159045ae8354b3a22ffca8f270c04ae03
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Oct 25 17:39:29 2017 -0500

    Tweak to M100 config comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e02f120420..3b8da5c0af 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1049,7 +1049,7 @@
 //
 // M100 Free Memory Watcher
 //
-//#define M100_FREE_MEMORY_WATCHER // uncomment to add the M100 Free Memory Watcher for debug purpose
+//#define M100_FREE_MEMORY_WATCHER    // Add M100 (Free Memory Watcher) to debug memory usage
 
 //
 // G20/G21 Inch mode support

commit 7f55d82fd1f15487926b727dfbf87e323fad8555
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Oct 24 18:26:43 2017 -0500

    Move UBL_SAVE_ACTIVE_ON_M500 to Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 792a5115a7..e02f120420 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -950,6 +950,7 @@
 
   //#define UBL_G26_MESH_VALIDATION // Enable G26 mesh validation
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
+  #define UBL_SAVE_ACTIVE_ON_M500   // Save the currently active mesh in the current slot on M500
 
 #elif ENABLED(MESH_BED_LEVELING)
 

commit 580b6e9089cefa7cf85c33ef53af4d02a6b59f37
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Oct 19 01:39:39 2017 -0500

    Apply physical limits to mesh bounds

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 001bf84f10..792a5115a7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -937,7 +937,7 @@
   //========================= Unified Bed Leveling ============================
   //===========================================================================
 
-  #define UBL_MESH_INSET 1          // Mesh inset margin on print area
+  #define MESH_INSET 1              // Mesh inset margin on print area
   #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 

commit 5f8732453634c8201b16d3cbb44a94c57a0c45bb
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Oct 22 16:15:29 2017 -0500

    Fix some config verbiage

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8739e626a7..001bf84f10 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1610,17 +1610,17 @@
  * Adds the M150 command to set the LED (or LED strip) color.
  * If pins are PWM capable (e.g., 4, 5, 6, 11) then a range of
  * luminance values can be set from 0 to 255.
- * For Neopixel LED overall brightness parameters is also available
+ * For Neopixel LED an overall brightness parameter is also available.
  *
  * *** CAUTION ***
  *  LED Strips require a MOFSET Chip between PWM lines and LEDs,
  *  as the Arduino cannot handle the current the LEDs will require.
  *  Failure to follow this precaution can destroy your Arduino!
- *  Neopixel LED is 5V powered, but linear 5V regulator on Arduino
- *  cannot handle the current, separate 5V power supply must be used
+ *  NOTE: A separate 5V power supply is required! The Neopixel LED needs
+ *  more current than the Arduino 5V linear regulator can produce. 
  * *** CAUTION ***
  *
- * LED type. This options are mutualy exclusive. Uncomment only one.
+ * LED Type. Enable only one of the following two options.
  *
  */
 
@@ -1636,10 +1636,10 @@
 // Support for Adafruit Neopixel LED driver
 //#define NEOPIXEL_LED
 #if ENABLED(NEOPIXEL_LED)
-  #define NEOPIXEL_TYPE   NEO_GRB  // NEO_GRBW / NEO_GRB - four/three channel driver type (definned in Adafruit_NeoPixel.h)
+  #define NEOPIXEL_TYPE   NEO_GRB  // NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)
   #define NEOPIXEL_PIN    4        // LED driving pin on motherboard 4 => D4 (EXP2-5 on Printrboard) / 30 => PC7 (EXP3-13 on Rumba)
-  #define NEOPIXEL_PIXELS 30       // Number of LEDs on strip
-  #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Comment out for all LEDs to change at once.
+  #define NEOPIXEL_PIXELS 30       // Number of LEDs in the strip
+  #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.
   #define NEOPIXEL_BRIGHTNESS 255  // Initial brightness 0-255
   //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup
 #endif
@@ -1659,18 +1659,18 @@
   #define PRINTER_EVENT_LEDS
 #endif
 
-/*********************************************************************\
-* R/C SERVO support
-* Sponsored by TrinityLabs, Reworked by codexmas
-**********************************************************************/
+/**
+ * R/C SERVO support
+ * Sponsored by TrinityLabs, Reworked by codexmas
+ */
 
-// Number of servos
-//
-// If you select a configuration below, this will receive a default value and does not need to be set manually
-// set it manually if you have more servos than extruders and wish to manually control some
-// leaving it undefined or defining as 0 will disable the servo subsystem
-// If unsure, leave commented / disabled
-//
+/**
+ * Number of servos
+ *
+ * For some servo-related options NUM_SERVOS will be set automatically.
+ * Set this manually if there are extra servos needing manual control.
+ * Leave undefined or set to 0 to entirely disable the servo subsystem.
+ */
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
 // Delay (in milliseconds) before the next move will start, to give the servo time to reach its target angle.

commit 6296ab2173b50200b48a4f9c5d8d6319eb5af695
Author: cdedwards <cd.edwards@sasktel.net>
Date:   Tue Oct 24 13:14:03 2017 -0600

    Add GFX overlay to UBL mesh edit (#8038)
    
    * Add GFX overlay to UBL mesh edit
    
    Fixed misplaced HAS_TEMP_BED in dogm_bitmaps.h
    
    rename _lcd_babystep_zoffset_overlay to _lcd_zoffset_overlay_gfx and move it out of BABYSTEP_ZPROBE_OFFSET to we can use it for over things. Add this function into UBL mesh edit screen.
    
    update all Configuration.h to add ENABLE_MESH_EDIT_GFX_OVERLAY
    
    * Add Sanity to UBL  insanity
    
    Need to check for DOGLCD  otherwise error out.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7781008aca..8739e626a7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -854,7 +854,7 @@
  * - AUTO_BED_LEVELING_UBL (Unified Bed Leveling)
  *   A comprehensive bed leveling system combining the features and benefits
  *   of other systems. UBL also includes integrated Mesh Generation, Mesh
- *   Validation and Mesh Editing systems. 
+ *   Validation and Mesh Editing systems.
  *
  * - MESH_BED_LEVELING
  *   Probe a grid manually
@@ -875,6 +875,7 @@
  * NOTE: Requires a lot of PROGMEM!
  */
 //#define DEBUG_LEVELING_FEATURE
+//#define ENABLE_MESH_EDIT_GFX_OVERLAY  // enable a graphics overly while editing the mesh from auto-level
 
 #if ENABLED(MESH_BED_LEVELING) || ENABLED(AUTO_BED_LEVELING_BILINEAR) || ENABLED(AUTO_BED_LEVELING_UBL)
   // Gradually reduce leveling correction until a set height is reached,

commit 572cf0ec951f9a1703d50d2e10b62f323b76941f
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Wed Oct 18 14:00:29 2017 -0500

    UBL able to generate mesh and save and load it on 32-bit platforms (#8015)
    
    * Get UBL Mesh Generation, Mesh Save & Mesh Load working with 32-Bit platforms
    
    * clean up read_data() and write_data() for non-LPC1768 HAL's
    
    * Get read_data() and write_data() return codes consistent
    
    All HAL's read_data() and write_data() return false if they succeed.
    
    * Get read_data() and write_data() return codes to be consistent
    
    Make read_data() and write_data() return true if an error happens.
    
    * Say UBL is now checked out on machine types in default Configuration.h file.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 51d3cdcfb4..7781008aca 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -854,12 +854,7 @@
  * - AUTO_BED_LEVELING_UBL (Unified Bed Leveling)
  *   A comprehensive bed leveling system combining the features and benefits
  *   of other systems. UBL also includes integrated Mesh Generation, Mesh
- *   Validation and Mesh Editing systems. Currently, UBL is only checked out
- *   for Cartesian Printers. That said, it was primarily designed to correct
- *   poor quality Delta Printers. If you feel adventurous and have a Delta,
- *   please post an issue if something doesn't work correctly. Initially,
- *   you will need to set a reduced bed size so you have a rectangular area
- *   to test on.
+ *   Validation and Mesh Editing systems. 
  *
  * - MESH_BED_LEVELING
  *   Probe a grid manually

commit eeb4611606625a7330b2d2adbf0fc51ae70af2a9
Author: Jeffrey Li <Jeffreyli@jeffyl.com>
Date:   Mon Oct 16 00:33:07 2017 -0700

    Add proper support for the AZSMZ 12864 LCD on a SMART RAMPS

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b29e693a09..51d3cdcfb4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1552,6 +1552,12 @@
 //
 //#define MKS_12864OLED
 
+//
+// AZSMZ 12864 LCD with SD
+// https://www.aliexpress.com/store/product/3D-printer-smart-controller-SMART-RAMPS-OR-RAMPS-1-4-LCD-12864-LCD-control-panel-green/2179173_32213636460.html
+//
+//#define AZSMZ_12864
+
 //=============================================================================
 //=============================== Extra Features ==============================
 //=============================================================================

commit 014a83fe0999d8f1978fdf10e3daa762d053aacb
Merge: af2397d581 bc7df0188e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Oct 14 21:19:32 2017 -0500

    Merge pull request #7984 from thinkyhead/bf2_micromake_c1
    
    [2.0.x] Micromake C1 Configurations, Unaccented French

diff --combined Marlin/Configuration.h
index 74867fb4d8,42dc1ab349..b29e693a09
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -785,30 -785,10 +785,30 @@@
  #define Y_MAX_POS Y_BED_SIZE
  #define Z_MAX_POS 200
  
 -// If enabled, axes won't move below MIN_POS in response to movement commands.
 +/**
 + * Software Endstops
 + *
 + * - Prevent moves outside the set machine bounds.
 + * - Individual axes can be disabled, if desired.
 + * - X and Y only apply to Cartesian robots.
 + * - Use 'M211' to set software endstops on/off or report current state
 + */
 +
 +// Min software endstops constrain movement within minimum coordinate bounds
  #define MIN_SOFTWARE_ENDSTOPS
 -// If enabled, axes won't move above MAX_POS in response to movement commands.
 +#if ENABLED(MIN_SOFTWARE_ENDSTOPS)
 +  #define MIN_SOFTWARE_ENDSTOP_X
 +  #define MIN_SOFTWARE_ENDSTOP_Y
 +  #define MIN_SOFTWARE_ENDSTOP_Z
 +#endif
 +
 +// Max software endstops constrain movement within maximum coordinate bounds
  #define MAX_SOFTWARE_ENDSTOPS
 +#if ENABLED(MAX_SOFTWARE_ENDSTOPS)
 +  #define MAX_SOFTWARE_ENDSTOP_X
 +  #define MAX_SOFTWARE_ENDSTOP_Y
 +  #define MAX_SOFTWARE_ENDSTOP_Z
 +#endif
  
  /**
   * Filament Runout Sensor
@@@ -1197,11 -1177,11 +1197,11 @@@
   *
   * Select the language to display on the LCD. These languages are available:
   *
-  *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, gl, hr,
-  *    it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
+  *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, fr_utf8, gl,
+  *    hr, it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
   *    tr, uk, zh_CN, zh_TW, test
   *
-  * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
+  * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'fr_utf8':'French (UTF8)', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
   */
  #define LCD_LANGUAGE en
  

commit 34a261416fb5d3b894461f797089c9c07128259f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Oct 14 20:25:47 2017 -0500

    Add unaccented French language

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 608fbc1393..42dc1ab349 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1177,11 +1177,11 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, gl, hr,
- *    it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
+ *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, fr_utf8, gl,
+ *    hr, it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
  *    tr, uk, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'fr_utf8':'French (UTF8)', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit b206f70693c68494b15451518062e19f31a9e019
Author: Jeff Eberl <jeffeb3@gmail.com>
Date:   Sat Oct 14 06:18:09 2017 -0600

    Split the software endstop capability by axis.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 608fbc1393..74867fb4d8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -785,10 +785,30 @@
 #define Y_MAX_POS Y_BED_SIZE
 #define Z_MAX_POS 200
 
-// If enabled, axes won't move below MIN_POS in response to movement commands.
+/**
+ * Software Endstops
+ *
+ * - Prevent moves outside the set machine bounds.
+ * - Individual axes can be disabled, if desired.
+ * - X and Y only apply to Cartesian robots.
+ * - Use 'M211' to set software endstops on/off or report current state
+ */
+
+// Min software endstops constrain movement within minimum coordinate bounds
 #define MIN_SOFTWARE_ENDSTOPS
-// If enabled, axes won't move above MAX_POS in response to movement commands.
+#if ENABLED(MIN_SOFTWARE_ENDSTOPS)
+  #define MIN_SOFTWARE_ENDSTOP_X
+  #define MIN_SOFTWARE_ENDSTOP_Y
+  #define MIN_SOFTWARE_ENDSTOP_Z
+#endif
+
+// Max software endstops constrain movement within maximum coordinate bounds
 #define MAX_SOFTWARE_ENDSTOPS
+#if ENABLED(MAX_SOFTWARE_ENDSTOPS)
+  #define MAX_SOFTWARE_ENDSTOP_X
+  #define MAX_SOFTWARE_ENDSTOP_Y
+  #define MAX_SOFTWARE_ENDSTOP_Z
+#endif
 
 /**
  * Filament Runout Sensor

commit a11e6a1022b8f70be237fad82a9b6ba22b2db7b1
Author: Slawomir Ciunczyk <s.ciunczyk@moye.eu>
Date:   Thu Oct 5 13:45:36 2017 +0200

    Different NEOPIXEL types
    
    Same as #7728 but for 2.0.x,
    Lot of cleanup and remove references in whole code to other "LED files" than leds.h. Now will be much easier to add next drivers/libraries. e.g. FastLED. But bad news, currently FastLED is suporting only RGB devices (no RGBW)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 99b9a05a07..608fbc1393 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1588,14 +1588,20 @@
  * Adds the M150 command to set the LED (or LED strip) color.
  * If pins are PWM capable (e.g., 4, 5, 6, 11) then a range of
  * luminance values can be set from 0 to 255.
+ * For Neopixel LED overall brightness parameters is also available
  *
  * *** CAUTION ***
  *  LED Strips require a MOFSET Chip between PWM lines and LEDs,
  *  as the Arduino cannot handle the current the LEDs will require.
  *  Failure to follow this precaution can destroy your Arduino!
+ *  Neopixel LED is 5V powered, but linear 5V regulator on Arduino
+ *  cannot handle the current, separate 5V power supply must be used
  * *** CAUTION ***
  *
+ * LED type. This options are mutualy exclusive. Uncomment only one.
+ *
  */
+
 //#define RGB_LED
 //#define RGBW_LED
 #if ENABLED(RGB_LED) || ENABLED(RGBW_LED)
@@ -1606,11 +1612,14 @@
 #endif
 
 // Support for Adafruit Neopixel LED driver
-//#define NEOPIXEL_RGBW_LED
-#if ENABLED(NEOPIXEL_RGBW_LED)
-  #define NEOPIXEL_PIN    4       // D4 (EXP2-5 on Printrboard)
-  #define NEOPIXEL_PIXELS 3
-  //#define NEOPIXEL_STARTUP_TEST // Cycle through colors at startup
+//#define NEOPIXEL_LED
+#if ENABLED(NEOPIXEL_LED)
+  #define NEOPIXEL_TYPE   NEO_GRB  // NEO_GRBW / NEO_GRB - four/three channel driver type (definned in Adafruit_NeoPixel.h)
+  #define NEOPIXEL_PIN    4        // LED driving pin on motherboard 4 => D4 (EXP2-5 on Printrboard) / 30 => PC7 (EXP3-13 on Rumba)
+  #define NEOPIXEL_PIXELS 30       // Number of LEDs on strip
+  #define NEOPIXEL_IS_SEQUENTIAL   // Sequential display for temperature change - LED by LED. Comment out for all LEDs to change at once.
+  #define NEOPIXEL_BRIGHTNESS 255  // Initial brightness 0-255
+  //#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup
 #endif
 
 /**
@@ -1624,7 +1633,7 @@
  *  - Change to green once print has finished
  *  - Turn off after the print has finished and the user has pushed a button
  */
-#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632) || ENABLED(NEOPIXEL_RGBW_LED)
+#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632) || ENABLED(NEOPIXEL_LED)
   #define PRINTER_EVENT_LEDS
 #endif
 

commit e9bcb9d048c03fe8e6b0b79e938f419648073d50
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Oct 9 15:58:02 2017 -0500

    Add 4 new LCD displays

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9c566cb3c7..99b9a05a07 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -91,7 +91,6 @@
 // example configuration folder.
 //
 //#define SHOW_CUSTOM_BOOTSCREEN
-
 // @section machine
 
 /**
@@ -962,7 +961,7 @@
 #endif
 
 // Add a menu item to move between bed corners for manual bed adjustment
-#define LEVEL_BED_CORNERS
+//#define LEVEL_BED_CORNERS
 
 /**
  * Commands to execute at the end of G29 probing.
@@ -1236,9 +1235,8 @@
  * SD CARD: SPI SPEED
  *
  * Enable one of the following items for a slower SPI transfer speed.
- * This may be required to resolve "volume init" errors or LCD issues.
+ * This may be required to resolve "volume init" errors.
  */
-
 //#define SPI_SPEED SPI_HALF_SPEED
 //#define SPI_SPEED SPI_QUARTER_SPEED
 //#define SPI_SPEED SPI_EIGHTH_SPEED
@@ -1505,6 +1503,35 @@
 //
 //#define OLED_PANEL_TINYBOY2
 
+//
+// Makeboard 3D Printer Parts 3D Printer Mini Display 1602 Mini Controller
+// https://www.aliexpress.com/item/Micromake-Makeboard-3D-Printer-Parts-3D-Printer-Mini-Display-1602-Mini-Controller-Compatible-with-Ramps-1/32765887917.html
+//
+//#define MAKEBOARD_MINI_2_LINE_DISPLAY_1602
+
+//
+// MKS MINI12864 with graphic controller and SD support
+// http://reprap.org/wiki/MKS_MINI_12864
+//
+//#define MKS_MINI_12864
+
+//
+// Factory display for Creality CR-10
+// https://www.aliexpress.com/item/Universal-LCD-12864-3D-Printer-Display-Screen-With-Encoder-For-CR-10-CR-7-Model/32833148327.html
+//
+// This is RAMPS-compatible using a single 10-pin connector.
+// (For CR-10 owners who want to replace the Melzi Creality board but retain the display)
+//
+//#define CR10_STOCKDISPLAY
+
+//
+// MKS OLED 1.3" 128 √ó 64 FULL GRAPHICS CONTROLLER
+// http://reprap.org/wiki/MKS_12864OLED
+//
+// Tiny, but very sharp OLED display
+//
+//#define MKS_12864OLED
+
 //=============================================================================
 //=============================== Extra Features ==============================
 //=============================================================================

commit 9fe7f53216e85c1282004378ac70864d49757d43
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Oct 6 15:13:43 2017 -0500

    Misc general spacing cleanup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 25a2571549..9c566cb3c7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1238,7 +1238,7 @@
  * Enable one of the following items for a slower SPI transfer speed.
  * This may be required to resolve "volume init" errors or LCD issues.
  */
- 
+
 //#define SPI_SPEED SPI_HALF_SPEED
 //#define SPI_SPEED SPI_QUARTER_SPEED
 //#define SPI_SPEED SPI_EIGHTH_SPEED

commit 508d764d63c26376683eb1de7ef9c0f8f1d19abf
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Oct 2 02:47:30 2017 -0500

    Add serial XON/XOFF handshaking
    
    From @ejtagle, originally #7459

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c933b6887c..25a2571549 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -108,8 +108,9 @@
  *
  * 250000 works in most cases, but you might try a lower speed if
  * you commonly experience drop-outs during host printing.
+ * You may try up to 1000000 to speed up SD file transfer.
  *
- * :[2400, 9600, 19200, 38400, 57600, 115200, 250000]
+ * :[2400, 9600, 19200, 38400, 57600, 115200, 250000, 500000, 1000000]
  */
 #define BAUDRATE 250000
 

commit 90af1fe5eefd353c9fb9c40430f45031147fd675
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Oct 1 21:34:58 2017 -0500

    Implement NO_MOTION_BEFORE_HOMING option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5b830d6704..c933b6887c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -760,6 +760,8 @@
 
 // @section homing
 
+//#define NO_MOTION_BEFORE_HOMING  // Inhibit movement until all axes have been homed
+
 //#define Z_HOMING_HEIGHT 4  // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
                              // Be sure you have this distance over your Z_MAX_POS in case.
 

commit bea3ec2724e365693589d9e09616863f4974b218
Author: Christopher Pepper <p3p@p3psoft.co.uk>
Date:   Sun Jun 18 00:36:10 2017 +0100

    M355 S0, S1 fixes & faster LCD, SD card
    
    fix Travis error

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 12487af70b..5b830d6704 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1233,8 +1233,9 @@
  * SD CARD: SPI SPEED
  *
  * Enable one of the following items for a slower SPI transfer speed.
- * This may be required to resolve "volume init" errors.
+ * This may be required to resolve "volume init" errors or LCD issues.
  */
+ 
 //#define SPI_SPEED SPI_HALF_SPEED
 //#define SPI_SPEED SPI_QUARTER_SPEED
 //#define SPI_SPEED SPI_EIGHTH_SPEED

commit 7cd5eb6d42ca3c0ecd403489346422f3668dd4d2
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Sep 27 00:44:21 2017 -0500

    Update LEVEL_BED_CORNERS config option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5ae8266536..12487af70b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -956,9 +956,11 @@
 #if ENABLED(LCD_BED_LEVELING)
   #define MBL_Z_STEP 0.025    // Step size while manually probing Z axis.
   #define LCD_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
-  #define LEVEL_BED_CORNERS   // Add an option to move between corners
 #endif
 
+// Add a menu item to move between bed corners for manual bed adjustment
+#define LEVEL_BED_CORNERS
+
 /**
  * Commands to execute at the end of G29 probing.
  * Useful to retract or move the Z probe out of the way.

commit 4c5be9bb05435f246a390097d802b79f288c69d4
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Sep 27 00:22:19 2017 -0500

    Fix a PARKING_EXTRUDER comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9c517a15d7..5ae8266536 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -182,7 +182,7 @@
  */
 //#define PARKING_EXTRUDER
 #if ENABLED(PARKING_EXTRUDER)
-  #define PARKING_EXTRUDER_SOLENOIDS_INVERT           // If enabled, the solenoid not magnetized with applied voltage
+  #define PARKING_EXTRUDER_SOLENOIDS_INVERT           // If enabled, the solenoid is NOT magnetized with applied voltage
   #define PARKING_EXTRUDER_SOLENOIDS_PINS_ACTIVE LOW  // LOW or HIGH pin signal energizes the coil
   #define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        // Delay (ms) for magnetic field. No delay if 0 or not defined.
   #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders

commit 494b0eba2d8e74ed94a7fe94bd9273ee20db7c5b
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Sep 27 00:33:12 2017 -0500

    Config spacing fix

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 80225c362e..9c517a15d7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -91,6 +91,7 @@
 // example configuration folder.
 //
 //#define SHOW_CUSTOM_BOOTSCREEN
+
 // @section machine
 
 /**

commit f37ed314e0f31aafbec929594030ed1775121c4f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Sep 18 17:20:22 2017 -0500

    Friendly layout for Arduino IDE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
new file mode 100644
index 0000000000..80225c362e
--- /dev/null
+++ b/Marlin/Configuration.h
@@ -0,0 +1,1657 @@
+/**
+ * Marlin 3D Printer Firmware
+ * Copyright (C) 2016 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ *
+ * Based on Sprinter and grbl.
+ * Copyright (C) 2011 Camiel Gubbels / Erik van der Zalm
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ */
+
+/**
+ * Configuration.h
+ *
+ * Basic settings such as:
+ *
+ * - Type of electronics
+ * - Type of temperature sensor
+ * - Printer geometry
+ * - Endstop configuration
+ * - LCD controller
+ * - Extra features
+ *
+ * Advanced settings can be found in Configuration_adv.h
+ *
+ */
+#ifndef CONFIGURATION_H
+#define CONFIGURATION_H
+#define CONFIGURATION_H_VERSION 020000
+
+//===========================================================================
+//============================= Getting Started =============================
+//===========================================================================
+
+/**
+ * Here are some standard links for getting your machine calibrated:
+ *
+ * http://reprap.org/wiki/Calibration
+ * http://youtu.be/wAL9d7FgInk
+ * http://calculator.josefprusa.cz
+ * http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
+ * http://www.thingiverse.com/thing:5573
+ * https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
+ * http://www.thingiverse.com/thing:298812
+ */
+
+//===========================================================================
+//============================= DELTA Printer ===============================
+//===========================================================================
+// For a Delta printer start with one of the configuration files in the
+// config/examples/delta directory and customize for your machine.
+//
+
+//===========================================================================
+//============================= SCARA Printer ===============================
+//===========================================================================
+// For a SCARA printer start with the configuration files in
+// config/examples/SCARA and customize for your machine.
+//
+
+// @section info
+
+// User-specified version info of this build to display in [Pronterface, etc] terminal window during
+// startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
+// build by the user have been successfully uploaded into firmware.
+#define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
+#define SHOW_BOOTSCREEN
+#define STRING_SPLASH_LINE1 SHORT_BUILD_VERSION // will be shown during bootup in line 1
+#define STRING_SPLASH_LINE2 WEBSITE_URL         // will be shown during bootup in line 2
+
+//
+// *** VENDORS PLEASE READ *****************************************************
+//
+// Marlin now allow you to have a vendor boot image to be displayed on machine
+// start. When SHOW_CUSTOM_BOOTSCREEN is defined Marlin will first show your
+// custom boot image and then the default Marlin boot image is shown.
+//
+// We suggest for you to take advantage of this new feature and keep the Marlin
+// boot image unmodified. For an example have a look at the bq Hephestos 2
+// example configuration folder.
+//
+//#define SHOW_CUSTOM_BOOTSCREEN
+// @section machine
+
+/**
+ * Select which serial port on the board will be used for communication with the host.
+ * This allows the connection of wireless adapters (for instance) to non-default port pins.
+ * Serial port 0 is always used by the Arduino bootloader regardless of this setting.
+ *
+ * :[0, 1, 2, 3, 4, 5, 6, 7]
+ */
+#define SERIAL_PORT 0
+
+/**
+ * This setting determines the communication speed of the printer.
+ *
+ * 250000 works in most cases, but you might try a lower speed if
+ * you commonly experience drop-outs during host printing.
+ *
+ * :[2400, 9600, 19200, 38400, 57600, 115200, 250000]
+ */
+#define BAUDRATE 250000
+
+// Enable the Bluetooth serial interface on AT90USB devices
+//#define BLUETOOTH
+
+// The following define selects which electronics board you have.
+// Please choose the name from boards.h that matches your setup
+#ifndef MOTHERBOARD
+  #define MOTHERBOARD BOARD_RAMPS_14_EFB
+#endif
+
+// Optional custom name for your RepStrap or other custom machine
+// Displayed in the LCD "Ready" message
+//#define CUSTOM_MACHINE_NAME "3D Printer"
+
+// Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
+// You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)
+//#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
+
+// @section extruder
+
+// This defines the number of extruders
+// :[1, 2, 3, 4, 5]
+#define EXTRUDERS 1
+
+// For Cyclops or any "multi-extruder" that shares a single nozzle.
+//#define SINGLENOZZLE
+
+/**
+ * Pr≈Ø≈°a MK2 Single Nozzle Multi-Material Multiplexer, and variants.
+ *
+ * This device allows one stepper driver on a control board to drive
+ * two to eight stepper motors, one at a time, in a manner suitable
+ * for extruders.
+ *
+ * This option only allows the multiplexer to switch on tool-change.
+ * Additional options to configure custom E moves are pending.
+ */
+//#define MK2_MULTIPLEXER
+#if ENABLED(MK2_MULTIPLEXER)
+  // Override the default DIO selector pins here, if needed.
+  // Some pins files may provide defaults for these pins.
+  //#define E_MUX0_PIN 40  // Always Required
+  //#define E_MUX1_PIN 42  // Needed for 3 to 8 steppers
+  //#define E_MUX2_PIN 44  // Needed for 5 to 8 steppers
+#endif
+
+// A dual extruder that uses a single stepper motor
+//#define SWITCHING_EXTRUDER
+#if ENABLED(SWITCHING_EXTRUDER)
+  #define SWITCHING_EXTRUDER_SERVO_NR 0
+  #define SWITCHING_EXTRUDER_SERVO_ANGLES { 0, 90 } // Angles for E0, E1[, E2, E3]
+  #if EXTRUDERS > 3
+    #define SWITCHING_EXTRUDER_E23_SERVO_NR 1
+  #endif
+#endif
+
+// A dual-nozzle that uses a servomotor to raise/lower one of the nozzles
+//#define SWITCHING_NOZZLE
+#if ENABLED(SWITCHING_NOZZLE)
+  #define SWITCHING_NOZZLE_SERVO_NR 0
+  #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // Angles for E0, E1
+  //#define HOTEND_OFFSET_Z { 0.0, 0.0 }
+#endif
+
+/**
+ * Two separate X-carriages with extruders that connect to a moving part
+ * via a magnetic docking mechanism. Requires SOL1_PIN and SOL2_PIN.
+ */
+//#define PARKING_EXTRUDER
+#if ENABLED(PARKING_EXTRUDER)
+  #define PARKING_EXTRUDER_SOLENOIDS_INVERT           // If enabled, the solenoid not magnetized with applied voltage
+  #define PARKING_EXTRUDER_SOLENOIDS_PINS_ACTIVE LOW  // LOW or HIGH pin signal energizes the coil
+  #define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        // Delay (ms) for magnetic field. No delay if 0 or not defined.
+  #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
+  #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // mm to move beyond the parking point to grab the extruder
+  #define PARKING_EXTRUDER_SECURITY_RAISE 5           // Z-raise before parking
+  #define HOTEND_OFFSET_Z { 0.0, 1.3 }                // Z-offsets of the two hotends. The first must be 0.
+#endif
+
+/**
+ * "Mixing Extruder"
+ *   - Adds a new code, M165, to set the current mix factors.
+ *   - Extends the stepping routines to move multiple steppers in proportion to the mix.
+ *   - Optional support for Repetier Firmware M163, M164, and virtual extruder.
+ *   - This implementation supports only a single extruder.
+ *   - Enable DIRECT_MIXING_IN_G1 for Pia Taubert's reference implementation
+ */
+//#define MIXING_EXTRUDER
+#if ENABLED(MIXING_EXTRUDER)
+  #define MIXING_STEPPERS 2        // Number of steppers in your mixing extruder
+  #define MIXING_VIRTUAL_TOOLS 16  // Use the Virtual Tool method with M163 and M164
+  //#define DIRECT_MIXING_IN_G1    // Allow ABCDHI mix factors in G1 movement commands
+#endif
+
+// Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
+// The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
+// For the other hotends it is their distance from the extruder 0 hotend.
+//#define HOTEND_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+//#define HOTEND_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+
+// @section machine
+
+/**
+ * Select your power supply here. Use 0 if you haven't connected the PS_ON_PIN
+ *
+ * 0 = No Power Switch
+ * 1 = ATX
+ * 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
+ *
+ * :{ 0:'No power switch', 1:'ATX', 2:'X-Box 360' }
+ */
+#define POWER_SUPPLY 0
+
+#if POWER_SUPPLY > 0
+  // Enable this option to leave the PSU off at startup.
+  // Power to steppers and heaters will need to be turned on with M80.
+  //#define PS_DEFAULT_OFF
+#endif
+
+// @section temperature
+
+//===========================================================================
+//============================= Thermal Settings ============================
+//===========================================================================
+
+/**
+ * --NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
+ *
+ * Temperature sensors available:
+ *
+ *    -3 : thermocouple with MAX31855 (only for sensor 0)
+ *    -2 : thermocouple with MAX6675 (only for sensor 0)
+ *    -1 : thermocouple with AD595
+ *     0 : not used
+ *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
+ *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
+ *     3 : Mendel-parts thermistor (4.7k pullup)
+ *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
+ *     5 : 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
+ *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
+ *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
+ *    71 : 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
+ *     8 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
+ *     9 : 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
+ *    10 : 100k RS thermistor 198-961 (4.7k pullup)
+ *    11 : 100k beta 3950 1% thermistor (4.7k pullup)
+ *    12 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
+ *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
+ *    20 : the PT100 circuit found in the Ultimainboard V2.x
+ *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
+ *    66 : 4.7M High Temperature thermistor from Dyze Design
+ *    70 : the 100K thermistor found in the bq Hephestos 2
+ *    75 : 100k Generic Silicon Heat Pad with NTC 100K MGB18-104F39050L32 thermistor
+ *
+ *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
+ *                              (but gives greater accuracy and more stable PID)
+ *    51 : 100k thermistor - EPCOS (1k pullup)
+ *    52 : 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
+ *    55 : 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
+ *
+ *  1047 : Pt1000 with 4k7 pullup
+ *  1010 : Pt1000 with 1k pullup (non standard)
+ *   147 : Pt100 with 4k7 pullup
+ *   110 : Pt100 with 1k pullup (non standard)
+ *
+ *         Use these for Testing or Development purposes. NEVER for production machine.
+ *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
+ *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
+ *
+ * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
+ */
+#define TEMP_SENSOR_0 1
+#define TEMP_SENSOR_1 0
+#define TEMP_SENSOR_2 0
+#define TEMP_SENSOR_3 0
+#define TEMP_SENSOR_4 0
+#define TEMP_SENSOR_BED 0
+
+// Dummy thermistor constant temperature readings, for use with 998 and 999
+#define DUMMY_THERMISTOR_998_VALUE 25
+#define DUMMY_THERMISTOR_999_VALUE 100
+
+// Use temp sensor 1 as a redundant sensor with sensor 0. If the readings
+// from the two sensors differ too much the print will be aborted.
+//#define TEMP_SENSOR_1_AS_REDUNDANT
+#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
+
+// Extruder temperature must be close to target for this long before M109 returns success
+#define TEMP_RESIDENCY_TIME 10  // (seconds)
+#define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
+#define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
+
+// Bed temperature must be close to target for this long before M190 returns success
+#define TEMP_BED_RESIDENCY_TIME 10  // (seconds)
+#define TEMP_BED_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
+#define TEMP_BED_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
+
+// The minimal temperature defines the temperature below which the heater will not be enabled It is used
+// to check that the wiring to the thermistor is not broken.
+// Otherwise this would lead to the heater being powered on all the time.
+#define HEATER_0_MINTEMP 5
+#define HEATER_1_MINTEMP 5
+#define HEATER_2_MINTEMP 5
+#define HEATER_3_MINTEMP 5
+#define HEATER_4_MINTEMP 5
+#define BED_MINTEMP 5
+
+// When temperature exceeds max temp, your heater will be switched off.
+// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
+// You should use MINTEMP for thermistor short/failure protection.
+#define HEATER_0_MAXTEMP 275
+#define HEATER_1_MAXTEMP 275
+#define HEATER_2_MAXTEMP 275
+#define HEATER_3_MAXTEMP 275
+#define HEATER_4_MAXTEMP 275
+#define BED_MAXTEMP 150
+
+//===========================================================================
+//============================= PID Settings ================================
+//===========================================================================
+// PID Tuning Guide here: http://reprap.org/wiki/PID_Tuning
+
+// Comment the following line to disable PID and enable bang-bang.
+#define PIDTEMP
+#define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
+#define PID_MAX BANG_MAX // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
+#if ENABLED(PIDTEMP)
+  //#define PID_AUTOTUNE_MENU // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
+  //#define PID_DEBUG // Sends debug data to the serial port.
+  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
+  //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
+  //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
+                                  // Set/get with gcode: M301 E[extruder number, 0-2]
+  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
+                                  // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
+  #define K1 0.95 //smoothing factor within the PID
+
+  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
+
+  // Ultimaker
+  #define  DEFAULT_Kp 22.2
+  #define  DEFAULT_Ki 1.08
+  #define  DEFAULT_Kd 114
+
+  // MakerGear
+  //#define  DEFAULT_Kp 7.0
+  //#define  DEFAULT_Ki 0.1
+  //#define  DEFAULT_Kd 12
+
+  // Mendel Parts V9 on 12V
+  //#define  DEFAULT_Kp 63.0
+  //#define  DEFAULT_Ki 2.25
+  //#define  DEFAULT_Kd 440
+
+#endif // PIDTEMP
+
+//===========================================================================
+//============================= PID > Bed Temperature Control ===============
+//===========================================================================
+// Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
+//
+// Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
+// If your PID_dT is the default, and correct for your hardware/configuration, that means 7.689Hz,
+// which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
+// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
+// If your configuration is significantly different than this and you don't understand the issues involved, you probably
+// shouldn't use bed PID until someone else verifies your hardware works.
+// If this is enabled, find your own PID constants below.
+//#define PIDTEMPBED
+
+//#define BED_LIMIT_SWITCHING
+
+// This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
+// all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
+// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+// so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
+#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
+
+#if ENABLED(PIDTEMPBED)
+
+  //#define PID_BED_DEBUG // Sends debug data to the serial port.
+
+  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
+  #define  DEFAULT_bedKp 10.00
+  #define  DEFAULT_bedKi .023
+  #define  DEFAULT_bedKd 305.4
+
+  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  //from pidautotune
+  //#define  DEFAULT_bedKp 97.1
+  //#define  DEFAULT_bedKi 1.41
+  //#define  DEFAULT_bedKd 1675.16
+
+  // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
+#endif // PIDTEMPBED
+
+// @section extruder
+
+// This option prevents extrusion if the temperature is below EXTRUDE_MINTEMP.
+// It also enables the M302 command to set the minimum extrusion temperature
+// or to allow moving the extruder regardless of the hotend temperature.
+// *** IT IS HIGHLY RECOMMENDED TO LEAVE THIS OPTION ENABLED! ***
+#define PREVENT_COLD_EXTRUSION
+#define EXTRUDE_MINTEMP 170
+
+// This option prevents a single extrusion longer than EXTRUDE_MAXLENGTH.
+// Note that for Bowden Extruders a too-small value here may prevent loading.
+#define PREVENT_LENGTHY_EXTRUDE
+#define EXTRUDE_MAXLENGTH 200
+
+//===========================================================================
+//======================== Thermal Runaway Protection =======================
+//===========================================================================
+
+/**
+ * Thermal Protection protects your printer from damage and fire if a
+ * thermistor falls out or temperature sensors fail in any way.
+ *
+ * The issue: If a thermistor falls out or a temperature sensor fails,
+ * Marlin can no longer sense the actual temperature. Since a disconnected
+ * thermistor reads as a low temperature, the firmware will keep the heater on.
+ *
+ * If you get "Thermal Runaway" or "Heating failed" errors the
+ * details can be tuned in Configuration_adv.h
+ */
+
+#define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
+#define THERMAL_PROTECTION_BED     // Enable thermal protection for the heated bed
+
+//===========================================================================
+//============================= Mechanical Settings =========================
+//===========================================================================
+
+// @section machine
+
+// Uncomment one of these options to enable CoreXY, CoreXZ, or CoreYZ kinematics
+// either in the usual order or reversed
+//#define COREXY
+//#define COREXZ
+//#define COREYZ
+//#define COREYX
+//#define COREZX
+//#define COREZY
+
+//===========================================================================
+//============================== Endstop Settings ===========================
+//===========================================================================
+
+// @section homing
+
+// Specify here all the endstop connectors that are connected to any endstop or probe.
+// Almost all printers will be using one per axis. Probes will use one or more of the
+// extra connectors. Leave undefined any used for non-endstop and non-probe purposes.
+#define USE_XMIN_PLUG
+#define USE_YMIN_PLUG
+#define USE_ZMIN_PLUG
+//#define USE_XMAX_PLUG
+//#define USE_YMAX_PLUG
+//#define USE_ZMAX_PLUG
+
+// coarse Endstop Settings
+#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+
+#if DISABLED(ENDSTOPPULLUPS)
+  // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
+  //#define ENDSTOPPULLUP_XMAX
+  //#define ENDSTOPPULLUP_YMAX
+  //#define ENDSTOPPULLUP_ZMAX
+  //#define ENDSTOPPULLUP_XMIN
+  //#define ENDSTOPPULLUP_YMIN
+  //#define ENDSTOPPULLUP_ZMIN
+  //#define ENDSTOPPULLUP_ZMIN_PROBE
+#endif
+
+// Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
+#define X_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Y_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Z_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define X_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Y_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the probe.
+
+// Enable this feature if all enabled endstop pins are interrupt-capable.
+// This will remove the need to poll the interrupt pins, saving many CPU cycles.
+//#define ENDSTOP_INTERRUPTS_FEATURE
+
+//=============================================================================
+//============================== Movement Settings ============================
+//=============================================================================
+// @section motion
+
+/**
+ * Default Settings
+ *
+ * These settings can be reset by M502
+ *
+ * Note that if EEPROM is enabled, saved values will override these.
+ */
+
+/**
+ * With this option each E stepper can have its own factors for the
+ * following movement settings. If fewer factors are given than the
+ * total number of extruders, the last value applies to the rest.
+ */
+//#define DISTINCT_E_FACTORS
+
+/**
+ * Default Axis Steps Per Unit (steps/mm)
+ * Override with M92
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
+ */
+#define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
+
+/**
+ * Default Max Feed Rate (mm/s)
+ * Override with M203
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
+ */
+#define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
+
+/**
+ * Default Max Acceleration (change/s) change = mm/s
+ * (Maximum start speed for accelerated moves)
+ * Override with M201
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
+ */
+#define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
+
+/**
+ * Default Acceleration (change/s) change = mm/s
+ * Override with M204
+ *
+ *   M204 P    Acceleration
+ *   M204 R    Retract Acceleration
+ *   M204 T    Travel Acceleration
+ */
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration for printing moves
+#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration for retracts
+#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
+
+/**
+ * Default Jerk (mm/s)
+ * Override with M205 X Y Z E
+ *
+ * "Jerk" specifies the minimum speed change that requires acceleration.
+ * When changing speed and direction, if the difference is less than the
+ * value set here, it may happen instantaneously.
+ */
+#define DEFAULT_XJERK                 20.0
+#define DEFAULT_YJERK                 20.0
+#define DEFAULT_ZJERK                  0.4
+#define DEFAULT_EJERK                  5.0
+
+//===========================================================================
+//============================= Z Probe Options =============================
+//===========================================================================
+// @section probes
+
+//
+// See http://marlinfw.org/configuration/probes.html
+//
+
+/**
+ * Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
+ *
+ * Enable this option for a probe connected to the Z Min endstop pin.
+ */
+#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
+
+/**
+ * Z_MIN_PROBE_ENDSTOP
+ *
+ * Enable this option for a probe connected to any pin except Z-Min.
+ * (By default Marlin assumes the Z-Max endstop pin.)
+ * To use a custom Z Probe pin, set Z_MIN_PROBE_PIN below.
+ *
+ *  - The simplest option is to use a free endstop connector.
+ *  - Use 5V for powered (usually inductive) sensors.
+ *
+ *  - RAMPS 1.3/1.4 boards may use the 5V, GND, and Aux4->D32 pin:
+ *    - For simple switches connect...
+ *      - normally-closed switches to GND and D32.
+ *      - normally-open switches to 5V and D32.
+ *
+ * WARNING: Setting the wrong pin may have unexpected and potentially
+ * disastrous consequences. Use with caution and do your homework.
+ *
+ */
+//#define Z_MIN_PROBE_ENDSTOP
+
+/**
+ * Probe Type
+ *
+ * Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
+ * Activate one of these to use Auto Bed Leveling below.
+ */
+
+/**
+ * The "Manual Probe" provides a means to do "Auto" Bed Leveling without a probe.
+ * Use G29 repeatedly, adjusting the Z height at each point with movement commands
+ * or (with LCD_BED_LEVELING) the LCD controller.
+ */
+//#define PROBE_MANUALLY
+
+/**
+ * A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
+ *   (e.g., an inductive probe or a nozzle-based probe-switch.)
+ */
+//#define FIX_MOUNTED_PROBE
+
+/**
+ * Z Servo Probe, such as an endstop switch on a rotating arm.
+ */
+//#define Z_ENDSTOP_SERVO_NR 0   // Defaults to SERVO 0 connector.
+//#define Z_SERVO_ANGLES {70,0}  // Z Servo Deploy and Stow angles
+
+/**
+ * The BLTouch probe uses a Hall effect sensor and emulates a servo.
+ */
+//#define BLTOUCH
+#if ENABLED(BLTOUCH)
+  //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
+#endif
+
+/**
+ * Enable one or more of the following if probing seems unreliable.
+ * Heaters and/or fans can be disabled during probing to minimize electrical
+ * noise. A delay can also be added to allow noise and vibration to settle.
+ * These options are most useful for the BLTouch probe, but may also improve
+ * readings with inductive probes and piezo sensors.
+ */
+//#define PROBING_HEATERS_OFF       // Turn heaters off when probing
+//#define PROBING_FANS_OFF          // Turn fans off when probing
+//#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
+
+// A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
+//#define SOLENOID_PROBE
+
+// A sled-mounted probe like those designed by Charles Bell.
+//#define Z_PROBE_SLED
+//#define SLED_DOCKING_OFFSET 5  // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
+
+//
+// For Z_PROBE_ALLEN_KEY see the Delta example configurations.
+//
+
+/**
+ *   Z Probe to nozzle (X,Y) offset, relative to (0, 0).
+ *   X and Y offsets must be integers.
+ *
+ *   In the following example the X and Y offsets are both positive:
+ *   #define X_PROBE_OFFSET_FROM_EXTRUDER 10
+ *   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
+ *
+ *      +-- BACK ---+
+ *      |           |
+ *    L |    (+) P  | R <-- probe (20,20)
+ *    E |           | I
+ *    F | (-) N (+) | G <-- nozzle (10,10)
+ *    T |           | H
+ *      |    (-)    | T
+ *      |           |
+ *      O-- FRONT --+
+ *    (0,0)
+ */
+#define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
+#define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
+#define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
+
+// X and Y axis travel speed (mm/m) between probes
+#define XY_PROBE_SPEED 8000
+
+// Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH)
+#define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
+
+// Speed for the "accurate" probe of each point
+#define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
+
+// Use double touch for probing
+//#define PROBE_DOUBLE_TOUCH
+
+/**
+ * Z probes require clearance when deploying, stowing, and moving between
+ * probe points to avoid hitting the bed and other hardware.
+ * Servo-mounted probes require extra space for the arm to rotate.
+ * Inductive probes need space to keep from triggering early.
+ *
+ * Use these settings to specify the distance (mm) to raise the probe (or
+ * lower the bed). The values set here apply over and above any (negative)
+ * probe Z Offset set with Z_PROBE_OFFSET_FROM_EXTRUDER, M851, or the LCD.
+ * Only integer values >= 1 are valid here.
+ *
+ * Example: `M851 Z-5` with a CLEARANCE of 4  =>  9mm from bed to nozzle.
+ *     But: `M851 Z+1` with a CLEARANCE of 2  =>  2mm from bed to nozzle.
+ */
+#define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
+#define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
+
+// For M851 give a range for adjusting the Z probe offset
+#define Z_PROBE_OFFSET_RANGE_MIN -20
+#define Z_PROBE_OFFSET_RANGE_MAX 20
+
+// Enable the M48 repeatability test to test probe accuracy
+//#define Z_MIN_PROBE_REPEATABILITY_TEST
+
+// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
+// :{ 0:'Low', 1:'High' }
+#define X_ENABLE_ON 0
+#define Y_ENABLE_ON 0
+#define Z_ENABLE_ON 0
+#define E_ENABLE_ON 0 // For all extruders
+
+// Disables axis stepper immediately when it's not being used.
+// WARNING: When motors turn off there is a chance of losing position accuracy!
+#define DISABLE_X false
+#define DISABLE_Y false
+#define DISABLE_Z false
+// Warn on display about possibly reduced accuracy
+//#define DISABLE_REDUCED_ACCURACY_WARNING
+
+// @section extruder
+
+#define DISABLE_E false // For all extruders
+#define DISABLE_INACTIVE_EXTRUDER true // Keep only the active extruder enabled.
+
+// @section machine
+
+// Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
+#define INVERT_X_DIR false
+#define INVERT_Y_DIR true
+#define INVERT_Z_DIR false
+
+// Enable this option for Toshiba stepper drivers
+//#define CONFIG_STEPPERS_TOSHIBA
+
+// @section extruder
+
+// For direct drive extruder v9 set to true, for geared extruder set to false.
+#define INVERT_E0_DIR false
+#define INVERT_E1_DIR false
+#define INVERT_E2_DIR false
+#define INVERT_E3_DIR false
+#define INVERT_E4_DIR false
+
+// @section homing
+
+//#define Z_HOMING_HEIGHT 4  // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
+                             // Be sure you have this distance over your Z_MAX_POS in case.
+
+// Direction of endstops when homing; 1=MAX, -1=MIN
+// :[-1,1]
+#define X_HOME_DIR -1
+#define Y_HOME_DIR -1
+#define Z_HOME_DIR -1
+
+// @section machine
+
+// The size of the print bed
+#define X_BED_SIZE 200
+#define Y_BED_SIZE 200
+
+// Travel limits (mm) after homing, corresponding to endstop positions.
+#define X_MIN_POS 0
+#define Y_MIN_POS 0
+#define Z_MIN_POS 0
+#define X_MAX_POS X_BED_SIZE
+#define Y_MAX_POS Y_BED_SIZE
+#define Z_MAX_POS 200
+
+// If enabled, axes won't move below MIN_POS in response to movement commands.
+#define MIN_SOFTWARE_ENDSTOPS
+// If enabled, axes won't move above MAX_POS in response to movement commands.
+#define MAX_SOFTWARE_ENDSTOPS
+
+/**
+ * Filament Runout Sensor
+ * A mechanical or opto endstop is used to check for the presence of filament.
+ *
+ * RAMPS-based boards use SERVO3_PIN.
+ * For other boards you may need to define FIL_RUNOUT_PIN.
+ * By default the firmware assumes HIGH = has filament, LOW = ran out
+ */
+//#define FILAMENT_RUNOUT_SENSOR
+#if ENABLED(FILAMENT_RUNOUT_SENSOR)
+  #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
+  #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+  #define FILAMENT_RUNOUT_SCRIPT "M600"
+#endif
+
+//===========================================================================
+//=============================== Bed Leveling ==============================
+//===========================================================================
+// @section bedlevel
+
+/**
+ * Choose one of the options below to enable G29 Bed Leveling. The parameters
+ * and behavior of G29 will change depending on your selection.
+ *
+ *  If using a Probe for Z Homing, enable Z_SAFE_HOMING also!
+ *
+ * - AUTO_BED_LEVELING_3POINT
+ *   Probe 3 arbitrary points on the bed (that aren't collinear)
+ *   You specify the XY coordinates of all 3 points.
+ *   The result is a single tilted plane. Best for a flat bed.
+ *
+ * - AUTO_BED_LEVELING_LINEAR
+ *   Probe several points in a grid.
+ *   You specify the rectangle and the density of sample points.
+ *   The result is a single tilted plane. Best for a flat bed.
+ *
+ * - AUTO_BED_LEVELING_BILINEAR
+ *   Probe several points in a grid.
+ *   You specify the rectangle and the density of sample points.
+ *   The result is a mesh, best for large or uneven beds.
+ *
+ * - AUTO_BED_LEVELING_UBL (Unified Bed Leveling)
+ *   A comprehensive bed leveling system combining the features and benefits
+ *   of other systems. UBL also includes integrated Mesh Generation, Mesh
+ *   Validation and Mesh Editing systems. Currently, UBL is only checked out
+ *   for Cartesian Printers. That said, it was primarily designed to correct
+ *   poor quality Delta Printers. If you feel adventurous and have a Delta,
+ *   please post an issue if something doesn't work correctly. Initially,
+ *   you will need to set a reduced bed size so you have a rectangular area
+ *   to test on.
+ *
+ * - MESH_BED_LEVELING
+ *   Probe a grid manually
+ *   The result is a mesh, suitable for large or uneven beds. (See BILINEAR.)
+ *   For machines without a probe, Mesh Bed Leveling provides a method to perform
+ *   leveling in steps so you can manually adjust the Z height at each grid-point.
+ *   With an LCD controller the process is guided step-by-step.
+ */
+//#define AUTO_BED_LEVELING_3POINT
+//#define AUTO_BED_LEVELING_LINEAR
+//#define AUTO_BED_LEVELING_BILINEAR
+//#define AUTO_BED_LEVELING_UBL
+//#define MESH_BED_LEVELING
+
+/**
+ * Enable detailed logging of G28, G29, M48, etc.
+ * Turn on with the command 'M111 S32'.
+ * NOTE: Requires a lot of PROGMEM!
+ */
+//#define DEBUG_LEVELING_FEATURE
+
+#if ENABLED(MESH_BED_LEVELING) || ENABLED(AUTO_BED_LEVELING_BILINEAR) || ENABLED(AUTO_BED_LEVELING_UBL)
+  // Gradually reduce leveling correction until a set height is reached,
+  // at which point movement will be level to the machine's XY plane.
+  // The height can be set with M420 Z<height>
+  #define ENABLE_LEVELING_FADE_HEIGHT
+#endif
+
+#if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
+
+  // Set the number of grid points per dimension.
+  #define GRID_MAX_POINTS_X 3
+  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
+
+  // Set the boundaries for probing (where the probe can reach).
+  #define LEFT_PROBE_BED_POSITION 15
+  #define RIGHT_PROBE_BED_POSITION 170
+  #define FRONT_PROBE_BED_POSITION 20
+  #define BACK_PROBE_BED_POSITION 170
+
+  // The Z probe minimum outer margin (to validate G29 parameters).
+  #define MIN_PROBE_EDGE 10
+
+  // Probe along the Y axis, advancing X after each column
+  //#define PROBE_Y_FIRST
+
+  #if ENABLED(AUTO_BED_LEVELING_BILINEAR)
+
+    // Beyond the probed grid, continue the implied tilt?
+    // Default is to maintain the height of the nearest edge.
+    //#define EXTRAPOLATE_BEYOND_GRID
+
+    //
+    // Experimental Subdivision of the grid by Catmull-Rom method.
+    // Synthesizes intermediate points to produce a more detailed mesh.
+    //
+    //#define ABL_BILINEAR_SUBDIVISION
+    #if ENABLED(ABL_BILINEAR_SUBDIVISION)
+      // Number of subdivisions between probe points
+      #define BILINEAR_SUBDIVISIONS 3
+    #endif
+
+  #endif
+
+#elif ENABLED(AUTO_BED_LEVELING_3POINT)
+
+  // 3 arbitrary points to probe.
+  // A simple cross-product is used to estimate the plane of the bed.
+  #define ABL_PROBE_PT_1_X 15
+  #define ABL_PROBE_PT_1_Y 180
+  #define ABL_PROBE_PT_2_X 15
+  #define ABL_PROBE_PT_2_Y 20
+  #define ABL_PROBE_PT_3_X 170
+  #define ABL_PROBE_PT_3_Y 20
+
+#elif ENABLED(AUTO_BED_LEVELING_UBL)
+
+  //===========================================================================
+  //========================= Unified Bed Leveling ============================
+  //===========================================================================
+
+  #define UBL_MESH_INSET 1          // Mesh inset margin on print area
+  #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
+  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
+
+  #define UBL_PROBE_PT_1_X 39       // Probing points for 3-Point leveling of the mesh
+  #define UBL_PROBE_PT_1_Y 180
+  #define UBL_PROBE_PT_2_X 39
+  #define UBL_PROBE_PT_2_Y 20
+  #define UBL_PROBE_PT_3_X 180
+  #define UBL_PROBE_PT_3_Y 20
+
+  //#define UBL_G26_MESH_VALIDATION // Enable G26 mesh validation
+  #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
+
+#elif ENABLED(MESH_BED_LEVELING)
+
+  //===========================================================================
+  //=================================== Mesh ==================================
+  //===========================================================================
+
+  #define MESH_INSET 10          // Mesh inset margin on print area
+  #define GRID_MAX_POINTS_X 3    // Don't use more than 7 points per axis, implementation limited.
+  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
+
+  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest Z at Z_MIN_POS
+
+#endif // BED_LEVELING
+
+/**
+ * Use the LCD controller for bed leveling
+ * Requires MESH_BED_LEVELING or PROBE_MANUALLY
+ */
+//#define LCD_BED_LEVELING
+
+#if ENABLED(LCD_BED_LEVELING)
+  #define MBL_Z_STEP 0.025    // Step size while manually probing Z axis.
+  #define LCD_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
+  #define LEVEL_BED_CORNERS   // Add an option to move between corners
+#endif
+
+/**
+ * Commands to execute at the end of G29 probing.
+ * Useful to retract or move the Z probe out of the way.
+ */
+//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
+
+
+// @section homing
+
+// The center of the bed is at (X=0, Y=0)
+//#define BED_CENTER_AT_0_0
+
+// Manually set the home position. Leave these undefined for automatic settings.
+// For DELTA this is the top-center of the Cartesian print volume.
+//#define MANUAL_X_HOME_POS 0
+//#define MANUAL_Y_HOME_POS 0
+//#define MANUAL_Z_HOME_POS 0
+
+// Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
+//
+// With this feature enabled:
+//
+// - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
+// - If stepper drivers time out, it will need X and Y homing again before Z homing.
+// - Move the Z probe (or nozzle) to a defined XY point before Z Homing when homing all axes (G28).
+// - Prevent Z homing when the Z probe is outside bed area.
+//
+//#define Z_SAFE_HOMING
+
+#if ENABLED(Z_SAFE_HOMING)
+  #define Z_SAFE_HOMING_X_POINT ((X_BED_SIZE) / 2)    // X point for Z homing when homing all axis (G28).
+  #define Z_SAFE_HOMING_Y_POINT ((Y_BED_SIZE) / 2)    // Y point for Z homing when homing all axis (G28).
+#endif
+
+// Homing speeds (mm/m)
+#define HOMING_FEEDRATE_XY (50*60)
+#define HOMING_FEEDRATE_Z  (4*60)
+
+//=============================================================================
+//============================= Additional Features ===========================
+//=============================================================================
+
+// @section extras
+
+//
+// EEPROM
+//
+// The microcontroller can store settings in the EEPROM, e.g. max velocity...
+// M500 - stores parameters in EEPROM
+// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
+// M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
+//
+//#define EEPROM_SETTINGS // Enable for M500 and M501 commands
+//#define DISABLE_M503    // Saves ~2700 bytes of PROGMEM. Disable for release!
+#define EEPROM_CHITCHAT   // Give feedback on EEPROM commands. Disable to save PROGMEM.
+
+//
+// Host Keepalive
+//
+// When enabled Marlin will send a busy status message to the host
+// every couple of seconds when it can't accept commands.
+//
+#define HOST_KEEPALIVE_FEATURE        // Disable this if your host doesn't like keepalive messages
+#define DEFAULT_KEEPALIVE_INTERVAL 2  // Number of seconds between "busy" messages. Set with M113.
+#define BUSY_WHILE_HEATING            // Some hosts require "busy" messages even during heating
+
+//
+// M100 Free Memory Watcher
+//
+//#define M100_FREE_MEMORY_WATCHER // uncomment to add the M100 Free Memory Watcher for debug purpose
+
+//
+// G20/G21 Inch mode support
+//
+//#define INCH_MODE_SUPPORT
+
+//
+// M149 Set temperature units support
+//
+//#define TEMPERATURE_UNITS_SUPPORT
+
+// @section temperature
+
+// Preheat Constants
+#define PREHEAT_1_TEMP_HOTEND 180
+#define PREHEAT_1_TEMP_BED     70
+#define PREHEAT_1_FAN_SPEED     0 // Value from 0 to 255
+
+#define PREHEAT_2_TEMP_HOTEND 240
+#define PREHEAT_2_TEMP_BED    110
+#define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
+
+/**
+ * Nozzle Park -- EXPERIMENTAL
+ *
+ * Park the nozzle at the given XYZ position on idle or G27.
+ *
+ * The "P" parameter controls the action applied to the Z axis:
+ *
+ *    P0  (Default) If Z is below park Z raise the nozzle.
+ *    P1  Raise the nozzle always to Z-park height.
+ *    P2  Raise the nozzle by Z-park amount, limited to Z_MAX_POS.
+ */
+//#define NOZZLE_PARK_FEATURE
+
+#if ENABLED(NOZZLE_PARK_FEATURE)
+  // Specify a park position as { X, Y, Z }
+  #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
+#endif
+
+/**
+ * Clean Nozzle Feature -- EXPERIMENTAL
+ *
+ * Adds the G12 command to perform a nozzle cleaning process.
+ *
+ * Parameters:
+ *   P  Pattern
+ *   S  Strokes / Repetitions
+ *   T  Triangles (P1 only)
+ *
+ * Patterns:
+ *   P0  Straight line (default). This process requires a sponge type material
+ *       at a fixed bed location. "S" specifies strokes (i.e. back-forth motions)
+ *       between the start / end points.
+ *
+ *   P1  Zig-zag pattern between (X0, Y0) and (X1, Y1), "T" specifies the
+ *       number of zig-zag triangles to do. "S" defines the number of strokes.
+ *       Zig-zags are done in whichever is the narrower dimension.
+ *       For example, "G12 P1 S1 T3" will execute:
+ *
+ *          --
+ *         |  (X0, Y1) |     /\        /\        /\     | (X1, Y1)
+ *         |           |    /  \      /  \      /  \    |
+ *       A |           |   /    \    /    \    /    \   |
+ *         |           |  /      \  /      \  /      \  |
+ *         |  (X0, Y0) | /        \/        \/        \ | (X1, Y0)
+ *          --         +--------------------------------+
+ *                       |________|_________|_________|
+ *                           T1        T2        T3
+ *
+ *   P2  Circular pattern with middle at NOZZLE_CLEAN_CIRCLE_MIDDLE.
+ *       "R" specifies the radius. "S" specifies the stroke count.
+ *       Before starting, the nozzle moves to NOZZLE_CLEAN_START_POINT.
+ *
+ *   Caveats: The ending Z should be the same as starting Z.
+ * Attention: EXPERIMENTAL. G-code arguments may change.
+ *
+ */
+//#define NOZZLE_CLEAN_FEATURE
+
+#if ENABLED(NOZZLE_CLEAN_FEATURE)
+  // Default number of pattern repetitions
+  #define NOZZLE_CLEAN_STROKES  12
+
+  // Default number of triangles
+  #define NOZZLE_CLEAN_TRIANGLES  3
+
+  // Specify positions as { X, Y, Z }
+  #define NOZZLE_CLEAN_START_POINT { 30, 30, (Z_MIN_POS + 1)}
+  #define NOZZLE_CLEAN_END_POINT   {100, 60, (Z_MIN_POS + 1)}
+
+  // Circular pattern radius
+  #define NOZZLE_CLEAN_CIRCLE_RADIUS 6.5
+  // Circular pattern circle fragments number
+  #define NOZZLE_CLEAN_CIRCLE_FN 10
+  // Middle point of circle
+  #define NOZZLE_CLEAN_CIRCLE_MIDDLE NOZZLE_CLEAN_START_POINT
+
+  // Moves the nozzle to the initial position
+  #define NOZZLE_CLEAN_GOBACK
+#endif
+
+/**
+ * Print Job Timer
+ *
+ * Automatically start and stop the print job timer on M104/M109/M190.
+ *
+ *   M104 (hotend, no wait) - high temp = none,        low temp = stop timer
+ *   M109 (hotend, wait)    - high temp = start timer, low temp = stop timer
+ *   M190 (bed, wait)       - high temp = start timer, low temp = none
+ *
+ * The timer can also be controlled with the following commands:
+ *
+ *   M75 - Start the print job timer
+ *   M76 - Pause the print job timer
+ *   M77 - Stop the print job timer
+ */
+#define PRINTJOB_TIMER_AUTOSTART
+
+/**
+ * Print Counter
+ *
+ * Track statistical data such as:
+ *
+ *  - Total print jobs
+ *  - Total successful print jobs
+ *  - Total failed print jobs
+ *  - Total time printing
+ *
+ * View the current statistics with M78.
+ */
+//#define PRINTCOUNTER
+
+//=============================================================================
+//============================= LCD and SD support ============================
+//=============================================================================
+
+// @section lcd
+
+/**
+ * LCD LANGUAGE
+ *
+ * Select the language to display on the LCD. These languages are available:
+ *
+ *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, gl, hr,
+ *    it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
+ *    tr, uk, zh_CN, zh_TW, test
+ *
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
+ */
+#define LCD_LANGUAGE en
+
+/**
+ * LCD Character Set
+ *
+ * Note: This option is NOT applicable to Graphical Displays.
+ *
+ * All character-based LCDs provide ASCII plus one of these
+ * language extensions:
+ *
+ *  - JAPANESE ... the most common
+ *  - WESTERN  ... with more accented characters
+ *  - CYRILLIC ... for the Russian language
+ *
+ * To determine the language extension installed on your controller:
+ *
+ *  - Compile and upload with LCD_LANGUAGE set to 'test'
+ *  - Click the controller to view the LCD menu
+ *  - The LCD will display Japanese, Western, or Cyrillic text
+ *
+ * See http://marlinfw.org/docs/development/lcd_language.html
+ *
+ * :['JAPANESE', 'WESTERN', 'CYRILLIC']
+ */
+#define DISPLAY_CHARSET_HD44780 JAPANESE
+
+/**
+ * LCD TYPE
+ *
+ * Enable ULTRA_LCD for a 16x2, 16x4, 20x2, or 20x4 character-based LCD.
+ * Enable DOGLCD for a 128x64 (ST7565R) Full Graphical Display.
+ * (These options will be enabled automatically for most displays.)
+ *
+ * IMPORTANT: The U8glib library is required for Full Graphic Display!
+ *            https://github.com/olikraus/U8glib_Arduino
+ */
+//#define ULTRA_LCD   // Character based
+//#define DOGLCD      // Full graphics display
+
+/**
+ * SD CARD
+ *
+ * SD Card support is disabled by default. If your controller has an SD slot,
+ * you must uncomment the following option or it won't work.
+ *
+ */
+//#define SDSUPPORT
+
+/**
+ * SD CARD: SPI SPEED
+ *
+ * Enable one of the following items for a slower SPI transfer speed.
+ * This may be required to resolve "volume init" errors.
+ */
+//#define SPI_SPEED SPI_HALF_SPEED
+//#define SPI_SPEED SPI_QUARTER_SPEED
+//#define SPI_SPEED SPI_EIGHTH_SPEED
+
+/**
+ * SD CARD: ENABLE CRC
+ *
+ * Use CRC checks and retries on the SD communication.
+ */
+//#define SD_CHECK_AND_RETRY
+
+//
+// ENCODER SETTINGS
+//
+// This option overrides the default number of encoder pulses needed to
+// produce one step. Should be increased for high-resolution encoders.
+//
+//#define ENCODER_PULSES_PER_STEP 1
+
+//
+// Use this option to override the number of step signals required to
+// move between next/prev menu items.
+//
+//#define ENCODER_STEPS_PER_MENU_ITEM 5
+
+/**
+ * Encoder Direction Options
+ *
+ * Test your encoder's behavior first with both options disabled.
+ *
+ *  Reversed Value Edit and Menu Nav? Enable REVERSE_ENCODER_DIRECTION.
+ *  Reversed Menu Navigation only?    Enable REVERSE_MENU_DIRECTION.
+ *  Reversed Value Editing only?      Enable BOTH options.
+ */
+
+//
+// This option reverses the encoder direction everywhere.
+//
+//  Set this option if CLOCKWISE causes values to DECREASE
+//
+//#define REVERSE_ENCODER_DIRECTION
+
+//
+// This option reverses the encoder direction for navigating LCD menus.
+//
+//  If CLOCKWISE normally moves DOWN this makes it go UP.
+//  If CLOCKWISE normally moves UP this makes it go DOWN.
+//
+//#define REVERSE_MENU_DIRECTION
+
+//
+// Individual Axis Homing
+//
+// Add individual axis homing items (Home X, Home Y, and Home Z) to the LCD menu.
+//
+//#define INDIVIDUAL_AXIS_HOMING_MENU
+
+//
+// SPEAKER/BUZZER
+//
+// If you have a speaker that can produce tones, enable it here.
+// By default Marlin assumes you have a buzzer with a fixed frequency.
+//
+//#define SPEAKER
+
+//
+// The duration and frequency for the UI feedback sound.
+// Set these to 0 to disable audio feedback in the LCD menus.
+//
+// Note: Test audio output with the G-Code:
+//  M300 S<frequency Hz> P<duration ms>
+//
+//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
+//#define LCD_FEEDBACK_FREQUENCY_HZ 1000
+
+//
+// CONTROLLER TYPE: Standard
+//
+// Marlin supports a wide variety of controllers.
+// Enable one of the following options to specify your controller.
+//
+
+//
+// ULTIMAKER Controller.
+//
+//#define ULTIMAKERCONTROLLER
+
+//
+// ULTIPANEL as seen on Thingiverse.
+//
+//#define ULTIPANEL
+
+//
+// PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
+// http://reprap.org/wiki/PanelOne
+//
+//#define PANEL_ONE
+
+//
+// MaKr3d Makr-Panel with graphic controller and SD support.
+// http://reprap.org/wiki/MaKr3d_MaKrPanel
+//
+//#define MAKRPANEL
+
+//
+// ReprapWorld Graphical LCD
+// https://reprapworld.com/?products_details&products_id/1218
+//
+//#define REPRAPWORLD_GRAPHICAL_LCD
+
+//
+// Activate one of these if you have a Panucatt Devices
+// Viki 2.0 or mini Viki with Graphic LCD
+// http://panucatt.com
+//
+//#define VIKI2
+//#define miniVIKI
+
+//
+// Adafruit ST7565 Full Graphic Controller.
+// https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
+//
+//#define ELB_FULL_GRAPHIC_CONTROLLER
+
+//
+// RepRapDiscount Smart Controller.
+// http://reprap.org/wiki/RepRapDiscount_Smart_Controller
+//
+// Note: Usually sold with a white PCB.
+//
+//#define REPRAP_DISCOUNT_SMART_CONTROLLER
+
+//
+// GADGETS3D G3D LCD/SD Controller
+// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+//
+// Note: Usually sold with a blue PCB.
+//
+//#define G3D_PANEL
+
+//
+// RepRapDiscount FULL GRAPHIC Smart Controller
+// http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
+//
+//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+
+//
+// MakerLab Mini Panel with graphic
+// controller and SD support - http://reprap.org/wiki/Mini_panel
+//
+//#define MINIPANEL
+
+//
+// RepRapWorld REPRAPWORLD_KEYPAD v1.1
+// http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+//
+// REPRAPWORLD_KEYPAD_MOVE_STEP sets how much should the robot move when a key
+// is pressed, a value of 10.0 means 10mm per click.
+//
+//#define REPRAPWORLD_KEYPAD
+//#define REPRAPWORLD_KEYPAD_MOVE_STEP 1.0
+
+//
+// RigidBot Panel V1.0
+// http://www.inventapart.com/
+//
+//#define RIGIDBOT_PANEL
+
+//
+// BQ LCD Smart Controller shipped by
+// default with the BQ Hephestos 2 and Witbox 2.
+//
+//#define BQ_LCD_SMART_CONTROLLER
+
+//
+// Cartesio UI
+// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
+//
+//#define CARTESIO_UI
+
+//
+// ANET_10 Controller supported displays.
+//
+//#define ANET_KEYPAD_LCD         // Requires ADC_KEYPAD_PIN to be assigned to an analog pin.
+                                  // This LCD is known to be susceptible to electrical interference
+                                  // which scrambles the display.  Pressing any button clears it up.
+//#define ANET_FULL_GRAPHICS_LCD  // Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
+                                  // A clone of the RepRapDiscount full graphics display but with
+                                  // different pins/wiring (see pins_ANET_10.h).
+
+//
+// LCD for Melzi Card with Graphical LCD
+//
+//#define LCD_FOR_MELZI
+
+//
+// CONTROLLER TYPE: I2C
+//
+// Note: These controllers require the installation of Arduino's LiquidCrystal_I2C
+// library. For more info: https://github.com/kiyoshigawa/LiquidCrystal_I2C
+//
+
+//
+// Elefu RA Board Control Panel
+// http://www.elefu.com/index.php?route=product/product&product_id=53
+//
+//#define RA_CONTROL_PANEL
+
+//
+// Sainsmart YW Robot (LCM1602) LCD Display
+//
+// Note: This controller requires F.Malpartida's LiquidCrystal_I2C library
+// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home
+//
+//#define LCD_I2C_SAINSMART_YWROBOT
+
+//
+// Generic LCM1602 LCD adapter
+//
+//#define LCM1602
+
+//
+// PANELOLU2 LCD with status LEDs,
+// separate encoder and click inputs.
+//
+// Note: This controller requires Arduino's LiquidTWI2 library v1.2.3 or later.
+// For more info: https://github.com/lincomatic/LiquidTWI2
+//
+// Note: The PANELOLU2 encoder click input can either be directly connected to
+// a pin (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
+//
+//#define LCD_I2C_PANELOLU2
+
+//
+// Panucatt VIKI LCD with status LEDs,
+// integrated click & L/R/U/D buttons, separate encoder inputs.
+//
+//#define LCD_I2C_VIKI
+
+//
+// SSD1306 OLED full graphics generic display
+//
+//#define U8GLIB_SSD1306
+
+//
+// SAV OLEd LCD module support using either SSD1306 or SH1106 based LCD modules
+//
+//#define SAV_3DGLCD
+#if ENABLED(SAV_3DGLCD)
+  //#define U8GLIB_SSD1306
+  #define U8GLIB_SH1106
+#endif
+
+//
+// CONTROLLER TYPE: Shift register panels
+//
+// 2 wire Non-latching LCD SR from https://goo.gl/aJJ4sH
+// LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
+//
+//#define SAV_3DLCD
+
+//
+// TinyBoy2 128x64 OLED / Encoder Panel
+//
+//#define OLED_PANEL_TINYBOY2
+
+//=============================================================================
+//=============================== Extra Features ==============================
+//=============================================================================
+
+// @section extras
+
+// Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino
+//#define FAST_PWM_FAN
+
+// Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
+// which is not as annoying as with the hardware PWM. On the other hand, if this frequency
+// is too low, you should also increment SOFT_PWM_SCALE.
+//#define FAN_SOFT_PWM
+
+// Incrementing this by 1 will double the software PWM frequency,
+// affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
+// However, control resolution will be halved for each increment;
+// at zero value, there are 128 effective control positions.
+#define SOFT_PWM_SCALE 0
+
+// If SOFT_PWM_SCALE is set to a value higher than 0, dithering can
+// be used to mitigate the associated resolution loss. If enabled,
+// some of the PWM cycles are stretched so on average the desired
+// duty cycle is attained.
+//#define SOFT_PWM_DITHER
+
+// Temperature status LEDs that display the hotend and bed temperature.
+// If all hotends, bed temperature, and target temperature are under 54C
+// then the BLUE led is on. Otherwise the RED led is on. (1C hysteresis)
+//#define TEMP_STAT_LEDS
+
+// M240  Triggers a camera by emulating a Canon RC-1 Remote
+// Data from: http://www.doc-diy.net/photo/rc-1_hacked/
+//#define PHOTOGRAPH_PIN     23
+
+// SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
+//#define SF_ARC_FIX
+
+// Support for the BariCUDA Paste Extruder
+//#define BARICUDA
+
+// Support for BlinkM/CyzRgb
+//#define BLINKM
+
+// Support for PCA9632 PWM LED driver
+//#define PCA9632
+
+/**
+ * RGB LED / LED Strip Control
+ *
+ * Enable support for an RGB LED connected to 5V digital pins, or
+ * an RGB Strip connected to MOSFETs controlled by digital pins.
+ *
+ * Adds the M150 command to set the LED (or LED strip) color.
+ * If pins are PWM capable (e.g., 4, 5, 6, 11) then a range of
+ * luminance values can be set from 0 to 255.
+ *
+ * *** CAUTION ***
+ *  LED Strips require a MOFSET Chip between PWM lines and LEDs,
+ *  as the Arduino cannot handle the current the LEDs will require.
+ *  Failure to follow this precaution can destroy your Arduino!
+ * *** CAUTION ***
+ *
+ */
+//#define RGB_LED
+//#define RGBW_LED
+#if ENABLED(RGB_LED) || ENABLED(RGBW_LED)
+  #define RGB_LED_R_PIN 34
+  #define RGB_LED_G_PIN 43
+  #define RGB_LED_B_PIN 35
+  #define RGB_LED_W_PIN -1
+#endif
+
+// Support for Adafruit Neopixel LED driver
+//#define NEOPIXEL_RGBW_LED
+#if ENABLED(NEOPIXEL_RGBW_LED)
+  #define NEOPIXEL_PIN    4       // D4 (EXP2-5 on Printrboard)
+  #define NEOPIXEL_PIXELS 3
+  //#define NEOPIXEL_STARTUP_TEST // Cycle through colors at startup
+#endif
+
+/**
+ * Printer Event LEDs
+ *
+ * During printing, the LEDs will reflect the printer status:
+ *
+ *  - Gradually change from blue to violet as the heated bed gets to target temp
+ *  - Gradually change from violet to red as the hotend gets to temperature
+ *  - Change to white to illuminate work surface
+ *  - Change to green once print has finished
+ *  - Turn off after the print has finished and the user has pushed a button
+ */
+#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632) || ENABLED(NEOPIXEL_RGBW_LED)
+  #define PRINTER_EVENT_LEDS
+#endif
+
+/*********************************************************************\
+* R/C SERVO support
+* Sponsored by TrinityLabs, Reworked by codexmas
+**********************************************************************/
+
+// Number of servos
+//
+// If you select a configuration below, this will receive a default value and does not need to be set manually
+// set it manually if you have more servos than extruders and wish to manually control some
+// leaving it undefined or defining as 0 will disable the servo subsystem
+// If unsure, leave commented / disabled
+//
+//#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
+
+// Delay (in milliseconds) before the next move will start, to give the servo time to reach its target angle.
+// 300ms is a good value but you can try less delay.
+// If the servo can't reach the requested position, increase it.
+#define SERVO_DELAY { 300 }
+
+// Servo deactivation
+//
+// With this option servos are powered only during movement, then turned off to prevent jitter.
+//#define DEACTIVATE_SERVOS_AFTER_MOVE
+
+/**
+ * Filament Width Sensor
+ *
+ * Measures the filament width in real-time and adjusts
+ * flow rate to compensate for any irregularities.
+ *
+ * Also allows the measured filament diameter to set the
+ * extrusion rate, so the slicer only has to specify the
+ * volume.
+ *
+ * Only a single extruder is supported at this time.
+ *
+ *  34 RAMPS_14    : Analog input 5 on the AUX2 connector
+ *  81 PRINTRBOARD : Analog input 2 on the Exp1 connector (version B,C,D,E)
+ * 301 RAMBO       : Analog input 3
+ *
+ * Note: May require analog pins to be defined for other boards.
+ */
+//#define FILAMENT_WIDTH_SENSOR
+
+#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00   // (mm) Diameter of the filament generally used (3.0 or 1.75mm), also used in the slicer. Used to validate sensor reading.
+
+#if ENABLED(FILAMENT_WIDTH_SENSOR)
+  #define FILAMENT_SENSOR_EXTRUDER_NUM 0    // Index of the extruder that has the filament sensor (0,1,2,3)
+  #define MEASUREMENT_DELAY_CM        14    // (cm) The distance from the filament sensor to the melting chamber
+
+  #define MEASURED_UPPER_LIMIT         3.30 // (mm) Upper limit used to validate sensor reading
+  #define MEASURED_LOWER_LIMIT         1.90 // (mm) Lower limit used to validate sensor reading
+  #define MAX_MEASUREMENT_DELAY       20    // (bytes) Buffer size for stored measurements (1 byte per cm). Must be larger than MEASUREMENT_DELAY_CM.
+
+  #define DEFAULT_MEASURED_FILAMENT_DIA DEFAULT_NOMINAL_FILAMENT_DIA // Set measured to nominal initially
+
+  // Display filament width on the LCD status line. Status messages will expire after 5 seconds.
+  //#define FILAMENT_LCD_DISPLAY
+#endif
+
+#endif // CONFIGURATION_H

commit f536c4dccb1445a7f07f7b7a88158e30e130d283
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Sep 6 06:28:30 2017 -0500

    Move configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
deleted file mode 100644
index 5f8fc6f1ba..0000000000
--- a/Marlin/Configuration.h
+++ /dev/null
@@ -1,1657 +0,0 @@
-/**
- * Marlin 3D Printer Firmware
- * Copyright (C) 2016 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
- *
- * Based on Sprinter and grbl.
- * Copyright (C) 2011 Camiel Gubbels / Erik van der Zalm
- *
- * This program is free software: you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
- *
- */
-
-/**
- * Configuration.h
- *
- * Basic settings such as:
- *
- * - Type of electronics
- * - Type of temperature sensor
- * - Printer geometry
- * - Endstop configuration
- * - LCD controller
- * - Extra features
- *
- * Advanced settings can be found in Configuration_adv.h
- *
- */
-#ifndef CONFIGURATION_H
-#define CONFIGURATION_H
-#define CONFIGURATION_H_VERSION 020000
-
-//===========================================================================
-//============================= Getting Started =============================
-//===========================================================================
-
-/**
- * Here are some standard links for getting your machine calibrated:
- *
- * http://reprap.org/wiki/Calibration
- * http://youtu.be/wAL9d7FgInk
- * http://calculator.josefprusa.cz
- * http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
- * http://www.thingiverse.com/thing:5573
- * https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
- * http://www.thingiverse.com/thing:298812
- */
-
-//===========================================================================
-//============================= DELTA Printer ===============================
-//===========================================================================
-// For a Delta printer start with one of the configuration files in the
-// example_configurations/delta directory and customize for your machine.
-//
-
-//===========================================================================
-//============================= SCARA Printer ===============================
-//===========================================================================
-// For a SCARA printer start with the configuration files in
-// example_configurations/SCARA and customize for your machine.
-//
-
-// @section info
-
-// User-specified version info of this build to display in [Pronterface, etc] terminal window during
-// startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
-// build by the user have been successfully uploaded into firmware.
-#define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
-#define SHOW_BOOTSCREEN
-#define STRING_SPLASH_LINE1 SHORT_BUILD_VERSION // will be shown during bootup in line 1
-#define STRING_SPLASH_LINE2 WEBSITE_URL         // will be shown during bootup in line 2
-
-//
-// *** VENDORS PLEASE READ *****************************************************
-//
-// Marlin now allow you to have a vendor boot image to be displayed on machine
-// start. When SHOW_CUSTOM_BOOTSCREEN is defined Marlin will first show your
-// custom boot image and then the default Marlin boot image is shown.
-//
-// We suggest for you to take advantage of this new feature and keep the Marlin
-// boot image unmodified. For an example have a look at the bq Hephestos 2
-// example configuration folder.
-//
-//#define SHOW_CUSTOM_BOOTSCREEN
-// @section machine
-
-/**
- * Select which serial port on the board will be used for communication with the host.
- * This allows the connection of wireless adapters (for instance) to non-default port pins.
- * Serial port 0 is always used by the Arduino bootloader regardless of this setting.
- *
- * :[0, 1, 2, 3, 4, 5, 6, 7]
- */
-#define SERIAL_PORT 0
-
-/**
- * This setting determines the communication speed of the printer.
- *
- * 250000 works in most cases, but you might try a lower speed if
- * you commonly experience drop-outs during host printing.
- *
- * :[2400, 9600, 19200, 38400, 57600, 115200, 250000]
- */
-#define BAUDRATE 250000
-
-// Enable the Bluetooth serial interface on AT90USB devices
-//#define BLUETOOTH
-
-// The following define selects which electronics board you have.
-// Please choose the name from boards.h that matches your setup
-#ifndef MOTHERBOARD
-  #define MOTHERBOARD BOARD_RAMPS_14_EFB
-#endif
-
-// Optional custom name for your RepStrap or other custom machine
-// Displayed in the LCD "Ready" message
-//#define CUSTOM_MACHINE_NAME "3D Printer"
-
-// Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
-// You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)
-//#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
-
-// @section extruder
-
-// This defines the number of extruders
-// :[1, 2, 3, 4, 5]
-#define EXTRUDERS 1
-
-// For Cyclops or any "multi-extruder" that shares a single nozzle.
-//#define SINGLENOZZLE
-
-/**
- * Pr≈Ø≈°a MK2 Single Nozzle Multi-Material Multiplexer, and variants.
- *
- * This device allows one stepper driver on a control board to drive
- * two to eight stepper motors, one at a time, in a manner suitable
- * for extruders.
- *
- * This option only allows the multiplexer to switch on tool-change.
- * Additional options to configure custom E moves are pending.
- */
-//#define MK2_MULTIPLEXER
-#if ENABLED(MK2_MULTIPLEXER)
-  // Override the default DIO selector pins here, if needed.
-  // Some pins files may provide defaults for these pins.
-  //#define E_MUX0_PIN 40  // Always Required
-  //#define E_MUX1_PIN 42  // Needed for 3 to 8 steppers
-  //#define E_MUX2_PIN 44  // Needed for 5 to 8 steppers
-#endif
-
-// A dual extruder that uses a single stepper motor
-//#define SWITCHING_EXTRUDER
-#if ENABLED(SWITCHING_EXTRUDER)
-  #define SWITCHING_EXTRUDER_SERVO_NR 0
-  #define SWITCHING_EXTRUDER_SERVO_ANGLES { 0, 90 } // Angles for E0, E1[, E2, E3]
-  #if EXTRUDERS > 3
-    #define SWITCHING_EXTRUDER_E23_SERVO_NR 1
-  #endif
-#endif
-
-// A dual-nozzle that uses a servomotor to raise/lower one of the nozzles
-//#define SWITCHING_NOZZLE
-#if ENABLED(SWITCHING_NOZZLE)
-  #define SWITCHING_NOZZLE_SERVO_NR 0
-  #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // Angles for E0, E1
-  //#define HOTEND_OFFSET_Z { 0.0, 0.0 }
-#endif
-
-/**
- * Two separate X-carriages with extruders that connect to a moving part
- * via a magnetic docking mechanism. Requires SOL1_PIN and SOL2_PIN.
- */
-//#define PARKING_EXTRUDER
-#if ENABLED(PARKING_EXTRUDER)
-  #define PARKING_EXTRUDER_SOLENOIDS_INVERT           // If enabled, the solenoid not magnetized with applied voltage
-  #define PARKING_EXTRUDER_SOLENOIDS_PINS_ACTIVE LOW  // LOW or HIGH pin signal energizes the coil
-  #define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        // Delay (ms) for magnetic field. No delay if 0 or not defined.
-  #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
-  #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // mm to move beyond the parking point to grab the extruder
-  #define PARKING_EXTRUDER_SECURITY_RAISE 5           // Z-raise before parking
-  #define HOTEND_OFFSET_Z { 0.0, 1.3 }                // Z-offsets of the two hotends. The first must be 0.
-#endif
-
-/**
- * "Mixing Extruder"
- *   - Adds a new code, M165, to set the current mix factors.
- *   - Extends the stepping routines to move multiple steppers in proportion to the mix.
- *   - Optional support for Repetier Firmware M163, M164, and virtual extruder.
- *   - This implementation supports only a single extruder.
- *   - Enable DIRECT_MIXING_IN_G1 for Pia Taubert's reference implementation
- */
-//#define MIXING_EXTRUDER
-#if ENABLED(MIXING_EXTRUDER)
-  #define MIXING_STEPPERS 2        // Number of steppers in your mixing extruder
-  #define MIXING_VIRTUAL_TOOLS 16  // Use the Virtual Tool method with M163 and M164
-  //#define DIRECT_MIXING_IN_G1    // Allow ABCDHI mix factors in G1 movement commands
-#endif
-
-// Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
-// The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
-// For the other hotends it is their distance from the extruder 0 hotend.
-//#define HOTEND_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
-//#define HOTEND_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
-
-// @section machine
-
-/**
- * Select your power supply here. Use 0 if you haven't connected the PS_ON_PIN
- *
- * 0 = No Power Switch
- * 1 = ATX
- * 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
- *
- * :{ 0:'No power switch', 1:'ATX', 2:'X-Box 360' }
- */
-#define POWER_SUPPLY 0
-
-#if POWER_SUPPLY > 0
-  // Enable this option to leave the PSU off at startup.
-  // Power to steppers and heaters will need to be turned on with M80.
-  //#define PS_DEFAULT_OFF
-#endif
-
-// @section temperature
-
-//===========================================================================
-//============================= Thermal Settings ============================
-//===========================================================================
-
-/**
- * --NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
- *
- * Temperature sensors available:
- *
- *    -3 : thermocouple with MAX31855 (only for sensor 0)
- *    -2 : thermocouple with MAX6675 (only for sensor 0)
- *    -1 : thermocouple with AD595
- *     0 : not used
- *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
- *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
- *     3 : Mendel-parts thermistor (4.7k pullup)
- *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
- *     5 : 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
- *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
- *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
- *    71 : 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
- *     8 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
- *     9 : 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
- *    10 : 100k RS thermistor 198-961 (4.7k pullup)
- *    11 : 100k beta 3950 1% thermistor (4.7k pullup)
- *    12 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
- *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
- *    20 : the PT100 circuit found in the Ultimainboard V2.x
- *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
- *    66 : 4.7M High Temperature thermistor from Dyze Design
- *    70 : the 100K thermistor found in the bq Hephestos 2
- *    75 : 100k Generic Silicon Heat Pad with NTC 100K MGB18-104F39050L32 thermistor
- *
- *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
- *                              (but gives greater accuracy and more stable PID)
- *    51 : 100k thermistor - EPCOS (1k pullup)
- *    52 : 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
- *    55 : 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
- *
- *  1047 : Pt1000 with 4k7 pullup
- *  1010 : Pt1000 with 1k pullup (non standard)
- *   147 : Pt100 with 4k7 pullup
- *   110 : Pt100 with 1k pullup (non standard)
- *
- *         Use these for Testing or Development purposes. NEVER for production machine.
- *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
- *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
- *
- * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
- */
-#define TEMP_SENSOR_0 1
-#define TEMP_SENSOR_1 0
-#define TEMP_SENSOR_2 0
-#define TEMP_SENSOR_3 0
-#define TEMP_SENSOR_4 0
-#define TEMP_SENSOR_BED 0
-
-// Dummy thermistor constant temperature readings, for use with 998 and 999
-#define DUMMY_THERMISTOR_998_VALUE 25
-#define DUMMY_THERMISTOR_999_VALUE 100
-
-// Use temp sensor 1 as a redundant sensor with sensor 0. If the readings
-// from the two sensors differ too much the print will be aborted.
-//#define TEMP_SENSOR_1_AS_REDUNDANT
-#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
-
-// Extruder temperature must be close to target for this long before M109 returns success
-#define TEMP_RESIDENCY_TIME 10  // (seconds)
-#define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
-#define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
-
-// Bed temperature must be close to target for this long before M190 returns success
-#define TEMP_BED_RESIDENCY_TIME 10  // (seconds)
-#define TEMP_BED_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
-#define TEMP_BED_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
-
-// The minimal temperature defines the temperature below which the heater will not be enabled It is used
-// to check that the wiring to the thermistor is not broken.
-// Otherwise this would lead to the heater being powered on all the time.
-#define HEATER_0_MINTEMP 5
-#define HEATER_1_MINTEMP 5
-#define HEATER_2_MINTEMP 5
-#define HEATER_3_MINTEMP 5
-#define HEATER_4_MINTEMP 5
-#define BED_MINTEMP 5
-
-// When temperature exceeds max temp, your heater will be switched off.
-// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
-// You should use MINTEMP for thermistor short/failure protection.
-#define HEATER_0_MAXTEMP 275
-#define HEATER_1_MAXTEMP 275
-#define HEATER_2_MAXTEMP 275
-#define HEATER_3_MAXTEMP 275
-#define HEATER_4_MAXTEMP 275
-#define BED_MAXTEMP 150
-
-//===========================================================================
-//============================= PID Settings ================================
-//===========================================================================
-// PID Tuning Guide here: http://reprap.org/wiki/PID_Tuning
-
-// Comment the following line to disable PID and enable bang-bang.
-#define PIDTEMP
-#define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
-#define PID_MAX BANG_MAX // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
-#if ENABLED(PIDTEMP)
-  //#define PID_AUTOTUNE_MENU // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
-  //#define PID_DEBUG // Sends debug data to the serial port.
-  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
-  //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
-  //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
-                                  // Set/get with gcode: M301 E[extruder number, 0-2]
-  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
-                                  // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
-  #define K1 0.95 //smoothing factor within the PID
-
-  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
-
-  // Ultimaker
-  #define  DEFAULT_Kp 22.2
-  #define  DEFAULT_Ki 1.08
-  #define  DEFAULT_Kd 114
-
-  // MakerGear
-  //#define  DEFAULT_Kp 7.0
-  //#define  DEFAULT_Ki 0.1
-  //#define  DEFAULT_Kd 12
-
-  // Mendel Parts V9 on 12V
-  //#define  DEFAULT_Kp 63.0
-  //#define  DEFAULT_Ki 2.25
-  //#define  DEFAULT_Kd 440
-
-#endif // PIDTEMP
-
-//===========================================================================
-//============================= PID > Bed Temperature Control ===============
-//===========================================================================
-// Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
-//
-// Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
-// If your PID_dT is the default, and correct for your hardware/configuration, that means 7.689Hz,
-// which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
-// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
-// If your configuration is significantly different than this and you don't understand the issues involved, you probably
-// shouldn't use bed PID until someone else verifies your hardware works.
-// If this is enabled, find your own PID constants below.
-//#define PIDTEMPBED
-
-//#define BED_LIMIT_SWITCHING
-
-// This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
-// all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
-// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
-// so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
-#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
-
-#if ENABLED(PIDTEMPBED)
-
-  //#define PID_BED_DEBUG // Sends debug data to the serial port.
-
-  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
-  #define  DEFAULT_bedKp 10.00
-  #define  DEFAULT_bedKi .023
-  #define  DEFAULT_bedKd 305.4
-
-  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-  //from pidautotune
-  //#define  DEFAULT_bedKp 97.1
-  //#define  DEFAULT_bedKi 1.41
-  //#define  DEFAULT_bedKd 1675.16
-
-  // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
-#endif // PIDTEMPBED
-
-// @section extruder
-
-// This option prevents extrusion if the temperature is below EXTRUDE_MINTEMP.
-// It also enables the M302 command to set the minimum extrusion temperature
-// or to allow moving the extruder regardless of the hotend temperature.
-// *** IT IS HIGHLY RECOMMENDED TO LEAVE THIS OPTION ENABLED! ***
-#define PREVENT_COLD_EXTRUSION
-#define EXTRUDE_MINTEMP 170
-
-// This option prevents a single extrusion longer than EXTRUDE_MAXLENGTH.
-// Note that for Bowden Extruders a too-small value here may prevent loading.
-#define PREVENT_LENGTHY_EXTRUDE
-#define EXTRUDE_MAXLENGTH 200
-
-//===========================================================================
-//======================== Thermal Runaway Protection =======================
-//===========================================================================
-
-/**
- * Thermal Protection protects your printer from damage and fire if a
- * thermistor falls out or temperature sensors fail in any way.
- *
- * The issue: If a thermistor falls out or a temperature sensor fails,
- * Marlin can no longer sense the actual temperature. Since a disconnected
- * thermistor reads as a low temperature, the firmware will keep the heater on.
- *
- * If you get "Thermal Runaway" or "Heating failed" errors the
- * details can be tuned in Configuration_adv.h
- */
-
-#define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
-#define THERMAL_PROTECTION_BED     // Enable thermal protection for the heated bed
-
-//===========================================================================
-//============================= Mechanical Settings =========================
-//===========================================================================
-
-// @section machine
-
-// Uncomment one of these options to enable CoreXY, CoreXZ, or CoreYZ kinematics
-// either in the usual order or reversed
-//#define COREXY
-//#define COREXZ
-//#define COREYZ
-//#define COREYX
-//#define COREZX
-//#define COREZY
-
-//===========================================================================
-//============================== Endstop Settings ===========================
-//===========================================================================
-
-// @section homing
-
-// Specify here all the endstop connectors that are connected to any endstop or probe.
-// Almost all printers will be using one per axis. Probes will use one or more of the
-// extra connectors. Leave undefined any used for non-endstop and non-probe purposes.
-#define USE_XMIN_PLUG
-#define USE_YMIN_PLUG
-#define USE_ZMIN_PLUG
-//#define USE_XMAX_PLUG
-//#define USE_YMAX_PLUG
-//#define USE_ZMAX_PLUG
-
-// coarse Endstop Settings
-#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
-
-#if DISABLED(ENDSTOPPULLUPS)
-  // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
-  //#define ENDSTOPPULLUP_XMAX
-  //#define ENDSTOPPULLUP_YMAX
-  //#define ENDSTOPPULLUP_ZMAX
-  //#define ENDSTOPPULLUP_XMIN
-  //#define ENDSTOPPULLUP_YMIN
-  //#define ENDSTOPPULLUP_ZMIN
-  //#define ENDSTOPPULLUP_ZMIN_PROBE
-#endif
-
-// Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
-#define X_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Y_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Z_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define X_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Y_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the probe.
-
-// Enable this feature if all enabled endstop pins are interrupt-capable.
-// This will remove the need to poll the interrupt pins, saving many CPU cycles.
-//#define ENDSTOP_INTERRUPTS_FEATURE
-
-//=============================================================================
-//============================== Movement Settings ============================
-//=============================================================================
-// @section motion
-
-/**
- * Default Settings
- *
- * These settings can be reset by M502
- *
- * Note that if EEPROM is enabled, saved values will override these.
- */
-
-/**
- * With this option each E stepper can have its own factors for the
- * following movement settings. If fewer factors are given than the
- * total number of extruders, the last value applies to the rest.
- */
-//#define DISTINCT_E_FACTORS
-
-/**
- * Default Axis Steps Per Unit (steps/mm)
- * Override with M92
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
- */
-#define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
-
-/**
- * Default Max Feed Rate (mm/s)
- * Override with M203
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
- */
-#define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
-
-/**
- * Default Max Acceleration (change/s) change = mm/s
- * (Maximum start speed for accelerated moves)
- * Override with M201
- *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
- */
-#define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
-
-/**
- * Default Acceleration (change/s) change = mm/s
- * Override with M204
- *
- *   M204 P    Acceleration
- *   M204 R    Retract Acceleration
- *   M204 T    Travel Acceleration
- */
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration for printing moves
-#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration for retracts
-#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
-
-/**
- * Default Jerk (mm/s)
- * Override with M205 X Y Z E
- *
- * "Jerk" specifies the minimum speed change that requires acceleration.
- * When changing speed and direction, if the difference is less than the
- * value set here, it may happen instantaneously.
- */
-#define DEFAULT_XJERK                 20.0
-#define DEFAULT_YJERK                 20.0
-#define DEFAULT_ZJERK                  0.4
-#define DEFAULT_EJERK                  5.0
-
-//===========================================================================
-//============================= Z Probe Options =============================
-//===========================================================================
-// @section probes
-
-//
-// See http://marlinfw.org/configuration/probes.html
-//
-
-/**
- * Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
- *
- * Enable this option for a probe connected to the Z Min endstop pin.
- */
-#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
-
-/**
- * Z_MIN_PROBE_ENDSTOP
- *
- * Enable this option for a probe connected to any pin except Z-Min.
- * (By default Marlin assumes the Z-Max endstop pin.)
- * To use a custom Z Probe pin, set Z_MIN_PROBE_PIN below.
- *
- *  - The simplest option is to use a free endstop connector.
- *  - Use 5V for powered (usually inductive) sensors.
- *
- *  - RAMPS 1.3/1.4 boards may use the 5V, GND, and Aux4->D32 pin:
- *    - For simple switches connect...
- *      - normally-closed switches to GND and D32.
- *      - normally-open switches to 5V and D32.
- *
- * WARNING: Setting the wrong pin may have unexpected and potentially
- * disastrous consequences. Use with caution and do your homework.
- *
- */
-//#define Z_MIN_PROBE_ENDSTOP
-
-/**
- * Probe Type
- *
- * Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
- * Activate one of these to use Auto Bed Leveling below.
- */
-
-/**
- * The "Manual Probe" provides a means to do "Auto" Bed Leveling without a probe.
- * Use G29 repeatedly, adjusting the Z height at each point with movement commands
- * or (with LCD_BED_LEVELING) the LCD controller.
- */
-//#define PROBE_MANUALLY
-
-/**
- * A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
- *   (e.g., an inductive probe or a nozzle-based probe-switch.)
- */
-//#define FIX_MOUNTED_PROBE
-
-/**
- * Z Servo Probe, such as an endstop switch on a rotating arm.
- */
-//#define Z_ENDSTOP_SERVO_NR 0   // Defaults to SERVO 0 connector.
-//#define Z_SERVO_ANGLES {70,0}  // Z Servo Deploy and Stow angles
-
-/**
- * The BLTouch probe uses a Hall effect sensor and emulates a servo.
- */
-//#define BLTOUCH
-#if ENABLED(BLTOUCH)
-  //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
-#endif
-
-/**
- * Enable one or more of the following if probing seems unreliable.
- * Heaters and/or fans can be disabled during probing to minimize electrical
- * noise. A delay can also be added to allow noise and vibration to settle.
- * These options are most useful for the BLTouch probe, but may also improve
- * readings with inductive probes and piezo sensors.
- */
-//#define PROBING_HEATERS_OFF       // Turn heaters off when probing
-//#define PROBING_FANS_OFF          // Turn fans off when probing
-//#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
-
-// A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
-//#define SOLENOID_PROBE
-
-// A sled-mounted probe like those designed by Charles Bell.
-//#define Z_PROBE_SLED
-//#define SLED_DOCKING_OFFSET 5  // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
-
-//
-// For Z_PROBE_ALLEN_KEY see the Delta example configurations.
-//
-
-/**
- *   Z Probe to nozzle (X,Y) offset, relative to (0, 0).
- *   X and Y offsets must be integers.
- *
- *   In the following example the X and Y offsets are both positive:
- *   #define X_PROBE_OFFSET_FROM_EXTRUDER 10
- *   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
- *
- *      +-- BACK ---+
- *      |           |
- *    L |    (+) P  | R <-- probe (20,20)
- *    E |           | I
- *    F | (-) N (+) | G <-- nozzle (10,10)
- *    T |           | H
- *      |    (-)    | T
- *      |           |
- *      O-- FRONT --+
- *    (0,0)
- */
-#define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
-#define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
-#define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
-
-// X and Y axis travel speed (mm/m) between probes
-#define XY_PROBE_SPEED 8000
-
-// Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH)
-#define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
-
-// Speed for the "accurate" probe of each point
-#define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
-
-// Use double touch for probing
-//#define PROBE_DOUBLE_TOUCH
-
-/**
- * Z probes require clearance when deploying, stowing, and moving between
- * probe points to avoid hitting the bed and other hardware.
- * Servo-mounted probes require extra space for the arm to rotate.
- * Inductive probes need space to keep from triggering early.
- *
- * Use these settings to specify the distance (mm) to raise the probe (or
- * lower the bed). The values set here apply over and above any (negative)
- * probe Z Offset set with Z_PROBE_OFFSET_FROM_EXTRUDER, M851, or the LCD.
- * Only integer values >= 1 are valid here.
- *
- * Example: `M851 Z-5` with a CLEARANCE of 4  =>  9mm from bed to nozzle.
- *     But: `M851 Z+1` with a CLEARANCE of 2  =>  2mm from bed to nozzle.
- */
-#define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
-#define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
-
-// For M851 give a range for adjusting the Z probe offset
-#define Z_PROBE_OFFSET_RANGE_MIN -20
-#define Z_PROBE_OFFSET_RANGE_MAX 20
-
-// Enable the M48 repeatability test to test probe accuracy
-//#define Z_MIN_PROBE_REPEATABILITY_TEST
-
-// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
-// :{ 0:'Low', 1:'High' }
-#define X_ENABLE_ON 0
-#define Y_ENABLE_ON 0
-#define Z_ENABLE_ON 0
-#define E_ENABLE_ON 0 // For all extruders
-
-// Disables axis stepper immediately when it's not being used.
-// WARNING: When motors turn off there is a chance of losing position accuracy!
-#define DISABLE_X false
-#define DISABLE_Y false
-#define DISABLE_Z false
-// Warn on display about possibly reduced accuracy
-//#define DISABLE_REDUCED_ACCURACY_WARNING
-
-// @section extruder
-
-#define DISABLE_E false // For all extruders
-#define DISABLE_INACTIVE_EXTRUDER true // Keep only the active extruder enabled.
-
-// @section machine
-
-// Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
-#define INVERT_X_DIR false
-#define INVERT_Y_DIR true
-#define INVERT_Z_DIR false
-
-// Enable this option for Toshiba stepper drivers
-//#define CONFIG_STEPPERS_TOSHIBA
-
-// @section extruder
-
-// For direct drive extruder v9 set to true, for geared extruder set to false.
-#define INVERT_E0_DIR false
-#define INVERT_E1_DIR false
-#define INVERT_E2_DIR false
-#define INVERT_E3_DIR false
-#define INVERT_E4_DIR false
-
-// @section homing
-
-//#define Z_HOMING_HEIGHT 4  // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
-                             // Be sure you have this distance over your Z_MAX_POS in case.
-
-// Direction of endstops when homing; 1=MAX, -1=MIN
-// :[-1,1]
-#define X_HOME_DIR -1
-#define Y_HOME_DIR -1
-#define Z_HOME_DIR -1
-
-// @section machine
-
-// The size of the print bed
-#define X_BED_SIZE 200
-#define Y_BED_SIZE 200
-
-// Travel limits (mm) after homing, corresponding to endstop positions.
-#define X_MIN_POS 0
-#define Y_MIN_POS 0
-#define Z_MIN_POS 0
-#define X_MAX_POS X_BED_SIZE
-#define Y_MAX_POS Y_BED_SIZE
-#define Z_MAX_POS 200
-
-// If enabled, axes won't move below MIN_POS in response to movement commands.
-#define MIN_SOFTWARE_ENDSTOPS
-// If enabled, axes won't move above MAX_POS in response to movement commands.
-#define MAX_SOFTWARE_ENDSTOPS
-
-/**
- * Filament Runout Sensor
- * A mechanical or opto endstop is used to check for the presence of filament.
- *
- * RAMPS-based boards use SERVO3_PIN.
- * For other boards you may need to define FIL_RUNOUT_PIN.
- * By default the firmware assumes HIGH = has filament, LOW = ran out
- */
-//#define FILAMENT_RUNOUT_SENSOR
-#if ENABLED(FILAMENT_RUNOUT_SENSOR)
-  #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
-  #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
-  #define FILAMENT_RUNOUT_SCRIPT "M600"
-#endif
-
-//===========================================================================
-//=============================== Bed Leveling ==============================
-//===========================================================================
-// @section bedlevel
-
-/**
- * Choose one of the options below to enable G29 Bed Leveling. The parameters
- * and behavior of G29 will change depending on your selection.
- *
- *  If using a Probe for Z Homing, enable Z_SAFE_HOMING also!
- *
- * - AUTO_BED_LEVELING_3POINT
- *   Probe 3 arbitrary points on the bed (that aren't collinear)
- *   You specify the XY coordinates of all 3 points.
- *   The result is a single tilted plane. Best for a flat bed.
- *
- * - AUTO_BED_LEVELING_LINEAR
- *   Probe several points in a grid.
- *   You specify the rectangle and the density of sample points.
- *   The result is a single tilted plane. Best for a flat bed.
- *
- * - AUTO_BED_LEVELING_BILINEAR
- *   Probe several points in a grid.
- *   You specify the rectangle and the density of sample points.
- *   The result is a mesh, best for large or uneven beds.
- *
- * - AUTO_BED_LEVELING_UBL (Unified Bed Leveling)
- *   A comprehensive bed leveling system combining the features and benefits
- *   of other systems. UBL also includes integrated Mesh Generation, Mesh
- *   Validation and Mesh Editing systems. Currently, UBL is only checked out
- *   for Cartesian Printers. That said, it was primarily designed to correct
- *   poor quality Delta Printers. If you feel adventurous and have a Delta,
- *   please post an issue if something doesn't work correctly. Initially,
- *   you will need to set a reduced bed size so you have a rectangular area
- *   to test on.
- *
- * - MESH_BED_LEVELING
- *   Probe a grid manually
- *   The result is a mesh, suitable for large or uneven beds. (See BILINEAR.)
- *   For machines without a probe, Mesh Bed Leveling provides a method to perform
- *   leveling in steps so you can manually adjust the Z height at each grid-point.
- *   With an LCD controller the process is guided step-by-step.
- */
-//#define AUTO_BED_LEVELING_3POINT
-//#define AUTO_BED_LEVELING_LINEAR
-//#define AUTO_BED_LEVELING_BILINEAR
-//#define AUTO_BED_LEVELING_UBL
-//#define MESH_BED_LEVELING
-
-/**
- * Enable detailed logging of G28, G29, M48, etc.
- * Turn on with the command 'M111 S32'.
- * NOTE: Requires a lot of PROGMEM!
- */
-//#define DEBUG_LEVELING_FEATURE
-
-#if ENABLED(MESH_BED_LEVELING) || ENABLED(AUTO_BED_LEVELING_BILINEAR) || ENABLED(AUTO_BED_LEVELING_UBL)
-  // Gradually reduce leveling correction until a set height is reached,
-  // at which point movement will be level to the machine's XY plane.
-  // The height can be set with M420 Z<height>
-  #define ENABLE_LEVELING_FADE_HEIGHT
-#endif
-
-#if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
-
-  // Set the number of grid points per dimension.
-  #define GRID_MAX_POINTS_X 3
-  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
-
-  // Set the boundaries for probing (where the probe can reach).
-  #define LEFT_PROBE_BED_POSITION 15
-  #define RIGHT_PROBE_BED_POSITION 170
-  #define FRONT_PROBE_BED_POSITION 20
-  #define BACK_PROBE_BED_POSITION 170
-
-  // The Z probe minimum outer margin (to validate G29 parameters).
-  #define MIN_PROBE_EDGE 10
-
-  // Probe along the Y axis, advancing X after each column
-  //#define PROBE_Y_FIRST
-
-  #if ENABLED(AUTO_BED_LEVELING_BILINEAR)
-
-    // Beyond the probed grid, continue the implied tilt?
-    // Default is to maintain the height of the nearest edge.
-    //#define EXTRAPOLATE_BEYOND_GRID
-
-    //
-    // Experimental Subdivision of the grid by Catmull-Rom method.
-    // Synthesizes intermediate points to produce a more detailed mesh.
-    //
-    //#define ABL_BILINEAR_SUBDIVISION
-    #if ENABLED(ABL_BILINEAR_SUBDIVISION)
-      // Number of subdivisions between probe points
-      #define BILINEAR_SUBDIVISIONS 3
-    #endif
-
-  #endif
-
-#elif ENABLED(AUTO_BED_LEVELING_3POINT)
-
-  // 3 arbitrary points to probe.
-  // A simple cross-product is used to estimate the plane of the bed.
-  #define ABL_PROBE_PT_1_X 15
-  #define ABL_PROBE_PT_1_Y 180
-  #define ABL_PROBE_PT_2_X 15
-  #define ABL_PROBE_PT_2_Y 20
-  #define ABL_PROBE_PT_3_X 170
-  #define ABL_PROBE_PT_3_Y 20
-
-#elif ENABLED(AUTO_BED_LEVELING_UBL)
-
-  //===========================================================================
-  //========================= Unified Bed Leveling ============================
-  //===========================================================================
-
-  #define UBL_MESH_INSET 1          // Mesh inset margin on print area
-  #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
-  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
-
-  #define UBL_PROBE_PT_1_X 39       // Probing points for 3-Point leveling of the mesh
-  #define UBL_PROBE_PT_1_Y 180
-  #define UBL_PROBE_PT_2_X 39
-  #define UBL_PROBE_PT_2_Y 20
-  #define UBL_PROBE_PT_3_X 180
-  #define UBL_PROBE_PT_3_Y 20
-
-  //#define UBL_G26_MESH_VALIDATION // Enable G26 mesh validation
-  #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
-
-#elif ENABLED(MESH_BED_LEVELING)
-
-  //===========================================================================
-  //=================================== Mesh ==================================
-  //===========================================================================
-
-  #define MESH_INSET 10          // Mesh inset margin on print area
-  #define GRID_MAX_POINTS_X 3    // Don't use more than 7 points per axis, implementation limited.
-  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
-
-  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest Z at Z_MIN_POS
-
-#endif // BED_LEVELING
-
-/**
- * Use the LCD controller for bed leveling
- * Requires MESH_BED_LEVELING or PROBE_MANUALLY
- */
-//#define LCD_BED_LEVELING
-
-#if ENABLED(LCD_BED_LEVELING)
-  #define MBL_Z_STEP 0.025    // Step size while manually probing Z axis.
-  #define LCD_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
-  #define LEVEL_BED_CORNERS   // Add an option to move between corners
-#endif
-
-/**
- * Commands to execute at the end of G29 probing.
- * Useful to retract or move the Z probe out of the way.
- */
-//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
-
-
-// @section homing
-
-// The center of the bed is at (X=0, Y=0)
-//#define BED_CENTER_AT_0_0
-
-// Manually set the home position. Leave these undefined for automatic settings.
-// For DELTA this is the top-center of the Cartesian print volume.
-//#define MANUAL_X_HOME_POS 0
-//#define MANUAL_Y_HOME_POS 0
-//#define MANUAL_Z_HOME_POS 0
-
-// Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
-//
-// With this feature enabled:
-//
-// - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
-// - If stepper drivers time out, it will need X and Y homing again before Z homing.
-// - Move the Z probe (or nozzle) to a defined XY point before Z Homing when homing all axes (G28).
-// - Prevent Z homing when the Z probe is outside bed area.
-//
-//#define Z_SAFE_HOMING
-
-#if ENABLED(Z_SAFE_HOMING)
-  #define Z_SAFE_HOMING_X_POINT ((X_BED_SIZE) / 2)    // X point for Z homing when homing all axis (G28).
-  #define Z_SAFE_HOMING_Y_POINT ((Y_BED_SIZE) / 2)    // Y point for Z homing when homing all axis (G28).
-#endif
-
-// Homing speeds (mm/m)
-#define HOMING_FEEDRATE_XY (50*60)
-#define HOMING_FEEDRATE_Z  (4*60)
-
-//=============================================================================
-//============================= Additional Features ===========================
-//=============================================================================
-
-// @section extras
-
-//
-// EEPROM
-//
-// The microcontroller can store settings in the EEPROM, e.g. max velocity...
-// M500 - stores parameters in EEPROM
-// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
-// M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
-//
-//#define EEPROM_SETTINGS // Enable for M500 and M501 commands
-//#define DISABLE_M503    // Saves ~2700 bytes of PROGMEM. Disable for release!
-#define EEPROM_CHITCHAT   // Give feedback on EEPROM commands. Disable to save PROGMEM.
-
-//
-// Host Keepalive
-//
-// When enabled Marlin will send a busy status message to the host
-// every couple of seconds when it can't accept commands.
-//
-#define HOST_KEEPALIVE_FEATURE        // Disable this if your host doesn't like keepalive messages
-#define DEFAULT_KEEPALIVE_INTERVAL 2  // Number of seconds between "busy" messages. Set with M113.
-#define BUSY_WHILE_HEATING            // Some hosts require "busy" messages even during heating
-
-//
-// M100 Free Memory Watcher
-//
-//#define M100_FREE_MEMORY_WATCHER // uncomment to add the M100 Free Memory Watcher for debug purpose
-
-//
-// G20/G21 Inch mode support
-//
-//#define INCH_MODE_SUPPORT
-
-//
-// M149 Set temperature units support
-//
-//#define TEMPERATURE_UNITS_SUPPORT
-
-// @section temperature
-
-// Preheat Constants
-#define PREHEAT_1_TEMP_HOTEND 180
-#define PREHEAT_1_TEMP_BED     70
-#define PREHEAT_1_FAN_SPEED     0 // Value from 0 to 255
-
-#define PREHEAT_2_TEMP_HOTEND 240
-#define PREHEAT_2_TEMP_BED    110
-#define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
-
-/**
- * Nozzle Park -- EXPERIMENTAL
- *
- * Park the nozzle at the given XYZ position on idle or G27.
- *
- * The "P" parameter controls the action applied to the Z axis:
- *
- *    P0  (Default) If Z is below park Z raise the nozzle.
- *    P1  Raise the nozzle always to Z-park height.
- *    P2  Raise the nozzle by Z-park amount, limited to Z_MAX_POS.
- */
-//#define NOZZLE_PARK_FEATURE
-
-#if ENABLED(NOZZLE_PARK_FEATURE)
-  // Specify a park position as { X, Y, Z }
-  #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
-#endif
-
-/**
- * Clean Nozzle Feature -- EXPERIMENTAL
- *
- * Adds the G12 command to perform a nozzle cleaning process.
- *
- * Parameters:
- *   P  Pattern
- *   S  Strokes / Repetitions
- *   T  Triangles (P1 only)
- *
- * Patterns:
- *   P0  Straight line (default). This process requires a sponge type material
- *       at a fixed bed location. "S" specifies strokes (i.e. back-forth motions)
- *       between the start / end points.
- *
- *   P1  Zig-zag pattern between (X0, Y0) and (X1, Y1), "T" specifies the
- *       number of zig-zag triangles to do. "S" defines the number of strokes.
- *       Zig-zags are done in whichever is the narrower dimension.
- *       For example, "G12 P1 S1 T3" will execute:
- *
- *          --
- *         |  (X0, Y1) |     /\        /\        /\     | (X1, Y1)
- *         |           |    /  \      /  \      /  \    |
- *       A |           |   /    \    /    \    /    \   |
- *         |           |  /      \  /      \  /      \  |
- *         |  (X0, Y0) | /        \/        \/        \ | (X1, Y0)
- *          --         +--------------------------------+
- *                       |________|_________|_________|
- *                           T1        T2        T3
- *
- *   P2  Circular pattern with middle at NOZZLE_CLEAN_CIRCLE_MIDDLE.
- *       "R" specifies the radius. "S" specifies the stroke count.
- *       Before starting, the nozzle moves to NOZZLE_CLEAN_START_POINT.
- *
- *   Caveats: The ending Z should be the same as starting Z.
- * Attention: EXPERIMENTAL. G-code arguments may change.
- *
- */
-//#define NOZZLE_CLEAN_FEATURE
-
-#if ENABLED(NOZZLE_CLEAN_FEATURE)
-  // Default number of pattern repetitions
-  #define NOZZLE_CLEAN_STROKES  12
-
-  // Default number of triangles
-  #define NOZZLE_CLEAN_TRIANGLES  3
-
-  // Specify positions as { X, Y, Z }
-  #define NOZZLE_CLEAN_START_POINT { 30, 30, (Z_MIN_POS + 1)}
-  #define NOZZLE_CLEAN_END_POINT   {100, 60, (Z_MIN_POS + 1)}
-
-  // Circular pattern radius
-  #define NOZZLE_CLEAN_CIRCLE_RADIUS 6.5
-  // Circular pattern circle fragments number
-  #define NOZZLE_CLEAN_CIRCLE_FN 10
-  // Middle point of circle
-  #define NOZZLE_CLEAN_CIRCLE_MIDDLE NOZZLE_CLEAN_START_POINT
-
-  // Moves the nozzle to the initial position
-  #define NOZZLE_CLEAN_GOBACK
-#endif
-
-/**
- * Print Job Timer
- *
- * Automatically start and stop the print job timer on M104/M109/M190.
- *
- *   M104 (hotend, no wait) - high temp = none,        low temp = stop timer
- *   M109 (hotend, wait)    - high temp = start timer, low temp = stop timer
- *   M190 (bed, wait)       - high temp = start timer, low temp = none
- *
- * The timer can also be controlled with the following commands:
- *
- *   M75 - Start the print job timer
- *   M76 - Pause the print job timer
- *   M77 - Stop the print job timer
- */
-#define PRINTJOB_TIMER_AUTOSTART
-
-/**
- * Print Counter
- *
- * Track statistical data such as:
- *
- *  - Total print jobs
- *  - Total successful print jobs
- *  - Total failed print jobs
- *  - Total time printing
- *
- * View the current statistics with M78.
- */
-//#define PRINTCOUNTER
-
-//=============================================================================
-//============================= LCD and SD support ============================
-//=============================================================================
-
-// @section lcd
-
-/**
- * LCD LANGUAGE
- *
- * Select the language to display on the LCD. These languages are available:
- *
- *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, gl, hr,
- *    it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
- *    tr, uk, zh_CN, zh_TW, test
- *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
- */
-#define LCD_LANGUAGE en
-
-/**
- * LCD Character Set
- *
- * Note: This option is NOT applicable to Graphical Displays.
- *
- * All character-based LCDs provide ASCII plus one of these
- * language extensions:
- *
- *  - JAPANESE ... the most common
- *  - WESTERN  ... with more accented characters
- *  - CYRILLIC ... for the Russian language
- *
- * To determine the language extension installed on your controller:
- *
- *  - Compile and upload with LCD_LANGUAGE set to 'test'
- *  - Click the controller to view the LCD menu
- *  - The LCD will display Japanese, Western, or Cyrillic text
- *
- * See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
- *
- * :['JAPANESE', 'WESTERN', 'CYRILLIC']
- */
-#define DISPLAY_CHARSET_HD44780 JAPANESE
-
-/**
- * LCD TYPE
- *
- * Enable ULTRA_LCD for a 16x2, 16x4, 20x2, or 20x4 character-based LCD.
- * Enable DOGLCD for a 128x64 (ST7565R) Full Graphical Display.
- * (These options will be enabled automatically for most displays.)
- *
- * IMPORTANT: The U8glib library is required for Full Graphic Display!
- *            https://github.com/olikraus/U8glib_Arduino
- */
-//#define ULTRA_LCD   // Character based
-//#define DOGLCD      // Full graphics display
-
-/**
- * SD CARD
- *
- * SD Card support is disabled by default. If your controller has an SD slot,
- * you must uncomment the following option or it won't work.
- *
- */
-//#define SDSUPPORT
-
-/**
- * SD CARD: SPI SPEED
- *
- * Enable one of the following items for a slower SPI transfer speed.
- * This may be required to resolve "volume init" errors.
- */
-//#define SPI_SPEED SPI_HALF_SPEED
-//#define SPI_SPEED SPI_QUARTER_SPEED
-//#define SPI_SPEED SPI_EIGHTH_SPEED
-
-/**
- * SD CARD: ENABLE CRC
- *
- * Use CRC checks and retries on the SD communication.
- */
-//#define SD_CHECK_AND_RETRY
-
-//
-// ENCODER SETTINGS
-//
-// This option overrides the default number of encoder pulses needed to
-// produce one step. Should be increased for high-resolution encoders.
-//
-//#define ENCODER_PULSES_PER_STEP 1
-
-//
-// Use this option to override the number of step signals required to
-// move between next/prev menu items.
-//
-//#define ENCODER_STEPS_PER_MENU_ITEM 5
-
-/**
- * Encoder Direction Options
- *
- * Test your encoder's behavior first with both options disabled.
- *
- *  Reversed Value Edit and Menu Nav? Enable REVERSE_ENCODER_DIRECTION.
- *  Reversed Menu Navigation only?    Enable REVERSE_MENU_DIRECTION.
- *  Reversed Value Editing only?      Enable BOTH options.
- */
-
-//
-// This option reverses the encoder direction everywhere.
-//
-//  Set this option if CLOCKWISE causes values to DECREASE
-//
-//#define REVERSE_ENCODER_DIRECTION
-
-//
-// This option reverses the encoder direction for navigating LCD menus.
-//
-//  If CLOCKWISE normally moves DOWN this makes it go UP.
-//  If CLOCKWISE normally moves UP this makes it go DOWN.
-//
-//#define REVERSE_MENU_DIRECTION
-
-//
-// Individual Axis Homing
-//
-// Add individual axis homing items (Home X, Home Y, and Home Z) to the LCD menu.
-//
-//#define INDIVIDUAL_AXIS_HOMING_MENU
-
-//
-// SPEAKER/BUZZER
-//
-// If you have a speaker that can produce tones, enable it here.
-// By default Marlin assumes you have a buzzer with a fixed frequency.
-//
-//#define SPEAKER
-
-//
-// The duration and frequency for the UI feedback sound.
-// Set these to 0 to disable audio feedback in the LCD menus.
-//
-// Note: Test audio output with the G-Code:
-//  M300 S<frequency Hz> P<duration ms>
-//
-//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
-//#define LCD_FEEDBACK_FREQUENCY_HZ 1000
-
-//
-// CONTROLLER TYPE: Standard
-//
-// Marlin supports a wide variety of controllers.
-// Enable one of the following options to specify your controller.
-//
-
-//
-// ULTIMAKER Controller.
-//
-//#define ULTIMAKERCONTROLLER
-
-//
-// ULTIPANEL as seen on Thingiverse.
-//
-//#define ULTIPANEL
-
-//
-// PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
-// http://reprap.org/wiki/PanelOne
-//
-//#define PANEL_ONE
-
-//
-// MaKr3d Makr-Panel with graphic controller and SD support.
-// http://reprap.org/wiki/MaKr3d_MaKrPanel
-//
-//#define MAKRPANEL
-
-//
-// ReprapWorld Graphical LCD
-// https://reprapworld.com/?products_details&products_id/1218
-//
-//#define REPRAPWORLD_GRAPHICAL_LCD
-
-//
-// Activate one of these if you have a Panucatt Devices
-// Viki 2.0 or mini Viki with Graphic LCD
-// http://panucatt.com
-//
-//#define VIKI2
-//#define miniVIKI
-
-//
-// Adafruit ST7565 Full Graphic Controller.
-// https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
-//
-//#define ELB_FULL_GRAPHIC_CONTROLLER
-
-//
-// RepRapDiscount Smart Controller.
-// http://reprap.org/wiki/RepRapDiscount_Smart_Controller
-//
-// Note: Usually sold with a white PCB.
-//
-//#define REPRAP_DISCOUNT_SMART_CONTROLLER
-
-//
-// GADGETS3D G3D LCD/SD Controller
-// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
-//
-// Note: Usually sold with a blue PCB.
-//
-//#define G3D_PANEL
-
-//
-// RepRapDiscount FULL GRAPHIC Smart Controller
-// http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
-//
-//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
-
-//
-// MakerLab Mini Panel with graphic
-// controller and SD support - http://reprap.org/wiki/Mini_panel
-//
-//#define MINIPANEL
-
-//
-// RepRapWorld REPRAPWORLD_KEYPAD v1.1
-// http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
-//
-// REPRAPWORLD_KEYPAD_MOVE_STEP sets how much should the robot move when a key
-// is pressed, a value of 10.0 means 10mm per click.
-//
-//#define REPRAPWORLD_KEYPAD
-//#define REPRAPWORLD_KEYPAD_MOVE_STEP 1.0
-
-//
-// RigidBot Panel V1.0
-// http://www.inventapart.com/
-//
-//#define RIGIDBOT_PANEL
-
-//
-// BQ LCD Smart Controller shipped by
-// default with the BQ Hephestos 2 and Witbox 2.
-//
-//#define BQ_LCD_SMART_CONTROLLER
-
-//
-// Cartesio UI
-// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
-//
-//#define CARTESIO_UI
-
-//
-// ANET_10 Controller supported displays.
-//
-//#define ANET_KEYPAD_LCD         // Requires ADC_KEYPAD_PIN to be assigned to an analog pin.
-                                  // This LCD is known to be susceptible to electrical interference
-                                  // which scrambles the display.  Pressing any button clears it up.
-//#define ANET_FULL_GRAPHICS_LCD  // Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
-                                  // A clone of the RepRapDiscount full graphics display but with
-                                  // different pins/wiring (see pins_ANET_10.h).
-
-//
-// LCD for Melzi Card with Graphical LCD
-//
-//#define LCD_FOR_MELZI
-
-//
-// CONTROLLER TYPE: I2C
-//
-// Note: These controllers require the installation of Arduino's LiquidCrystal_I2C
-// library. For more info: https://github.com/kiyoshigawa/LiquidCrystal_I2C
-//
-
-//
-// Elefu RA Board Control Panel
-// http://www.elefu.com/index.php?route=product/product&product_id=53
-//
-//#define RA_CONTROL_PANEL
-
-//
-// Sainsmart YW Robot (LCM1602) LCD Display
-//
-// Note: This controller requires F.Malpartida's LiquidCrystal_I2C library
-// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home
-//
-//#define LCD_I2C_SAINSMART_YWROBOT
-
-//
-// Generic LCM1602 LCD adapter
-//
-//#define LCM1602
-
-//
-// PANELOLU2 LCD with status LEDs,
-// separate encoder and click inputs.
-//
-// Note: This controller requires Arduino's LiquidTWI2 library v1.2.3 or later.
-// For more info: https://github.com/lincomatic/LiquidTWI2
-//
-// Note: The PANELOLU2 encoder click input can either be directly connected to
-// a pin (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
-//
-//#define LCD_I2C_PANELOLU2
-
-//
-// Panucatt VIKI LCD with status LEDs,
-// integrated click & L/R/U/D buttons, separate encoder inputs.
-//
-//#define LCD_I2C_VIKI
-
-//
-// SSD1306 OLED full graphics generic display
-//
-//#define U8GLIB_SSD1306
-
-//
-// SAV OLEd LCD module support using either SSD1306 or SH1106 based LCD modules
-//
-//#define SAV_3DGLCD
-#if ENABLED(SAV_3DGLCD)
-  //#define U8GLIB_SSD1306
-  #define U8GLIB_SH1106
-#endif
-
-//
-// CONTROLLER TYPE: Shift register panels
-//
-// 2 wire Non-latching LCD SR from https://goo.gl/aJJ4sH
-// LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
-//
-//#define SAV_3DLCD
-
-//
-// TinyBoy2 128x64 OLED / Encoder Panel
-//
-//#define OLED_PANEL_TINYBOY2
-
-//=============================================================================
-//=============================== Extra Features ==============================
-//=============================================================================
-
-// @section extras
-
-// Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino
-//#define FAST_PWM_FAN
-
-// Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
-// which is not as annoying as with the hardware PWM. On the other hand, if this frequency
-// is too low, you should also increment SOFT_PWM_SCALE.
-//#define FAN_SOFT_PWM
-
-// Incrementing this by 1 will double the software PWM frequency,
-// affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
-// However, control resolution will be halved for each increment;
-// at zero value, there are 128 effective control positions.
-#define SOFT_PWM_SCALE 0
-
-// If SOFT_PWM_SCALE is set to a value higher than 0, dithering can
-// be used to mitigate the associated resolution loss. If enabled,
-// some of the PWM cycles are stretched so on average the desired
-// duty cycle is attained.
-//#define SOFT_PWM_DITHER
-
-// Temperature status LEDs that display the hotend and bed temperature.
-// If all hotends, bed temperature, and target temperature are under 54C
-// then the BLUE led is on. Otherwise the RED led is on. (1C hysteresis)
-//#define TEMP_STAT_LEDS
-
-// M240  Triggers a camera by emulating a Canon RC-1 Remote
-// Data from: http://www.doc-diy.net/photo/rc-1_hacked/
-//#define PHOTOGRAPH_PIN     23
-
-// SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
-//#define SF_ARC_FIX
-
-// Support for the BariCUDA Paste Extruder
-//#define BARICUDA
-
-// Support for BlinkM/CyzRgb
-//#define BLINKM
-
-// Support for PCA9632 PWM LED driver
-//#define PCA9632
-
-/**
- * RGB LED / LED Strip Control
- *
- * Enable support for an RGB LED connected to 5V digital pins, or
- * an RGB Strip connected to MOSFETs controlled by digital pins.
- *
- * Adds the M150 command to set the LED (or LED strip) color.
- * If pins are PWM capable (e.g., 4, 5, 6, 11) then a range of
- * luminance values can be set from 0 to 255.
- *
- * *** CAUTION ***
- *  LED Strips require a MOFSET Chip between PWM lines and LEDs,
- *  as the Arduino cannot handle the current the LEDs will require.
- *  Failure to follow this precaution can destroy your Arduino!
- * *** CAUTION ***
- *
- */
-//#define RGB_LED
-//#define RGBW_LED
-#if ENABLED(RGB_LED) || ENABLED(RGBW_LED)
-  #define RGB_LED_R_PIN 34
-  #define RGB_LED_G_PIN 43
-  #define RGB_LED_B_PIN 35
-  #define RGB_LED_W_PIN -1
-#endif
-
-// Support for Adafruit Neopixel LED driver
-//#define NEOPIXEL_RGBW_LED
-#if ENABLED(NEOPIXEL_RGBW_LED)
-  #define NEOPIXEL_PIN    4       // D4 (EXP2-5 on Printrboard)
-  #define NEOPIXEL_PIXELS 3
-  //#define NEOPIXEL_STARTUP_TEST // Cycle through colors at startup
-#endif
-
-/**
- * Printer Event LEDs
- *
- * During printing, the LEDs will reflect the printer status:
- *
- *  - Gradually change from blue to violet as the heated bed gets to target temp
- *  - Gradually change from violet to red as the hotend gets to temperature
- *  - Change to white to illuminate work surface
- *  - Change to green once print has finished
- *  - Turn off after the print has finished and the user has pushed a button
- */
-#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632) || ENABLED(NEOPIXEL_RGBW_LED)
-  #define PRINTER_EVENT_LEDS
-#endif
-
-/*********************************************************************\
-* R/C SERVO support
-* Sponsored by TrinityLabs, Reworked by codexmas
-**********************************************************************/
-
-// Number of servos
-//
-// If you select a configuration below, this will receive a default value and does not need to be set manually
-// set it manually if you have more servos than extruders and wish to manually control some
-// leaving it undefined or defining as 0 will disable the servo subsystem
-// If unsure, leave commented / disabled
-//
-//#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
-
-// Delay (in milliseconds) before the next move will start, to give the servo time to reach its target angle.
-// 300ms is a good value but you can try less delay.
-// If the servo can't reach the requested position, increase it.
-#define SERVO_DELAY { 300 }
-
-// Servo deactivation
-//
-// With this option servos are powered only during movement, then turned off to prevent jitter.
-//#define DEACTIVATE_SERVOS_AFTER_MOVE
-
-/**
- * Filament Width Sensor
- *
- * Measures the filament width in real-time and adjusts
- * flow rate to compensate for any irregularities.
- *
- * Also allows the measured filament diameter to set the
- * extrusion rate, so the slicer only has to specify the
- * volume.
- *
- * Only a single extruder is supported at this time.
- *
- *  34 RAMPS_14    : Analog input 5 on the AUX2 connector
- *  81 PRINTRBOARD : Analog input 2 on the Exp1 connector (version B,C,D,E)
- * 301 RAMBO       : Analog input 3
- *
- * Note: May require analog pins to be defined for other boards.
- */
-//#define FILAMENT_WIDTH_SENSOR
-
-#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00   // (mm) Diameter of the filament generally used (3.0 or 1.75mm), also used in the slicer. Used to validate sensor reading.
-
-#if ENABLED(FILAMENT_WIDTH_SENSOR)
-  #define FILAMENT_SENSOR_EXTRUDER_NUM 0    // Index of the extruder that has the filament sensor (0,1,2,3)
-  #define MEASUREMENT_DELAY_CM        14    // (cm) The distance from the filament sensor to the melting chamber
-
-  #define MEASURED_UPPER_LIMIT         3.30 // (mm) Upper limit used to validate sensor reading
-  #define MEASURED_LOWER_LIMIT         1.90 // (mm) Lower limit used to validate sensor reading
-  #define MAX_MEASUREMENT_DELAY       20    // (bytes) Buffer size for stored measurements (1 byte per cm). Must be larger than MEASUREMENT_DELAY_CM.
-
-  #define DEFAULT_MEASURED_FILAMENT_DIA DEFAULT_NOMINAL_FILAMENT_DIA // Set measured to nominal initially
-
-  // Display filament width on the LCD status line. Status messages will expire after 5 seconds.
-  //#define FILAMENT_LCD_DISPLAY
-#endif
-
-#endif // CONFIGURATION_H

commit e4fcf460e7a10b89912bdac1a555320bbdc72209
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jul 27 03:02:53 2017 -0500

    Marlin bugfix-2.0.x Version/README

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 36caf2ecb1..5f8fc6f1ba 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -37,7 +37,7 @@
  */
 #ifndef CONFIGURATION_H
 #define CONFIGURATION_H
-#define CONFIGURATION_H_VERSION 010100
+#define CONFIGURATION_H_VERSION 020000
 
 //===========================================================================
 //============================= Getting Started =============================

commit 54d48130f3632a90b4436588e47bca559b612d78
Author: Michal Holes <michal@holes.sk>
Date:   Sun Aug 20 10:34:02 2017 +0200

    Slovak UTF-8 translation
    
    Slovak UTF-8 translation

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 66085fbccd..36caf2ecb1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1173,10 +1173,10 @@
  * Select the language to display on the LCD. These languages are available:
  *
  *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, gl, hr,
- *    it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, uk,
- *    zh_CN, zh_TW, test
+ *    it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, sk_utf8,
+ *    tr, uk, zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'sk_utf8':'Slovak (UTF8)', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit 4817b39d9816e6ee11354753f16fcdcf56664536
Author: Vben <devel@killerpreise.de>
Date:   Sun Aug 13 23:35:59 2017 +0200

    Added new feature for AutoParking Extruder (APE)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a1278ff50c..66085fbccd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -175,6 +175,21 @@
   //#define HOTEND_OFFSET_Z { 0.0, 0.0 }
 #endif
 
+/**
+ * Two separate X-carriages with extruders that connect to a moving part
+ * via a magnetic docking mechanism. Requires SOL1_PIN and SOL2_PIN.
+ */
+//#define PARKING_EXTRUDER
+#if ENABLED(PARKING_EXTRUDER)
+  #define PARKING_EXTRUDER_SOLENOIDS_INVERT           // If enabled, the solenoid not magnetized with applied voltage
+  #define PARKING_EXTRUDER_SOLENOIDS_PINS_ACTIVE LOW  // LOW or HIGH pin signal energizes the coil
+  #define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        // Delay (ms) for magnetic field. No delay if 0 or not defined.
+  #define PARKING_EXTRUDER_PARKING_X { -78, 184 }     // X positions for parking the extruders
+  #define PARKING_EXTRUDER_GRAB_DISTANCE 1            // mm to move beyond the parking point to grab the extruder
+  #define PARKING_EXTRUDER_SECURITY_RAISE 5           // Z-raise before parking
+  #define HOTEND_OFFSET_Z { 0.0, 1.3 }                // Z-offsets of the two hotends. The first must be 0.
+#endif
+
 /**
  * "Mixing Extruder"
  *   - Adds a new code, M165, to set the current mix factors.

commit 385f1bb9e50f96806c1f8b459036afa028aa62e1
Merge: 2a31c9f2ce e9c72978c7
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Aug 16 16:05:22 2017 -0500

    Merge pull request #7504 from thinkyhead/bf1_servo_delays
    
    Individual servo delays

diff --combined Marlin/Configuration.h
index 340f67dc87,f061b9c0ff..a1278ff50c
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -940,7 -940,6 +940,7 @@@
  #if ENABLED(LCD_BED_LEVELING)
    #define MBL_Z_STEP 0.025    // Step size while manually probing Z axis.
    #define LCD_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
 +  #define LEVEL_BED_CORNERS   // Add an option to move between corners
  #endif
  
  /**
@@@ -1596,7 -1595,7 +1596,7 @@@
  // Delay (in milliseconds) before the next move will start, to give the servo time to reach its target angle.
  // 300ms is a good value but you can try less delay.
  // If the servo can't reach the requested position, increase it.
- #define SERVO_DELAY 300
+ #define SERVO_DELAY { 300 }
  
  // Servo deactivation
  //

commit a1878cd1c0194205a4b5d9cf12cd169043e5dff5
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Aug 16 02:27:50 2017 -0500

    Add "Level Corners" menu option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 12d394fc3b..340f67dc87 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -940,6 +940,7 @@
 #if ENABLED(LCD_BED_LEVELING)
   #define MBL_Z_STEP 0.025    // Step size while manually probing Z axis.
   #define LCD_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
+  #define LEVEL_BED_CORNERS   // Add an option to move between corners
 #endif
 
 /**

commit e9c72978c71c92c996842d93683c895c3dc11787
Author: GMagician <GMagician@users.noreply.github.com>
Date:   Fri Aug 11 23:21:39 2017 +0200

    Implement SERVO_DELAY as array
    
    This modify give SERVO_DELAY x servo basis

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 12d394fc3b..f061b9c0ff 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1595,7 +1595,7 @@
 // Delay (in milliseconds) before the next move will start, to give the servo time to reach its target angle.
 // 300ms is a good value but you can try less delay.
 // If the servo can't reach the requested position, increase it.
-#define SERVO_DELAY 300
+#define SERVO_DELAY { 300 }
 
 // Servo deactivation
 //

commit 97c21e90071588a94fbc503e0b43c43dd2efee03
Author: Jozsef Kiraly <fonix232@gmail.com>
Date:   Tue May 23 22:53:29 2017 +0200

    Support for Geeetech GT2560 Rev.A/Rev.A+

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e44c7f8cf4..12d394fc3b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -914,7 +914,7 @@
   #define UBL_PROBE_PT_3_X 180
   #define UBL_PROBE_PT_3_Y 20
 
-  #define UBL_G26_MESH_VALIDATION   // Enable G26 mesh validation
+  //#define UBL_G26_MESH_VALIDATION // Enable G26 mesh validation
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
 
 #elif ENABLED(MESH_BED_LEVELING)

commit 804818b4d9bf3f111b259b5d11c05f6d6116abfb
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Aug 3 15:26:54 2017 -0500

    Bring configs up to date

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9f9780a8ad..e44c7f8cf4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -551,7 +551,6 @@
 #define DEFAULT_ZJERK                  0.4
 #define DEFAULT_EJERK                  5.0
 
-
 //===========================================================================
 //============================= Z Probe Options =============================
 //===========================================================================
@@ -593,7 +592,7 @@
  * Probe Type
  *
  * Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
- * You must activate one of these to use Auto Bed Leveling below.
+ * Activate one of these to use Auto Bed Leveling below.
  */
 
 /**
@@ -1309,12 +1308,6 @@
 //
 //#define ULTIPANEL
 
-//
-// Cartesio UI
-// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
-//
-//#define CARTESIO_UI
-
 //
 // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
 // http://reprap.org/wiki/PanelOne
@@ -1397,6 +1390,12 @@
 //
 //#define BQ_LCD_SMART_CONTROLLER
 
+//
+// Cartesio UI
+// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
+//
+//#define CARTESIO_UI
+
 //
 // ANET_10 Controller supported displays.
 //

commit 936d00dda816bd75add6e3acc265325c477bcda5
Author: teemuatlut <teemu.mantykallio@live.fi>
Date:   Thu Jul 13 19:15:59 2017 +0300

    Implement probing delay for piezo sensors

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 35a6aaabbf..9f9780a8ad 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -624,14 +624,15 @@
 #endif
 
 /**
- * Enable if probing seems unreliable. Heaters and/or fans - consistent with the
- * options selected below - will be disabled during probing so as to minimize
- * potential EM interference by quieting/silencing the source of the 'noise' (the change
- * in current flowing through the wires).  This is likely most useful to users of the
- * BLTouch probe, but may also help those with inductive or other probe types.
+ * Enable one or more of the following if probing seems unreliable.
+ * Heaters and/or fans can be disabled during probing to minimize electrical
+ * noise. A delay can also be added to allow noise and vibration to settle.
+ * These options are most useful for the BLTouch probe, but may also improve
+ * readings with inductive probes and piezo sensors.
  */
 //#define PROBING_HEATERS_OFF       // Turn heaters off when probing
 //#define PROBING_FANS_OFF          // Turn fans off when probing
+//#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors
 
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE

commit 51864fd365969337b34f2522fb59ead806674e94
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Jul 21 22:54:39 2017 -0500

    Add bed size as a configuration option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b62f5827fc..35a6aaabbf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -755,12 +755,16 @@
 
 // @section machine
 
-// Travel limits after homing (units are in mm)
+// The size of the print bed
+#define X_BED_SIZE 200
+#define Y_BED_SIZE 200
+
+// Travel limits (mm) after homing, corresponding to endstop positions.
 #define X_MIN_POS 0
 #define Y_MIN_POS 0
 #define Z_MIN_POS 0
-#define X_MAX_POS 200
-#define Y_MAX_POS 200
+#define X_MAX_POS X_BED_SIZE
+#define Y_MAX_POS Y_BED_SIZE
 #define Z_MAX_POS 200
 
 // If enabled, axes won't move below MIN_POS in response to movement commands.
@@ -968,8 +972,8 @@
 //#define Z_SAFE_HOMING
 
 #if ENABLED(Z_SAFE_HOMING)
-  #define Z_SAFE_HOMING_X_POINT ((X_MIN_POS + X_MAX_POS) / 2)    // X point for Z homing when homing all axis (G28).
-  #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28).
+  #define Z_SAFE_HOMING_X_POINT ((X_BED_SIZE) / 2)    // X point for Z homing when homing all axis (G28).
+  #define Z_SAFE_HOMING_Y_POINT ((Y_BED_SIZE) / 2)    // Y point for Z homing when homing all axis (G28).
 #endif
 
 // Homing speeds (mm/m)

commit 890e7a16a93241fae148e2647edf5e2c1e15017a
Author: C. Scott Ananian <cscott@cscott.net>
Date:   Thu Jul 13 11:01:21 2017 -0400

    Add support for Printrbot Neopixel RGBW strip.
    
    Connected as described at http://printrbot.com/shop/led-strip/
    
    Based on patch by Kelly Anderson <kelly@xilka.com> at
    http://www.xilka.com/printrbot/marlin/1.1.4/20170707/

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 08e495e96d..b62f5827fc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1551,6 +1551,14 @@
   #define RGB_LED_W_PIN -1
 #endif
 
+// Support for Adafruit Neopixel LED driver
+//#define NEOPIXEL_RGBW_LED
+#if ENABLED(NEOPIXEL_RGBW_LED)
+  #define NEOPIXEL_PIN    4       // D4 (EXP2-5 on Printrboard)
+  #define NEOPIXEL_PIXELS 3
+  //#define NEOPIXEL_STARTUP_TEST // Cycle through colors at startup
+#endif
+
 /**
  * Printer Event LEDs
  *
@@ -1562,7 +1570,7 @@
  *  - Change to green once print has finished
  *  - Turn off after the print has finished and the user has pushed a button
  */
-#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632)
+#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632) || ENABLED(NEOPIXEL_RGBW_LED)
   #define PRINTER_EVENT_LEDS
 #endif
 

commit fc9ce65095ba125e0400a3fc8b8f8b708d8ff9da
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jul 6 16:26:13 2017 -0500

    Add `BUSY_WHILE_HEATING` for hosts that need it

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 46bc9aeafa..08e495e96d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1002,6 +1002,7 @@
 //
 #define HOST_KEEPALIVE_FEATURE        // Disable this if your host doesn't like keepalive messages
 #define DEFAULT_KEEPALIVE_INTERVAL 2  // Number of seconds between "busy" messages. Set with M113.
+#define BUSY_WHILE_HEATING            // Some hosts require "busy" messages even during heating
 
 //
 // M100 Free Memory Watcher

commit 8c34233452c9c0360ec93c1645a8a1a57364647f
Author: Petr Zahradn√≠k <junior@zahradnik.cz>
Date:   Sat Jul 1 14:50:26 2017 +0200

    UTF-8 mapper for Czech

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2537051245..46bc9aeafa 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1151,10 +1151,11 @@
  *
  * Select the language to display on the LCD. These languages are available:
  *
- *    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
- *    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, uk, test
+ *    en, an, bg, ca, cn, cz, cz_utf8, de, el, el-gr, es, eu, fi, fr, gl, hr,
+ *    it, kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, uk,
+ *    zh_CN, zh_TW, test
  *
- * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'uk':'Ukrainian', 'test':'TEST' }
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'cz_utf8':'Czech (UTF8)', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'uk':'Ukrainian', 'zh_CN':'Chinese (Simplified)', 'zh_TW':'Chinese (Taiwan)', test':'TEST' }
  */
 #define LCD_LANGUAGE en
 

commit 69297b2d7bdeef3f4ab1b38edd54fd8d0db9761f
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Jul 2 19:43:34 2017 -0500

    Make all EEPROM optimization options available

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1da8ecc5a9..2537051245 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -964,6 +964,7 @@
 // - If stepper drivers time out, it will need X and Y homing again before Z homing.
 // - Move the Z probe (or nozzle) to a defined XY point before Z Homing when homing all axes (G28).
 // - Prevent Z homing when the Z probe is outside bed area.
+//
 //#define Z_SAFE_HOMING
 
 #if ENABLED(Z_SAFE_HOMING)
@@ -988,13 +989,10 @@
 // M500 - stores parameters in EEPROM
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
-// Define this to enable EEPROM support
-//#define EEPROM_SETTINGS
-
-#if ENABLED(EEPROM_SETTINGS)
-  //#define DISABLE_M503  // Saves ~2700 bytes of PROGMEM. Disable for release!
-  #define EEPROM_CHITCHAT // Print a report on M500. Please keep turned on.
-#endif
+//
+//#define EEPROM_SETTINGS // Enable for M500 and M501 commands
+//#define DISABLE_M503    // Saves ~2700 bytes of PROGMEM. Disable for release!
+#define EEPROM_CHITCHAT   // Give feedback on EEPROM commands. Disable to save PROGMEM.
 
 //
 // Host Keepalive

commit 232a10410d32bac2780077880550152a6397cfe5
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Jul 1 22:23:03 2017 -0500

    LCD_FOR_MELZI

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 05e193f13a..1da8ecc5a9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1402,6 +1402,11 @@
                                   // A clone of the RepRapDiscount full graphics display but with
                                   // different pins/wiring (see pins_ANET_10.h).
 
+//
+// LCD for Melzi Card with Graphical LCD
+//
+//#define LCD_FOR_MELZI
+
 //
 // CONTROLLER TYPE: I2C
 //

commit dcec7178d17445be1b4181131ab82645a6057042
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Jul 1 21:30:46 2017 -0500

    Expose DISABLE_M503 option as a test option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 082d5a999a..05e193f13a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -992,8 +992,8 @@
 //#define EEPROM_SETTINGS
 
 #if ENABLED(EEPROM_SETTINGS)
-  // To disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
-  #define EEPROM_CHITCHAT // Please keep turned on if you can.
+  //#define DISABLE_M503  // Saves ~2700 bytes of PROGMEM. Disable for release!
+  #define EEPROM_CHITCHAT // Print a report on M500. Please keep turned on.
 #endif
 
 //

commit 5b03f23fa2e086cb056b6765a4824cdf3d6f7823
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Jun 28 13:44:04 2017 -0500

    Bring configurations up to date, fix some comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9295d6774b..082d5a999a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -988,7 +988,7 @@
 // M500 - stores parameters in EEPROM
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
-//define this to enable EEPROM support
+// Define this to enable EEPROM support
 //#define EEPROM_SETTINGS
 
 #if ENABLED(EEPROM_SETTINGS)
@@ -1392,6 +1392,16 @@
 //
 //#define BQ_LCD_SMART_CONTROLLER
 
+//
+// ANET_10 Controller supported displays.
+//
+//#define ANET_KEYPAD_LCD         // Requires ADC_KEYPAD_PIN to be assigned to an analog pin.
+                                  // This LCD is known to be susceptible to electrical interference
+                                  // which scrambles the display.  Pressing any button clears it up.
+//#define ANET_FULL_GRAPHICS_LCD  // Anet 128x64 full graphics lcd with rotary encoder as used on Anet A6
+                                  // A clone of the RepRapDiscount full graphics display but with
+                                  // different pins/wiring (see pins_ANET_10.h).
+
 //
 // CONTROLLER TYPE: I2C
 //
@@ -1501,13 +1511,13 @@
 // SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX
 
-// Support for the BariCUDA Paste Extruder.
+// Support for the BariCUDA Paste Extruder
 //#define BARICUDA
 
-//define BlinkM/CyzRgb Support
+// Support for BlinkM/CyzRgb
 //#define BLINKM
 
-//define PCA9632 PWM LED driver Support
+// Support for PCA9632 PWM LED driver
 //#define PCA9632
 
 /**

commit 5b11b33854c9950b9a98005aa7783b1fe67b6269
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Jun 2 13:57:31 2017 -0500

    Add support for Pr≈Ø≈°a MK2 Multiplexer

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ece9499328..9295d6774b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -138,6 +138,25 @@
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
 
+/**
+ * Pr≈Ø≈°a MK2 Single Nozzle Multi-Material Multiplexer, and variants.
+ *
+ * This device allows one stepper driver on a control board to drive
+ * two to eight stepper motors, one at a time, in a manner suitable
+ * for extruders.
+ *
+ * This option only allows the multiplexer to switch on tool-change.
+ * Additional options to configure custom E moves are pending.
+ */
+//#define MK2_MULTIPLEXER
+#if ENABLED(MK2_MULTIPLEXER)
+  // Override the default DIO selector pins here, if needed.
+  // Some pins files may provide defaults for these pins.
+  //#define E_MUX0_PIN 40  // Always Required
+  //#define E_MUX1_PIN 42  // Needed for 3 to 8 steppers
+  //#define E_MUX2_PIN 44  // Needed for 5 to 8 steppers
+#endif
+
 // A dual extruder that uses a single stepper motor
 //#define SWITCHING_EXTRUDER
 #if ENABLED(SWITCHING_EXTRUDER)

commit afbc6e3e2f1741f46c13304d3c660f69999de26c
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Jun 24 12:37:10 2017 -0500

    Update DELTA/SCARA config comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 78aaa2fabe..ece9499328 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -58,15 +58,15 @@
 //===========================================================================
 //============================= DELTA Printer ===============================
 //===========================================================================
-// For a Delta printer replace the configuration files with the files in the
-// example_configurations/delta directory.
+// For a Delta printer start with one of the configuration files in the
+// example_configurations/delta directory and customize for your machine.
 //
 
 //===========================================================================
 //============================= SCARA Printer ===============================
 //===========================================================================
-// For a Scara printer replace the configuration files with the files in the
-// example_configurations/SCARA directory.
+// For a SCARA printer start with the configuration files in
+// example_configurations/SCARA and customize for your machine.
 //
 
 // @section info

commit 325f09ea6c2073e5d0fadbf92470f372e64512ab
Author: Bob-the-Kuhn <bob.kuhn@att.net>
Date:   Wed Jun 21 21:30:43 2017 -0500

    Add link to custom LiquidCrystal library by F. Malpartida

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6c128f4e14..78aaa2fabe 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1389,6 +1389,9 @@
 //
 // Sainsmart YW Robot (LCM1602) LCD Display
 //
+// Note: This controller requires F.Malpartida's LiquidCrystal_I2C library
+// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home
+//
 //#define LCD_I2C_SAINSMART_YWROBOT
 
 //

commit 907cafcbfd3977712324c59a4e9af40bde167421
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Jun 19 16:54:37 2017 -0500

    Support for two switching extruders

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7d6c4a5614..6c128f4e14 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -142,7 +142,10 @@
 //#define SWITCHING_EXTRUDER
 #if ENABLED(SWITCHING_EXTRUDER)
   #define SWITCHING_EXTRUDER_SERVO_NR 0
-  #define SWITCHING_EXTRUDER_SERVO_ANGLES { 0, 90 } // Angles for E0, E1
+  #define SWITCHING_EXTRUDER_SERVO_ANGLES { 0, 90 } // Angles for E0, E1[, E2, E3]
+  #if EXTRUDERS > 3
+    #define SWITCHING_EXTRUDER_E23_SERVO_NR 1
+  #endif
 #endif
 
 // A dual-nozzle that uses a servomotor to raise/lower one of the nozzles

commit 0bc66bf22ceaa2a3a06d657893372f00b2d99f75
Author: dot-bob <robfrommendon@gmail.com>
Date:   Sat Jun 10 00:02:15 2017 -0600

    PCA9632 PWM color LED support
    
    Add support for the PCA9632 PWM color LED driver used on the Ultimaker 2 and Wanhao Duplicator 6.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cc422b6525..7d6c4a5614 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1482,6 +1482,9 @@
 //define BlinkM/CyzRgb Support
 //#define BLINKM
 
+//define PCA9632 PWM LED driver Support
+//#define PCA9632
+
 /**
  * RGB LED / LED Strip Control
  *
@@ -1519,7 +1522,7 @@
  *  - Change to green once print has finished
  *  - Turn off after the print has finished and the user has pushed a button
  */
-#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED)
+#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632)
   #define PRINTER_EVENT_LEDS
 #endif
 

commit 1c107b3949edf551f974f494a9e1fc92d35f37e4
Author: Bob-the-Kuhn <bob.kuhn@att.net>
Date:   Fri Jun 9 11:53:36 2017 -0500

    delete problem line

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2ab907bafc..cc422b6525 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -566,7 +566,6 @@
  *
  */
 //#define Z_MIN_PROBE_ENDSTOP
-//#define Z_MIN_PROBE_PIN Z_MAX_PIN
 
 /**
  * Probe Type

commit e556ab1dff267245af93def2196469bc2b12739e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Jun 7 09:40:07 2017 -0500

    Find three-point leveling points on Delta

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8b4735df1f..2ab907bafc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -881,12 +881,14 @@
   #define UBL_MESH_INSET 1          // Mesh inset margin on print area
   #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
   #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
-  #define UBL_PROBE_PT_1_X 39       // These set the probe locations for when UBL does a 3-Point leveling
-  #define UBL_PROBE_PT_1_Y 180      // of the mesh.
+
+  #define UBL_PROBE_PT_1_X 39       // Probing points for 3-Point leveling of the mesh
+  #define UBL_PROBE_PT_1_Y 180
   #define UBL_PROBE_PT_2_X 39
   #define UBL_PROBE_PT_2_Y 20
   #define UBL_PROBE_PT_3_X 180
   #define UBL_PROBE_PT_3_Y 20
+
   #define UBL_G26_MESH_VALIDATION   // Enable G26 mesh validation
   #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
 

commit 1919cb0d1e91e7c245d3af8c2183e465461971c7
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jun 1 19:17:52 2017 -0500

    Config cleanups

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9e7e98614c..8b4735df1f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -312,6 +312,7 @@
   #define K1 0.95 //smoothing factor within the PID
 
   // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
+
   // Ultimaker
   #define  DEFAULT_Kp 22.2
   #define  DEFAULT_Ki 1.08
@@ -1154,7 +1155,7 @@
  *  - Click the controller to view the LCD menu
  *  - The LCD will display Japanese, Western, or Cyrillic text
  *
- * See https: *github.com/MarlinFirmware/Marlin/wiki/LCD-Language
+ * See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
  *
  * :['JAPANESE', 'WESTERN', 'CYRILLIC']
  */

commit 364f8fb6136f977e7c1b80d4c71eb39e5823f615
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Sun May 21 11:10:22 2017 -0500

    Update Configuration.h files to better names (#6814)
    
    Changed UBL_G26_MESH_EDITING to UBL_G26_MESH_VALIDATION
    Added UBL_MESH_EDIT_MOVES_Z to prepare for that change (coming next)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 529b510aa3..9e7e98614c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -886,7 +886,8 @@
   #define UBL_PROBE_PT_2_Y 20
   #define UBL_PROBE_PT_3_X 180
   #define UBL_PROBE_PT_3_Y 20
-  //#define UBL_G26_MESH_EDITING    // Enable G26 mesh editing
+  #define UBL_G26_MESH_VALIDATION   // Enable G26 mesh validation
+  #define UBL_MESH_EDIT_MOVES_Z     // Sophisticated users prefer no movement of nozzle
 
 #elif ENABLED(MESH_BED_LEVELING)
 

commit 99c4900a98163c784ef210ec574fc052873e14e4
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 7 13:52:05 2017 -0500

    SPINDLE/LASER config changes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 774178f3d3..529b510aa3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -129,6 +129,8 @@
 // You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
+// @section extruder
+
 // This defines the number of extruders
 // :[1, 2, 3, 4, 5]
 #define EXTRUDERS 1
@@ -172,6 +174,8 @@
 //#define HOTEND_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
 //#define HOTEND_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
 
+// @section machine
+
 /**
  * Select your power supply here. Use 0 if you haven't connected the PS_ON_PIN
  *

commit c2321b1cdd18710625316ad37e2bbc21ce1bfa8a
Author: fixoid <fixoid@bk.ru>
Date:   Fri May 12 22:09:40 2017 +0300

    Separate SWITCHING_NOZZLE and SWITCHING_EXTRUDER

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 10aeda5e8a..774178f3d3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -137,12 +137,18 @@
 //#define SINGLENOZZLE
 
 // A dual extruder that uses a single stepper motor
-// Don't forget to set SSDE_SERVO_ANGLES and HOTEND_OFFSET_X/Y/Z
 //#define SWITCHING_EXTRUDER
 #if ENABLED(SWITCHING_EXTRUDER)
   #define SWITCHING_EXTRUDER_SERVO_NR 0
   #define SWITCHING_EXTRUDER_SERVO_ANGLES { 0, 90 } // Angles for E0, E1
-  //#define HOTEND_OFFSET_Z {0.0, 0.0}
+#endif
+
+// A dual-nozzle that uses a servomotor to raise/lower one of the nozzles
+//#define SWITCHING_NOZZLE
+#if ENABLED(SWITCHING_NOZZLE)
+  #define SWITCHING_NOZZLE_SERVO_NR 0
+  #define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   // Angles for E0, E1
+  //#define HOTEND_OFFSET_Z { 0.0, 0.0 }
 #endif
 
 /**

commit 1c4ed8b106f65cecda9ed369bf241230185e8034
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun May 7 00:28:06 2017 -0500

    Note 5 extruders in config comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b2f0cc6394..10aeda5e8a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -474,14 +474,14 @@
 /**
  * Default Axis Steps Per Unit (steps/mm)
  * Override with M92
- *                                      X, Y, Z, E0 [, E1[, E2[, E3]]]
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
  */
 #define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
 
 /**
  * Default Max Feed Rate (mm/s)
  * Override with M203
- *                                      X, Y, Z, E0 [, E1[, E2[, E3]]]
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
  */
 #define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
 
@@ -489,7 +489,7 @@
  * Default Max Acceleration (change/s) change = mm/s
  * (Maximum start speed for accelerated moves)
  * Override with M201
- *                                      X, Y, Z, E0 [, E1[, E2[, E3]]]
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3[, E4]]]]
  */
 #define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 

commit faa270071dfa34b906b5ebb74864f2a20ab10ead
Author: Brian <bgort@users.noreply.github.com>
Date:   Sun May 7 07:06:06 2017 -0400

    Improve BLTOUCH_HEATERS_OFF functionality
     - rename to PROBING_HEATERS_OFF
     - move heater pausing functionality into thermalManager
       - add variables, pause(), ispaused(), other functions
     - add fan pausing functionality -> PROBING_FANS_OFF
     - add probing_pause() wrapper
     - move pausing into do_homing_move() and do_probe_move() to minimize quiet time and so other probe types can benefit
     - example configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4c1a39b8f3..b2f0cc6394 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -584,14 +584,23 @@
 //#define Z_SERVO_ANGLES {70,0}  // Z Servo Deploy and Stow angles
 
 /**
- * The BLTouch probe is a Hall effect sensor that emulates a servo.
+ * The BLTouch probe uses a Hall effect sensor and emulates a servo.
  */
 //#define BLTOUCH
 #if ENABLED(BLTOUCH)
   //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
-  //#define BLTOUCH_HEATERS_OFF // Enable if the probe seems unreliable. Heaters will be disabled for each probe.
 #endif
 
+/**
+ * Enable if probing seems unreliable. Heaters and/or fans - consistent with the
+ * options selected below - will be disabled during probing so as to minimize
+ * potential EM interference by quieting/silencing the source of the 'noise' (the change
+ * in current flowing through the wires).  This is likely most useful to users of the
+ * BLTouch probe, but may also help those with inductive or other probe types.
+ */
+//#define PROBING_HEATERS_OFF       // Turn heaters off when probing
+//#define PROBING_FANS_OFF          // Turn fans off when probing
+
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE
 

commit 77769e284f0e2a8ca9af93aff880972fd05a7bab
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri May 5 13:30:19 2017 -0500

    Edit configuration comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 478bb9a1ea..4c1a39b8f3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -987,23 +987,17 @@
 #define PREHEAT_2_TEMP_BED    110
 #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
 
-//
-// Nozzle Park -- EXPERIMENTAL
-//
-// When enabled allows the user to define a special XYZ position, inside the
-// machine's topology, to park the nozzle when idle or when receiving the G27
-// command.
-//
-// The "P" paramenter controls what is the action applied to the Z axis:
-//    P0: (Default) If current Z-pos is lower than Z-park then the nozzle will
-//        be raised to reach Z-park height.
-//
-//    P1: No matter the current Z-pos, the nozzle will be raised/lowered to
-//        reach Z-park height.
-//
-//    P2: The nozzle height will be raised by Z-park amount but never going over
-//        the machine's limit of Z_MAX_POS.
-//
+/**
+ * Nozzle Park -- EXPERIMENTAL
+ *
+ * Park the nozzle at the given XYZ position on idle or G27.
+ *
+ * The "P" parameter controls the action applied to the Z axis:
+ *
+ *    P0  (Default) If Z is below park Z raise the nozzle.
+ *    P1  Raise the nozzle always to Z-park height.
+ *    P2  Raise the nozzle by Z-park amount, limited to Z_MAX_POS.
+ */
 //#define NOZZLE_PARK_FEATURE
 
 #if ENABLED(NOZZLE_PARK_FEATURE)
@@ -1011,44 +1005,44 @@
   #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
 #endif
 
-//
-// Clean Nozzle Feature -- EXPERIMENTAL
-//
-// When enabled allows the user to send G12 to start the nozzle cleaning
-// process, the G-Code accepts two parameters:
-//   "P" for pattern selection
-//   "S" for defining the number of strokes/repetitions
-//
-// Available list of patterns:
-//   P0: This is the default pattern, this process requires a sponge type
-//       material at a fixed bed location. S defines "strokes" i.e.
-//       back-and-forth movements between the starting and end points.
-//
-//   P1: This starts a zig-zag pattern between (X0, Y0) and (X1, Y1), "T"
-//       defines the number of zig-zag triangles to be done. "S" defines the
-//       number of strokes aka one back-and-forth movement. Zig-zags will
-//       be performed in whichever dimension is smallest. As an example,
-//       sending "G12 P1 S1 T3" will execute:
-//
-//          --
-//         |  (X0, Y1) |     /\        /\        /\     | (X1, Y1)
-//         |           |    /  \      /  \      /  \    |
-//       A |           |   /    \    /    \    /    \   |
-//         |           |  /      \  /      \  /      \  |
-//         |  (X0, Y0) | /        \/        \/        \ | (X1, Y0)
-//          --         +--------------------------------+
-//                       |________|_________|_________|
-//                           T1        T2        T3
-//
-//   P2: This starts a circular pattern with circle with middle in
-//       NOZZLE_CLEAN_CIRCLE_MIDDLE radius of R and stroke count of S.
-//       Before starting the circle nozzle goes to NOZZLE_CLEAN_START_POINT.
-//
-// Caveats: End point Z should use the same value as Start point Z.
-//
-// Attention: This is an EXPERIMENTAL feature, in the future the G-code arguments
-// may change to add new functionality like different wipe patterns.
-//
+/**
+ * Clean Nozzle Feature -- EXPERIMENTAL
+ *
+ * Adds the G12 command to perform a nozzle cleaning process.
+ *
+ * Parameters:
+ *   P  Pattern
+ *   S  Strokes / Repetitions
+ *   T  Triangles (P1 only)
+ *
+ * Patterns:
+ *   P0  Straight line (default). This process requires a sponge type material
+ *       at a fixed bed location. "S" specifies strokes (i.e. back-forth motions)
+ *       between the start / end points.
+ *
+ *   P1  Zig-zag pattern between (X0, Y0) and (X1, Y1), "T" specifies the
+ *       number of zig-zag triangles to do. "S" defines the number of strokes.
+ *       Zig-zags are done in whichever is the narrower dimension.
+ *       For example, "G12 P1 S1 T3" will execute:
+ *
+ *          --
+ *         |  (X0, Y1) |     /\        /\        /\     | (X1, Y1)
+ *         |           |    /  \      /  \      /  \    |
+ *       A |           |   /    \    /    \    /    \   |
+ *         |           |  /      \  /      \  /      \  |
+ *         |  (X0, Y0) | /        \/        \/        \ | (X1, Y0)
+ *          --         +--------------------------------+
+ *                       |________|_________|_________|
+ *                           T1        T2        T3
+ *
+ *   P2  Circular pattern with middle at NOZZLE_CLEAN_CIRCLE_MIDDLE.
+ *       "R" specifies the radius. "S" specifies the stroke count.
+ *       Before starting, the nozzle moves to NOZZLE_CLEAN_START_POINT.
+ *
+ *   Caveats: The ending Z should be the same as starting Z.
+ * Attention: EXPERIMENTAL. G-code arguments may change.
+ *
+ */
 //#define NOZZLE_CLEAN_FEATURE
 
 #if ENABLED(NOZZLE_CLEAN_FEATURE)
@@ -1073,33 +1067,35 @@
   #define NOZZLE_CLEAN_GOBACK
 #endif
 
-//
-// Print job timer
-//
-// Enable this option to automatically start and stop the
-// print job timer when M104/M109/M190 commands are received.
-// M104 (extruder without wait) - high temp = none, low temp = stop timer
-// M109 (extruder with wait) - high temp = start timer, low temp = stop timer
-// M190 (bed with wait) - high temp = start timer, low temp = none
-//
-// In all cases the timer can be started and stopped using
-// the following commands:
-//
-// - M75  - Start the print job timer
-// - M76  - Pause the print job timer
-// - M77  - Stop the print job timer
+/**
+ * Print Job Timer
+ *
+ * Automatically start and stop the print job timer on M104/M109/M190.
+ *
+ *   M104 (hotend, no wait) - high temp = none,        low temp = stop timer
+ *   M109 (hotend, wait)    - high temp = start timer, low temp = stop timer
+ *   M190 (bed, wait)       - high temp = start timer, low temp = none
+ *
+ * The timer can also be controlled with the following commands:
+ *
+ *   M75 - Start the print job timer
+ *   M76 - Pause the print job timer
+ *   M77 - Stop the print job timer
+ */
 #define PRINTJOB_TIMER_AUTOSTART
 
-//
-// Print Counter
-//
-// When enabled Marlin will keep track of some print statistical data such as:
-//  - Total print jobs
-//  - Total successful print jobs
-//  - Total failed print jobs
-//  - Total time printing
-//
-// This information can be viewed by the M78 command.
+/**
+ * Print Counter
+ *
+ * Track statistical data such as:
+ *
+ *  - Total print jobs
+ *  - Total successful print jobs
+ *  - Total failed print jobs
+ *  - Total time printing
+ *
+ * View the current statistics with M78.
+ */
 //#define PRINTCOUNTER
 
 //=============================================================================
@@ -1108,78 +1104,79 @@
 
 // @section lcd
 
-//
-// LCD LANGUAGE
-//
-// Here you may choose the language used by Marlin on the LCD menus, the following
-// list of languages are available:
-//    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
-//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, uk, test
-//
-// :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'uk':'Ukrainian', 'test':'TEST' }
-//
+/**
+ * LCD LANGUAGE
+ *
+ * Select the language to display on the LCD. These languages are available:
+ *
+ *    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
+ *    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, uk, test
+ *
+ * :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'uk':'Ukrainian', 'test':'TEST' }
+ */
 #define LCD_LANGUAGE en
 
-//
-// LCD Character Set
-//
-// Note: This option is NOT applicable to Graphical Displays.
-//
-// All character-based LCD's provide ASCII plus one of these
-// language extensions:
-//
-//  - JAPANESE ... the most common
-//  - WESTERN  ... with more accented characters
-//  - CYRILLIC ... for the Russian language
-//
-// To determine the language extension installed on your controller:
-//
-//  - Compile and upload with LCD_LANGUAGE set to 'test'
-//  - Click the controller to view the LCD menu
-//  - The LCD will display Japanese, Western, or Cyrillic text
-//
-// See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
-//
-// :['JAPANESE', 'WESTERN', 'CYRILLIC']
-//
+/**
+ * LCD Character Set
+ *
+ * Note: This option is NOT applicable to Graphical Displays.
+ *
+ * All character-based LCDs provide ASCII plus one of these
+ * language extensions:
+ *
+ *  - JAPANESE ... the most common
+ *  - WESTERN  ... with more accented characters
+ *  - CYRILLIC ... for the Russian language
+ *
+ * To determine the language extension installed on your controller:
+ *
+ *  - Compile and upload with LCD_LANGUAGE set to 'test'
+ *  - Click the controller to view the LCD menu
+ *  - The LCD will display Japanese, Western, or Cyrillic text
+ *
+ * See https: *github.com/MarlinFirmware/Marlin/wiki/LCD-Language
+ *
+ * :['JAPANESE', 'WESTERN', 'CYRILLIC']
+ */
 #define DISPLAY_CHARSET_HD44780 JAPANESE
 
-//
-// LCD TYPE
-//
-// You may choose ULTRA_LCD if you have character based LCD with 16x2, 16x4, 20x2,
-// 20x4 char/lines or DOGLCD for the full graphics display with 128x64 pixels
-// (ST7565R family). (This option will be set automatically for certain displays.)
-//
-// IMPORTANT NOTE: The U8glib library is required for Full Graphic Display!
-//                 https://github.com/olikraus/U8glib_Arduino
-//
+/**
+ * LCD TYPE
+ *
+ * Enable ULTRA_LCD for a 16x2, 16x4, 20x2, or 20x4 character-based LCD.
+ * Enable DOGLCD for a 128x64 (ST7565R) Full Graphical Display.
+ * (These options will be enabled automatically for most displays.)
+ *
+ * IMPORTANT: The U8glib library is required for Full Graphic Display!
+ *            https://github.com/olikraus/U8glib_Arduino
+ */
 //#define ULTRA_LCD   // Character based
 //#define DOGLCD      // Full graphics display
 
-//
-// SD CARD
-//
-// SD Card support is disabled by default. If your controller has an SD slot,
-// you must uncomment the following option or it won't work.
-//
+/**
+ * SD CARD
+ *
+ * SD Card support is disabled by default. If your controller has an SD slot,
+ * you must uncomment the following option or it won't work.
+ *
+ */
 //#define SDSUPPORT
 
-//
-// SD CARD: SPI SPEED
-//
-// Uncomment ONE of the following items to use a slower SPI transfer
-// speed. This is usually required if you're getting volume init errors.
-//
+/**
+ * SD CARD: SPI SPEED
+ *
+ * Enable one of the following items for a slower SPI transfer speed.
+ * This may be required to resolve "volume init" errors.
+ */
 //#define SPI_SPEED SPI_HALF_SPEED
 //#define SPI_SPEED SPI_QUARTER_SPEED
 //#define SPI_SPEED SPI_EIGHTH_SPEED
 
-//
-// SD CARD: ENABLE CRC
-//
-// Use CRC checks and retries on the SD communication.
-//
+/**
+ * SD CARD: ENABLE CRC
+ *
+ * Use CRC checks and retries on the SD communication.
+ */
 //#define SD_CHECK_AND_RETRY
 
 //
@@ -1207,7 +1204,7 @@
  */
 
 //
-// This option reverses the encoder direction everywhere
+// This option reverses the encoder direction everywhere.
 //
 //  Set this option if CLOCKWISE causes values to DECREASE
 //

commit da08e11acd82c6db4168da352baf202c5b1341b2
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu May 4 00:19:07 2017 -0500

    Add EXTRAPOLATE_BEYOND_GRID option to bilinear leveling

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0bd5522620..478bb9a1ea 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -825,6 +825,10 @@
 
   #if ENABLED(AUTO_BED_LEVELING_BILINEAR)
 
+    // Beyond the probed grid, continue the implied tilt?
+    // Default is to maintain the height of the nearest edge.
+    //#define EXTRAPOLATE_BEYOND_GRID
+
     //
     // Experimental Subdivision of the grid by Catmull-Rom method.
     // Synthesizes intermediate points to produce a more detailed mesh.

commit 54751e855738f8ddb42a871f0b62a22820074075
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Apr 29 05:37:46 2017 -0500

    Put DISTINCT_E_FACTORS adjacent to the affected settings

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 84a70d16ad..0bd5522620 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -133,9 +133,6 @@
 // :[1, 2, 3, 4, 5]
 #define EXTRUDERS 1
 
-// Enable if your E steppers or extruder gear ratios are not identical
-//#define DISTINCT_E_FACTORS
-
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
 
@@ -464,12 +461,16 @@
  *
  * These settings can be reset by M502
  *
- * You can set distinct factors for each E stepper, if needed.
- * If fewer factors are given, the last will apply to the rest.
- *
  * Note that if EEPROM is enabled, saved values will override these.
  */
 
+/**
+ * With this option each E stepper can have its own factors for the
+ * following movement settings. If fewer factors are given than the
+ * total number of extruders, the last value applies to the rest.
+ */
+//#define DISTINCT_E_FACTORS
+
 /**
  * Default Axis Steps Per Unit (steps/mm)
  * Override with M92

commit 0dbe4b3e546b8ec034f953c6646e945b1a196241
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Apr 29 04:26:53 2017 -0500

    Edit configurations to reduce verbosity, arrange logically

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3ee77bb278..84a70d16ad 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -518,77 +518,90 @@
 #define DEFAULT_EJERK                  5.0
 
 
+//===========================================================================
+//============================= Z Probe Options =============================
+//===========================================================================
+// @section probes
+
+//
+// See http://marlinfw.org/configuration/probes.html
+//
+
 /**
- * ===========================================================================
- * ============================= Z Probe Options =============================
- * ===========================================================================
- * @section probes
+ * Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
+ *
+ * Enable this option for a probe connected to the Z Min endstop pin.
+ */
+#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
+
+/**
+ * Z_MIN_PROBE_ENDSTOP
+ *
+ * Enable this option for a probe connected to any pin except Z-Min.
+ * (By default Marlin assumes the Z-Max endstop pin.)
+ * To use a custom Z Probe pin, set Z_MIN_PROBE_PIN below.
+ *
+ *  - The simplest option is to use a free endstop connector.
+ *  - Use 5V for powered (usually inductive) sensors.
  *
+ *  - RAMPS 1.3/1.4 boards may use the 5V, GND, and Aux4->D32 pin:
+ *    - For simple switches connect...
+ *      - normally-closed switches to GND and D32.
+ *      - normally-open switches to 5V and D32.
  *
- *   Probe Type
- *   Probes are sensors/switches that are activated / deactivated before/after use.
+ * WARNING: Setting the wrong pin may have unexpected and potentially
+ * disastrous consequences. Use with caution and do your homework.
  *
- *   Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
- *   You must activate one of these to use Auto Bed Leveling below.
+ */
+//#define Z_MIN_PROBE_ENDSTOP
+//#define Z_MIN_PROBE_PIN Z_MAX_PIN
+
+/**
+ * Probe Type
  *
- *   Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
+ * Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
+ * You must activate one of these to use Auto Bed Leveling below.
  */
 
 /**
- *   The "Manual Probe" provides a means to do "Auto" Bed Leveling without a probe.
- *   Use G29 repeatedly, adjusting the Z height at each point with movement commands
- *   or (with LCD_BED_LEVELING) the LCD controller.
+ * The "Manual Probe" provides a means to do "Auto" Bed Leveling without a probe.
+ * Use G29 repeatedly, adjusting the Z height at each point with movement commands
+ * or (with LCD_BED_LEVELING) the LCD controller.
  */
 //#define PROBE_MANUALLY
 
 /**
- *   A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
- *   For example an inductive probe, or a setup that uses the nozzle to probe.
- *   An inductive probe must be deactivated to go below
- *   its trigger-point if hardware endstops are active.
+ * A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
+ *   (e.g., an inductive probe or a nozzle-based probe-switch.)
  */
 //#define FIX_MOUNTED_PROBE
 
 /**
- *   Z Servo Probe, such as an endstop switch on a rotating arm.
- *   NUM_SERVOS also needs to be set.  This is found later in this file.  Set it to
- *   1 + the number of other servos in your system.
+ * Z Servo Probe, such as an endstop switch on a rotating arm.
  */
 //#define Z_ENDSTOP_SERVO_NR 0   // Defaults to SERVO 0 connector.
 //#define Z_SERVO_ANGLES {70,0}  // Z Servo Deploy and Stow angles
 
- /**
- *   The BLTouch probe emulates a servo probe.
- *   If using a BLTouch then NUM_SERVOS, Z_ENDSTOP_SERVO_NR and Z_SERVO_ANGLES
- *   are setup for you in the background and you shouldn't need to set/modify/enable them
- *   with the possible exception of Z_ENDSTOP_SERVO_NR.
- */
-//#define BLTOUCH
-//#define BLTOUCH_DELAY 375 // (ms) Enable and increase if needed
-//#define BLTOUCH_HEATERS_OFF // if defined the printer's heaters are turned off during probe event
-
 /**
- *   BLTouch WARNING  -  ONLY APPLIES TO VERSIONS OF MARLIN BEFORE 15 FEB 2017
- *   Unless using interrupt endstops, there is a MINIMUM feedrate for Marlin to reliably
- *   sense the BLTouch.  If the feedrate is too slow then G28 & G29 can sometimes result
- *   in the print head being driven into the bed until manual intervention.
- *   The minimum feedrate calculation is:
- *
- *     feedrate minimum =  24000 / DEFAULT_AXIS_STEPS_PER_UNIT
- *        where feedrate is in "mm/minute" or "inches/minute" depending on the units used
- *        in DEFAULT_AXIS_STEPS_PER_UNIT
- *
- *   This applies to the HOMING_FEEDRATE_Z and Z_PROBE_SPEED_FAST.  If PROBE_DOUBLE_TOUCH
- *   is enabled then it also applies to Z_PROBE_SPEED_SLOW.
+ * The BLTouch probe is a Hall effect sensor that emulates a servo.
  */
+//#define BLTOUCH
+#if ENABLED(BLTOUCH)
+  //#define BLTOUCH_DELAY 375   // (ms) Enable and increase if needed
+  //#define BLTOUCH_HEATERS_OFF // Enable if the probe seems unreliable. Heaters will be disabled for each probe.
+#endif
 
 // A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
 //#define SOLENOID_PROBE
 
-// Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
+// A sled-mounted probe like those designed by Charles Bell.
 //#define Z_PROBE_SLED
 //#define SLED_DOCKING_OFFSET 5  // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
+//
+// For Z_PROBE_ALLEN_KEY see the Delta example configurations.
+//
+
 /**
  *   Z Probe to nozzle (X,Y) offset, relative to (0, 0).
  *   X and Y offsets must be integers.
@@ -624,69 +637,6 @@
 // Use double touch for probing
 //#define PROBE_DOUBLE_TOUCH
 
-/**
- *   Allen Key Probe is defined in the Delta example configurations.
- *
- *
- *   *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
- *
- *   - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
- *   - Use 5V for powered (usu. inductive) sensors.
- *   - Otherwise connect:
- *     - normally-closed switches to GND and D32.
- *     - normally-open switches to 5V and D32.
- *
- *   Normally-closed switches are advised and are the default.
- *
- *
- *   PIN OPTIONS\SETUP FOR Z PROBES
- *
- *
- *   WARNING:
- *   Setting the wrong pin may have unexpected and potentially disastrous consequences.
- *   Use with caution and do your homework.
- *
- *
- *   All Z PROBE pin options are configured by defining (or not defining)
- *   the following five items:
- *       Z_MIN_PROBE_ENDSTOP ‚Äì defined below
- *       Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN ‚Äì defined below
- *       Z_MIN_PIN - defined in the pins_YOUR_BOARD.h file
- *       Z_MIN_PROBE_PIN - defined in the pins_YOUR_BOARD.h file
- *
- *   If you're using a probe then you need to tell Marlin which pin to use as
- *   the Z MIN ENDSTOP.  Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN determines if the
- *   Z_MIN_PIN or if the Z_MIN_PROBE_PIN is used.
- *
- *   The pin selected for the probe is ONLY checked during probing operations.
- *   If you want to use the Z_MIN_PIN as an endstop AND you want to have a Z PROBE
- *   then you‚Äôll need to use the Z_MIN_PROBE_PIN option.
- *
- *   Z_MIN_PROBE_ENDSTOP also needs to be enabled if you want to use Z_MIN_PROBE_PIN.
- *
- *   The settings needed to use the Z_MIN_PROBE_PIN are:
- *       1. select the type of probe you're using
- *       2. define Z_MIN_PROBE_PIN in your pins_YOUR_BOARD.h file
- *       3. disable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
- *       4. enable Z_MIN_PROBE_ENDSTOP
- *   NOTE ‚Äì if Z_MIN_PIN is defined then it‚Äôll be checked during all moves in the
- *          negative Z direction.
- *
- *   The settings needed to use the Z_MIN_PIN are:
- *       1. select the type of probe you're using
- *       2. enable Z_MIN _PIN in your pins_YOUR_BOARD.h file
- *       3. enable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
- *       4. disable Z_MIN_PROBE_ENDSTOP
- *   NOTES ‚Äì if Z_MIN_PROBE_PIN is defined in the pins_YOUR_BOARD.h file then it‚Äôll be
- *          ignored by Marlin
- */
-
-//#define Z_MIN_PROBE_ENDSTOP
-#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
-
-// Enable Z Probe Repeatability test to see how accurate your probe is
-//#define Z_MIN_PROBE_REPEATABILITY_TEST
-
 /**
  * Z probes require clearance when deploying, stowing, and moving between
  * probe points to avoid hitting the bed and other hardware.
@@ -708,6 +658,9 @@
 #define Z_PROBE_OFFSET_RANGE_MIN -20
 #define Z_PROBE_OFFSET_RANGE_MAX 20
 
+// Enable the M48 repeatability test to test probe accuracy
+//#define Z_MIN_PROBE_REPEATABILITY_TEST
+
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 // :{ 0:'Low', 1:'High' }
 #define X_ENABLE_ON 0
@@ -726,7 +679,7 @@
 // @section extruder
 
 #define DISABLE_E false // For all extruders
-#define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
+#define DISABLE_INACTIVE_EXTRUDER true // Keep only the active extruder enabled.
 
 // @section machine
 

commit d7d4378481e980186004bbbdd1f451376aa44792
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Apr 29 04:23:58 2017 -0500

    Remove inaccurate version description

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 603627fc04..3ee77bb278 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -37,18 +37,6 @@
  */
 #ifndef CONFIGURATION_H
 #define CONFIGURATION_H
-
-/**
- *
- *  ***********************************
- *  **  ATTENTION TO ALL DEVELOPERS  **
- *  ***********************************
- *
- * You must increment this version number for every significant change such as,
- * but not limited to: ADD, DELETE RENAME OR REPURPOSE any directive/option.
- *
- * Note: Update also Version.h !
- */
 #define CONFIGURATION_H_VERSION 010100
 
 //===========================================================================

commit 7db805930a8ffa46f199951d98858fa02ef5777a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Apr 28 17:49:18 2017 -0500

    Cleanup configurations

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ef6c3ff52e..603627fc04 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -534,7 +534,7 @@
  * ===========================================================================
  * ============================= Z Probe Options =============================
  * ===========================================================================
- *    @section probes
+ * @section probes
  *
  *
  *   Probe Type

commit 4075b95519d5867ccf69aa1f2f2d105bd8f8de3d
Author: Roxy-3D <Roxy-3D@users.noreply.github.com>
Date:   Fri Apr 28 09:19:55 2017 -0500

    Allow BL-Touch users to control heaters during probe event (#6485)
    
    The Configuration.h file entries for BL-Touch have been updated to:
    ```cpp
    //#define BLTOUCH
    //#define BLTOUCH_DELAY 375      // (ms) Enable and increase if needed
    //#define BLTOUCH_HEATERS_OFF // if defined the printer's heaters are
    turned off during probe event
    ```

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 97d5b44b28..ef6c3ff52e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -577,6 +577,7 @@
  */
 //#define BLTOUCH
 //#define BLTOUCH_DELAY 375 // (ms) Enable and increase if needed
+//#define BLTOUCH_HEATERS_OFF // if defined the printer's heaters are turned off during probe event
 
 /**
  *   BLTouch WARNING  -  ONLY APPLIES TO VERSIONS OF MARLIN BEFORE 15 FEB 2017

commit 959566cf0a1d4896148a01819647932d5a4d794c
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Apr 22 12:52:48 2017 -0500

    Update note about M163 / M164

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2730f193c8..97d5b44b28 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -164,7 +164,7 @@
  * "Mixing Extruder"
  *   - Adds a new code, M165, to set the current mix factors.
  *   - Extends the stepping routines to move multiple steppers in proportion to the mix.
- *   - Optional support for Repetier Host M163, M164, and virtual extruder.
+ *   - Optional support for Repetier Firmware M163, M164, and virtual extruder.
  *   - This implementation supports only a single extruder.
  *   - Enable DIRECT_MIXING_IN_G1 for Pia Taubert's reference implementation
  */

commit 0e97b3d6d0f20c926ec79435dfcb9045c15d9052
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 14 22:12:08 2017 -0500

    Fix some configuration spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 188e17d547..2730f193c8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1522,7 +1522,7 @@
  * Enable support for an RGB LED connected to 5V digital pins, or
  * an RGB Strip connected to MOSFETs controlled by digital pins.
  *
- * Adds the M150 command to set the LED (or LED strip) color. 
+ * Adds the M150 command to set the LED (or LED strip) color.
  * If pins are PWM capable (e.g., 4, 5, 6, 11) then a range of
  * luminance values can be set from 0 to 255.
  *

commit 1bd25fd2b3ce905fb86d49796606e812232eb836
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Apr 13 21:06:37 2017 -0500

    Clean up config spacing, section headings, etc.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0fca8aa5b0..188e17d547 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -695,7 +695,6 @@
 //#define Z_MIN_PROBE_ENDSTOP
 #define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
 
-
 // Enable Z Probe Repeatability test to see how accurate your probe is
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 

commit fd2a0784ba077abeec262cf4f023ff32baa93a28
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 14 16:36:02 2017 -0500

    Add support for SOLENOID_PROBE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cc57bff662..0fca8aa5b0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -593,6 +593,9 @@
  *   is enabled then it also applies to Z_PROBE_SPEED_SLOW.
  */
 
+// A probe that is deployed and stowed with a solenoid pin (SOL1_PIN)
+//#define SOLENOID_PROBE
+
 // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 //#define Z_PROBE_SLED
 //#define SLED_DOCKING_OFFSET 5  // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.

commit dac21ec680b348db8106e13cf202698e6c0dab12
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Apr 11 12:58:55 2017 -0500

    Add support for an RGBW LED

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4152d7d33e..cc57bff662 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1532,10 +1532,12 @@
  *
  */
 //#define RGB_LED
-#if ENABLED(RGB_LED)
+//#define RGBW_LED
+#if ENABLED(RGB_LED) || ENABLED(RGBW_LED)
   #define RGB_LED_R_PIN 34
   #define RGB_LED_G_PIN 43
   #define RGB_LED_B_PIN 35
+  #define RGB_LED_W_PIN -1
 #endif
 
 /**
@@ -1549,7 +1551,7 @@
  *  - Change to green once print has finished
  *  - Turn off after the print has finished and the user has pushed a button
  */
-#if ENABLED(BLINKM) || ENABLED(RGB_LED)
+#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED)
   #define PRINTER_EVENT_LEDS
 #endif
 

commit e7746ffee4e6cf47b38f5e424cd38ed1ccb88d97
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Apr 4 16:26:30 2017 -0500

    Extend RGB LED support, adding Printer Events

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e17a2db8a0..4152d7d33e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1514,7 +1514,23 @@
 //define BlinkM/CyzRgb Support
 //#define BLINKM
 
-// Support for an RGB LED using 3 separate pins with optional PWM
+/**
+ * RGB LED / LED Strip Control
+ *
+ * Enable support for an RGB LED connected to 5V digital pins, or
+ * an RGB Strip connected to MOSFETs controlled by digital pins.
+ *
+ * Adds the M150 command to set the LED (or LED strip) color. 
+ * If pins are PWM capable (e.g., 4, 5, 6, 11) then a range of
+ * luminance values can be set from 0 to 255.
+ *
+ * *** CAUTION ***
+ *  LED Strips require a MOFSET Chip between PWM lines and LEDs,
+ *  as the Arduino cannot handle the current the LEDs will require.
+ *  Failure to follow this precaution can destroy your Arduino!
+ * *** CAUTION ***
+ *
+ */
 //#define RGB_LED
 #if ENABLED(RGB_LED)
   #define RGB_LED_R_PIN 34
@@ -1522,6 +1538,21 @@
   #define RGB_LED_B_PIN 35
 #endif
 
+/**
+ * Printer Event LEDs
+ *
+ * During printing, the LEDs will reflect the printer status:
+ *
+ *  - Gradually change from blue to violet as the heated bed gets to target temp
+ *  - Gradually change from violet to red as the hotend gets to temperature
+ *  - Change to white to illuminate work surface
+ *  - Change to green once print has finished
+ *  - Turn off after the print has finished and the user has pushed a button
+ */
+#if ENABLED(BLINKM) || ENABLED(RGB_LED)
+  #define PRINTER_EVENT_LEDS
+#endif
+
 /*********************************************************************\
 * R/C SERVO support
 * Sponsored by TrinityLabs, Reworked by codexmas

commit 9343f6a95f87aad6cf90c6c3839f77d283e98462
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Feb 14 04:32:18 2017 -0600

    Put TOSHIBA with other stepper driver options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f1a31b6e2f..e17a2db8a0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -423,9 +423,6 @@
 //#define COREZX
 //#define COREZY
 
-// Enable this option for Toshiba steppers
-//#define CONFIG_STEPPERS_TOSHIBA
-
 //===========================================================================
 //============================== Endstop Settings ===========================
 //===========================================================================
@@ -747,6 +744,9 @@
 #define INVERT_Y_DIR true
 #define INVERT_Z_DIR false
 
+// Enable this option for Toshiba stepper drivers
+//#define CONFIG_STEPPERS_TOSHIBA
+
 // @section extruder
 
 // For direct drive extruder v9 set to true, for geared extruder set to false.

commit 1855534f20110809771c3c622fc9494da0436c72
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Apr 9 06:44:25 2017 -0500

    Config files cleanup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2da80900e5..f1a31b6e2f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -720,7 +720,6 @@
 #define Z_PROBE_OFFSET_RANGE_MIN -20
 #define Z_PROBE_OFFSET_RANGE_MAX 20
 
-
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 // :{ 0:'Low', 1:'High' }
 #define X_ENABLE_ON 0

commit c26a315d0bcf10f3149034ceb534b0e2fef52047
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Apr 9 04:20:06 2017 -0500

    Additional missed patches

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 03ce3a578d..2da80900e5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -696,7 +696,7 @@
 #define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
 
 
-/* Enable Z Probe Repeatability test to see how accurate your probe is  */
+// Enable Z Probe Repeatability test to see how accurate your probe is
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
 /**
@@ -716,7 +716,7 @@
 #define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
 #define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
 
-/* For M851 give a range for adjusting the Z probe offset */
+// For M851 give a range for adjusting the Z probe offset
 #define Z_PROBE_OFFSET_RANGE_MIN -20
 #define Z_PROBE_OFFSET_RANGE_MAX 20
 

commit c54f6cf23d3da19f1831981aaf813834254f3d34
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Apr 9 03:23:05 2017 -0500

    Updates to support 5 extruders

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 251991a2af..03ce3a578d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -142,7 +142,7 @@
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
 // This defines the number of extruders
-// :[1, 2, 3, 4]
+// :[1, 2, 3, 4, 5]
 #define EXTRUDERS 1
 
 // Enable if your E steppers or extruder gear ratios are not identical

commit 824f3c1c0d131de5b6e1bf88c7b508e9dee23732
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Apr 8 02:49:40 2017 -0500

    Fix up configuration comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c9e54c59df..251991a2af 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -596,7 +596,7 @@
  *   is enabled then it also applies to Z_PROBE_SPEED_SLOW.
  */
 
-/*   Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.  */
+// Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 //#define Z_PROBE_SLED
 //#define SLED_DOCKING_OFFSET 5  // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
@@ -623,16 +623,16 @@
 #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
 #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
 
-/*   X and Y axis travel speed (mm/m) between probes */
+// X and Y axis travel speed (mm/m) between probes
 #define XY_PROBE_SPEED 8000
 
-/*   Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH) */
+// Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH)
 #define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
 
-/*   Speed for the "accurate" probe of each point  */
+// Speed for the "accurate" probe of each point
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
 
-/*   Use double touch for probing  */
+// Use double touch for probing
 //#define PROBE_DOUBLE_TOUCH
 
 /**

commit 995ed90248bc018a867aff337cec78b573459666
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Apr 4 18:06:19 2017 -0500

    Clean up Filament Width Sensor comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 15d7238f5c..c9e54c59df 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1547,33 +1547,39 @@
 // With this option servos are powered only during movement, then turned off to prevent jitter.
 //#define DEACTIVATE_SERVOS_AFTER_MOVE
 
-/**********************************************************************\
- * Support for a filament diameter sensor
- * Also allows adjustment of diameter at print time (vs  at slicing)
- * Single extruder only at this point (extruder 0)
- *
- * Motherboards
- * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector
- * 81 - Printrboard - Uses Analog input 2 on the Exp1 connector (version B,C,D,E)
- * 301 - Rambo  - uses Analog input 3
- * Note may require analog pins to be defined for different motherboards
- **********************************************************************/
-// Uncomment below to enable
+/**
+ * Filament Width Sensor
+ *
+ * Measures the filament width in real-time and adjusts
+ * flow rate to compensate for any irregularities.
+ *
+ * Also allows the measured filament diameter to set the
+ * extrusion rate, so the slicer only has to specify the
+ * volume.
+ *
+ * Only a single extruder is supported at this time.
+ *
+ *  34 RAMPS_14    : Analog input 5 on the AUX2 connector
+ *  81 PRINTRBOARD : Analog input 2 on the Exp1 connector (version B,C,D,E)
+ * 301 RAMBO       : Analog input 3
+ *
+ * Note: May require analog pins to be defined for other boards.
+ */
 //#define FILAMENT_WIDTH_SENSOR
 
-#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
+#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00   // (mm) Diameter of the filament generally used (3.0 or 1.75mm), also used in the slicer. Used to validate sensor reading.
 
 #if ENABLED(FILAMENT_WIDTH_SENSOR)
-  #define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
-  #define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
+  #define FILAMENT_SENSOR_EXTRUDER_NUM 0    // Index of the extruder that has the filament sensor (0,1,2,3)
+  #define MEASUREMENT_DELAY_CM        14    // (cm) The distance from the filament sensor to the melting chamber
 
-  #define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
-  #define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
-  #define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
+  #define MEASURED_UPPER_LIMIT         3.30 // (mm) Upper limit used to validate sensor reading
+  #define MEASURED_LOWER_LIMIT         1.90 // (mm) Lower limit used to validate sensor reading
+  #define MAX_MEASUREMENT_DELAY       20    // (bytes) Buffer size for stored measurements (1 byte per cm). Must be larger than MEASUREMENT_DELAY_CM.
 
-  #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
+  #define DEFAULT_MEASURED_FILAMENT_DIA DEFAULT_NOMINAL_FILAMENT_DIA // Set measured to nominal initially
 
-  //When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
+  // Display filament width on the LCD status line. Status messages will expire after 5 seconds.
   //#define FILAMENT_LCD_DISPLAY
 #endif
 

commit 2a84122edd48e5fd31a8236028dd29f9cdcec241
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Apr 6 16:45:29 2017 -0500

    Configuration changes to support 5 extruders

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bc85cc2fb8..15d7238f5c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -254,6 +254,7 @@
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_3 0
+#define TEMP_SENSOR_4 0
 #define TEMP_SENSOR_BED 0
 
 // Dummy thermistor constant temperature readings, for use with 998 and 999
@@ -282,6 +283,7 @@
 #define HEATER_1_MINTEMP 5
 #define HEATER_2_MINTEMP 5
 #define HEATER_3_MINTEMP 5
+#define HEATER_4_MINTEMP 5
 #define BED_MINTEMP 5
 
 // When temperature exceeds max temp, your heater will be switched off.
@@ -291,6 +293,7 @@
 #define HEATER_1_MAXTEMP 275
 #define HEATER_2_MAXTEMP 275
 #define HEATER_3_MAXTEMP 275
+#define HEATER_4_MAXTEMP 275
 #define BED_MAXTEMP 150
 
 //===========================================================================
@@ -752,6 +755,7 @@
 #define INVERT_E1_DIR false
 #define INVERT_E2_DIR false
 #define INVERT_E3_DIR false
+#define INVERT_E4_DIR false
 
 // @section homing
 

commit 3b8926bd094b7857ef393aa165da587441e33dd1
Author: Bob-the-Kuhn <bob.kuhn@att.net>
Date:   Tue Jan 10 19:23:22 2017 -0600

    improved wording, consolidation of info, BLTouch warning
    
    ==============================================
    
    clarified BLTouch calculation & changed comment delimitters/flags
    
    I found it hard to pickout the various sections in this area so I
    changed most comments from // style to /** ... */
    
    Made the BLTouch calculation simpler and clarified the units of measure
    for the result.
    
    ============================================
    
    add changes to example configurations
    
    ============================================
    
    add TinyBoy2 to this PR & add BLTouch Delay

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8fc9f74785..bc85cc2fb8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -530,122 +530,170 @@
 #define DEFAULT_EJERK                  5.0
 
 
-//===========================================================================
-//============================= Z Probe Options =============================
-//===========================================================================
-// @section probes
-
-//
-// Probe Type
-// Probes are sensors/switches that are activated / deactivated before/after use.
-//
-// Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
-// You must activate one of these to use Auto Bed Leveling below.
-//
-// Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
-//
+/**
+ * ===========================================================================
+ * ============================= Z Probe Options =============================
+ * ===========================================================================
+ *    @section probes
+ *
+ *
+ *   Probe Type
+ *   Probes are sensors/switches that are activated / deactivated before/after use.
+ *
+ *   Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
+ *   You must activate one of these to use Auto Bed Leveling below.
+ *
+ *   Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
+ */
 
-// The "Manual Probe" provides a means to do "Auto" Bed Leveling without a probe.
-// Use G29 repeatedly, adjusting the Z height at each point with movement commands
-// or (with LCD_BED_LEVELING) the LCD controller.
+/**
+ *   The "Manual Probe" provides a means to do "Auto" Bed Leveling without a probe.
+ *   Use G29 repeatedly, adjusting the Z height at each point with movement commands
+ *   or (with LCD_BED_LEVELING) the LCD controller.
+ */
 //#define PROBE_MANUALLY
 
-// A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
-// For example an inductive probe, or a setup that uses the nozzle to probe.
-// An inductive probe must be deactivated to go below
-// its trigger-point if hardware endstops are active.
+/**
+ *   A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
+ *   For example an inductive probe, or a setup that uses the nozzle to probe.
+ *   An inductive probe must be deactivated to go below
+ *   its trigger-point if hardware endstops are active.
+ */
 //#define FIX_MOUNTED_PROBE
 
-// The BLTouch probe emulates a servo probe.
-// The default connector is SERVO 0. Set Z_ENDSTOP_SERVO_NR below to override.
+/**
+ *   Z Servo Probe, such as an endstop switch on a rotating arm.
+ *   NUM_SERVOS also needs to be set.  This is found later in this file.  Set it to
+ *   1 + the number of other servos in your system.
+ */
+//#define Z_ENDSTOP_SERVO_NR 0   // Defaults to SERVO 0 connector.
+//#define Z_SERVO_ANGLES {70,0}  // Z Servo Deploy and Stow angles
+
+ /**
+ *   The BLTouch probe emulates a servo probe.
+ *   If using a BLTouch then NUM_SERVOS, Z_ENDSTOP_SERVO_NR and Z_SERVO_ANGLES
+ *   are setup for you in the background and you shouldn't need to set/modify/enable them
+ *   with the possible exception of Z_ENDSTOP_SERVO_NR.
+ */
 //#define BLTOUCH
 //#define BLTOUCH_DELAY 375 // (ms) Enable and increase if needed
 
-// Z Servo Probe, such as an endstop switch on a rotating arm.
-//#define Z_ENDSTOP_SERVO_NR 0
-//#define Z_SERVO_ANGLES {70,0} // Z Servo Deploy and Stow angles
+/**
+ *   BLTouch WARNING  -  ONLY APPLIES TO VERSIONS OF MARLIN BEFORE 15 FEB 2017
+ *   Unless using interrupt endstops, there is a MINIMUM feedrate for Marlin to reliably
+ *   sense the BLTouch.  If the feedrate is too slow then G28 & G29 can sometimes result
+ *   in the print head being driven into the bed until manual intervention.
+ *   The minimum feedrate calculation is:
+ *
+ *     feedrate minimum =  24000 / DEFAULT_AXIS_STEPS_PER_UNIT
+ *        where feedrate is in "mm/minute" or "inches/minute" depending on the units used
+ *        in DEFAULT_AXIS_STEPS_PER_UNIT
+ *
+ *   This applies to the HOMING_FEEDRATE_Z and Z_PROBE_SPEED_FAST.  If PROBE_DOUBLE_TOUCH
+ *   is enabled then it also applies to Z_PROBE_SPEED_SLOW.
+ */
 
-// Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
+/*   Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.  */
 //#define Z_PROBE_SLED
-//#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
-
-//
-// Allen Key Probe is defined in the Delta example configurations.
-//
+//#define SLED_DOCKING_OFFSET 5  // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
-// Z Probe to nozzle (X,Y) offset, relative to (0, 0).
-// X and Y offsets must be integers.
-//
-// In the following example the X and Y offsets are both positive:
-// #define X_PROBE_OFFSET_FROM_EXTRUDER 10
-// #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
-//
-//    +-- BACK ---+
-//    |           |
-//  L |    (+) P  | R <-- probe (20,20)
-//  E |           | I
-//  F | (-) N (+) | G <-- nozzle (10,10)
-//  T |           | H
-//    |    (-)    | T
-//    |           |
-//    O-- FRONT --+
-//  (0,0)
+/**
+ *   Z Probe to nozzle (X,Y) offset, relative to (0, 0).
+ *   X and Y offsets must be integers.
+ *
+ *   In the following example the X and Y offsets are both positive:
+ *   #define X_PROBE_OFFSET_FROM_EXTRUDER 10
+ *   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
+ *
+ *      +-- BACK ---+
+ *      |           |
+ *    L |    (+) P  | R <-- probe (20,20)
+ *    E |           | I
+ *    F | (-) N (+) | G <-- nozzle (10,10)
+ *    T |           | H
+ *      |    (-)    | T
+ *      |           |
+ *      O-- FRONT --+
+ *    (0,0)
+ */
 #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
 #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
 #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
 
-// X and Y axis travel speed (mm/m) between probes
+/*   X and Y axis travel speed (mm/m) between probes */
 #define XY_PROBE_SPEED 8000
-// Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH)
+
+/*   Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH) */
 #define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
-// Speed for the "accurate" probe of each point
+
+/*   Speed for the "accurate" probe of each point  */
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
-// Use double touch for probing
-//#define PROBE_DOUBLE_TOUCH
 
-// *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
-//
-// To continue using the Z-min-endstop for homing, be sure to disable Z_SAFE_HOMING.
-// Example: To park the head outside the bed area when homing with G28.
-//
-// To use a separate Z probe, your board must define a Z_MIN_PROBE_PIN.
-//
-// For a servo-based Z probe, just set Z_ENDSTOP_SERVO_NR and Z_SERVO_ANGLES above.
-//
-// - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
-// - Use 5V for powered (usu. inductive) sensors.
-// - Otherwise connect:
-//   - normally-closed switches to GND and D32.
-//   - normally-open switches to 5V and D32.
-//
-// Normally-closed switches are advised and are the default.
-//
+/*   Use double touch for probing  */
+//#define PROBE_DOUBLE_TOUCH
 
-//
-// The Z_MIN_PROBE_PIN sets the Arduino pin to use. (See your board's pins file.)
-// Since the RAMPS Aux4->D32 pin maps directly to the Arduino D32 pin, D32 is the
-// default pin for all RAMPS-based boards. Most boards use the X_MAX_PIN by default.
-// To use a different pin you can override it here.
-//
-// WARNING:
-// Setting the wrong pin may have unexpected and potentially disastrous consequences.
-// Use with caution and do your homework.
-//
-//#define Z_MIN_PROBE_PIN X_MAX_PIN
+/**
+ *   Allen Key Probe is defined in the Delta example configurations.
+ *
+ *
+ *   *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
+ *
+ *   - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
+ *   - Use 5V for powered (usu. inductive) sensors.
+ *   - Otherwise connect:
+ *     - normally-closed switches to GND and D32.
+ *     - normally-open switches to 5V and D32.
+ *
+ *   Normally-closed switches are advised and are the default.
+ *
+ *
+ *   PIN OPTIONS\SETUP FOR Z PROBES
+ *
+ *
+ *   WARNING:
+ *   Setting the wrong pin may have unexpected and potentially disastrous consequences.
+ *   Use with caution and do your homework.
+ *
+ *
+ *   All Z PROBE pin options are configured by defining (or not defining)
+ *   the following five items:
+ *       Z_MIN_PROBE_ENDSTOP ‚Äì defined below
+ *       Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN ‚Äì defined below
+ *       Z_MIN_PIN - defined in the pins_YOUR_BOARD.h file
+ *       Z_MIN_PROBE_PIN - defined in the pins_YOUR_BOARD.h file
+ *
+ *   If you're using a probe then you need to tell Marlin which pin to use as
+ *   the Z MIN ENDSTOP.  Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN determines if the
+ *   Z_MIN_PIN or if the Z_MIN_PROBE_PIN is used.
+ *
+ *   The pin selected for the probe is ONLY checked during probing operations.
+ *   If you want to use the Z_MIN_PIN as an endstop AND you want to have a Z PROBE
+ *   then you‚Äôll need to use the Z_MIN_PROBE_PIN option.
+ *
+ *   Z_MIN_PROBE_ENDSTOP also needs to be enabled if you want to use Z_MIN_PROBE_PIN.
+ *
+ *   The settings needed to use the Z_MIN_PROBE_PIN are:
+ *       1. select the type of probe you're using
+ *       2. define Z_MIN_PROBE_PIN in your pins_YOUR_BOARD.h file
+ *       3. disable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
+ *       4. enable Z_MIN_PROBE_ENDSTOP
+ *   NOTE ‚Äì if Z_MIN_PIN is defined then it‚Äôll be checked during all moves in the
+ *          negative Z direction.
+ *
+ *   The settings needed to use the Z_MIN_PIN are:
+ *       1. select the type of probe you're using
+ *       2. enable Z_MIN _PIN in your pins_YOUR_BOARD.h file
+ *       3. enable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
+ *       4. disable Z_MIN_PROBE_ENDSTOP
+ *   NOTES ‚Äì if Z_MIN_PROBE_PIN is defined in the pins_YOUR_BOARD.h file then it‚Äôll be
+ *          ignored by Marlin
+ */
 
-//
-// Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z Probe and a Z-min-endstop on the same machine.
-// With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
-//
 //#define Z_MIN_PROBE_ENDSTOP
-
-// Enable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN to use the Z_MIN_PIN for your Z_MIN_PROBE.
-// The Z_MIN_PIN will then be used for both Z-homing and probing.
 #define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
 
-// To use a probe you must enable one of the two options above!
 
-// Enable Z Probe Repeatability test to see how accurate your probe is
+/* Enable Z Probe Repeatability test to see how accurate your probe is  */
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
 /**
@@ -665,12 +713,11 @@
 #define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
 #define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
 
-//
-// For M851 give a range for adjusting the Z probe offset
-//
+/* For M851 give a range for adjusting the Z probe offset */
 #define Z_PROBE_OFFSET_RANGE_MIN -20
 #define Z_PROBE_OFFSET_RANGE_MAX 20
 
+
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 // :{ 0:'Low', 1:'High' }
 #define X_ENABLE_ON 0

commit d13991ae18514bc5181cd853684f8650fd026c1e
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Apr 5 22:29:44 2017 -0500

    Use same config name for all mesh dimensions

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c303741c45..8fc9f74785 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -813,8 +813,8 @@
 #if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
 
   // Set the number of grid points per dimension.
-  #define ABL_GRID_MAX_POINTS_X 3
-  #define ABL_GRID_MAX_POINTS_Y ABL_GRID_MAX_POINTS_X
+  #define GRID_MAX_POINTS_X 3
+  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
   // Set the boundaries for probing (where the probe can reach).
   #define LEFT_PROBE_BED_POSITION 15
@@ -860,8 +860,8 @@
   //===========================================================================
 
   #define UBL_MESH_INSET 1          // Mesh inset margin on print area
-  #define UBL_MESH_NUM_X_POINTS 10  // Don't use more than 15 points per axis, implementation limited.
-  #define UBL_MESH_NUM_Y_POINTS 10
+  #define GRID_MAX_POINTS_X 10      // Don't use more than 15 points per axis, implementation limited.
+  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
   #define UBL_PROBE_PT_1_X 39       // These set the probe locations for when UBL does a 3-Point leveling
   #define UBL_PROBE_PT_1_Y 180      // of the mesh.
   #define UBL_PROBE_PT_2_X 39
@@ -877,8 +877,8 @@
   //===========================================================================
 
   #define MESH_INSET 10          // Mesh inset margin on print area
-  #define MESH_NUM_X_POINTS 3    // Don't use more than 7 points per axis, implementation limited.
-  #define MESH_NUM_Y_POINTS 3
+  #define GRID_MAX_POINTS_X 3    // Don't use more than 7 points per axis, implementation limited.
+  #define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X
 
   //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest Z at Z_MIN_POS
 

commit c56eec29f0e63a0c5147b59439fec39115d9ee44
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Apr 2 10:55:00 2017 -0500

    Configurable delay for BLTouch servo emulation

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bb554fa86a..c303741c45 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -559,6 +559,7 @@
 // The BLTouch probe emulates a servo probe.
 // The default connector is SERVO 0. Set Z_ENDSTOP_SERVO_NR below to override.
 //#define BLTOUCH
+//#define BLTOUCH_DELAY 375 // (ms) Enable and increase if needed
 
 // Z Servo Probe, such as an endstop switch on a rotating arm.
 //#define Z_ENDSTOP_SERVO_NR 0

commit 9e221849365d2ad22662687ee3338a18652751a6
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Mar 13 00:24:22 2017 -0500

    Add a "manual" option for ABL

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d72e77d0e1..bb554fa86a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -545,6 +545,11 @@
 // Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
 //
 
+// The "Manual Probe" provides a means to do "Auto" Bed Leveling without a probe.
+// Use G29 repeatedly, adjusting the Z height at each point with movement commands
+// or (with LCD_BED_LEVELING) the LCD controller.
+//#define PROBE_MANUALLY
+
 // A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
 // For example an inductive probe, or a setup that uses the nozzle to probe.
 // An inductive probe must be deactivated to go below
@@ -876,14 +881,18 @@
 
   //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest Z at Z_MIN_POS
 
-  //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
-  #define MANUAL_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
+#endif // BED_LEVELING
 
-  #if ENABLED(MANUAL_BED_LEVELING)
-    #define MBL_Z_STEP 0.025     // Step size while manually probing Z axis.
-  #endif
+/**
+ * Use the LCD controller for bed leveling
+ * Requires MESH_BED_LEVELING or PROBE_MANUALLY
+ */
+//#define LCD_BED_LEVELING
 
-#endif // BED_LEVELING
+#if ENABLED(LCD_BED_LEVELING)
+  #define MBL_Z_STEP 0.025    // Step size while manually probing Z axis.
+  #define LCD_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
+#endif
 
 /**
  * Commands to execute at the end of G29 probing.
@@ -1432,13 +1441,13 @@
 
 // If SOFT_PWM_SCALE is set to a value higher than 0, dithering can
 // be used to mitigate the associated resolution loss. If enabled,
-// some of the PWM cycles are stretched so on average the wanted
+// some of the PWM cycles are stretched so on average the desired
 // duty cycle is attained.
 //#define SOFT_PWM_DITHER
 
 // Temperature status LEDs that display the hotend and bed temperature.
-// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
-// Otherwise the RED led is on. There is 1C hysteresis.
+// If all hotends, bed temperature, and target temperature are under 54C
+// then the BLUE led is on. Otherwise the RED led is on. (1C hysteresis)
 //#define TEMP_STAT_LEDS
 
 // M240  Triggers a camera by emulating a Canon RC-1 Remote

commit 81136c1e82a8826f791a87bdb7d0ce8e9f17abf5
Merge: baadb11536 6ba6c92a81
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 31 04:31:47 2017 -0500

    Merge pull request #6177 from thinkyhead/rc_tinyboy
    
    Support for TinyBoy 2 3D printer (and its OLED display)

diff --combined Marlin/Configuration.h
index 23cb901370,16c62de67a..d72e77d0e1
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -862,7 -862,7 +862,7 @@@
    #define UBL_PROBE_PT_2_Y 20
    #define UBL_PROBE_PT_3_X 180
    #define UBL_PROBE_PT_3_Y 20
 -  #define UBL_MESH_EDIT_ENABLED     // Enable G26 mesh editing
 +  //#define UBL_G26_MESH_EDITING    // Enable G26 mesh editing
  
  #elif ENABLED(MESH_BED_LEVELING)
  
@@@ -1405,6 -1405,11 +1405,11 @@@
  //
  //#define SAV_3DLCD
  
+ //
+ // TinyBoy2 128x64 OLED / Encoder Panel
+ //
+ //#define OLED_PANEL_TINYBOY2
+ 
  //=============================================================================
  //=============================== Extra Features ==============================
  //=============================================================================

commit 0fe57ad4f58404d22f754b32190f5c201e49bb78
Author: Stefan Br√ºns <stefan.bruens@rwth-aachen.de>
Date:   Thu Mar 9 02:56:01 2017 +0100

    Add Support TinyBoy2 OLED/Encoder panel
    
    The OLED is driven by an SSD1306, connected to the board via
    I2C, the rotary encoder is connected to 3 GPIO pins.
    
    Signed-off-by: Stefan Br√ºns <stefan.bruens@rwth-aachen.de>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3facece4b7..16c62de67a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1405,6 +1405,11 @@
 //
 //#define SAV_3DLCD
 
+//
+// TinyBoy2 128x64 OLED / Encoder Panel
+//
+//#define OLED_PANEL_TINYBOY2
+
 //=============================================================================
 //=============================== Extra Features ==============================
 //=============================================================================

commit edbc024d76be3142aca375ac5501291266f62def
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Mar 30 22:46:40 2017 -0500

    Disable UBL_G26_MESH_EDITING by default

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3facece4b7..23cb901370 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -862,7 +862,7 @@
   #define UBL_PROBE_PT_2_Y 20
   #define UBL_PROBE_PT_3_X 180
   #define UBL_PROBE_PT_3_Y 20
-  #define UBL_MESH_EDIT_ENABLED     // Enable G26 mesh editing
+  //#define UBL_G26_MESH_EDITING    // Enable G26 mesh editing
 
 #elif ENABLED(MESH_BED_LEVELING)
 

commit 5a2abeca783020aa44c26904b908ff97201db8bf
Merge: 4433b63d7a 043be2856b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 24 04:57:40 2017 -0500

    Merge pull request #6100 from thinkyhead/rc_soft_pwm_dither
    
    Enhancement of PWM, with dithering

diff --combined Marlin/Configuration.h
index b582143859,d290af575d..3facece4b7
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -862,7 -862,6 +862,7 @@@
    #define UBL_PROBE_PT_2_Y 20
    #define UBL_PROBE_PT_3_X 180
    #define UBL_PROBE_PT_3_Y 20
 +  #define UBL_MESH_EDIT_ENABLED     // Enable G26 mesh editing
  
  #elif ENABLED(MESH_BED_LEVELING)
  
@@@ -1425,6 -1424,12 +1425,12 @@@
  // at zero value, there are 128 effective control positions.
  #define SOFT_PWM_SCALE 0
  
+ // If SOFT_PWM_SCALE is set to a value higher than 0, dithering can
+ // be used to mitigate the associated resolution loss. If enabled,
+ // some of the PWM cycles are stretched so on average the wanted
+ // duty cycle is attained.
+ //#define SOFT_PWM_DITHER
+ 
  // Temperature status LEDs that display the hotend and bed temperature.
  // If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
  // Otherwise the RED led is on. There is 1C hysteresis.

commit 35a55d5757c1ed415cd5c9b4225f5c2011f0fbf1
Author: Stefan Br√É¬ºns <stefan.bruens@rwth-aachen.de>
Date:   Sun Mar 12 06:00:26 2017 +0100

    SOFT_PWM: Implement dithering if SOFT_PWM_SCALE is 1 or more
    
    If dithering is enabled, the remainder of the soft_pwm_X duty value at
    turnoff time is added to the next cycle. If e.g. the duty is set to 9 and
    SCALE is set to 2, the PWM will be active for 8 counts for 3 cycles and
    12 counts on each fourth cycle, i.e. the average is 9 cycles.
    
    This compensates the resolution loss at higher scales and allows running
    fans with SOFT_PWM with significantly reduced noise.
    
    Signed-off-by: Stefan Br√ºns <stefan.bruens@rwth-aachen.de>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 96b1ededc2..d290af575d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1424,6 +1424,12 @@
 // at zero value, there are 128 effective control positions.
 #define SOFT_PWM_SCALE 0
 
+// If SOFT_PWM_SCALE is set to a value higher than 0, dithering can
+// be used to mitigate the associated resolution loss. If enabled,
+// some of the PWM cycles are stretched so on average the wanted
+// duty cycle is attained.
+//#define SOFT_PWM_DITHER
+
 // Temperature status LEDs that display the hotend and bed temperature.
 // If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 // Otherwise the RED led is on. There is 1C hysteresis.

commit 783338a0b845acd7dab2fa29477376befb70da02
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Mar 24 00:44:28 2017 -0500

    Add UBL_MESH_EDIT_ENABLED to configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 96b1ededc2..b582143859 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -862,6 +862,7 @@
   #define UBL_PROBE_PT_2_Y 20
   #define UBL_PROBE_PT_3_X 180
   #define UBL_PROBE_PT_3_Y 20
+  #define UBL_MESH_EDIT_ENABLED     // Enable G26 mesh editing
 
 #elif ENABLED(MESH_BED_LEVELING)
 

commit e2443997666f6ce86693bec0329be0974ed9a5f1
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Mar 20 01:42:41 2017 -0500

    Additional cleanup of UBL code

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 465b8df8fe..96b1ededc2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -747,42 +747,48 @@
 // @section bedlevel
 
 /**
- * Select one form of Auto Bed Leveling below.
+ * Choose one of the options below to enable G29 Bed Leveling. The parameters
+ * and behavior of G29 will change depending on your selection.
  *
- *  If you're also using the Probe for Z Homing, it's
- *  highly recommended to enable Z_SAFE_HOMING also!
+ *  If using a Probe for Z Homing, enable Z_SAFE_HOMING also!
  *
- * - 3POINT
+ * - AUTO_BED_LEVELING_3POINT
  *   Probe 3 arbitrary points on the bed (that aren't collinear)
  *   You specify the XY coordinates of all 3 points.
  *   The result is a single tilted plane. Best for a flat bed.
  *
- * - LINEAR
+ * - AUTO_BED_LEVELING_LINEAR
  *   Probe several points in a grid.
  *   You specify the rectangle and the density of sample points.
  *   The result is a single tilted plane. Best for a flat bed.
  *
- * - BILINEAR
+ * - AUTO_BED_LEVELING_BILINEAR
  *   Probe several points in a grid.
  *   You specify the rectangle and the density of sample points.
  *   The result is a mesh, best for large or uneven beds.
  *
- * - UBL Unified Bed Leveling
- *   A comprehensive bed leveling system that combines features and benefits from previous
- *   bed leveling system.  The UBL Bed Leveling System also includes an integrated and easy to use
- *   Mesh Generation, Mesh Validation and Mesh Editing system.
- *     - Currently, the UBL Bed Leveling System is only checked out for Cartesian Printers.  But with
- *       that said, it was primarily designed to handle poor quality Delta Printers.  If you feel
- *       adventurous and have a Delta, please post an issue if something doesn't work correctly.
- *       Initially, you will need to reduce your declared bed size so you have a rectangular area to
- *       test on.
+ * - AUTO_BED_LEVELING_UBL (Unified Bed Leveling)
+ *   A comprehensive bed leveling system combining the features and benefits
+ *   of other systems. UBL also includes integrated Mesh Generation, Mesh
+ *   Validation and Mesh Editing systems. Currently, UBL is only checked out
+ *   for Cartesian Printers. That said, it was primarily designed to correct
+ *   poor quality Delta Printers. If you feel adventurous and have a Delta,
+ *   please post an issue if something doesn't work correctly. Initially,
+ *   you will need to set a reduced bed size so you have a rectangular area
+ *   to test on.
+ *
+ * - MESH_BED_LEVELING
+ *   Probe a grid manually
+ *   The result is a mesh, suitable for large or uneven beds. (See BILINEAR.)
+ *   For machines without a probe, Mesh Bed Leveling provides a method to perform
+ *   leveling in steps so you can manually adjust the Z height at each grid-point.
+ *   With an LCD controller the process is guided step-by-step.
  */
 //#define AUTO_BED_LEVELING_3POINT
 //#define AUTO_BED_LEVELING_LINEAR
 //#define AUTO_BED_LEVELING_BILINEAR
-//#define MESH_BED_LEVELING
 //#define AUTO_BED_LEVELING_UBL
-
+//#define MESH_BED_LEVELING
 
 /**
  * Enable detailed logging of G28, G29, M48, etc.
@@ -841,13 +847,28 @@
   #define ABL_PROBE_PT_3_X 170
   #define ABL_PROBE_PT_3_Y 20
 
+#elif ENABLED(AUTO_BED_LEVELING_UBL)
+
+  //===========================================================================
+  //========================= Unified Bed Leveling ============================
+  //===========================================================================
+
+  #define UBL_MESH_INSET 1          // Mesh inset margin on print area
+  #define UBL_MESH_NUM_X_POINTS 10  // Don't use more than 15 points per axis, implementation limited.
+  #define UBL_MESH_NUM_Y_POINTS 10
+  #define UBL_PROBE_PT_1_X 39       // These set the probe locations for when UBL does a 3-Point leveling
+  #define UBL_PROBE_PT_1_Y 180      // of the mesh.
+  #define UBL_PROBE_PT_2_X 39
+  #define UBL_PROBE_PT_2_Y 20
+  #define UBL_PROBE_PT_3_X 180
+  #define UBL_PROBE_PT_3_Y 20
+
 #elif ENABLED(MESH_BED_LEVELING)
 
   //===========================================================================
   //=================================== Mesh ==================================
   //===========================================================================
 
-  #define MANUAL_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
   #define MESH_INSET 10          // Mesh inset margin on print area
   #define MESH_NUM_X_POINTS 3    // Don't use more than 7 points per axis, implementation limited.
   #define MESH_NUM_Y_POINTS 3
@@ -855,28 +876,13 @@
   //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest Z at Z_MIN_POS
 
   //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
+  #define MANUAL_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
 
   #if ENABLED(MANUAL_BED_LEVELING)
     #define MBL_Z_STEP 0.025     // Step size while manually probing Z axis.
   #endif
 
-#elif ENABLED(AUTO_BED_LEVELING_UBL)
-
-  //===========================================================================
-  //========================= Unified Bed Leveling ============================
-  //===========================================================================
-
-  #define UBL_MESH_INSET 1          // Mesh inset margin on print area
-  #define UBL_MESH_NUM_X_POINTS 10  // Don't use more than 15 points per axis, implementation limited.
-  #define UBL_MESH_NUM_Y_POINTS 10
-  #define UBL_PROBE_PT_1_X 39       // These set the probe locations for when UBL does a 3-Point leveling
-  #define UBL_PROBE_PT_1_Y 180      // of the mesh.
-  #define UBL_PROBE_PT_2_X 39
-  #define UBL_PROBE_PT_2_Y 20
-  #define UBL_PROBE_PT_3_X 180
-  #define UBL_PROBE_PT_3_Y 20
-
-#endif  // BED_LEVELING
+#endif // BED_LEVELING
 
 /**
  * Commands to execute at the end of G29 probing.

commit 2512871a36be74d55d60cc2c07c492e7eb8c106f
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Mar 18 12:20:26 2017 -0500

    Patch configs UBL followup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fd9560530f..465b8df8fe 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -843,28 +843,28 @@
 
 #elif ENABLED(MESH_BED_LEVELING)
 
-//===========================================================================
-//=================================== Mesh ==================================
-//===========================================================================
+  //===========================================================================
+  //=================================== Mesh ==================================
+  //===========================================================================
 
-  #define MANUAL_PROBE_Z_RANGE 4 // Z after Home, bed somewhere below but above 0.0.
+  #define MANUAL_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
   #define MESH_INSET 10          // Mesh inset margin on print area
   #define MESH_NUM_X_POINTS 3    // Don't use more than 7 points per axis, implementation limited.
   #define MESH_NUM_Y_POINTS 3
 
-  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest at origin [0,0,0]
+  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest Z at Z_MIN_POS
 
   //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
 
   #if ENABLED(MANUAL_BED_LEVELING)
     #define MBL_Z_STEP 0.025     // Step size while manually probing Z axis.
-  #endif  // MANUAL_BED_LEVELING
+  #endif
 
 #elif ENABLED(AUTO_BED_LEVELING_UBL)
 
-//===========================================================================
-//========================= Unified Bed Leveling ============================
-//===========================================================================
+  //===========================================================================
+  //========================= Unified Bed Leveling ============================
+  //===========================================================================
 
   #define UBL_MESH_INSET 1          // Mesh inset margin on print area
   #define UBL_MESH_NUM_X_POINTS 10  // Don't use more than 15 points per axis, implementation limited.

commit 27b5666e15d124c69e8338487b68d5879327896d
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Mar 6 19:59:42 2017 -0600

    Move Allen Key probe definition to the top

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cf92e5f817..fd9560530f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -563,6 +563,10 @@
 //#define Z_PROBE_SLED
 //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
+//
+// Allen Key Probe is defined in the Delta example configurations.
+//
+
 // Z Probe to nozzle (X,Y) offset, relative to (0, 0).
 // X and Y offsets must be integers.
 //
@@ -593,10 +597,6 @@
 // Use double touch for probing
 //#define PROBE_DOUBLE_TOUCH
 
-//
-// Allen Key Probe is defined in the Delta example configurations.
-//
-
 // *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
 //
 // To continue using the Z-min-endstop for homing, be sure to disable Z_SAFE_HOMING.

commit cf946889254c2f964af7b0544484d05183ddb3fa
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Mar 18 10:02:54 2017 -0500

    Univeral Bed Leveling - configuration

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 11c05018d3..cf92e5f817 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -231,6 +231,7 @@
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    66 : 4.7M High Temperature thermistor from Dyze Design
  *    70 : the 100K thermistor found in the bq Hephestos 2
+ *    75 : 100k Generic Silicon Heat Pad with NTC 100K MGB18-104F39050L32 thermistor
  *
  *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
  *                              (but gives greater accuracy and more stable PID)
@@ -603,8 +604,7 @@
 //
 // To use a separate Z probe, your board must define a Z_MIN_PROBE_PIN.
 //
-// For a servo-based Z probe, you must set up servo support below, including
-// NUM_SERVOS, Z_ENDSTOP_SERVO_NR and Z_SERVO_ANGLES.
+// For a servo-based Z probe, just set Z_ENDSTOP_SERVO_NR and Z_SERVO_ANGLES above.
 //
 // - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
 // - Use 5V for powered (usu. inductive) sensors.
@@ -742,34 +742,7 @@
 #endif
 
 //===========================================================================
-//============================ Mesh Bed Leveling ============================
-//===========================================================================
-
-//#define MESH_BED_LEVELING    // Enable mesh bed leveling.
-
-#if ENABLED(MESH_BED_LEVELING)
-  #define MESH_INSET 10        // Mesh inset margin on print area
-  #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited.
-  #define MESH_NUM_Y_POINTS 3
-  #define MANUAL_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
-
-  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest Z at Z_MIN_POS
-
-  //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
-
-  #if ENABLED(MANUAL_BED_LEVELING)
-    #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
-  #endif  // MANUAL_BED_LEVELING
-
-  // Gradually reduce leveling correction until a set height is reached,
-  // at which point movement will be level to the machine's XY plane.
-  // The height can be set with M420 Z<height>
-  #define ENABLE_LEVELING_FADE_HEIGHT
-
-#endif  // MESH_BED_LEVELING
-
-//===========================================================================
-//============================ Auto Bed Leveling ============================
+//=============================== Bed Leveling ==============================
 //===========================================================================
 // @section bedlevel
 
@@ -793,10 +766,23 @@
  *   Probe several points in a grid.
  *   You specify the rectangle and the density of sample points.
  *   The result is a mesh, best for large or uneven beds.
+ *
+ * - UBL Unified Bed Leveling
+ *   A comprehensive bed leveling system that combines features and benefits from previous
+ *   bed leveling system.  The UBL Bed Leveling System also includes an integrated and easy to use
+ *   Mesh Generation, Mesh Validation and Mesh Editing system.
+ *     - Currently, the UBL Bed Leveling System is only checked out for Cartesian Printers.  But with
+ *       that said, it was primarily designed to handle poor quality Delta Printers.  If you feel
+ *       adventurous and have a Delta, please post an issue if something doesn't work correctly.
+ *       Initially, you will need to reduce your declared bed size so you have a rectangular area to
+ *       test on.
  */
 //#define AUTO_BED_LEVELING_3POINT
 //#define AUTO_BED_LEVELING_LINEAR
 //#define AUTO_BED_LEVELING_BILINEAR
+//#define MESH_BED_LEVELING
+//#define AUTO_BED_LEVELING_UBL
+
 
 /**
  * Enable detailed logging of G28, G29, M48, etc.
@@ -805,6 +791,13 @@
  */
 //#define DEBUG_LEVELING_FEATURE
 
+#if ENABLED(MESH_BED_LEVELING) || ENABLED(AUTO_BED_LEVELING_BILINEAR) || ENABLED(AUTO_BED_LEVELING_UBL)
+  // Gradually reduce leveling correction until a set height is reached,
+  // at which point movement will be level to the machine's XY plane.
+  // The height can be set with M420 Z<height>
+  #define ENABLE_LEVELING_FADE_HEIGHT
+#endif
+
 #if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
 
   // Set the number of grid points per dimension.
@@ -825,11 +818,6 @@
 
   #if ENABLED(AUTO_BED_LEVELING_BILINEAR)
 
-    // Gradually reduce leveling correction until a set height is reached,
-    // at which point movement will be level to the machine's XY plane.
-    // The height can be set with M420 Z<height>
-    #define ENABLE_LEVELING_FADE_HEIGHT
-
     //
     // Experimental Subdivision of the grid by Catmull-Rom method.
     // Synthesizes intermediate points to produce a more detailed mesh.
@@ -853,7 +841,42 @@
   #define ABL_PROBE_PT_3_X 170
   #define ABL_PROBE_PT_3_Y 20
 
-#endif
+#elif ENABLED(MESH_BED_LEVELING)
+
+//===========================================================================
+//=================================== Mesh ==================================
+//===========================================================================
+
+  #define MANUAL_PROBE_Z_RANGE 4 // Z after Home, bed somewhere below but above 0.0.
+  #define MESH_INSET 10          // Mesh inset margin on print area
+  #define MESH_NUM_X_POINTS 3    // Don't use more than 7 points per axis, implementation limited.
+  #define MESH_NUM_Y_POINTS 3
+
+  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest at origin [0,0,0]
+
+  //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
+
+  #if ENABLED(MANUAL_BED_LEVELING)
+    #define MBL_Z_STEP 0.025     // Step size while manually probing Z axis.
+  #endif  // MANUAL_BED_LEVELING
+
+#elif ENABLED(AUTO_BED_LEVELING_UBL)
+
+//===========================================================================
+//========================= Unified Bed Leveling ============================
+//===========================================================================
+
+  #define UBL_MESH_INSET 1          // Mesh inset margin on print area
+  #define UBL_MESH_NUM_X_POINTS 10  // Don't use more than 15 points per axis, implementation limited.
+  #define UBL_MESH_NUM_Y_POINTS 10
+  #define UBL_PROBE_PT_1_X 39       // These set the probe locations for when UBL does a 3-Point leveling
+  #define UBL_PROBE_PT_1_Y 180      // of the mesh.
+  #define UBL_PROBE_PT_2_X 39
+  #define UBL_PROBE_PT_2_Y 20
+  #define UBL_PROBE_PT_3_X 180
+  #define UBL_PROBE_PT_3_Y 20
+
+#endif  // BED_LEVELING
 
 /**
  * Commands to execute at the end of G29 probing.

commit 0e410c9dfd98e6857fc8f3ab8a5356bcf55480a9
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Mar 16 20:03:57 2017 -0500

    Software endstop options as simple switches

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 541c52d088..11c05018d3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -705,16 +705,12 @@
 //#define Z_HOMING_HEIGHT 4  // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
                              // Be sure you have this distance over your Z_MAX_POS in case.
 
-// ENDSTOP SETTINGS:
-// Sets direction of endstops when homing; 1=MAX, -1=MIN
-// :[-1, 1]
+// Direction of endstops when homing; 1=MAX, -1=MIN
+// :[-1,1]
 #define X_HOME_DIR -1
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
 
-#define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
-#define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
-
 // @section machine
 
 // Travel limits after homing (units are in mm)
@@ -725,6 +721,11 @@
 #define Y_MAX_POS 200
 #define Z_MAX_POS 200
 
+// If enabled, axes won't move below MIN_POS in response to movement commands.
+#define MIN_SOFTWARE_ENDSTOPS
+// If enabled, axes won't move above MAX_POS in response to movement commands.
+#define MAX_SOFTWARE_ENDSTOPS
+
 /**
  * Filament Runout Sensor
  * A mechanical or opto endstop is used to check for the presence of filament.

commit 3e927ff204279f21ac183d1e6d6834207e71c3c6
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Mar 15 03:20:41 2017 -0500

    Replace MBL Z hacking

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce773728e2..541c52d088 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -750,9 +750,9 @@
   #define MESH_INSET 10        // Mesh inset margin on print area
   #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited.
   #define MESH_NUM_Y_POINTS 3
-  #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.
+  #define MANUAL_PROBE_Z_RANGE 4 // Z Range centered on Z_MIN_POS for LCD Z adjustment
 
-  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest at origin [0,0,0]
+  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest Z at Z_MIN_POS
 
   //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
 

commit 6836b94eeab4e63f0f737417a0cce72a332e924f
Author: Marek Piku≈Ça <marek.pikula@sent.tech>
Date:   Fri Feb 24 23:41:44 2017 +0100

    Added circle pattern for nozzle cleaning feature

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d7d815fe97..ce773728e2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -96,7 +96,7 @@
 //
 // Marlin now allow you to have a vendor boot image to be displayed on machine
 // start. When SHOW_CUSTOM_BOOTSCREEN is defined Marlin will first show your
-// custom boot image and them the default Marlin boot image is shown.
+// custom boot image and then the default Marlin boot image is shown.
 //
 // We suggest for you to take advantage of this new feature and keep the Marlin
 // boot image unmodified. For an example have a look at the bq Hephestos 2
@@ -1000,6 +1000,9 @@
 //                       |________|_________|_________|
 //                           T1        T2        T3
 //
+//   P2: This starts a circular pattern with circle with middle in
+//       NOZZLE_CLEAN_CIRCLE_MIDDLE radius of R and stroke count of S.
+//       Before starting the circle nozzle goes to NOZZLE_CLEAN_START_POINT.
 //
 // Caveats: End point Z should use the same value as Start point Z.
 //
@@ -1011,7 +1014,7 @@
 #if ENABLED(NOZZLE_CLEAN_FEATURE)
   // Default number of pattern repetitions
   #define NOZZLE_CLEAN_STROKES  12
-  
+
   // Default number of triangles
   #define NOZZLE_CLEAN_TRIANGLES  3
 
@@ -1019,6 +1022,13 @@
   #define NOZZLE_CLEAN_START_POINT { 30, 30, (Z_MIN_POS + 1)}
   #define NOZZLE_CLEAN_END_POINT   {100, 60, (Z_MIN_POS + 1)}
 
+  // Circular pattern radius
+  #define NOZZLE_CLEAN_CIRCLE_RADIUS 6.5
+  // Circular pattern circle fragments number
+  #define NOZZLE_CLEAN_CIRCLE_FN 10
+  // Middle point of circle
+  #define NOZZLE_CLEAN_CIRCLE_MIDDLE NOZZLE_CLEAN_START_POINT
+
   // Moves the nozzle to the initial position
   #define NOZZLE_CLEAN_GOBACK
 #endif

commit 48b7e0f8d826b18d88ebb3282b6f02366d436045
Author: Colin Gilgenbach <colin@gilgenbach.net>
Date:   Thu Dec 8 23:22:01 2016 -0700

    Nozzle Wipe Vertical Zig-Zag
    
    - Add configuration support for zigzags in either the X or Y axis, for
    wipe pads significantly longer in one dimension.
    - Add configuration for default number of zig-zag triangles, vs. a
    magic number in `Marlin_main.cpp`.
    - Update description of auto nozzle wiping to match functionality

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cb47d7aced..d7d815fe97 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -981,13 +981,13 @@
 //
 // Available list of patterns:
 //   P0: This is the default pattern, this process requires a sponge type
-//       material at a fixed bed location, the cleaning process is based on
-//       "strokes" i.e. back-and-forth movements between the starting and end
-//       points.
+//       material at a fixed bed location. S defines "strokes" i.e.
+//       back-and-forth movements between the starting and end points.
 //
 //   P1: This starts a zig-zag pattern between (X0, Y0) and (X1, Y1), "T"
 //       defines the number of zig-zag triangles to be done. "S" defines the
-//       number of strokes aka one back-and-forth movement. As an example
+//       number of strokes aka one back-and-forth movement. Zig-zags will
+//       be performed in whichever dimension is smallest. As an example,
 //       sending "G12 P1 S1 T3" will execute:
 //
 //          --
@@ -1000,6 +1000,7 @@
 //                       |________|_________|_________|
 //                           T1        T2        T3
 //
+//
 // Caveats: End point Z should use the same value as Start point Z.
 //
 // Attention: This is an EXPERIMENTAL feature, in the future the G-code arguments
@@ -1008,8 +1009,11 @@
 //#define NOZZLE_CLEAN_FEATURE
 
 #if ENABLED(NOZZLE_CLEAN_FEATURE)
-  // Number of pattern repetitions
+  // Default number of pattern repetitions
   #define NOZZLE_CLEAN_STROKES  12
+  
+  // Default number of triangles
+  #define NOZZLE_CLEAN_TRIANGLES  3
 
   // Specify positions as { X, Y, Z }
   #define NOZZLE_CLEAN_START_POINT { 30, 30, (Z_MIN_POS + 1)}

commit e282b72151aff359ac3bb57edae3565623874ca1
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Feb 18 05:14:43 2017 -0600

    Remove non-applicable comment on MANUAL_Z_HOME_POS

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index afaa2c6288..cb47d7aced 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -870,7 +870,7 @@
 // For DELTA this is the top-center of the Cartesian print volume.
 //#define MANUAL_X_HOME_POS 0
 //#define MANUAL_Y_HOME_POS 0
-//#define MANUAL_Z_HOME_POS 0 // Distance between the nozzle to printbed after homing
+//#define MANUAL_Z_HOME_POS 0
 
 // Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
 //

commit d38e335272c3358a6dabe2a0fa71d1224f73c7ba
Author: esenapaj <creation0004@gmail.com>
Date:   Mon Jan 2 01:19:33 2017 +0900

    From "microseconds" to "milliseconds"
    
    delay() is milliseconds

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 14747dc267..afaa2c6288 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1420,7 +1420,7 @@
 //
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
-// Delay (in microseconds) before the next move will start, to give the servo time to reach its target angle.
+// Delay (in milliseconds) before the next move will start, to give the servo time to reach its target angle.
 // 300ms is a good value but you can try less delay.
 // If the servo can't reach the requested position, increase it.
 #define SERVO_DELAY 300

commit 5ab7b916152b98d23453c335ef39b9cfffbb1d25
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Dec 23 19:14:22 2016 -0800

    Comment on filament runout sensor config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a6e26eb75c..14747dc267 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -725,13 +725,15 @@
 #define Y_MAX_POS 200
 #define Z_MAX_POS 200
 
-//===========================================================================
-//========================= Filament Runout Sensor ==========================
-//===========================================================================
-//#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
-                                 // RAMPS-based boards use SERVO3_PIN. For other boards you may need to define FIL_RUNOUT_PIN.
-                                 // It is assumed that when logic high = filament available
-                                 //                    when logic  low = filament ran out
+/**
+ * Filament Runout Sensor
+ * A mechanical or opto endstop is used to check for the presence of filament.
+ *
+ * RAMPS-based boards use SERVO3_PIN.
+ * For other boards you may need to define FIL_RUNOUT_PIN.
+ * By default the firmware assumes HIGH = has filament, LOW = ran out
+ */
+//#define FILAMENT_RUNOUT_SENSOR
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
   #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
   #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.

commit 78d6d6e0761b7554a489d21fc6e05ffffbb3a274
Merge: d4f5418802 0d0aa6c20d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Dec 15 20:23:01 2016 -0800

    Merge pull request #5452 from thinkyhead/rc_save_your_mesh
    
    Save Bed Leveling to EEPROM

diff --combined Marlin/Configuration.h
index a7953a53d1,859e5f5a99..a6e26eb75c
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -206,7 -206,7 +206,7 @@@
  
  /**
   * --NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
 - * 
 + *
   * Temperature sensors available:
   *
   *    -3 : thermocouple with MAX31855 (only for sensor 0)
@@@ -231,13 -231,13 +231,13 @@@
   *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
   *    66 : 4.7M High Temperature thermistor from Dyze Design
   *    70 : the 100K thermistor found in the bq Hephestos 2
 - * 
 + *
   *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
   *                              (but gives greater accuracy and more stable PID)
   *    51 : 100k thermistor - EPCOS (1k pullup)
   *    52 : 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
   *    55 : 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
 - * 
 + *
   *  1047 : Pt1000 with 4k7 pullup
   *  1010 : Pt1000 with 1k pullup (non standard)
   *   147 : Pt100 with 4k7 pullup
@@@ -805,8 -805,8 +805,8 @@@
  #if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
  
    // Set the number of grid points per dimension.
-   #define ABL_GRID_POINTS_X 3
-   #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
+   #define ABL_GRID_MAX_POINTS_X 3
+   #define ABL_GRID_MAX_POINTS_Y ABL_GRID_MAX_POINTS_X
  
    // Set the boundaries for probing (where the probe can reach).
    #define LEFT_PROBE_BED_POSITION 15
@@@ -827,10 -827,10 +827,10 @@@
      // The height can be set with M420 Z<height>
      #define ENABLE_LEVELING_FADE_HEIGHT
  
 -    // 
 +    //
      // Experimental Subdivision of the grid by Catmull-Rom method.
      // Synthesizes intermediate points to produce a more detailed mesh.
 -    // 
 +    //
      //#define ABL_BILINEAR_SUBDIVISION
      #if ENABLED(ABL_BILINEAR_SUBDIVISION)
        // Number of subdivisions between probe points

commit 1b2fb2bdc7141f619146d4e0216183311c914c91
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Dec 9 21:38:28 2016 -0800

    ABL_GRID_POINTS_* => ABL_GRID_MAX_POINTS_*

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a07532336e..859e5f5a99 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -805,8 +805,8 @@
 #if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
 
   // Set the number of grid points per dimension.
-  #define ABL_GRID_POINTS_X 3
-  #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
+  #define ABL_GRID_MAX_POINTS_X 3
+  #define ABL_GRID_MAX_POINTS_Y ABL_GRID_MAX_POINTS_X
 
   // Set the boundaries for probing (where the probe can reach).
   #define LEFT_PROBE_BED_POSITION 15

commit 069c6b38ddbff725ab26411c6cedef9984d4d377
Author: esenapaj <creation0004@gmail.com>
Date:   Fri Dec 16 00:21:32 2016 +0900

    Remove unnecessary tabs and spaces

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a07532336e..a7953a53d1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -206,7 +206,7 @@
 
 /**
  * --NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
- * 
+ *
  * Temperature sensors available:
  *
  *    -3 : thermocouple with MAX31855 (only for sensor 0)
@@ -231,13 +231,13 @@
  *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  *    66 : 4.7M High Temperature thermistor from Dyze Design
  *    70 : the 100K thermistor found in the bq Hephestos 2
- * 
+ *
  *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
  *                              (but gives greater accuracy and more stable PID)
  *    51 : 100k thermistor - EPCOS (1k pullup)
  *    52 : 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  *    55 : 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
- * 
+ *
  *  1047 : Pt1000 with 4k7 pullup
  *  1010 : Pt1000 with 1k pullup (non standard)
  *   147 : Pt100 with 4k7 pullup
@@ -827,10 +827,10 @@
     // The height can be set with M420 Z<height>
     #define ENABLE_LEVELING_FADE_HEIGHT
 
-    // 
+    //
     // Experimental Subdivision of the grid by Catmull-Rom method.
     // Synthesizes intermediate points to produce a more detailed mesh.
-    // 
+    //
     //#define ABL_BILINEAR_SUBDIVISION
     #if ENABLED(ABL_BILINEAR_SUBDIVISION)
       // Number of subdivisions between probe points

commit da6a0944247198925024f9249e298221b217b245
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Dec 7 03:37:37 2016 -0600

    Sanity-check inverting and pullups for Z probe and Z endstop
    
    `Z_MIN_ENDSTOP_INVERTING` must match `Z_MIN_PROBE_ENDSTOP_INVERTING`
    when using `Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN`.
    This is easy to overlook.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f32a147f78..a07532336e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -459,7 +459,7 @@
 #define X_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 #define Y_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 #define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
-#define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the probe.
 
 // Enable this feature if all enabled endstop pins are interrupt-capable.
 // This will remove the need to poll the interrupt pins, saving many CPU cycles.

commit aa241c63b33bd723f316c532997f0f7828800ba0
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Dec 7 14:45:44 2016 -0600

    Include M205 note in configurations

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8377b2fd14..f32a147f78 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -517,6 +517,7 @@
 
 /**
  * Default Jerk (mm/s)
+ * Override with M205 X Y Z E
  *
  * "Jerk" specifies the minimum speed change that requires acceleration.
  * When changing speed and direction, if the difference is less than the

commit d7b948610a3fb6b2dec88bb128a187451b2263b3
Author: akaJes <akaJes@users.noreply.github.com>
Date:   Sat Nov 5 18:01:26 2016 +0200

    Experimental bilinear subdivision option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5565afb3b1..8377b2fd14 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -820,10 +820,22 @@
   //#define PROBE_Y_FIRST
 
   #if ENABLED(AUTO_BED_LEVELING_BILINEAR)
+
     // Gradually reduce leveling correction until a set height is reached,
     // at which point movement will be level to the machine's XY plane.
     // The height can be set with M420 Z<height>
     #define ENABLE_LEVELING_FADE_HEIGHT
+
+    // 
+    // Experimental Subdivision of the grid by Catmull-Rom method.
+    // Synthesizes intermediate points to produce a more detailed mesh.
+    // 
+    //#define ABL_BILINEAR_SUBDIVISION
+    #if ENABLED(ABL_BILINEAR_SUBDIVISION)
+      // Number of subdivisions between probe points
+      #define BILINEAR_SUBDIVISIONS 3
+    #endif
+
   #endif
 
 #elif ENABLED(AUTO_BED_LEVELING_3POINT)

commit 3391c785c6af1fe7bbcfd9a3eadf4ce3c279b850
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Dec 3 22:02:27 2016 -0600

    Support for distinct E factors

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e616fa3fd8..5565afb3b1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -145,6 +145,9 @@
 // :[1, 2, 3, 4]
 #define EXTRUDERS 1
 
+// Enable if your E steppers or extruder gear ratios are not identical
+//#define DISTINCT_E_FACTORS
+
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
 
@@ -472,26 +475,31 @@
  *
  * These settings can be reset by M502
  *
+ * You can set distinct factors for each E stepper, if needed.
+ * If fewer factors are given, the last will apply to the rest.
+ *
  * Note that if EEPROM is enabled, saved values will override these.
  */
 
 /**
  * Default Axis Steps Per Unit (steps/mm)
  * Override with M92
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3]]]
  */
 #define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
 
 /**
  * Default Max Feed Rate (mm/s)
  * Override with M203
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3]]]
  */
 #define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
 
 /**
  * Default Max Acceleration (change/s) change = mm/s
+ * (Maximum start speed for accelerated moves)
  * Override with M201
- *
- * Maximum start speed for accelerated moves: { X, Y, Z, E }
+ *                                      X, Y, Z, E0 [, E1[, E2[, E3]]]
  */
 #define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 

commit 415294801f613e88779c0b2bb57e83767bb595cb
Merge: e00b380489 65c50e062e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Nov 30 14:14:00 2016 -0600

    Merge pull request #5330 from thinkyhead/rc_rgb_led
    
    Support for an RGB LED using 3 pins

diff --combined Marlin/Configuration.h
index e65aa99366,a40b4f0c9b..e616fa3fd8
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -1037,9 -1037,9 +1037,9 @@@
  // Here you may choose the language used by Marlin on the LCD menus, the following
  // list of languages are available:
  //    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
 -//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, test
 +//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, uk, test
  //
 -// :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'test':'TEST' }
 +// :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'uk':'Ukrainian', 'test':'TEST' }
  //
  #define LCD_LANGUAGE en
  
@@@ -1375,6 -1375,14 +1375,14 @@@
  //define BlinkM/CyzRgb Support
  //#define BLINKM
  
+ // Support for an RGB LED using 3 separate pins with optional PWM
+ //#define RGB_LED
+ #if ENABLED(RGB_LED)
+   #define RGB_LED_R_PIN 34
+   #define RGB_LED_G_PIN 43
+   #define RGB_LED_B_PIN 35
+ #endif
+ 
  /*********************************************************************\
  * R/C SERVO support
  * Sponsored by TrinityLabs, Reworked by codexmas

commit 65c50e062e36703a7d0d303e979842eaea39c686
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Nov 29 19:51:13 2016 -0600

    Support for an RGB LED using 3 pins

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4610c4f945..a40b4f0c9b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1375,6 +1375,14 @@
 //define BlinkM/CyzRgb Support
 //#define BLINKM
 
+// Support for an RGB LED using 3 separate pins with optional PWM
+//#define RGB_LED
+#if ENABLED(RGB_LED)
+  #define RGB_LED_R_PIN 34
+  #define RGB_LED_G_PIN 43
+  #define RGB_LED_B_PIN 35
+#endif
+
 /*********************************************************************\
 * R/C SERVO support
 * Sponsored by TrinityLabs, Reworked by codexmas

commit f6742463976dd941782c5391c545d16f04cdc704
Author: jes <akajes@ukr.net>
Date:   Tue Nov 29 15:04:36 2016 +0200

    extend Configurations files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4610c4f945..e65aa99366 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1037,9 +1037,9 @@
 // Here you may choose the language used by Marlin on the LCD menus, the following
 // list of languages are available:
 //    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
-//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, test
+//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, uk, test
 //
-// :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'test':'TEST' }
+// :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'uk':'Ukrainian', 'test':'TEST' }
 //
 #define LCD_LANGUAGE en
 

commit 092e949b581e4f6aaf27cb89aaaa0005865ef711
Merge: e9e4208ff1 1864b282c5
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Nov 28 02:26:41 2016 -0600

    Merge pull request #5169 from thinkyhead/rc_core_inverted
    
    Support for COREYX, COREZX, COREZY

diff --combined Marlin/Configuration.h
index b70b57dbbb,588285be6e..4610c4f945
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -110,7 -110,7 +110,7 @@@
   * This allows the connection of wireless adapters (for instance) to non-default port pins.
   * Serial port 0 is always used by the Arduino bootloader regardless of this setting.
   *
 - * :[0,1,2,3,4,5,6,7]
 + * :[0, 1, 2, 3, 4, 5, 6, 7]
   */
  #define SERIAL_PORT 0
  
@@@ -120,7 -120,7 +120,7 @@@
   * 250000 works in most cases, but you might try a lower speed if
   * you commonly experience drop-outs during host printing.
   *
 - * :[2400,9600,19200,38400,57600,115200,250000]
 + * :[2400, 9600, 19200, 38400, 57600, 115200, 250000]
   */
  #define BAUDRATE 250000
  
@@@ -142,7 -142,7 +142,7 @@@
  //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
  
  // This defines the number of extruders
 -// :[1,2,3,4]
 +// :[1, 2, 3, 4]
  #define EXTRUDERS 1
  
  // For Cyclops or any "multi-extruder" that shares a single nozzle.
@@@ -185,7 -185,7 +185,7 @@@
   * 1 = ATX
   * 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
   *
 - * :{0:'No power switch',1:'ATX',2:'X-Box 360'}
 + * :{ 0:'No power switch', 1:'ATX', 2:'X-Box 360' }
   */
  #define POWER_SUPPLY 0
  
@@@ -200,64 -200,55 +200,64 @@@
  //===========================================================================
  //============================= Thermal Settings ============================
  //===========================================================================
 -//
 -//--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
 -//
 -//// Temperature sensor settings:
 -// -3 is thermocouple with MAX31855 (only for sensor 0)
 -// -2 is thermocouple with MAX6675 (only for sensor 0)
 -// -1 is thermocouple with AD595
 -// 0 is not used
 -// 1 is 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
 -// 2 is 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
 -// 3 is Mendel-parts thermistor (4.7k pullup)
 -// 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
 -// 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
 -// 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
 -// 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
 -// 71 is 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
 -// 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 -// 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 -// 10 is 100k RS thermistor 198-961 (4.7k pullup)
 -// 11 is 100k beta 3950 1% thermistor (4.7k pullup)
 -// 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
 -// 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
 -// 20 is the PT100 circuit found in the Ultimainboard V2.x
 -// 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 -// 66 is 4.7M High Temperature thermistor from Dyze Design
 -// 70 is the 100K thermistor found in the bq Hephestos 2
 -//
 -//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
 -//                          (but gives greater accuracy and more stable PID)
 -// 51 is 100k thermistor - EPCOS (1k pullup)
 -// 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 -// 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
 -//
 -// 1047 is Pt1000 with 4k7 pullup
 -// 1010 is Pt1000 with 1k pullup (non standard)
 -// 147 is Pt100 with 4k7 pullup
 -// 110 is Pt100 with 1k pullup (non standard)
 -// 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below.
 -//     Use it for Testing or Development purposes. NEVER for production machine.
 -//#define DUMMY_THERMISTOR_998_VALUE 25
 -//#define DUMMY_THERMISTOR_999_VALUE 100
 -// :{ '0': "Not used",'1':"100k / 4.7k - EPCOS",'2':"200k / 4.7k - ATC Semitec 204GT-2",'3':"Mendel-parts / 4.7k",'4':"10k !! do not use for a hotend. Bad resolution at high temp. !!",'5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'6':"100k / 4.7k EPCOS - Not as accurate as Table 1",'7':"100k / 4.7k Honeywell 135-104LAG-J01",'8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT",'9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1",'10':"100k / 4.7k RS 198-961",'11':"100k / 4.7k beta 3950 1%",'12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)",'13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'",'20':"PT100 (Ultimainboard V2.x)",'51':"100k / 1k - EPCOS",'52':"200k / 1k - ATC Semitec 204GT-2",'55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950",'66':"Dyze Design 4.7M High Temperature thermistor",'70':"the 100K thermistor found in the bq Hephestos 2",'71':"100k / 4.7k Honeywell 135-104LAF-J01",'147':"Pt100 / 4.7k",'1047':"Pt1000 / 4.7k",'110':"Pt100 / 1k (non-standard)",'1010':"Pt1000 / 1k (non standard)",'-3':"Thermocouple + MAX31855 (only for sensor 0)",'-2':"Thermocouple + MAX6675 (only for sensor 0)",'-1':"Thermocouple + AD595",'998':"Dummy 1",'999':"Dummy 2" }
 +
 +/**
 + * --NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
 + * 
 + * Temperature sensors available:
 + *
 + *    -3 : thermocouple with MAX31855 (only for sensor 0)
 + *    -2 : thermocouple with MAX6675 (only for sensor 0)
 + *    -1 : thermocouple with AD595
 + *     0 : not used
 + *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
 + *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
 + *     3 : Mendel-parts thermistor (4.7k pullup)
 + *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
 + *     5 : 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
 + *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
 + *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
 + *    71 : 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
 + *     8 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 + *     9 : 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 + *    10 : 100k RS thermistor 198-961 (4.7k pullup)
 + *    11 : 100k beta 3950 1% thermistor (4.7k pullup)
 + *    12 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
 + *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
 + *    20 : the PT100 circuit found in the Ultimainboard V2.x
 + *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 + *    66 : 4.7M High Temperature thermistor from Dyze Design
 + *    70 : the 100K thermistor found in the bq Hephestos 2
 + * 
 + *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
 + *                              (but gives greater accuracy and more stable PID)
 + *    51 : 100k thermistor - EPCOS (1k pullup)
 + *    52 : 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 + *    55 : 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
 + * 
 + *  1047 : Pt1000 with 4k7 pullup
 + *  1010 : Pt1000 with 1k pullup (non standard)
 + *   147 : Pt100 with 4k7 pullup
 + *   110 : Pt100 with 1k pullup (non standard)
 + *
 + *         Use these for Testing or Development purposes. NEVER for production machine.
 + *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
 + *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
 + *
 + * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
 + */
  #define TEMP_SENSOR_0 1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_3 0
  #define TEMP_SENSOR_BED 0
  
 -// This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
 +// Dummy thermistor constant temperature readings, for use with 998 and 999
 +#define DUMMY_THERMISTOR_998_VALUE 25
 +#define DUMMY_THERMISTOR_999_VALUE 100
 +
 +// Use temp sensor 1 as a redundant sensor with sensor 0. If the readings
 +// from the two sensors differ too much the print will be aborted.
  //#define TEMP_SENSOR_1_AS_REDUNDANT
  #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
  
@@@ -408,9 -399,13 +408,13 @@@
  // @section machine
  
  // Uncomment one of these options to enable CoreXY, CoreXZ, or CoreYZ kinematics
+ // either in the usual order or reversed
  //#define COREXY
  //#define COREXZ
  //#define COREYZ
+ //#define COREYX
+ //#define COREZX
+ //#define COREZY
  
  // Enable this option for Toshiba steppers
  //#define CONFIG_STEPPERS_TOSHIBA
@@@ -454,9 -449,6 +458,9 @@@
  #define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
  #define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
  
 +// Enable this feature if all enabled endstop pins are interrupt-capable.
 +// This will remove the need to poll the interrupt pins, saving many CPU cycles.
 +//#define ENDSTOP_INTERRUPTS_FEATURE
  
  //=============================================================================
  //============================== Movement Settings ============================
@@@ -653,7 -645,7 +657,7 @@@
  #define Z_PROBE_OFFSET_RANGE_MAX 20
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 -// :{0:'Low',1:'High'}
 +// :{ 0:'Low', 1:'High' }
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
  #define Z_ENABLE_ON 0
@@@ -694,7 -686,7 +698,7 @@@
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
 -// :[-1,1]
 +// :[-1, 1]
  #define X_HOME_DIR -1
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
@@@ -720,7 -712,7 +724,7 @@@
                                   // It is assumed that when logic high = filament available
                                   //                    when logic  low = filament ran out
  #if ENABLED(FILAMENT_RUNOUT_SENSOR)
 -  const bool FIL_RUNOUT_INVERTING = false; // set to true to invert the logic of the sensor.
 +  #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
    #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
    #define FILAMENT_RUNOUT_SCRIPT "M600"
  #endif
@@@ -745,11 -737,6 +749,11 @@@
      #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
    #endif  // MANUAL_BED_LEVELING
  
 +  // Gradually reduce leveling correction until a set height is reached,
 +  // at which point movement will be level to the machine's XY plane.
 +  // The height can be set with M420 Z<height>
 +  #define ENABLE_LEVELING_FADE_HEIGHT
 +
  #endif  // MESH_BED_LEVELING
  
  //===========================================================================
@@@ -807,13 -794,6 +811,13 @@@
    // Probe along the Y axis, advancing X after each column
    //#define PROBE_Y_FIRST
  
 +  #if ENABLED(AUTO_BED_LEVELING_BILINEAR)
 +    // Gradually reduce leveling correction until a set height is reached,
 +    // at which point movement will be level to the machine's XY plane.
 +    // The height can be set with M420 Z<height>
 +    #define ENABLE_LEVELING_FADE_HEIGHT
 +  #endif
 +
  #elif ENABLED(AUTO_BED_LEVELING_3POINT)
  
    // 3 arbitrary points to probe.
@@@ -1033,9 -1013,9 +1037,9 @@@
  // Here you may choose the language used by Marlin on the LCD menus, the following
  // list of languages are available:
  //    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
 -//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, test
 +//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, test
  //
 -// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','el':'Greek','el-gr':'Greek (Greece)','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian','test':'TEST'}
 +// :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'test':'TEST' }
  //
  #define LCD_LANGUAGE en
  
@@@ -1059,7 -1039,7 +1063,7 @@@
  //
  // See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
  //
 -// :['JAPANESE','WESTERN','CYRILLIC']
 +// :['JAPANESE', 'WESTERN', 'CYRILLIC']
  //
  #define DISPLAY_CHARSET_HD44780 JAPANESE
  

commit f6f77d34a1712c308d260e8436109ea4995d8122
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Nov 25 23:32:47 2016 -0600

    Add a fade factor for mesh leveling

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 382247479e..b70b57dbbb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -745,6 +745,11 @@
     #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
   #endif  // MANUAL_BED_LEVELING
 
+  // Gradually reduce leveling correction until a set height is reached,
+  // at which point movement will be level to the machine's XY plane.
+  // The height can be set with M420 Z<height>
+  #define ENABLE_LEVELING_FADE_HEIGHT
+
 #endif  // MESH_BED_LEVELING
 
 //===========================================================================
@@ -802,6 +807,13 @@
   // Probe along the Y axis, advancing X after each column
   //#define PROBE_Y_FIRST
 
+  #if ENABLED(AUTO_BED_LEVELING_BILINEAR)
+    // Gradually reduce leveling correction until a set height is reached,
+    // at which point movement will be level to the machine's XY plane.
+    // The height can be set with M420 Z<height>
+    #define ENABLE_LEVELING_FADE_HEIGHT
+  #endif
+
 #elif ENABLED(AUTO_BED_LEVELING_3POINT)
 
   // 3 arbitrary points to probe.

commit eb714ee87372e9c9d2f768e860bbb7f3325c8463
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Nov 18 22:22:04 2016 -0600

    Move dummy thermistor opts, fix redundant sensor comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3a07f6a590..382247479e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -252,7 +252,12 @@
 #define TEMP_SENSOR_3 0
 #define TEMP_SENSOR_BED 0
 
-// This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
+// Dummy thermistor constant temperature readings, for use with 998 and 999
+#define DUMMY_THERMISTOR_998_VALUE 25
+#define DUMMY_THERMISTOR_999_VALUE 100
+
+// Use temp sensor 1 as a redundant sensor with sensor 0. If the readings
+// from the two sensors differ too much the print will be aborted.
 //#define TEMP_SENSOR_1_AS_REDUNDANT
 #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 

commit 7a99c6ce4f8dd53237a474a5f3a2e09df0108f81
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Nov 18 22:20:49 2016 -0600

    Reformat temp sensor listing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6155dde80a..3a07f6a590 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -200,48 +200,52 @@
 //===========================================================================
 //============================= Thermal Settings ============================
 //===========================================================================
-//
-//--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
-//
-//// Temperature sensor settings:
-// -3 is thermocouple with MAX31855 (only for sensor 0)
-// -2 is thermocouple with MAX6675 (only for sensor 0)
-// -1 is thermocouple with AD595
-// 0 is not used
-// 1 is 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
-// 2 is 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
-// 3 is Mendel-parts thermistor (4.7k pullup)
-// 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
-// 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
-// 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
-// 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
-// 71 is 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
-// 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
-// 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
-// 10 is 100k RS thermistor 198-961 (4.7k pullup)
-// 11 is 100k beta 3950 1% thermistor (4.7k pullup)
-// 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
-// 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
-// 20 is the PT100 circuit found in the Ultimainboard V2.x
-// 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
-// 66 is 4.7M High Temperature thermistor from Dyze Design
-// 70 is the 100K thermistor found in the bq Hephestos 2
-//
-//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
-//                          (but gives greater accuracy and more stable PID)
-// 51 is 100k thermistor - EPCOS (1k pullup)
-// 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
-// 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
-//
-// 1047 is Pt1000 with 4k7 pullup
-// 1010 is Pt1000 with 1k pullup (non standard)
-// 147 is Pt100 with 4k7 pullup
-// 110 is Pt100 with 1k pullup (non standard)
-// 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below.
-//     Use it for Testing or Development purposes. NEVER for production machine.
-//#define DUMMY_THERMISTOR_998_VALUE 25
-//#define DUMMY_THERMISTOR_999_VALUE 100
-// :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
+
+/**
+ * --NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
+ * 
+ * Temperature sensors available:
+ *
+ *    -3 : thermocouple with MAX31855 (only for sensor 0)
+ *    -2 : thermocouple with MAX6675 (only for sensor 0)
+ *    -1 : thermocouple with AD595
+ *     0 : not used
+ *     1 : 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
+ *     2 : 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
+ *     3 : Mendel-parts thermistor (4.7k pullup)
+ *     4 : 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
+ *     5 : 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
+ *     6 : 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
+ *     7 : 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
+ *    71 : 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
+ *     8 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
+ *     9 : 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
+ *    10 : 100k RS thermistor 198-961 (4.7k pullup)
+ *    11 : 100k beta 3950 1% thermistor (4.7k pullup)
+ *    12 : 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
+ *    13 : 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
+ *    20 : the PT100 circuit found in the Ultimainboard V2.x
+ *    60 : 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
+ *    66 : 4.7M High Temperature thermistor from Dyze Design
+ *    70 : the 100K thermistor found in the bq Hephestos 2
+ * 
+ *       1k ohm pullup tables - This is atypical, and requires changing out the 4.7k pullup for 1k.
+ *                              (but gives greater accuracy and more stable PID)
+ *    51 : 100k thermistor - EPCOS (1k pullup)
+ *    52 : 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
+ *    55 : 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
+ * 
+ *  1047 : Pt1000 with 4k7 pullup
+ *  1010 : Pt1000 with 1k pullup (non standard)
+ *   147 : Pt100 with 4k7 pullup
+ *   110 : Pt100 with 1k pullup (non standard)
+ *
+ *         Use these for Testing or Development purposes. NEVER for production machine.
+ *   998 : Dummy Table that ALWAYS reads 25¬∞C or the temperature defined below.
+ *   999 : Dummy Table that ALWAYS reads 100¬∞C or the temperature defined below.
+ *
+ * :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
+ */
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0

commit eb120e518c12922f3e12fb40d11142ffa27a9829
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Nov 18 21:53:45 2016 -0600

    Followup to new endstop interrupts feature
    
    - Fix typos, verbiage
    - Fix naming of `setup_endstop_interrupts`
    - Some formatting, indentation, spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 83c2bedbc8..6155dde80a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -445,8 +445,8 @@
 #define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 #define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 
-// If all used endstop pins are able to cause interrupts, you can enable ENDSTOP_INTERRUPTS_FEATURE.
-// Then the function testing the endstops will only be called, if the state of one of the endstops changed.
+// Enable this feature if all enabled endstop pins are interrupt-capable.
+// This will remove the need to poll the interrupt pins, saving many CPU cycles.
 //#define ENDSTOP_INTERRUPTS_FEATURE
 
 //=============================================================================

commit 832fe284b4a1cf32190e5f811e33e1796fd292e9
Merge: 32247c1b80 f3eee02596
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Nov 18 20:50:24 2016 -0600

    Merge pull request #5184 from AnHardt/endstop_interrupts
    
    Introduce endstop interrupts

diff --combined Marlin/Configuration.h
index 827444ab42,5b15c3f3f7..83c2bedbc8
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -445,6 -445,9 +445,9 @@@
  #define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
  #define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
  
+ // If all used endstop pins are able to cause interrupts, you can enable ENDSTOP_INTERRUPTS_FEATURE.
+ // Then the function testing the endstops will only be called, if the state of one of the endstops changed.
+ //#define ENDSTOP_INTERRUPTS_FEATURE
  
  //=============================================================================
  //============================== Movement Settings ============================
@@@ -708,7 -711,7 +711,7 @@@
                                   // It is assumed that when logic high = filament available
                                   //                    when logic  low = filament ran out
  #if ENABLED(FILAMENT_RUNOUT_SENSOR)
 -  const bool FIL_RUNOUT_INVERTING = false; // set to true to invert the logic of the sensor.
 +  #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
    #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
    #define FILAMENT_RUNOUT_SCRIPT "M600"
  #endif

commit 2330619da0ca0900590060da6dbf54969e825f3b
Merge: d63230d73e d7ce5d271b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Nov 17 03:37:32 2016 -0600

    Merge pull request #5191 from petrzjunior/const
    
    Replace const bool with #define for consistency

diff --combined Marlin/Configuration.h
index 75ab781a7e,675bed880f..827444ab42
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -110,7 -110,7 +110,7 @@@
   * This allows the connection of wireless adapters (for instance) to non-default port pins.
   * Serial port 0 is always used by the Arduino bootloader regardless of this setting.
   *
 - * :[0,1,2,3,4,5,6,7]
 + * :[0, 1, 2, 3, 4, 5, 6, 7]
   */
  #define SERIAL_PORT 0
  
@@@ -120,7 -120,7 +120,7 @@@
   * 250000 works in most cases, but you might try a lower speed if
   * you commonly experience drop-outs during host printing.
   *
 - * :[2400,9600,19200,38400,57600,115200,250000]
 + * :[2400, 9600, 19200, 38400, 57600, 115200, 250000]
   */
  #define BAUDRATE 250000
  
@@@ -142,7 -142,7 +142,7 @@@
  //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
  
  // This defines the number of extruders
 -// :[1,2,3,4]
 +// :[1, 2, 3, 4]
  #define EXTRUDERS 1
  
  // For Cyclops or any "multi-extruder" that shares a single nozzle.
@@@ -185,7 -185,7 +185,7 @@@
   * 1 = ATX
   * 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
   *
 - * :{0:'No power switch',1:'ATX',2:'X-Box 360'}
 + * :{ 0:'No power switch', 1:'ATX', 2:'X-Box 360' }
   */
  #define POWER_SUPPLY 0
  
@@@ -241,7 -241,7 +241,7 @@@
  //     Use it for Testing or Development purposes. NEVER for production machine.
  //#define DUMMY_THERMISTOR_998_VALUE 25
  //#define DUMMY_THERMISTOR_999_VALUE 100
 -// :{ '0': "Not used",'1':"100k / 4.7k - EPCOS",'2':"200k / 4.7k - ATC Semitec 204GT-2",'3':"Mendel-parts / 4.7k",'4':"10k !! do not use for a hotend. Bad resolution at high temp. !!",'5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'6':"100k / 4.7k EPCOS - Not as accurate as Table 1",'7':"100k / 4.7k Honeywell 135-104LAG-J01",'8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT",'9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1",'10':"100k / 4.7k RS 198-961",'11':"100k / 4.7k beta 3950 1%",'12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)",'13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'",'20':"PT100 (Ultimainboard V2.x)",'51':"100k / 1k - EPCOS",'52':"200k / 1k - ATC Semitec 204GT-2",'55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950",'66':"Dyze Design 4.7M High Temperature thermistor",'70':"the 100K thermistor found in the bq Hephestos 2",'71':"100k / 4.7k Honeywell 135-104LAF-J01",'147':"Pt100 / 4.7k",'1047':"Pt1000 / 4.7k",'110':"Pt100 / 1k (non-standard)",'1010':"Pt1000 / 1k (non standard)",'-3':"Thermocouple + MAX31855 (only for sensor 0)",'-2':"Thermocouple + MAX6675 (only for sensor 0)",'-1':"Thermocouple + AD595",'998':"Dummy 1",'999':"Dummy 2" }
 +// :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
  #define TEMP_SENSOR_0 1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
@@@ -641,7 -641,7 +641,7 @@@
  #define Z_PROBE_OFFSET_RANGE_MAX 20
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 -// :{0:'Low',1:'High'}
 +// :{ 0:'Low', 1:'High' }
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
  #define Z_ENABLE_ON 0
@@@ -682,7 -682,7 +682,7 @@@
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
 -// :[-1,1]
 +// :[-1, 1]
  #define X_HOME_DIR -1
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
@@@ -708,7 -708,7 +708,7 @@@
                                   // It is assumed that when logic high = filament available
                                   //                    when logic  low = filament ran out
  #if ENABLED(FILAMENT_RUNOUT_SENSOR)
-   const bool FIL_RUNOUT_INVERTING = false; // set to true to invert the logic of the sensor.
+   #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
    #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
    #define FILAMENT_RUNOUT_SCRIPT "M600"
  #endif
@@@ -1011,7 -1011,7 +1011,7 @@@
  //    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
  //    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, test
  //
 -// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','el':'Greek','el-gr':'Greek (Greece)','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian', 'tr':'Turkish', 'test':'TEST'}
 +// :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'test':'TEST' }
  //
  #define LCD_LANGUAGE en
  
@@@ -1035,7 -1035,7 +1035,7 @@@
  //
  // See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
  //
 -// :['JAPANESE','WESTERN','CYRILLIC']
 +// :['JAPANESE', 'WESTERN', 'CYRILLIC']
  //
  #define DISPLAY_CHARSET_HD44780 JAPANESE
  

commit d7ce5d271be54224e7a907b1edd9e257235a7fb1
Author: Petr Zahradn√≠k junior <junior@zahradnik.cz>
Date:   Wed Nov 9 17:21:21 2016 +0100

    Replace const bool with #define for consistency

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9b6e2ef0dd..675bed880f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -708,7 +708,7 @@
                                  // It is assumed that when logic high = filament available
                                  //                    when logic  low = filament ran out
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
-  const bool FIL_RUNOUT_INVERTING = false; // set to true to invert the logic of the sensor.
+  #define FIL_RUNOUT_INVERTING false // set to true to invert the logic of the sensor.
   #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
   #define FILAMENT_RUNOUT_SCRIPT "M600"
 #endif

commit f3eee02596240b5db0e5491ae93acd750acce719
Author: AnHardt <github@kitelab.de>
Date:   Sat Nov 5 22:38:48 2016 +0100

    Introduce endstop interrupts
    
    If ENDSTOP_INTERRUPTS_FEATURE is enabled this tries to set up interrupt routines
    for all used endstop pins. If this worked without errors, `endstops.update()` is called
    only if one of the endstops changed its state.
    
    The new interrupt routines do not really check the endstops and react upon them. All what they
    do, is to set a flag if it makes sense to call the endstop test we are used to.
    
    This can be used on:
    * ARM (DUE) based boards - all pins can raise interrupts,
    * RAMPS - all 6 endstop pins plus some other on EXT-2 can raise interrupts,
    * RAMPS based boards - as long the designers did not change the pins for the endstops or at least left enough,
    * all boards, if there are enough pins that can raise interrupts, and you are willing/able to swap with pins dedicated to other purpose.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 75ab781a7e..5b15c3f3f7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -445,6 +445,9 @@
 #define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 #define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 
+// If all used endstop pins are able to cause interrupts, you can enable ENDSTOP_INTERRUPTS_FEATURE.
+// Then the function testing the endstops will only be called, if the state of one of the endstops changed.
+//#define ENDSTOP_INTERRUPTS_FEATURE
 
 //=============================================================================
 //============================== Movement Settings ============================

commit 2ae72b0491e289f97010a9f6ce23951b1126a0a1
Author: esenapaj <creation0004@gmail.com>
Date:   Wed Nov 9 06:31:21 2016 +0900

    Follow up the PR #5167 (Add Turkish Language) again, etc
    
    „ÉªUpdate forgotten K8400\Dual-head\Configuration.h
    „ÉªAdjust spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9b6e2ef0dd..75ab781a7e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -110,7 +110,7 @@
  * This allows the connection of wireless adapters (for instance) to non-default port pins.
  * Serial port 0 is always used by the Arduino bootloader regardless of this setting.
  *
- * :[0,1,2,3,4,5,6,7]
+ * :[0, 1, 2, 3, 4, 5, 6, 7]
  */
 #define SERIAL_PORT 0
 
@@ -120,7 +120,7 @@
  * 250000 works in most cases, but you might try a lower speed if
  * you commonly experience drop-outs during host printing.
  *
- * :[2400,9600,19200,38400,57600,115200,250000]
+ * :[2400, 9600, 19200, 38400, 57600, 115200, 250000]
  */
 #define BAUDRATE 250000
 
@@ -142,7 +142,7 @@
 //#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
 // This defines the number of extruders
-// :[1,2,3,4]
+// :[1, 2, 3, 4]
 #define EXTRUDERS 1
 
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
@@ -185,7 +185,7 @@
  * 1 = ATX
  * 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
  *
- * :{0:'No power switch',1:'ATX',2:'X-Box 360'}
+ * :{ 0:'No power switch', 1:'ATX', 2:'X-Box 360' }
  */
 #define POWER_SUPPLY 0
 
@@ -241,7 +241,7 @@
 //     Use it for Testing or Development purposes. NEVER for production machine.
 //#define DUMMY_THERMISTOR_998_VALUE 25
 //#define DUMMY_THERMISTOR_999_VALUE 100
-// :{ '0': "Not used",'1':"100k / 4.7k - EPCOS",'2':"200k / 4.7k - ATC Semitec 204GT-2",'3':"Mendel-parts / 4.7k",'4':"10k !! do not use for a hotend. Bad resolution at high temp. !!",'5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'6':"100k / 4.7k EPCOS - Not as accurate as Table 1",'7':"100k / 4.7k Honeywell 135-104LAG-J01",'8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT",'9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1",'10':"100k / 4.7k RS 198-961",'11':"100k / 4.7k beta 3950 1%",'12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)",'13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'",'20':"PT100 (Ultimainboard V2.x)",'51':"100k / 1k - EPCOS",'52':"200k / 1k - ATC Semitec 204GT-2",'55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950",'66':"Dyze Design 4.7M High Temperature thermistor",'70':"the 100K thermistor found in the bq Hephestos 2",'71':"100k / 4.7k Honeywell 135-104LAF-J01",'147':"Pt100 / 4.7k",'1047':"Pt1000 / 4.7k",'110':"Pt100 / 1k (non-standard)",'1010':"Pt1000 / 1k (non standard)",'-3':"Thermocouple + MAX31855 (only for sensor 0)",'-2':"Thermocouple + MAX6675 (only for sensor 0)",'-1':"Thermocouple + AD595",'998':"Dummy 1",'999':"Dummy 2" }
+// :{ '0': "Not used", '1':"100k / 4.7k - EPCOS", '2':"200k / 4.7k - ATC Semitec 204GT-2", '3':"Mendel-parts / 4.7k", '4':"10k !! do not use for a hotend. Bad resolution at high temp. !!", '5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '6':"100k / 4.7k EPCOS - Not as accurate as Table 1", '7':"100k / 4.7k Honeywell 135-104LAG-J01", '8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10':"100k / 4.7k RS 198-961", '11':"100k / 4.7k beta 3950 1%", '12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '20':"PT100 (Ultimainboard V2.x)", '51':"100k / 1k - EPCOS", '52':"200k / 1k - ATC Semitec 204GT-2", '55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '66':"Dyze Design 4.7M High Temperature thermistor", '70':"the 100K thermistor found in the bq Hephestos 2", '71':"100k / 4.7k Honeywell 135-104LAF-J01", '147':"Pt100 / 4.7k", '1047':"Pt1000 / 4.7k", '110':"Pt100 / 1k (non-standard)", '1010':"Pt1000 / 1k (non standard)", '-3':"Thermocouple + MAX31855 (only for sensor 0)", '-2':"Thermocouple + MAX6675 (only for sensor 0)", '-1':"Thermocouple + AD595",'998':"Dummy 1", '999':"Dummy 2" }
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0
@@ -641,7 +641,7 @@
 #define Z_PROBE_OFFSET_RANGE_MAX 20
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
-// :{0:'Low',1:'High'}
+// :{ 0:'Low', 1:'High' }
 #define X_ENABLE_ON 0
 #define Y_ENABLE_ON 0
 #define Z_ENABLE_ON 0
@@ -682,7 +682,7 @@
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
-// :[-1,1]
+// :[-1, 1]
 #define X_HOME_DIR -1
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
@@ -1011,7 +1011,7 @@
 //    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
 //    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, test
 //
-// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','el':'Greek','el-gr':'Greek (Greece)','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian', 'tr':'Turkish', 'test':'TEST'}
+// :{ 'en':'English', 'an':'Aragonese', 'bg':'Bulgarian', 'ca':'Catalan', 'cn':'Chinese', 'cz':'Czech', 'de':'German', 'el':'Greek', 'el-gr':'Greek (Greece)', 'es':'Spanish', 'eu':'Basque-Euskera', 'fi':'Finnish', 'fr':'French', 'gl':'Galician', 'hr':'Croatian', 'it':'Italian', 'kana':'Japanese', 'kana_utf8':'Japanese (UTF8)', 'nl':'Dutch', 'pl':'Polish', 'pt':'Portuguese', 'pt-br':'Portuguese (Brazilian)', 'pt-br_utf8':'Portuguese (Brazilian UTF8)', 'pt_utf8':'Portuguese (UTF8)', 'ru':'Russian', 'tr':'Turkish', 'test':'TEST' }
 //
 #define LCD_LANGUAGE en
 
@@ -1035,7 +1035,7 @@
 //
 // See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
 //
-// :['JAPANESE','WESTERN','CYRILLIC']
+// :['JAPANESE', 'WESTERN', 'CYRILLIC']
 //
 #define DISPLAY_CHARSET_HD44780 JAPANESE
 

commit e3c831850415f931ef97a9ca1709862a7a8ee729
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Nov 5 23:47:24 2016 -0500

    Add reversed CORE options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6b63fc3833..588285be6e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -399,9 +399,13 @@
 // @section machine
 
 // Uncomment one of these options to enable CoreXY, CoreXZ, or CoreYZ kinematics
+// either in the usual order or reversed
 //#define COREXY
 //#define COREXZ
 //#define COREYZ
+//#define COREYX
+//#define COREZX
+//#define COREZY
 
 // Enable this option for Toshiba steppers
 //#define CONFIG_STEPPERS_TOSHIBA

commit 2327764980428143636be65340a250667fda4bcf
Author: Rigid3D <msutas@rigid3d.com>
Date:   Fri Nov 4 09:33:11 2016 +0200

    Add Turkish Language

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6b63fc3833..9b6e2ef0dd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1009,9 +1009,9 @@
 // Here you may choose the language used by Marlin on the LCD menus, the following
 // list of languages are available:
 //    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
-//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, test
+//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, tr, test
 //
-// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','el':'Greek','el-gr':'Greek (Greece)','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian','test':'TEST'}
+// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','el':'Greek','el-gr':'Greek (Greece)','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian', 'tr':'Turkish', 'test':'TEST'}
 //
 #define LCD_LANGUAGE en
 

commit 0908329d96ceb451f84cea59aeac615dbb4c69ed
Merge: dbfabb4c0a 14e60f0d3b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Oct 22 06:31:02 2016 -0500

    Merge pull request #5057 from thinkyhead/rc_mbl_lcd_logical
    
    Fix manual leveling coordinates

diff --combined Marlin/Configuration.h
index 7378774e59,2b4c8a1fd0..6b63fc3833
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -114,6 -114,7 +114,6 @@@
   */
  #define SERIAL_PORT 0
  
 -#define BAUDRATE 250000
  /**
   * This setting determines the communication speed of the printer.
   *
@@@ -122,7 -123,6 +122,7 @@@
   *
   * :[2400,9600,19200,38400,57600,115200,250000]
   */
 +#define BAUDRATE 250000
  
  // Enable the Bluetooth serial interface on AT90USB devices
  //#define BLUETOOTH
@@@ -492,7 -492,7 +492,7 @@@
  #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
  
  /**
-  * Defult Jerk (mm/s)
+  * Default Jerk (mm/s)
   *
   * "Jerk" specifies the minimum speed change that requires acceleration.
   * When changing speed and direction, if the difference is less than the

commit 14e60f0d3b454bf63416869d94f9b5dee6b09941
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Oct 22 05:56:32 2016 -0500

    Correct typo in configs
    
    As pointed out by #5044

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2a11156002..2b4c8a1fd0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -492,7 +492,7 @@
 #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
 
 /**
- * Defult Jerk (mm/s)
+ * Default Jerk (mm/s)
  *
  * "Jerk" specifies the minimum speed change that requires acceleration.
  * When changing speed and direction, if the difference is less than the

commit 4f6bfabaad76b5b5ca8fdfc38e1f2d8b05a40e86
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Oct 22 00:48:52 2016 -0500

    Patch BAUDRATE line in configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2a11156002..7378774e59 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -114,7 +114,6 @@
  */
 #define SERIAL_PORT 0
 
-#define BAUDRATE 250000
 /**
  * This setting determines the communication speed of the printer.
  *
@@ -123,6 +122,7 @@
  *
  * :[2400,9600,19200,38400,57600,115200,250000]
  */
+#define BAUDRATE 250000
 
 // Enable the Bluetooth serial interface on AT90USB devices
 //#define BLUETOOTH

commit 1e551c0688a2ae3cec86e4737175bd7ef87be053
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Oct 9 16:13:58 2016 -0500

    Revert "Squashed - Removal of PID functional range"

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 467ffcc9c6..2a11156002 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -288,7 +288,7 @@
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
 #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
-#define PID_MAX BANG_MAX // limits current to nozzle while PID is active); 255=full current
+#define PID_MAX BANG_MAX // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #if ENABLED(PIDTEMP)
   //#define PID_AUTOTUNE_MENU // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
   //#define PID_DEBUG // Sends debug data to the serial port.
@@ -296,6 +296,8 @@
   //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
+  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
+                                  // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define K1 0.95 //smoothing factor within the PID
 
   // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it

commit 5f5d87cad364b54e3c506534f02249e21246a98b
Author: Rerouter <ryanfavelle@gmail.com>
Date:   Wed Sep 28 17:38:09 2016 +1000

    Update Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2a11156002..467ffcc9c6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -288,7 +288,7 @@
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
 #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
-#define PID_MAX BANG_MAX // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
+#define PID_MAX BANG_MAX // limits current to nozzle while PID is active); 255=full current
 #if ENABLED(PIDTEMP)
   //#define PID_AUTOTUNE_MENU // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
   //#define PID_DEBUG // Sends debug data to the serial port.
@@ -296,8 +296,6 @@
   //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
-  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
-                                  // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define K1 0.95 //smoothing factor within the PID
 
   // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it

commit d19cfcfc1d942f89408e960ecc5d4a02d32cf834
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Oct 2 04:37:13 2016 -0500

    max_jerk array, DEFAULT_XYJERK => DEFAULT_[XY]JERK

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0c968f6db5..2a11156002 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -498,7 +498,8 @@
  * When changing speed and direction, if the difference is less than the
  * value set here, it may happen instantaneously.
  */
-#define DEFAULT_XYJERK                20.0
+#define DEFAULT_XJERK                 20.0
+#define DEFAULT_YJERK                 20.0
 #define DEFAULT_ZJERK                  0.4
 #define DEFAULT_EJERK                  5.0
 

commit 473f4a17a82dd4f71bf494217c9995b6a3f2e34b
Merge: bad8899ebc 638b809d90
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Oct 1 06:58:07 2016 -0500

    Merge pull request #4914 from Rerouter/PID-Unconstrained-Itemp
    
    Pid unconstrained itemp

diff --combined Marlin/Configuration.h
index 79e091dc51,477c4674d1..0c968f6db5
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -298,7 -298,6 +298,6 @@@
                                    // Set/get with gcode: M301 E[extruder number, 0-2]
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
-   #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
    #define K1 0.95 //smoothing factor within the PID
  
    // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
@@@ -345,8 -344,6 +344,6 @@@
  
    //#define PID_BED_DEBUG // Sends debug data to the serial port.
  
-   #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
- 
    //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
    //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
    #define  DEFAULT_bedKp 10.00
@@@ -516,7 -513,7 +513,7 @@@
  // Probes are sensors/switches that are activated / deactivated before/after use.
  //
  // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
 -// You must activate one of these to use AUTO_BED_LEVELING_FEATURE below.
 +// You must activate one of these to use Auto Bed Leveling below.
  //
  // Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
  //
@@@ -738,78 -735,69 +735,78 @@@
  #endif  // MESH_BED_LEVELING
  
  //===========================================================================
 -//============================ Bed Auto Leveling ============================
 +//============================ Auto Bed Leveling ============================
  //===========================================================================
 -
  // @section bedlevel
  
 -//#define AUTO_BED_LEVELING_FEATURE // Delete the comment to enable (remove // at the start of the line)
 +/**
 + * Select one form of Auto Bed Leveling below.
 + *
 + *  If you're also using the Probe for Z Homing, it's
 + *  highly recommended to enable Z_SAFE_HOMING also!
 + *
 + * - 3POINT
 + *   Probe 3 arbitrary points on the bed (that aren't collinear)
 + *   You specify the XY coordinates of all 3 points.
 + *   The result is a single tilted plane. Best for a flat bed.
 + *
 + * - LINEAR
 + *   Probe several points in a grid.
 + *   You specify the rectangle and the density of sample points.
 + *   The result is a single tilted plane. Best for a flat bed.
 + *
 + * - BILINEAR
 + *   Probe several points in a grid.
 + *   You specify the rectangle and the density of sample points.
 + *   The result is a mesh, best for large or uneven beds.
 + */
 +//#define AUTO_BED_LEVELING_3POINT
 +//#define AUTO_BED_LEVELING_LINEAR
 +//#define AUTO_BED_LEVELING_BILINEAR
  
 -// Enable this feature to get detailed logging of G28, G29, M48, etc.
 -// Logging is off by default. Enable this logging feature with 'M111 S32'.
 -// NOTE: Requires a huge amount of PROGMEM.
 +/**
 + * Enable detailed logging of G28, G29, M48, etc.
 + * Turn on with the command 'M111 S32'.
 + * NOTE: Requires a lot of PROGMEM!
 + */
  //#define DEBUG_LEVELING_FEATURE
  
 -#if ENABLED(AUTO_BED_LEVELING_FEATURE)
 -
 -  // There are 2 different ways to specify probing locations:
 -  //
 -  // - "grid" mode
 -  //   Probe several points in a rectangular grid.
 -  //   You specify the rectangle and the density of sample points.
 -  //   This mode is preferred because there are more measurements.
 -  //
 -  // - "3-point" mode
 -  //   Probe 3 arbitrary points on the bed (that aren't collinear)
 -  //   You specify the XY coordinates of all 3 points.
 -
 -  // Enable this to sample the bed in a grid (least squares solution).
 -  // Note: this feature generates 10KB extra code size.
 -  #define AUTO_BED_LEVELING_GRID
 -
 -  #if ENABLED(AUTO_BED_LEVELING_GRID)
 +#if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
  
 -    #define LEFT_PROBE_BED_POSITION 15
 -    #define RIGHT_PROBE_BED_POSITION 170
 -    #define FRONT_PROBE_BED_POSITION 20
 -    #define BACK_PROBE_BED_POSITION 170
 +  // Set the number of grid points per dimension.
 +  #define ABL_GRID_POINTS_X 3
 +  #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
  
 -    #define MIN_PROBE_EDGE 10 // The Z probe minimum square sides can be no smaller than this.
 +  // Set the boundaries for probing (where the probe can reach).
 +  #define LEFT_PROBE_BED_POSITION 15
 +  #define RIGHT_PROBE_BED_POSITION 170
 +  #define FRONT_PROBE_BED_POSITION 20
 +  #define BACK_PROBE_BED_POSITION 170
  
 -    // Set the number of grid points per dimension.
 -    // You probably don't need more than 3 (squared=9).
 -    #define ABL_GRID_POINTS_X 3
 -    #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
 +  // The Z probe minimum outer margin (to validate G29 parameters).
 +  #define MIN_PROBE_EDGE 10
  
 -  #else  // !AUTO_BED_LEVELING_GRID
 +  // Probe along the Y axis, advancing X after each column
 +  //#define PROBE_Y_FIRST
  
 -    // Arbitrary points to probe.
 -    // A simple cross-product is used to estimate the plane of the bed.
 -    #define ABL_PROBE_PT_1_X 15
 -    #define ABL_PROBE_PT_1_Y 180
 -    #define ABL_PROBE_PT_2_X 15
 -    #define ABL_PROBE_PT_2_Y 20
 -    #define ABL_PROBE_PT_3_X 170
 -    #define ABL_PROBE_PT_3_Y 20
 +#elif ENABLED(AUTO_BED_LEVELING_3POINT)
  
 -  #endif // !AUTO_BED_LEVELING_GRID
 +  // 3 arbitrary points to probe.
 +  // A simple cross-product is used to estimate the plane of the bed.
 +  #define ABL_PROBE_PT_1_X 15
 +  #define ABL_PROBE_PT_1_Y 180
 +  #define ABL_PROBE_PT_2_X 15
 +  #define ABL_PROBE_PT_2_Y 20
 +  #define ABL_PROBE_PT_3_X 170
 +  #define ABL_PROBE_PT_3_Y 20
  
 -  //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
 -                                                                             // Useful to retract a deployable Z probe.
 -
 -  // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
 -  // it is highly recommended you also enable Z_SAFE_HOMING below!
 +#endif
  
 -#endif // AUTO_BED_LEVELING_FEATURE
 +/**
 + * Commands to execute at the end of G29 probing.
 + * Useful to retract or move the Z probe out of the way.
 + */
 +//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
  
  
  // @section homing

commit 2d2c9bdf92d840fd5ed474d0107257f18453c50b
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Sep 29 01:19:59 2016 -0500

    Add PROBE_Y_FIRST option for probe order

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 53af44709e..79e091dc51 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -789,6 +789,9 @@
   // The Z probe minimum outer margin (to validate G29 parameters).
   #define MIN_PROBE_EDGE 10
 
+  // Probe along the Y axis, advancing X after each column
+  //#define PROBE_Y_FIRST
+
 #elif ENABLED(AUTO_BED_LEVELING_3POINT)
 
   // 3 arbitrary points to probe.

commit 92c03a44a90706658fb6128e224f02fd7a9de257
Author: esenapaj <creation0004@gmail.com>
Date:   Wed Sep 28 04:15:55 2016 +0900

    Fix the PR #4899 (ABL: Enable by type. Bilinear for all.) etc.
    
    About Configuration.h:
    „ÉªFix the PR #4899 (ABL: Enable by type. Bilinear for all.)
    Remove Duplicated contents
    
    „ÉªFix the PR #4305 (Custom boot screen feature improvement)
    Revert from "during boot" to "during bootup" in all the example
    Configuration.h
    
    „ÉªFix the PR #4207 (Clean up, simplify and generalize the Allen-key-probe
    code.)
    Resolve and relocate the duplicated definitions in Z_PROBE_ALLEN_KEY
    section
    
    „ÉªFollow-up the PR #4805 (Additional documentation of Configuration.h)
    Add forgotten changes to all the example Configuration.h
    
    Adjust spacing
    
    About Configuration_adv.h:
    Add missing description of SLOWDOWN for DELTA
    
    Adjust spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eccfc9e6ca..53af44709e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -809,73 +809,6 @@
 //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
 
 
-/**
- * Select one form of Auto Bed Leveling below.
- *
- *  If you're also using the Probe for Z Homing, it's
- *  highly recommended to enable Z_SAFE_HOMING also!
- *
- * - 3POINT
- *   Probe 3 arbitrary points on the bed (that aren't collinear)
- *   You specify the XY coordinates of all 3 points.
- *   The result is a single tilted plane. Best for a flat bed.
- *
- * - LINEAR
- *   Probe several points in a grid.
- *   You specify the rectangle and the density of sample points.
- *   The result is a single tilted plane. Best for a flat bed.
- *
- * - BILINEAR
- *   Probe several points in a grid.
- *   You specify the rectangle and the density of sample points.
- *   The result is a mesh, best for large or uneven beds.
- */
-//#define AUTO_BED_LEVELING_3POINT
-//#define AUTO_BED_LEVELING_LINEAR
-//#define AUTO_BED_LEVELING_BILINEAR
-
-/**
- * Enable detailed logging of G28, G29, M48, etc.
- * Turn on with the command 'M111 S32'.
- * NOTE: Requires a lot of PROGMEM!
- */
-//#define DEBUG_LEVELING_FEATURE
-
-#if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
-
-  // Set the number of grid points per dimension.
-  #define ABL_GRID_POINTS_X 3
-  #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
-
-  // Set the boundaries for probing (where the probe can reach).
-  #define LEFT_PROBE_BED_POSITION 15
-  #define RIGHT_PROBE_BED_POSITION 170
-  #define FRONT_PROBE_BED_POSITION 20
-  #define BACK_PROBE_BED_POSITION 170
-
-  // The Z probe minimum outer margin (to validate G29 parameters).
-  #define MIN_PROBE_EDGE 10
-
-#elif ENABLED(AUTO_BED_LEVELING_3POINT)
-
-  // 3 arbitrary points to probe.
-  // A simple cross-product is used to estimate the plane of the bed.
-  #define ABL_PROBE_PT_1_X 15
-  #define ABL_PROBE_PT_1_Y 180
-  #define ABL_PROBE_PT_2_X 15
-  #define ABL_PROBE_PT_2_Y 20
-  #define ABL_PROBE_PT_3_X 170
-  #define ABL_PROBE_PT_3_Y 20
-
-#endif
-
-/**
- * Commands to execute at the end of G29 probing.
- * Useful to retract or move the Z probe out of the way.
- */
-//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
-
-
 // @section homing
 
 // The center of the bed is at (X=0, Y=0)

commit 50e5ee4de44d7fbf011334e2c31e9fe8b87b4e91
Author: Rerouter <ryanfavelle@gmail.com>
Date:   Wed Sep 28 17:38:09 2016 +1000

    Update Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 08b6b75b09..477c4674d1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -298,7 +298,6 @@
                                   // Set/get with gcode: M301 E[extruder number, 0-2]
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
-  #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
   #define K1 0.95 //smoothing factor within the PID
 
   // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
@@ -345,8 +344,6 @@
 
   //#define PID_BED_DEBUG // Sends debug data to the serial port.
 
-  #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
-
   //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
   //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
   #define  DEFAULT_bedKp 10.00

commit ea0dbee3c93fa221b8c7d3b6c566d635eae2afd2
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Sep 25 23:17:39 2016 -0500

    Enable ABL by type, support bilinear on cartesian

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 08b6b75b09..eccfc9e6ca 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -516,7 +516,7 @@
 // Probes are sensors/switches that are activated / deactivated before/after use.
 //
 // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
-// You must activate one of these to use AUTO_BED_LEVELING_FEATURE below.
+// You must activate one of these to use Auto Bed Leveling below.
 //
 // Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
 //
@@ -738,69 +738,142 @@
 #endif  // MESH_BED_LEVELING
 
 //===========================================================================
-//============================ Bed Auto Leveling ============================
+//============================ Auto Bed Leveling ============================
 //===========================================================================
-
 // @section bedlevel
 
-//#define AUTO_BED_LEVELING_FEATURE // Delete the comment to enable (remove // at the start of the line)
+/**
+ * Select one form of Auto Bed Leveling below.
+ *
+ *  If you're also using the Probe for Z Homing, it's
+ *  highly recommended to enable Z_SAFE_HOMING also!
+ *
+ * - 3POINT
+ *   Probe 3 arbitrary points on the bed (that aren't collinear)
+ *   You specify the XY coordinates of all 3 points.
+ *   The result is a single tilted plane. Best for a flat bed.
+ *
+ * - LINEAR
+ *   Probe several points in a grid.
+ *   You specify the rectangle and the density of sample points.
+ *   The result is a single tilted plane. Best for a flat bed.
+ *
+ * - BILINEAR
+ *   Probe several points in a grid.
+ *   You specify the rectangle and the density of sample points.
+ *   The result is a mesh, best for large or uneven beds.
+ */
+//#define AUTO_BED_LEVELING_3POINT
+//#define AUTO_BED_LEVELING_LINEAR
+//#define AUTO_BED_LEVELING_BILINEAR
 
-// Enable this feature to get detailed logging of G28, G29, M48, etc.
-// Logging is off by default. Enable this logging feature with 'M111 S32'.
-// NOTE: Requires a huge amount of PROGMEM.
+/**
+ * Enable detailed logging of G28, G29, M48, etc.
+ * Turn on with the command 'M111 S32'.
+ * NOTE: Requires a lot of PROGMEM!
+ */
 //#define DEBUG_LEVELING_FEATURE
 
-#if ENABLED(AUTO_BED_LEVELING_FEATURE)
+#if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
+
+  // Set the number of grid points per dimension.
+  #define ABL_GRID_POINTS_X 3
+  #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
+
+  // Set the boundaries for probing (where the probe can reach).
+  #define LEFT_PROBE_BED_POSITION 15
+  #define RIGHT_PROBE_BED_POSITION 170
+  #define FRONT_PROBE_BED_POSITION 20
+  #define BACK_PROBE_BED_POSITION 170
+
+  // The Z probe minimum outer margin (to validate G29 parameters).
+  #define MIN_PROBE_EDGE 10
+
+#elif ENABLED(AUTO_BED_LEVELING_3POINT)
+
+  // 3 arbitrary points to probe.
+  // A simple cross-product is used to estimate the plane of the bed.
+  #define ABL_PROBE_PT_1_X 15
+  #define ABL_PROBE_PT_1_Y 180
+  #define ABL_PROBE_PT_2_X 15
+  #define ABL_PROBE_PT_2_Y 20
+  #define ABL_PROBE_PT_3_X 170
+  #define ABL_PROBE_PT_3_Y 20
+
+#endif
 
-  // There are 2 different ways to specify probing locations:
-  //
-  // - "grid" mode
-  //   Probe several points in a rectangular grid.
-  //   You specify the rectangle and the density of sample points.
-  //   This mode is preferred because there are more measurements.
-  //
-  // - "3-point" mode
-  //   Probe 3 arbitrary points on the bed (that aren't collinear)
-  //   You specify the XY coordinates of all 3 points.
+/**
+ * Commands to execute at the end of G29 probing.
+ * Useful to retract or move the Z probe out of the way.
+ */
+//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
 
-  // Enable this to sample the bed in a grid (least squares solution).
-  // Note: this feature generates 10KB extra code size.
-  #define AUTO_BED_LEVELING_GRID
 
-  #if ENABLED(AUTO_BED_LEVELING_GRID)
+/**
+ * Select one form of Auto Bed Leveling below.
+ *
+ *  If you're also using the Probe for Z Homing, it's
+ *  highly recommended to enable Z_SAFE_HOMING also!
+ *
+ * - 3POINT
+ *   Probe 3 arbitrary points on the bed (that aren't collinear)
+ *   You specify the XY coordinates of all 3 points.
+ *   The result is a single tilted plane. Best for a flat bed.
+ *
+ * - LINEAR
+ *   Probe several points in a grid.
+ *   You specify the rectangle and the density of sample points.
+ *   The result is a single tilted plane. Best for a flat bed.
+ *
+ * - BILINEAR
+ *   Probe several points in a grid.
+ *   You specify the rectangle and the density of sample points.
+ *   The result is a mesh, best for large or uneven beds.
+ */
+//#define AUTO_BED_LEVELING_3POINT
+//#define AUTO_BED_LEVELING_LINEAR
+//#define AUTO_BED_LEVELING_BILINEAR
 
-    #define LEFT_PROBE_BED_POSITION 15
-    #define RIGHT_PROBE_BED_POSITION 170
-    #define FRONT_PROBE_BED_POSITION 20
-    #define BACK_PROBE_BED_POSITION 170
+/**
+ * Enable detailed logging of G28, G29, M48, etc.
+ * Turn on with the command 'M111 S32'.
+ * NOTE: Requires a lot of PROGMEM!
+ */
+//#define DEBUG_LEVELING_FEATURE
 
-    #define MIN_PROBE_EDGE 10 // The Z probe minimum square sides can be no smaller than this.
+#if ENABLED(AUTO_BED_LEVELING_LINEAR) || ENABLED(AUTO_BED_LEVELING_BILINEAR)
 
-    // Set the number of grid points per dimension.
-    // You probably don't need more than 3 (squared=9).
-    #define ABL_GRID_POINTS_X 3
-    #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
+  // Set the number of grid points per dimension.
+  #define ABL_GRID_POINTS_X 3
+  #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
 
-  #else  // !AUTO_BED_LEVELING_GRID
+  // Set the boundaries for probing (where the probe can reach).
+  #define LEFT_PROBE_BED_POSITION 15
+  #define RIGHT_PROBE_BED_POSITION 170
+  #define FRONT_PROBE_BED_POSITION 20
+  #define BACK_PROBE_BED_POSITION 170
 
-    // Arbitrary points to probe.
-    // A simple cross-product is used to estimate the plane of the bed.
-    #define ABL_PROBE_PT_1_X 15
-    #define ABL_PROBE_PT_1_Y 180
-    #define ABL_PROBE_PT_2_X 15
-    #define ABL_PROBE_PT_2_Y 20
-    #define ABL_PROBE_PT_3_X 170
-    #define ABL_PROBE_PT_3_Y 20
+  // The Z probe minimum outer margin (to validate G29 parameters).
+  #define MIN_PROBE_EDGE 10
 
-  #endif // !AUTO_BED_LEVELING_GRID
+#elif ENABLED(AUTO_BED_LEVELING_3POINT)
 
-  //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
-                                                                             // Useful to retract a deployable Z probe.
+  // 3 arbitrary points to probe.
+  // A simple cross-product is used to estimate the plane of the bed.
+  #define ABL_PROBE_PT_1_X 15
+  #define ABL_PROBE_PT_1_Y 180
+  #define ABL_PROBE_PT_2_X 15
+  #define ABL_PROBE_PT_2_Y 20
+  #define ABL_PROBE_PT_3_X 170
+  #define ABL_PROBE_PT_3_Y 20
 
-  // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
-  // it is highly recommended you also enable Z_SAFE_HOMING below!
+#endif
 
-#endif // AUTO_BED_LEVELING_FEATURE
+/**
+ * Commands to execute at the end of G29 probing.
+ * Useful to retract or move the Z probe out of the way.
+ */
+//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10"
 
 
 // @section homing

commit 01f1028510ad28c699e66b28a7eb96ecc43d20b7
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Sep 20 03:49:42 2016 -0500

    Try on "CLEARANCE" for size

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 41774ae51e..08b6b75b09 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -630,11 +630,11 @@
  * probe Z Offset set with Z_PROBE_OFFSET_FROM_EXTRUDER, M851, or the LCD.
  * Only integer values >= 1 are valid here.
  *
- * Example: `M851 Z-5` with a RAISE of 4  =>  9mm from bed to nozzle.
- *     But: `M851 Z+1` with a RAISE of 2  =>  2mm from bed to nozzle.
+ * Example: `M851 Z-5` with a CLEARANCE of 4  =>  9mm from bed to nozzle.
+ *     But: `M851 Z+1` with a CLEARANCE of 2  =>  2mm from bed to nozzle.
  */
-#define Z_RAISE_DEPLOY_PROBE   10 // Z Raise for Deploy/Stow
-#define Z_RAISE_BETWEEN_PROBES  5 // Z Raise between probe points
+#define Z_CLEARANCE_DEPLOY_PROBE   10 // Z Clearance for Deploy/Stow
+#define Z_CLEARANCE_BETWEEN_PROBES  5 // Z Clearance between probe points
 
 //
 // For M851 give a range for adjusting the Z probe offset

commit 0e7d638a7afee51aea7c93796724e612f456eef5
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Sep 13 20:25:12 2016 -0500

    Revert to Probe Raise rather than Probe Height

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0361d8eeaa..41774ae51e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -619,12 +619,22 @@
 // Enable Z Probe Repeatability test to see how accurate your probe is
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
-//
-// Minimum heights for the probe to deploy/stow and travel.
-// These values specify the distance from the NOZZLE to the BED.
-//
-#define Z_PROBE_DEPLOY_HEIGHT 15 // Z position for the probe to deploy/stow
-#define Z_PROBE_TRAVEL_HEIGHT  5 // Z position for travel between points
+/**
+ * Z probes require clearance when deploying, stowing, and moving between
+ * probe points to avoid hitting the bed and other hardware.
+ * Servo-mounted probes require extra space for the arm to rotate.
+ * Inductive probes need space to keep from triggering early.
+ *
+ * Use these settings to specify the distance (mm) to raise the probe (or
+ * lower the bed). The values set here apply over and above any (negative)
+ * probe Z Offset set with Z_PROBE_OFFSET_FROM_EXTRUDER, M851, or the LCD.
+ * Only integer values >= 1 are valid here.
+ *
+ * Example: `M851 Z-5` with a RAISE of 4  =>  9mm from bed to nozzle.
+ *     But: `M851 Z+1` with a RAISE of 2  =>  2mm from bed to nozzle.
+ */
+#define Z_RAISE_DEPLOY_PROBE   10 // Z Raise for Deploy/Stow
+#define Z_RAISE_BETWEEN_PROBES  5 // Z Raise between probe points
 
 //
 // For M851 give a range for adjusting the Z probe offset

commit e05af606a8f2fb945cbb7b4fbe23f5ce635da31a
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Sep 18 23:28:11 2016 -0500

    Clean up probe config options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 87b4d58a5d..0361d8eeaa 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -573,9 +573,6 @@
 // Allen Key Probe is defined in the Delta example configurations.
 //
 
-// Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z Probe and a Z-min-endstop on the same machine.
-// With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
-//
 // *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
 //
 // To continue using the Z-min-endstop for homing, be sure to disable Z_SAFE_HOMING.
@@ -593,16 +590,24 @@
 //   - normally-open switches to 5V and D32.
 //
 // Normally-closed switches are advised and are the default.
+//
+
 //
 // The Z_MIN_PROBE_PIN sets the Arduino pin to use. (See your board's pins file.)
 // Since the RAMPS Aux4->D32 pin maps directly to the Arduino D32 pin, D32 is the
-// default pin for all RAMPS-based boards. Some other boards map differently.
-// To set or change the pin for your board, edit the appropriate pins_XXXXX.h file.
+// default pin for all RAMPS-based boards. Most boards use the X_MAX_PIN by default.
+// To use a different pin you can override it here.
 //
 // WARNING:
 // Setting the wrong pin may have unexpected and potentially disastrous consequences.
 // Use with caution and do your homework.
 //
+//#define Z_MIN_PROBE_PIN X_MAX_PIN
+
+//
+// Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z Probe and a Z-min-endstop on the same machine.
+// With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
+//
 //#define Z_MIN_PROBE_ENDSTOP
 
 // Enable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN to use the Z_MIN_PIN for your Z_MIN_PROBE.
@@ -611,12 +616,6 @@
 
 // To use a probe you must enable one of the two options above!
 
-// This option disables the use of the Z_MIN_PROBE_PIN
-// To enable the Z probe pin but disable its use, uncomment the line below. This only affects a
-// Z probe switch if you have a separate Z min endstop also and have activated Z_MIN_PROBE_ENDSTOP above.
-// If you're using the Z MIN endstop connector for your Z probe, this has no effect.
-//#define DISABLE_Z_MIN_PROBE_ENDSTOP
-
 // Enable Z Probe Repeatability test to see how accurate your probe is
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 

commit c4dcfa254e120724e488f516c421f888d01ec3a3
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Sep 18 17:25:33 2016 -0500

    Allow override of Z_ENDSTOP_SERVO_NR with BLTOUCH

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7a938ea4e7..87b4d58a5d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -528,6 +528,7 @@
 //#define FIX_MOUNTED_PROBE
 
 // The BLTouch probe emulates a servo probe.
+// The default connector is SERVO 0. Set Z_ENDSTOP_SERVO_NR below to override.
 //#define BLTOUCH
 
 // Z Servo Probe, such as an endstop switch on a rotating arm.

commit e5505e3b33d32b93c1cc6c28d87658001d9b5e3d
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Sep 15 13:56:56 2016 -0500

    Allow non-square leveling grid

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 31aaa77a9f..7a938ea4e7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -768,7 +768,8 @@
 
     // Set the number of grid points per dimension.
     // You probably don't need more than 3 (squared=9).
-    #define AUTO_BED_LEVELING_GRID_POINTS 3
+    #define ABL_GRID_POINTS_X 3
+    #define ABL_GRID_POINTS_Y ABL_GRID_POINTS_X
 
   #else  // !AUTO_BED_LEVELING_GRID
 

commit d4599fd8ede3547f5d8b13f094e856c09d20b2ed
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Sep 13 18:15:35 2016 -0500

    Comment patches to Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7eaa3ea098..31aaa77a9f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -105,15 +105,24 @@
 //#define SHOW_CUSTOM_BOOTSCREEN
 // @section machine
 
-// SERIAL_PORT selects which serial port should be used for communication with the host.
-// This allows the connection of wireless adapters (for instance) to non-default port pins.
-// Serial port 0 is still used by the Arduino bootloader regardless of this setting.
-// :[0,1,2,3,4,5,6,7]
+/**
+ * Select which serial port on the board will be used for communication with the host.
+ * This allows the connection of wireless adapters (for instance) to non-default port pins.
+ * Serial port 0 is always used by the Arduino bootloader regardless of this setting.
+ *
+ * :[0,1,2,3,4,5,6,7]
+ */
 #define SERIAL_PORT 0
 
-// This determines the communication speed of the printer
-// :[2400,9600,19200,38400,57600,115200,250000]
 #define BAUDRATE 250000
+/**
+ * This setting determines the communication speed of the printer.
+ *
+ * 250000 works in most cases, but you might try a lower speed if
+ * you commonly experience drop-outs during host printing.
+ *
+ * :[2400,9600,19200,38400,57600,115200,250000]
+ */
 
 // Enable the Bluetooth serial interface on AT90USB devices
 //#define BLUETOOTH
@@ -169,14 +178,22 @@
 //#define HOTEND_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
 //#define HOTEND_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
 
-//// The following define selects which power supply you have. Please choose the one that matches your setup
-// 1 = ATX
-// 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
-// :{1:'ATX',2:'X-Box 360'}
-#define POWER_SUPPLY 1
+/**
+ * Select your power supply here. Use 0 if you haven't connected the PS_ON_PIN
+ *
+ * 0 = No Power Switch
+ * 1 = ATX
+ * 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
+ *
+ * :{0:'No power switch',1:'ATX',2:'X-Box 360'}
+ */
+#define POWER_SUPPLY 0
 
-// Define this to have the electronics keep the power supply off on startup. If you don't know what this is leave it.
-//#define PS_DEFAULT_OFF
+#if POWER_SUPPLY > 0
+  // Enable this option to leave the PSU off at startup.
+  // Power to steppers and heaters will need to be turned on with M80.
+  //#define PS_DEFAULT_OFF
+#endif
 
 // @section temperature
 
@@ -437,20 +454,56 @@
 //=============================================================================
 // @section motion
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
-#define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
-#define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
+/**
+ * Default Settings
+ *
+ * These settings can be reset by M502
+ *
+ * Note that if EEPROM is enabled, saved values will override these.
+ */
+
+/**
+ * Default Axis Steps Per Unit (steps/mm)
+ * Override with M92
+ */
+#define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }
+
+/**
+ * Default Max Feed Rate (mm/s)
+ * Override with M203
+ */
+#define DEFAULT_MAX_FEEDRATE          { 300, 300, 5, 25 }
+
+/**
+ * Default Max Acceleration (change/s) change = mm/s
+ * Override with M201
+ *
+ * Maximum start speed for accelerated moves: { X, Y, Z, E }
+ */
+#define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }
 
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
-#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration in mm/s^2 for retracts
-#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
+/**
+ * Default Acceleration (change/s) change = mm/s
+ * Override with M204
+ *
+ *   M204 P    Acceleration
+ *   M204 R    Retract Acceleration
+ *   M204 T    Travel Acceleration
+ */
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration for printing moves
+#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration for retracts
+#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration for travel (non printing) moves
 
-// "Jerk" specifies the minimum speed change that requires acceleration.
-// When changing speed and direction, if the difference is less than the
-// value set here, it may happen instantaneously.
-#define DEFAULT_XYJERK                20.0    // (mm/sec)
-#define DEFAULT_ZJERK                  0.4    // (mm/sec)
-#define DEFAULT_EJERK                  5.0    // (mm/sec)
+/**
+ * Defult Jerk (mm/s)
+ *
+ * "Jerk" specifies the minimum speed change that requires acceleration.
+ * When changing speed and direction, if the difference is less than the
+ * value set here, it may happen instantaneously.
+ */
+#define DEFAULT_XYJERK                20.0
+#define DEFAULT_ZJERK                  0.4
+#define DEFAULT_EJERK                  5.0
 
 
 //===========================================================================

commit 723e9830739784b0cd9b17a0bfd863f7b430615b
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Sep 13 18:10:18 2016 -0500

    Default EXTRUDE_MAXLENGTH to 200mm

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1a8b0b8ae7..7eaa3ea098 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -355,8 +355,9 @@
 #define EXTRUDE_MINTEMP 170
 
 // This option prevents a single extrusion longer than EXTRUDE_MAXLENGTH.
+// Note that for Bowden Extruders a too-small value here may prevent loading.
 #define PREVENT_LENGTHY_EXTRUDE
-#define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH)
+#define EXTRUDE_MAXLENGTH 200
 
 //===========================================================================
 //======================== Thermal Runaway Protection =======================

commit a6f6ed352b24d1ab548ffc8c1438d1f7e51a36ab
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Sep 12 19:35:32 2016 -0500

    Fix comment on FILAMENT_RUNOUT_SENSOR

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9dadb9eaaa..1a8b0b8ae7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -642,7 +642,7 @@
 //========================= Filament Runout Sensor ==========================
 //===========================================================================
 //#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
-                                 // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
+                                 // RAMPS-based boards use SERVO3_PIN. For other boards you may need to define FIL_RUNOUT_PIN.
                                  // It is assumed that when logic high = filament available
                                  //                    when logic  low = filament ran out
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)

commit aaef7c6b89255f9440b9b0b21636766c79479437
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Sep 2 01:42:38 2016 -0500

    Fix a misspelling of minimum

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 62aa501d2e..9dadb9eaaa 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -444,7 +444,7 @@
 #define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration in mm/s^2 for retracts
 #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
 
-// "Jerk" specifies the minumum speed change that requires acceleration.
+// "Jerk" specifies the minimum speed change that requires acceleration.
 // When changing speed and direction, if the difference is less than the
 // value set here, it may happen instantaneously.
 #define DEFAULT_XYJERK                20.0    // (mm/sec)

commit f1201e11c7b365054ee367a1c434925b4f7b3ec0
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Aug 29 02:17:04 2016 -0500

    Improve the Jerk description

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8441d8f4cd..62aa501d2e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -444,10 +444,12 @@
 #define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration in mm/s^2 for retracts
 #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
 
-// The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
+// "Jerk" specifies the minumum speed change that requires acceleration.
+// When changing speed and direction, if the difference is less than the
+// value set here, it may happen instantaneously.
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
-#define DEFAULT_ZJERK                 0.4     // (mm/sec)
-#define DEFAULT_EJERK                 5.0    // (mm/sec)
+#define DEFAULT_ZJERK                  0.4    // (mm/sec)
+#define DEFAULT_EJERK                  5.0    // (mm/sec)
 
 
 //===========================================================================

commit 3f038bef00f5b8f6f59741224c425f5ecb3a4896
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Aug 29 01:45:50 2016 -0500

    Heading for movement settings

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cadfed0985..8441d8f4cd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -430,9 +430,30 @@
 #define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 #define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 
+
+//=============================================================================
+//============================== Movement Settings ============================
+//=============================================================================
+// @section motion
+
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
+#define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
+#define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
+
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
+#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration in mm/s^2 for retracts
+#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
+
+// The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
+#define DEFAULT_XYJERK                20.0    // (mm/sec)
+#define DEFAULT_ZJERK                 0.4     // (mm/sec)
+#define DEFAULT_EJERK                 5.0    // (mm/sec)
+
+
 //===========================================================================
 //============================= Z Probe Options =============================
 //===========================================================================
+// @section probes
 
 //
 // Probe Type
@@ -745,27 +766,6 @@
 #define HOMING_FEEDRATE_XY (50*60)
 #define HOMING_FEEDRATE_Z  (4*60)
 
-//
-// MOVEMENT SETTINGS
-// @section motion
-//
-
-// default settings
-
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
-#define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
-#define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
-
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
-#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration in mm/s^2 for retracts
-#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
-
-// The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
-#define DEFAULT_XYJERK                20.0    // (mm/sec)
-#define DEFAULT_ZJERK                 0.4     // (mm/sec)
-#define DEFAULT_EJERK                 5.0    // (mm/sec)
-
-
 //=============================================================================
 //============================= Additional Features ===========================
 //=============================================================================

commit 01d4703429dcb1314faa8e6b19d4d21f07e94f4d
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Aug 20 23:34:24 2016 -0500

    PREVENT_DANGEROUS_EXTRUDE => PREVENT_COLD_EXTRUSION
    
    Also improve the documentation of this and related options, and set
    EXTRUDE_MINTEMP to 170 everywhere.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d87aec637..cadfed0985 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -347,14 +347,16 @@
 
 // @section extruder
 
-//this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
-//can be software-disabled for whatever purposes by
-#define PREVENT_DANGEROUS_EXTRUDE
-//if PREVENT_DANGEROUS_EXTRUDE is on, you can still disable (uncomment) very long bits of extrusion separately.
-#define PREVENT_LENGTHY_EXTRUDE
-
+// This option prevents extrusion if the temperature is below EXTRUDE_MINTEMP.
+// It also enables the M302 command to set the minimum extrusion temperature
+// or to allow moving the extruder regardless of the hotend temperature.
+// *** IT IS HIGHLY RECOMMENDED TO LEAVE THIS OPTION ENABLED! ***
+#define PREVENT_COLD_EXTRUSION
 #define EXTRUDE_MINTEMP 170
-#define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
+
+// This option prevents a single extrusion longer than EXTRUDE_MAXLENGTH.
+#define PREVENT_LENGTHY_EXTRUDE
+#define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH)
 
 //===========================================================================
 //======================== Thermal Runaway Protection =======================

commit 99b22d5785deec25eb7b876dadec9c91c7767e72
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Aug 19 04:31:19 2016 -0500

    Default AUTO_BED_LEVELING_GRID_POINTS to 3

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d384c5316..9d87aec637 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -689,7 +689,7 @@
 
     // Set the number of grid points per dimension.
     // You probably don't need more than 3 (squared=9).
-    #define AUTO_BED_LEVELING_GRID_POINTS 2
+    #define AUTO_BED_LEVELING_GRID_POINTS 3
 
   #else  // !AUTO_BED_LEVELING_GRID
 

commit e113740fa3060d7bdbdfebe30aa429ce3f765825
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Aug 7 17:54:17 2016 -0700

    Specify that Z_PROBE_*_HEIGHT is nozzle-relative

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ad869b712e..9d384c5316 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -541,10 +541,11 @@
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
 //
-// Probe Raise options provide clearance for the probe to deploy, stow, and travel.
+// Minimum heights for the probe to deploy/stow and travel.
+// These values specify the distance from the NOZZLE to the BED.
 //
-#define Z_PROBE_DEPLOY_HEIGHT 15 // Raise to make room for the probe to deploy / stow
-#define Z_PROBE_TRAVEL_HEIGHT 5  // Raise between probing points.
+#define Z_PROBE_DEPLOY_HEIGHT 15 // Z position for the probe to deploy/stow
+#define Z_PROBE_TRAVEL_HEIGHT  5 // Z position for travel between points
 
 //
 // For M851 give a range for adjusting the Z probe offset

commit 7e2bd9a2335f95404c2fb89b398b62db87a9d6e7
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Aug 3 20:51:05 2016 -0700

    Z_RAISE_PROBE_* => Z_PROBE_*_HEIGHT

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8083c1ea72..ad869b712e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -543,8 +543,8 @@
 //
 // Probe Raise options provide clearance for the probe to deploy, stow, and travel.
 //
-#define Z_RAISE_PROBE_DEPLOY_STOW 15 // Raise to make room for the probe to deploy / stow
-#define Z_RAISE_BETWEEN_PROBINGS 5  // Raise between probing points.
+#define Z_PROBE_DEPLOY_HEIGHT 15 // Raise to make room for the probe to deploy / stow
+#define Z_PROBE_TRAVEL_HEIGHT 5  // Raise between probing points.
 
 //
 // For M851 give a range for adjusting the Z probe offset
@@ -589,8 +589,8 @@
 
 // @section homing
 
-//#define MIN_Z_HEIGHT_FOR_HOMING 4 // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
-                                    // Be sure you have this distance over your Z_MAX_POS in case.
+//#define Z_HOMING_HEIGHT 4  // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
+                             // Be sure you have this distance over your Z_MAX_POS in case.
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN

commit 9e21b2e51d74c72a6a80b78f18ed795ba249470d
Merge: db4d03bc81 7188ce0ad6
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Jul 29 20:00:10 2016 -0700

    Merge pull request #4455 from AnHardt/double-bump-feature
    
    double bump probing as a feature

diff --combined Marlin/Configuration.h
index 7f0904d2e6,28fc49f018..8083c1ea72
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -263,6 -263,10 +263,6 @@@
  #define HEATER_3_MAXTEMP 275
  #define BED_MAXTEMP 150
  
 -// If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS
 -//#define HOTEND_WATTS (12.0*12.0/6.7) // P=U^2/R
 -//#define BED_WATTS (12.0*12.0/1.1)    // P=U^2/R
 -
  //===========================================================================
  //============================= PID Settings ================================
  //===========================================================================
@@@ -482,10 -486,12 +482,12 @@@
  
  // X and Y axis travel speed (mm/m) between probes
  #define XY_PROBE_SPEED 8000
- // Speed for the first approach when probing
+ // Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH)
  #define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
- // Speed for the second approach when probing
+ // Speed for the "accurate" probe of each point
  #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
+ // Use double touch for probing
+ //#define PROBE_DOUBLE_TOUCH
  
  //
  // Allen Key Probe is defined in the Delta example configurations.

commit 7188ce0ad6794748bb600f49e831adcdf4295fe1
Author: AnHardt <github@kitelab.de>
Date:   Sat Jul 30 03:00:49 2016 +0200

    double bump probing as a feature
    
    Why double touch probing is not a good thing.
    
    It's widely believed we can get better __probing__ results when using a double touch when probing.
    
    Let's compare to double touch __homing__.
    Or better let's begin with single touch __homing__.
    We home to find out out position, so our position is unknown.
    To find the endstop we have to move into the direction of the endstop.
    The maximum way we have to move is a bit longer than the axis length.
    When we arrive at the endstop - when it triggers, the stepper pulses are stopped immediately.
    It's a sudden stop. No smooth deacceleration is possible.
    Depending on the speed and the moving mass we lose steps here.
    Only if we approached slow enough (below jerk speed?) we will not lose steps.
    
    Moving a complete axis length, that slow, takes for ever.
    To speed up homing, we now make the first approach faster, get a guess about our position,
    back up a bit and make a second slower approach to get a exact result without losing steps.
    
    What we do in double touch probing is the same. But the difference here is:
    a. we already know where we are
    b. if the first approach is to fast we will lose steps here to.
    But this time there is no second approach to set the position to 0. We are measuring only.
    The lost steps are permanent until we home the next time.
    
    So if you experienced permanently rising values in M48 you now know why. (Too fast, suddenly stopped, first approach)
    
    What can we do to improve probing?
    We can use the information about our current position.
    We can make a really fast, but deaccelerated, move to a place we know it is a bit before the trigger point.
    And then move the rest of the way really slow.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b8ebd20833..28fc49f018 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -486,10 +486,12 @@
 
 // X and Y axis travel speed (mm/m) between probes
 #define XY_PROBE_SPEED 8000
-// Speed for the first approach when probing
+// Speed for the first approach when double-probing (with PROBE_DOUBLE_TOUCH)
 #define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
-// Speed for the second approach when probing
+// Speed for the "accurate" probe of each point
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
+// Use double touch for probing
+//#define PROBE_DOUBLE_TOUCH
 
 //
 // Allen Key Probe is defined in the Delta example configurations.

commit c31f56a38c0091873eb13cf8c6e1d6e4a4b84fa7
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jul 29 15:14:13 2016 -0700

    Deprecate EXTRUDER_WATTS and BED_WATTS

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b8ebd20833..7f0904d2e6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -263,10 +263,6 @@
 #define HEATER_3_MAXTEMP 275
 #define BED_MAXTEMP 150
 
-// If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS
-//#define HOTEND_WATTS (12.0*12.0/6.7) // P=U^2/R
-//#define BED_WATTS (12.0*12.0/1.1)    // P=U^2/R
-
 //===========================================================================
 //============================= PID Settings ================================
 //===========================================================================

commit ea5ac94804bc7371d193ed1f4c68a18f1c699176
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Jul 28 19:51:48 2016 -0700

    Improved MANUAL_[XYZ]_HOME_POS
    
    No need for `MANUAL_HOME_POSITIONS`. Just set each one as-needed to
    override the automatic behavior.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 53ff21143f..b8ebd20833 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -716,18 +716,14 @@
 
 // @section homing
 
-// The position of the homing switches
-//#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
-//#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
-
-// Manual homing switch locations:
-// For deltabots this means top and center of the Cartesian print volume.
-#if ENABLED(MANUAL_HOME_POSITIONS)
-  #define MANUAL_X_HOME_POS 0
-  #define MANUAL_Y_HOME_POS 0
-  #define MANUAL_Z_HOME_POS 0
-  //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
-#endif
+// The center of the bed is at (X=0, Y=0)
+//#define BED_CENTER_AT_0_0
+
+// Manually set the home position. Leave these undefined for automatic settings.
+// For DELTA this is the top-center of the Cartesian print volume.
+//#define MANUAL_X_HOME_POS 0
+//#define MANUAL_Y_HOME_POS 0
+//#define MANUAL_Z_HOME_POS 0 // Distance between the nozzle to printbed after homing
 
 // Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
 //

commit 8953e3e9840a852b29e2ef5010b59093c627938c
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jul 27 04:30:39 2016 -0700

    Allow Z_SAFE_HOMING without a probe

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8b5e3394cc..53ff21143f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -735,7 +735,7 @@
 //
 // - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
 // - If stepper drivers time out, it will need X and Y homing again before Z homing.
-// - Position the Z probe in a defined XY point before Z Homing when homing all axes (G28).
+// - Move the Z probe (or nozzle) to a defined XY point before Z Homing when homing all axes (G28).
 // - Prevent Z homing when the Z probe is outside bed area.
 //#define Z_SAFE_HOMING
 

commit 24a1a16e5d2fd2485f61456be22f5c795fe185f9
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jul 26 12:16:59 2016 -0700

    Move versioning to MarlinConfig.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d2c5d603c0..8b5e3394cc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -83,12 +83,6 @@
 
 // @section info
 
-#if ENABLED(USE_AUTOMATIC_VERSIONING)
-  #include "_Version.h"
-#else
-  #include "Version.h"
-#endif
-
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.

commit 277899c1755621bc0c5ecbec12744952fbb691d8
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Jul 25 23:23:55 2016 -0700

    Move include _Bootscreen.h where needed

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 57e86e0ff4..d2c5d603c0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -109,10 +109,6 @@
 // example configuration folder.
 //
 //#define SHOW_CUSTOM_BOOTSCREEN
-#if ENABLED(SHOW_BOOTSCREEN) && ENABLED(SHOW_CUSTOM_BOOTSCREEN)
-  #include "_Bootscreen.h"
-#endif
-
 // @section machine
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.

commit 83c4653c711f054640a6d522416ba886246cc6c6
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Jul 25 23:22:45 2016 -0700

    Include boards and macros ahead of configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2f36343d3a..57e86e0ff4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -51,9 +51,6 @@
  */
 #define CONFIGURATION_H_VERSION 010100
 
-#include "boards.h"
-#include "macros.h"
-
 //===========================================================================
 //============================= Getting Started =============================
 //===========================================================================

commit c6226bb0aa578ead548863b3d0af75276a81efe6
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Jul 25 23:04:19 2016 -0700

    Unify config in a single include without nested includes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8c3677f7ec..2f36343d3a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1343,6 +1343,4 @@
   //#define FILAMENT_LCD_DISPLAY
 #endif
 
-#include "Configuration_adv.h"
-
-#endif //CONFIGURATION_H
+#endif // CONFIGURATION_H

commit 2d378fac1bfad5ad1915256df7e2dec112bba12f
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Jul 25 22:43:50 2016 -0700

    No need to include thermistortables.h in Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1ab5eddb14..8c3677f7ec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1344,6 +1344,5 @@
 #endif
 
 #include "Configuration_adv.h"
-#include "thermistortables.h"
 
 #endif //CONFIGURATION_H

commit 0c0a63322b86a871a825a56ffa9b88616fc97fef
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Jul 25 12:09:24 2016 -0700

    Patches to prepare REPRAPWORLD_GRAPHICAL_LCD

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 999e043d99..1ab5eddb14 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1124,7 +1124,6 @@
 //
 //#define REPRAPWORLD_GRAPHICAL_LCD
 
-
 //
 // Activate one of these if you have a Panucatt Devices
 // Viki 2.0 or mini Viki with Graphic LCD

commit a60a668f6bff4fbaba2eec75463050819df25bb0
Author: brupje <brupje@gmail.com>
Date:   Tue Jun 21 14:39:10 2016 +0200

    Support for REPRAPWORLD_GRAPHICAL_LCD

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f810fcd0c1..999e043d99 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1118,6 +1118,13 @@
 //
 //#define MAKRPANEL
 
+//
+// ReprapWorld Graphical LCD
+// https://reprapworld.com/?products_details&products_id/1218
+//
+//#define REPRAPWORLD_GRAPHICAL_LCD
+
+
 //
 // Activate one of these if you have a Panucatt Devices
 // Viki 2.0 or mini Viki with Graphic LCD

commit bb9da6ebdd62b2e400dfc8e1f4cf7cffc1937c09
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jul 22 23:37:41 2016 -0700

    Document DEBUG_LEVELING_FEATURE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fe77dd00ee..f810fcd0c1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -669,6 +669,10 @@
 // @section bedlevel
 
 //#define AUTO_BED_LEVELING_FEATURE // Delete the comment to enable (remove // at the start of the line)
+
+// Enable this feature to get detailed logging of G28, G29, M48, etc.
+// Logging is off by default. Enable this logging feature with 'M111 S32'.
+// NOTE: Requires a huge amount of PROGMEM.
 //#define DEBUG_LEVELING_FEATURE
 
 #if ENABLED(AUTO_BED_LEVELING_FEATURE)

commit 194d9521c37db450dea90788b6addd9d9b066682
Merge: 6137a1d934 4a6ed5e221
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Jul 19 19:02:39 2016 -0700

    Merge pull request #4356 from thinkyhead/rc_simpler_run_z_probe
    
    Unify run_z_probe

diff --combined Marlin/Configuration.h
index 084b6290b4,d934986bdd..fe77dd00ee
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -499,6 -499,10 +499,10 @@@
  
  // X and Y axis travel speed (mm/m) between probes
  #define XY_PROBE_SPEED 8000
+ // Speed for the first approach when probing
+ #define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
+ // Speed for the second approach when probing
+ #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
  
  //
  // Allen Key Probe is defined in the Delta example configurations.
@@@ -749,14 -753,14 +753,14 @@@
    #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28).
  #endif
  
 +// Homing speeds (mm/m)
 +#define HOMING_FEEDRATE_XY (50*60)
 +#define HOMING_FEEDRATE_Z  (4*60)
  
 +//
 +// MOVEMENT SETTINGS
  // @section motion
 -
 -/**
 - * MOVEMENT SETTINGS
 - */
 -
 -#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 +//
  
  // default settings
  

commit 4a6ed5e22170d26b8c4eb907a32b46830ba46f2b
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jul 19 18:21:38 2016 -0700

    Use HOMING_FEEDRATE_Z for Z_PROBE_SPEED_FAST

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 68d117f4f3..d934986bdd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -500,7 +500,7 @@
 // X and Y axis travel speed (mm/m) between probes
 #define XY_PROBE_SPEED 8000
 // Speed for the first approach when probing
-#define Z_PROBE_SPEED_FAST (homing_feedrate_mm_m[Z_AXIS])
+#define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z
 // Speed for the second approach when probing
 #define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
 

commit 09a3cc33e6b6771411b7c65870c0f14f9cccdb4a
Author: AnHardt <github@kitelab.de>
Date:   Mon Jul 18 15:52:41 2016 +0200

    Unify run_z_probe
    
    Unify run_z_probe
    Add double touch for DELTAs.
    Introduce Z_PROBE_SPEED_FAST and Z_PROBE_SPEED_SLOW
      defaulting to homing_feedrate_mm_m[Z_AXIS] and homing_feedrate_mm_m[Z_AXIS]/2

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ac93cb453d..68d117f4f3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -499,6 +499,10 @@
 
 // X and Y axis travel speed (mm/m) between probes
 #define XY_PROBE_SPEED 8000
+// Speed for the first approach when probing
+#define Z_PROBE_SPEED_FAST (homing_feedrate_mm_m[Z_AXIS])
+// Speed for the second approach when probing
+#define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)
 
 //
 // Allen Key Probe is defined in the Delta example configurations.

commit e44b37cdc22e6b51e105fc2a2ec72e17a93eed92
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jul 19 17:31:03 2016 -0700

    motion section marker below homing speeds

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index febe8e0557..084b6290b4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -749,17 +749,15 @@
   #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28).
 #endif
 
-
-// @section motion
-
-/**
- * MOVEMENT SETTINGS
- */
-
 // Homing speeds (mm/m)
 #define HOMING_FEEDRATE_XY (50*60)
 #define HOMING_FEEDRATE_Z  (4*60)
 
+//
+// MOVEMENT SETTINGS
+// @section motion
+//
+
 // default settings
 
 #define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker

commit 204fd6ec444a2251373ccb18f53030e6c9579877
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jul 19 17:11:57 2016 -0700

    Set homing feedrates individually

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ac93cb453d..febe8e0557 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -756,7 +756,9 @@
  * MOVEMENT SETTINGS
  */
 
-#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
+// Homing speeds (mm/m)
+#define HOMING_FEEDRATE_XY (50*60)
+#define HOMING_FEEDRATE_Z  (4*60)
 
 // default settings
 

commit 6abf9165759d76ca27d5f71dda549a63f522d12c
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jun 7 17:13:56 2016 -0700

    Reprapworld Keypad move step is 1mm

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8947af1572..ac93cb453d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1160,7 +1160,7 @@
 // is pressed, a value of 10.0 means 10mm per click.
 //
 //#define REPRAPWORLD_KEYPAD
-//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0
+//#define REPRAPWORLD_KEYPAD_MOVE_STEP 1.0
 
 //
 // RigidBot Panel V1.0

commit 47fef80848ad6ccda97a2732da1161cde3902f7d
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Tue Jul 19 01:56:14 2016 +0100

    Nozzle::clean() no longer requires HAS_BED_PROBE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index aa5c3be873..8947af1572 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -894,12 +894,12 @@
   // Number of pattern repetitions
   #define NOZZLE_CLEAN_STROKES  12
 
-  //                            {  X,  Y,               Z}
-  #define NOZZLE_CLEAN_START_PT { 30, 30, (Z_MIN_POS + 5)}
-  #define NOZZLE_CLEAN_END_PT   {100, 60, (Z_MIN_POS + 5)}
+  // Specify positions as { X, Y, Z }
+  #define NOZZLE_CLEAN_START_POINT { 30, 30, (Z_MIN_POS + 1)}
+  #define NOZZLE_CLEAN_END_POINT   {100, 60, (Z_MIN_POS + 1)}
 
-  // Moves the nozzle to the parked position
-  #define NOZZLE_CLEAN_PARK
+  // Moves the nozzle to the initial position
+  #define NOZZLE_CLEAN_GOBACK
 #endif
 
 //

commit 81e01152bb4b9eb1ae143203fc9ff454b745d573
Merge: d8c8d0a6a2 1583177ef4
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Jul 17 14:06:32 2016 -0700

    Merge pull request #4336 from thinkyhead/rc_bltouch_sensor
    
    BLTouch probe sensor

diff --combined Marlin/Configuration.h
index 10173f97e7,ea55ac37b6..aa5c3be873
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -437,13 -437,13 +437,13 @@@
  #endif
  
  // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
 -const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 -const bool Y_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 -const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 -const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 -const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 -const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 -const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +#define X_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 +#define Y_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 +#define Z_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 +#define X_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 +#define Y_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 +#define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 +#define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
  
  //===========================================================================
  //============================= Z Probe Options =============================
@@@ -465,6 -465,9 +465,9 @@@
  // its trigger-point if hardware endstops are active.
  //#define FIX_MOUNTED_PROBE
  
+ // The BLTouch probe emulates a servo probe.
+ //#define BLTOUCH
+ 
  // Z Servo Probe, such as an endstop switch on a rotating arm.
  //#define Z_ENDSTOP_SERVO_NR 0
  //#define Z_SERVO_ANGLES {70,0} // Z Servo Deploy and Stow angles

commit 1583177ef4dad2eb29b030a43131e98be833110b
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Jul 17 13:14:12 2016 -0700

    BLTOUCH probe config option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0a6d774171..ea55ac37b6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -465,6 +465,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // its trigger-point if hardware endstops are active.
 //#define FIX_MOUNTED_PROBE
 
+// The BLTouch probe emulates a servo probe.
+//#define BLTOUCH
+
 // Z Servo Probe, such as an endstop switch on a rotating arm.
 //#define Z_ENDSTOP_SERVO_NR 0
 //#define Z_SERVO_ANGLES {70,0} // Z Servo Deploy and Stow angles

commit 39706f3e573c1e4d9258f8242502bdc3a75fe934
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jun 1 01:14:58 2016 -0700

    Endstop invert flags as macros instead of const bool

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0a6d774171..10173f97e7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -437,13 +437,13 @@
 #endif
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
-const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-const bool Y_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+#define X_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Y_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Z_MIN_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define X_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Y_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Z_MAX_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
+#define Z_MIN_PROBE_ENDSTOP_INVERTING false // set to true to invert the logic of the endstop.
 
 //===========================================================================
 //============================= Z Probe Options =============================

commit 671634bf1111ab0cf3bf06f9284a791a46472882
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Jul 14 16:05:37 2016 -0700

    Fix spacing after section header

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fb59131b2e..0a6d774171 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -596,6 +596,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define INVERT_E3_DIR false
 
 // @section homing
+
 //#define MIN_Z_HEIGHT_FOR_HOMING 4 // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
                                     // Be sure you have this distance over your Z_MAX_POS in case.
 

commit 22b4cff423e836146d3f2874f62911c7c9e312cd
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jun 28 14:13:49 2016 -0700

    New extruder type configuration options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d55bbe9dc7..fb59131b2e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -152,6 +152,30 @@
 // For Cyclops or any "multi-extruder" that shares a single nozzle.
 //#define SINGLENOZZLE
 
+// A dual extruder that uses a single stepper motor
+// Don't forget to set SSDE_SERVO_ANGLES and HOTEND_OFFSET_X/Y/Z
+//#define SWITCHING_EXTRUDER
+#if ENABLED(SWITCHING_EXTRUDER)
+  #define SWITCHING_EXTRUDER_SERVO_NR 0
+  #define SWITCHING_EXTRUDER_SERVO_ANGLES { 0, 90 } // Angles for E0, E1
+  //#define HOTEND_OFFSET_Z {0.0, 0.0}
+#endif
+
+/**
+ * "Mixing Extruder"
+ *   - Adds a new code, M165, to set the current mix factors.
+ *   - Extends the stepping routines to move multiple steppers in proportion to the mix.
+ *   - Optional support for Repetier Host M163, M164, and virtual extruder.
+ *   - This implementation supports only a single extruder.
+ *   - Enable DIRECT_MIXING_IN_G1 for Pia Taubert's reference implementation
+ */
+//#define MIXING_EXTRUDER
+#if ENABLED(MIXING_EXTRUDER)
+  #define MIXING_STEPPERS 2        // Number of steppers in your mixing extruder
+  #define MIXING_VIRTUAL_TOOLS 16  // Use the Virtual Tool method with M163 and M164
+  //#define DIRECT_MIXING_IN_G1    // Allow ABCDHI mix factors in G1 movement commands
+#endif
+
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
 // For the other hotends it is their distance from the extruder 0 hotend.
@@ -162,7 +186,6 @@
 // 1 = ATX
 // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
 // :{1:'ATX',2:'X-Box 360'}
-
 #define POWER_SUPPLY 1
 
 // Define this to have the electronics keep the power supply off on startup. If you don't know what this is leave it.

commit bf16ae5a70b584ad5a15893bf776846f3af63288
Merge: aaa0d298b9 336481ea81
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Jul 16 23:47:12 2016 -0700

    Merge pull request #4299 from jbrazio/feature/g27-park-nozzle
    
    Implements park nozzle feature

diff --combined Marlin/Configuration.h
index 9e8662a11f,27be90b7c0..d55bbe9dc7
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -98,23 -98,7 +98,23 @@@
  #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
  #define SHOW_BOOTSCREEN
  #define STRING_SPLASH_LINE1 SHORT_BUILD_VERSION // will be shown during bootup in line 1
 -//#define STRING_SPLASH_LINE2 STRING_DISTRIBUTION_DATE // will be shown during bootup in line 2
 +#define STRING_SPLASH_LINE2 WEBSITE_URL         // will be shown during bootup in line 2
 +
 +//
 +// *** VENDORS PLEASE READ *****************************************************
 +//
 +// Marlin now allow you to have a vendor boot image to be displayed on machine
 +// start. When SHOW_CUSTOM_BOOTSCREEN is defined Marlin will first show your
 +// custom boot image and them the default Marlin boot image is shown.
 +//
 +// We suggest for you to take advantage of this new feature and keep the Marlin
 +// boot image unmodified. For an example have a look at the bq Hephestos 2
 +// example configuration folder.
 +//
 +//#define SHOW_CUSTOM_BOOTSCREEN
 +#if ENABLED(SHOW_BOOTSCREEN) && ENABLED(SHOW_CUSTOM_BOOTSCREEN)
 +  #include "_Bootscreen.h"
 +#endif
  
  // @section machine
  
@@@ -803,6 -787,30 +803,30 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  #define PREHEAT_2_TEMP_BED    110
  #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
  
+ //
+ // Nozzle Park -- EXPERIMENTAL
+ //
+ // When enabled allows the user to define a special XYZ position, inside the
+ // machine's topology, to park the nozzle when idle or when receiving the G27
+ // command.
+ //
+ // The "P" paramenter controls what is the action applied to the Z axis:
+ //    P0: (Default) If current Z-pos is lower than Z-park then the nozzle will
+ //        be raised to reach Z-park height.
+ //
+ //    P1: No matter the current Z-pos, the nozzle will be raised/lowered to
+ //        reach Z-park height.
+ //
+ //    P2: The nozzle height will be raised by Z-park amount but never going over
+ //        the machine's limit of Z_MAX_POS.
+ //
+ //#define NOZZLE_PARK_FEATURE
+ 
+ #if ENABLED(NOZZLE_PARK_FEATURE)
+   // Specify a park position as { X, Y, Z }
+   #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
+ #endif
+ 
  //
  // Clean Nozzle Feature -- EXPERIMENTAL
  //

commit fa4274cf4c064b783bbe214e64b191f3ba2d25da
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Fri Jul 15 00:07:34 2016 +0100

    Improves the custom bootscreen logo feature

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 465b327ca3..9e8662a11f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -100,6 +100,22 @@
 #define STRING_SPLASH_LINE1 SHORT_BUILD_VERSION // will be shown during bootup in line 1
 #define STRING_SPLASH_LINE2 WEBSITE_URL         // will be shown during bootup in line 2
 
+//
+// *** VENDORS PLEASE READ *****************************************************
+//
+// Marlin now allow you to have a vendor boot image to be displayed on machine
+// start. When SHOW_CUSTOM_BOOTSCREEN is defined Marlin will first show your
+// custom boot image and them the default Marlin boot image is shown.
+//
+// We suggest for you to take advantage of this new feature and keep the Marlin
+// boot image unmodified. For an example have a look at the bq Hephestos 2
+// example configuration folder.
+//
+//#define SHOW_CUSTOM_BOOTSCREEN
+#if ENABLED(SHOW_BOOTSCREEN) && ENABLED(SHOW_CUSTOM_BOOTSCREEN)
+  #include "_Bootscreen.h"
+#endif
+
 // @section machine
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.

commit 9a00108cb62c5bec97f1f5e8bac47d28ba68ba77
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Thu Jul 14 18:34:27 2016 +0100

    Adds the WEBSITE_URL as the boot screen line 2

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 96cb580689..465b327ca3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -98,7 +98,7 @@
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
 #define SHOW_BOOTSCREEN
 #define STRING_SPLASH_LINE1 SHORT_BUILD_VERSION // will be shown during bootup in line 1
-//#define STRING_SPLASH_LINE2 STRING_DISTRIBUTION_DATE // will be shown during bootup in line 2
+#define STRING_SPLASH_LINE2 WEBSITE_URL         // will be shown during bootup in line 2
 
 // @section machine
 

commit c711701626d9309f391065b99aa78115a4d7f177
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Thu Jul 14 16:29:04 2016 +0100

    Implements a nozzle parking command (G27)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 96cb580689..27be90b7c0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -787,6 +787,30 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define PREHEAT_2_TEMP_BED    110
 #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
 
+//
+// Nozzle Park -- EXPERIMENTAL
+//
+// When enabled allows the user to define a special XYZ position, inside the
+// machine's topology, to park the nozzle when idle or when receiving the G27
+// command.
+//
+// The "P" paramenter controls what is the action applied to the Z axis:
+//    P0: (Default) If current Z-pos is lower than Z-park then the nozzle will
+//        be raised to reach Z-park height.
+//
+//    P1: No matter the current Z-pos, the nozzle will be raised/lowered to
+//        reach Z-park height.
+//
+//    P2: The nozzle height will be raised by Z-park amount but never going over
+//        the machine's limit of Z_MAX_POS.
+//
+//#define NOZZLE_PARK_FEATURE
+
+#if ENABLED(NOZZLE_PARK_FEATURE)
+  // Specify a park position as { X, Y, Z }
+  #define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }
+#endif
+
 //
 // Clean Nozzle Feature -- EXPERIMENTAL
 //

commit 68c343a09a85183aba7c3e47a4b1eecf2cc61236
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Thu Jul 14 00:38:42 2016 +0100

    Added G12 configuration options to all configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c455c50a67..96cb580689 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -821,13 +821,18 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Attention: This is an EXPERIMENTAL feature, in the future the G-code arguments
 // may change to add new functionality like different wipe patterns.
 //
-//#define CLEAN_NOZZLE_FEATURE
+//#define NOZZLE_CLEAN_FEATURE
 
-#if ENABLED(CLEAN_NOZZLE_FEATURE)
-  #define CLEAN_NOZZLE_STROKES  12
-  #define CLEAN_NOZZLE_START_PT { 30, 30, (Z_MIN_POS + 5), 0}
-  #define CLEAN_NOZZLE_END_PT   {100, 60, (Z_MIN_POS + 5), 0}
-  //                            {  X,  Y,               Z, E}
+#if ENABLED(NOZZLE_CLEAN_FEATURE)
+  // Number of pattern repetitions
+  #define NOZZLE_CLEAN_STROKES  12
+
+  //                            {  X,  Y,               Z}
+  #define NOZZLE_CLEAN_START_PT { 30, 30, (Z_MIN_POS + 5)}
+  #define NOZZLE_CLEAN_END_PT   {100, 60, (Z_MIN_POS + 5)}
+
+  // Moves the nozzle to the parked position
+  #define NOZZLE_CLEAN_PARK
 #endif
 
 //

commit 021544f5721442ba62ac339d91451f6caf2e7c5f
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Thu Jun 23 00:23:55 2016 +0100

    Improves G12 zig-zag pattern

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6c170ccf33..c455c50a67 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -801,15 +801,20 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //       "strokes" i.e. back-and-forth movements between the starting and end
 //       points.
 //
-//   P1: This starts a zig-zag pattern between (Xs, Ys) and (Xe, Ye), "S"
-//       defines the number of zig-zag triangles to be done. Each "side"
-//       cannot be less than 5mm. As an example "G12 P1 S3" will execute:
-//
-//                                                /|   /|   /| (Xe, Ye)
-//                                               / |  / |  / |
-//                                              /  | /  | /  |
-//                                    (Xs, Ys) /   |/   |/   |
-//
+//   P1: This starts a zig-zag pattern between (X0, Y0) and (X1, Y1), "T"
+//       defines the number of zig-zag triangles to be done. "S" defines the
+//       number of strokes aka one back-and-forth movement. As an example
+//       sending "G12 P1 S1 T3" will execute:
+//
+//          --
+//         |  (X0, Y1) |     /\        /\        /\     | (X1, Y1)
+//         |           |    /  \      /  \      /  \    |
+//       A |           |   /    \    /    \    /    \   |
+//         |           |  /      \  /      \  /      \  |
+//         |  (X0, Y0) | /        \/        \/        \ | (X1, Y0)
+//          --         +--------------------------------+
+//                       |________|_________|_________|
+//                           T1        T2        T3
 //
 // Caveats: End point Z should use the same value as Start point Z.
 //
@@ -820,8 +825,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 #if ENABLED(CLEAN_NOZZLE_FEATURE)
   #define CLEAN_NOZZLE_STROKES  12
-  #define CLEAN_NOZZLE_START_PT { 30, 30, (Z_MIN_POS + 1), 0}
-  #define CLEAN_NOZZLE_END_PT   {100, 60, (Z_MIN_POS + 1), 0}
+  #define CLEAN_NOZZLE_START_PT { 30, 30, (Z_MIN_POS + 5), 0}
+  #define CLEAN_NOZZLE_END_PT   {100, 60, (Z_MIN_POS + 5), 0}
   //                            {  X,  Y,               Z, E}
 #endif
 

commit b05a75655a202518e1cdac412d6af076c943420b
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Thu Jun 16 05:18:44 2016 +0100

    Implements a nozzle cleaning pattern generator (G12)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 94c1d32e9e..6c170ccf33 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -787,6 +787,44 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define PREHEAT_2_TEMP_BED    110
 #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
 
+//
+// Clean Nozzle Feature -- EXPERIMENTAL
+//
+// When enabled allows the user to send G12 to start the nozzle cleaning
+// process, the G-Code accepts two parameters:
+//   "P" for pattern selection
+//   "S" for defining the number of strokes/repetitions
+//
+// Available list of patterns:
+//   P0: This is the default pattern, this process requires a sponge type
+//       material at a fixed bed location, the cleaning process is based on
+//       "strokes" i.e. back-and-forth movements between the starting and end
+//       points.
+//
+//   P1: This starts a zig-zag pattern between (Xs, Ys) and (Xe, Ye), "S"
+//       defines the number of zig-zag triangles to be done. Each "side"
+//       cannot be less than 5mm. As an example "G12 P1 S3" will execute:
+//
+//                                                /|   /|   /| (Xe, Ye)
+//                                               / |  / |  / |
+//                                              /  | /  | /  |
+//                                    (Xs, Ys) /   |/   |/   |
+//
+//
+// Caveats: End point Z should use the same value as Start point Z.
+//
+// Attention: This is an EXPERIMENTAL feature, in the future the G-code arguments
+// may change to add new functionality like different wipe patterns.
+//
+//#define CLEAN_NOZZLE_FEATURE
+
+#if ENABLED(CLEAN_NOZZLE_FEATURE)
+  #define CLEAN_NOZZLE_STROKES  12
+  #define CLEAN_NOZZLE_START_PT { 30, 30, (Z_MIN_POS + 1), 0}
+  #define CLEAN_NOZZLE_END_PT   {100, 60, (Z_MIN_POS + 1), 0}
+  //                            {  X,  Y,               Z, E}
+#endif
+
 //
 // Print job timer
 //

commit a8b6b6a128d19178119321d2ddbe872144ef3261
Merge: 2b9515d60f 1026e5b071
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Jul 12 20:00:33 2016 -0700

    Merge pull request #4252 from thinkyhead/rc_rename_hpb
    
    Replace PLA/ABS preheating with generic

diff --combined Marlin/Configuration.h
index 41f3f129e0,2f49a7503f..94c1d32e9e
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -181,7 -181,6 +181,7 @@@
  // 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 +// 66 is 4.7M High Temperature thermistor from Dyze Design
  // 70 is the 100K thermistor found in the bq Hephestos 2
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
@@@ -198,7 -197,7 +198,7 @@@
  //     Use it for Testing or Development purposes. NEVER for production machine.
  //#define DUMMY_THERMISTOR_998_VALUE 25
  //#define DUMMY_THERMISTOR_999_VALUE 100
 -// :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-3': "Thermocouple + MAX31855 (only for sensor 0)", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
 +// :{ '0': "Not used",'1':"100k / 4.7k - EPCOS",'2':"200k / 4.7k - ATC Semitec 204GT-2",'3':"Mendel-parts / 4.7k",'4':"10k !! do not use for a hotend. Bad resolution at high temp. !!",'5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'6':"100k / 4.7k EPCOS - Not as accurate as Table 1",'7':"100k / 4.7k Honeywell 135-104LAG-J01",'8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT",'9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1",'10':"100k / 4.7k RS 198-961",'11':"100k / 4.7k beta 3950 1%",'12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)",'13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'",'20':"PT100 (Ultimainboard V2.x)",'51':"100k / 1k - EPCOS",'52':"200k / 1k - ATC Semitec 204GT-2",'55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950",'66':"Dyze Design 4.7M High Temperature thermistor",'70':"the 100K thermistor found in the bq Hephestos 2",'71':"100k / 4.7k Honeywell 135-104LAF-J01",'147':"Pt100 / 4.7k",'1047':"Pt1000 / 4.7k",'110':"Pt100 / 1k (non-standard)",'1010':"Pt1000 / 1k (non standard)",'-3':"Thermocouple + MAX31855 (only for sensor 0)",'-2':"Thermocouple + MAX6675 (only for sensor 0)",'-1':"Thermocouple + AD595",'998':"Dummy 1",'999':"Dummy 2" }
  #define TEMP_SENSOR_0 1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
@@@ -779,22 -778,19 +779,22 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  // @section temperature
  
  // Preheat Constants
- #define PLA_PREHEAT_HOTEND_TEMP 180
- #define PLA_PREHEAT_HPB_TEMP 70
- #define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
+ #define PREHEAT_1_TEMP_HOTEND 180
+ #define PREHEAT_1_TEMP_BED     70
+ #define PREHEAT_1_FAN_SPEED     0 // Value from 0 to 255
  
- #define ABS_PREHEAT_HOTEND_TEMP 240
- #define ABS_PREHEAT_HPB_TEMP 110
- #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
+ #define PREHEAT_2_TEMP_HOTEND 240
+ #define PREHEAT_2_TEMP_BED    110
+ #define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
  
  //
  // Print job timer
  //
  // Enable this option to automatically start and stop the
 -// print job timer when M104 and M109 commands are received.
 +// print job timer when M104/M109/M190 commands are received.
 +// M104 (extruder without wait) - high temp = none, low temp = stop timer
 +// M109 (extruder with wait) - high temp = start timer, low temp = stop timer
 +// M190 (bed with wait) - high temp = start timer, low temp = none
  //
  // In all cases the timer can be started and stopped using
  // the following commands:
@@@ -827,10 -823,10 +827,10 @@@
  //
  // Here you may choose the language used by Marlin on the LCD menus, the following
  // list of languages are available:
 -//    en, an, bg, ca, cn, cz, de, es, eu, fi, fr, gl, hr, it, kana,
 -//    kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, test
 +//    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
 +//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, test
  //
 -// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian','test':'TEST'}
 +// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','el':'Greek','el-gr':'Greek (Greece)','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian','test':'TEST'}
  //
  #define LCD_LANGUAGE en
  

commit 928ff6487ad88dc05c3039b53a30e7f6a15f609a
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Jul 10 18:59:04 2016 -0700

    Greek language pack from @psavva

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a7e77c21ce..41f3f129e0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -827,10 +827,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // Here you may choose the language used by Marlin on the LCD menus, the following
 // list of languages are available:
-//    en, an, bg, ca, cn, cz, de, es, eu, fi, fr, gl, hr, it, kana,
-//    kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, test
+//    en, an, bg, ca, cn, cz, de, el, el-gr, es, eu, fi, fr, gl, hr, it,
+//    kana, kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, test
 //
-// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian','test':'TEST'}
+// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','el':'Greek','el-gr':'Greek (Greece)','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian','test':'TEST'}
 //
 #define LCD_LANGUAGE en
 

commit 182c8d7f8fcdde2a5b9a38c87a09dcd4c13e1d69
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jul 8 19:28:37 2016 -0700

    Dyze High Temp Thermistor Support

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 947c9245ea..a7e77c21ce 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -181,6 +181,7 @@
 // 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
 // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
+// 66 is 4.7M High Temperature thermistor from Dyze Design
 // 70 is the 100K thermistor found in the bq Hephestos 2
 //
 //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
@@ -197,7 +198,7 @@
 //     Use it for Testing or Development purposes. NEVER for production machine.
 //#define DUMMY_THERMISTOR_998_VALUE 25
 //#define DUMMY_THERMISTOR_999_VALUE 100
-// :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-3': "Thermocouple + MAX31855 (only for sensor 0)", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
+// :{ '0': "Not used",'1':"100k / 4.7k - EPCOS",'2':"200k / 4.7k - ATC Semitec 204GT-2",'3':"Mendel-parts / 4.7k",'4':"10k !! do not use for a hotend. Bad resolution at high temp. !!",'5':"100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'6':"100k / 4.7k EPCOS - Not as accurate as Table 1",'7':"100k / 4.7k Honeywell 135-104LAG-J01",'8':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT",'9':"100k / 4.7k GE Sensing AL03006-58.2K-97-G1",'10':"100k / 4.7k RS 198-961",'11':"100k / 4.7k beta 3950 1%",'12':"100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)",'13':"100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'",'20':"PT100 (Ultimainboard V2.x)",'51':"100k / 1k - EPCOS",'52':"200k / 1k - ATC Semitec 204GT-2",'55':"100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)",'60':"100k Maker's Tool Works Kapton Bed Thermistor beta=3950",'66':"Dyze Design 4.7M High Temperature thermistor",'70':"the 100K thermistor found in the bq Hephestos 2",'71':"100k / 4.7k Honeywell 135-104LAF-J01",'147':"Pt100 / 4.7k",'1047':"Pt1000 / 4.7k",'110':"Pt100 / 1k (non-standard)",'1010':"Pt1000 / 1k (non standard)",'-3':"Thermocouple + MAX31855 (only for sensor 0)",'-2':"Thermocouple + MAX6675 (only for sensor 0)",'-1':"Thermocouple + AD595",'998':"Dummy 1",'999':"Dummy 2" }
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0

commit 1026e5b071079ac81cbcfc0a7ad7d6a76a3468ed
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Jul 9 15:20:12 2016 -0700

    Replace PLA/ABS preheating with generic

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index aa1733cc26..2f49a7503f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -778,13 +778,13 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // @section temperature
 
 // Preheat Constants
-#define PLA_PREHEAT_HOTEND_TEMP 180
-#define PLA_PREHEAT_HPB_TEMP 70
-#define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
+#define PREHEAT_1_TEMP_HOTEND 180
+#define PREHEAT_1_TEMP_BED     70
+#define PREHEAT_1_FAN_SPEED     0 // Value from 0 to 255
 
-#define ABS_PREHEAT_HOTEND_TEMP 240
-#define ABS_PREHEAT_HPB_TEMP 110
-#define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
+#define PREHEAT_2_TEMP_HOTEND 240
+#define PREHEAT_2_TEMP_BED    110
+#define PREHEAT_2_FAN_SPEED     0 // Value from 0 to 255
 
 //
 // Print job timer

commit e282d69f63b3ea4625a7041946d5e5e95e42c97e
Author: Petr Zahradnik <clexpert@clexpert.cz>
Date:   Sat Jul 9 11:38:18 2016 +0200

    Print job timer comment changed

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index aa1733cc26..947c9245ea 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -790,7 +790,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Print job timer
 //
 // Enable this option to automatically start and stop the
-// print job timer when M104 and M109 commands are received.
+// print job timer when M104/M109/M190 commands are received.
+// M104 (extruder without wait) - high temp = none, low temp = stop timer
+// M109 (extruder with wait) - high temp = start timer, low temp = stop timer
+// M190 (bed with wait) - high temp = start timer, low temp = none
 //
 // In all cases the timer can be started and stopped using
 // the following commands:

commit 683975cf90ff3e1c1ca22ad9dd5ea9834dc97141
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jun 28 16:49:13 2016 -0700

    Fix spelling in a config comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 01c10530a7..aa1733cc26 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1138,7 +1138,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // at zero value, there are 128 effective control positions.
 #define SOFT_PWM_SCALE 0
 
-// Temperature status LEDs that display the hotend and bet temperature.
+// Temperature status LEDs that display the hotend and bed temperature.
 // If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 // Otherwise the RED led is on. There is 1C hysteresis.
 //#define TEMP_STAT_LEDS

commit 10da7ac86c30321880e9ac8f2028b7e9035bc208
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Jun 26 13:56:30 2016 -0700

    Combine Z raise before/after options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce046ca647..01c10530a7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -509,12 +509,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define Z_MIN_PROBE_REPEATABILITY_TEST
 
 //
-// Probe Raise options provide clearance for the probe to deploy and stow.
+// Probe Raise options provide clearance for the probe to deploy, stow, and travel.
 //
-// For G28 these apply when the probe deploys and stows.
-// For G29 these apply before and after the full procedure.
-#define Z_RAISE_BEFORE_PROBING 15   // Raise before probe deploy (e.g., the first probe).
-#define Z_RAISE_AFTER_PROBING 15    // Raise before probe stow (e.g., the last probe).
+#define Z_RAISE_PROBE_DEPLOY_STOW 15 // Raise to make room for the probe to deploy / stow
 #define Z_RAISE_BETWEEN_PROBINGS 5  // Raise between probing points.
 
 //

commit 03c70c1990f865d25b035f812c2948864f425981
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Jun 23 14:33:29 2016 -0700

    SERVO_DEACTIVATION_DELAY => SERVO_DELAY

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d8f6af1fe8..ce046ca647 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1173,18 +1173,16 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
+// Delay (in microseconds) before the next move will start, to give the servo time to reach its target angle.
+// 300ms is a good value but you can try less delay.
+// If the servo can't reach the requested position, increase it.
+#define SERVO_DELAY 300
+
 // Servo deactivation
 //
 // With this option servos are powered only during movement, then turned off to prevent jitter.
 //#define DEACTIVATE_SERVOS_AFTER_MOVE
 
-#if ENABLED(DEACTIVATE_SERVOS_AFTER_MOVE)
-  // Delay (in microseconds) before turning the servo off. This depends on the servo speed.
-  // 300ms is a good value but you can try less delay.
-  // If the servo can't reach the requested position, increase it.
-  #define SERVO_DEACTIVATION_DELAY 300
-#endif
-
 /**********************************************************************\
  * Support for a filament diameter sensor
  * Also allows adjustment of diameter at print time (vs  at slicing)

commit bd015928165f50cedad5b325ee3052486b7523b3
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jun 22 17:11:49 2016 -0700

    Goodbye MECHANICAL_PROBE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 14d63a6cb6..d8f6af1fe8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -419,8 +419,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
 //
 
-// A fix mounted probe, like the normal inductive probe, must be deactivated to go
-// below Z_PROBE_OFFSET_FROM_EXTRUDER when the hardware endstops are active.
+// A Fix-Mounted Probe either doesn't deploy or needs manual deployment.
+// For example an inductive probe, or a setup that uses the nozzle to probe.
+// An inductive probe must be deactivated to go below
+// its trigger-point if hardware endstops are active.
 //#define FIX_MOUNTED_PROBE
 
 // Z Servo Probe, such as an endstop switch on a rotating arm.
@@ -431,10 +433,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define Z_PROBE_SLED
 //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
-// A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
-// For example any setup that uses the nozzle itself as a probe.
-//#define MECHANICAL_PROBE
-
 // Z Probe to nozzle (X,Y) offset, relative to (0, 0).
 // X and Y offsets must be integers.
 //

commit b590a7dee040b4d191fc6b95ee236791e969d878
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jun 22 14:00:44 2016 -0700

    Make Z_RAISE_BETWEEN_PROBINGS a more general option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a55c878c19..14d63a6cb6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -517,6 +517,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // For G29 these apply before and after the full procedure.
 #define Z_RAISE_BEFORE_PROBING 15   // Raise before probe deploy (e.g., the first probe).
 #define Z_RAISE_AFTER_PROBING 15    // Raise before probe stow (e.g., the last probe).
+#define Z_RAISE_BETWEEN_PROBINGS 5  // Raise between probing points.
 
 //
 // For M851 give a range for adjusting the Z probe offset
@@ -670,8 +671,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #endif // !AUTO_BED_LEVELING_GRID
 
-  #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
-
   //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                              // Useful to retract a deployable Z probe.
 

commit d50539583a087c45cab006255b655f2cebf27144
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jun 22 02:44:55 2016 -0700

    Make XY_PROBE_SPEED a general probe option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d1016a4464..a55c878c19 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -456,6 +456,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
 #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
 
+// X and Y axis travel speed (mm/m) between probes
+#define XY_PROBE_SPEED 8000
+
 //
 // Allen Key Probe is defined in the Delta example configurations.
 //
@@ -667,8 +670,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #endif // !AUTO_BED_LEVELING_GRID
 
-  #define XY_PROBE_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
-
   #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
 
   //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.

commit 2798499b71393aea90e45defbd625abfb58fcc9c
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jun 22 02:38:50 2016 -0700

    XY_TRAVEL_SPEED => XY_PROBE_SPEED

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 13f855fc35..d1016a4464 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -667,7 +667,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #endif // !AUTO_BED_LEVELING_GRID
 
-  #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
+  #define XY_PROBE_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
 
   #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
 

commit d583ea852ded211fc47f850edfaf40c3f0b2c449
Author: esenapaj <creation0004@gmail.com>
Date:   Tue Jun 21 20:51:27 2016 +0900

    Standardize format description of Panel

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 84cf41631d..13f855fc35 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -978,8 +978,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define ULTIPANEL
 
+//
 // Cartesio UI
 // http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
+//
 //#define CARTESIO_UI
 
 //
@@ -1104,7 +1106,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define U8GLIB_SSD1306
 
+//
 // SAV OLEd LCD module support using either SSD1306 or SH1106 based LCD modules
+//
 //#define SAV_3DGLCD
 #if ENABLED(SAV_3DGLCD)
   //#define U8GLIB_SSD1306

commit 3996242e9df82a23f82a2175ac79188f0696c068
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jun 21 01:28:36 2016 -0700

    Allow Z_MIN_PROBE_REPEATABILITY_TEST solo

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 49a4c84bfa..84cf41631d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -504,6 +504,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // If you're using the Z MIN endstop connector for your Z probe, this has no effect.
 //#define DISABLE_Z_MIN_PROBE_ENDSTOP
 
+// Enable Z Probe Repeatability test to see how accurate your probe is
+//#define Z_MIN_PROBE_REPEATABILITY_TEST
+
 //
 // Probe Raise options provide clearance for the probe to deploy and stow.
 //
@@ -620,7 +623,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 //#define AUTO_BED_LEVELING_FEATURE // Delete the comment to enable (remove // at the start of the line)
 //#define DEBUG_LEVELING_FEATURE
-#define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
 
 #if ENABLED(AUTO_BED_LEVELING_FEATURE)
 

commit 9beb3f2f5e1d8820641b7215747b5ac093ec5c75
Merge: f215b30932 2fd2301928
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Jun 19 19:46:14 2016 -0700

    Merge pull request #4097 from thinkyhead/rc_fil_runout_cleanup
    
    FIL_RUNOUT_INVERTING false by default

diff --combined Marlin/Configuration.h
index 110a69358a,fce4276c22..49a4c84bfa
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -409,57 -409,6 +409,57 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //============================= Z Probe Options =============================
  //===========================================================================
  
 +//
 +// Probe Type
 +// Probes are sensors/switches that are activated / deactivated before/after use.
 +//
 +// Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
 +// You must activate one of these to use AUTO_BED_LEVELING_FEATURE below.
 +//
 +// Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
 +//
 +
 +// A fix mounted probe, like the normal inductive probe, must be deactivated to go
 +// below Z_PROBE_OFFSET_FROM_EXTRUDER when the hardware endstops are active.
 +//#define FIX_MOUNTED_PROBE
 +
 +// Z Servo Probe, such as an endstop switch on a rotating arm.
 +//#define Z_ENDSTOP_SERVO_NR 0
 +//#define Z_SERVO_ANGLES {70,0} // Z Servo Deploy and Stow angles
 +
 +// Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 +//#define Z_PROBE_SLED
 +//#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 +
 +// A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
 +// For example any setup that uses the nozzle itself as a probe.
 +//#define MECHANICAL_PROBE
 +
 +// Z Probe to nozzle (X,Y) offset, relative to (0, 0).
 +// X and Y offsets must be integers.
 +//
 +// In the following example the X and Y offsets are both positive:
 +// #define X_PROBE_OFFSET_FROM_EXTRUDER 10
 +// #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
 +//
 +//    +-- BACK ---+
 +//    |           |
 +//  L |    (+) P  | R <-- probe (20,20)
 +//  E |           | I
 +//  F | (-) N (+) | G <-- nozzle (10,10)
 +//  T |           | H
 +//    |    (-)    | T
 +//    |           |
 +//    O-- FRONT --+
 +//  (0,0)
 +#define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
 +#define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
 +#define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
 +
 +//
 +// Allen Key Probe is defined in the Delta example configurations.
 +//
 +
  // Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z Probe and a Z-min-endstop on the same machine.
  // With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
  //
@@@ -504,20 -453,12 +504,20 @@@
  // If you're using the Z MIN endstop connector for your Z probe, this has no effect.
  //#define DISABLE_Z_MIN_PROBE_ENDSTOP
  
 +//
  // Probe Raise options provide clearance for the probe to deploy and stow.
 +//
  // For G28 these apply when the probe deploys and stows.
  // For G29 these apply before and after the full procedure.
  #define Z_RAISE_BEFORE_PROBING 15   // Raise before probe deploy (e.g., the first probe).
  #define Z_RAISE_AFTER_PROBING 15    // Raise before probe stow (e.g., the last probe).
  
 +//
 +// For M851 give a range for adjusting the Z probe offset
 +//
 +#define Z_PROBE_OFFSET_RANGE_MIN -20
 +#define Z_PROBE_OFFSET_RANGE_MAX 20
 +
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  // :{0:'Low',1:'High'}
  #define X_ENABLE_ON 0
@@@ -585,7 -526,7 +585,7 @@@
                                   // It is assumed that when logic high = filament available
                                   //                    when logic  low = filament ran out
  #if ENABLED(FILAMENT_RUNOUT_SENSOR)
-   const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
+   const bool FIL_RUNOUT_INVERTING = false; // set to true to invert the logic of the sensor.
    #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
    #define FILAMENT_RUNOUT_SCRIPT "M600"
  #endif
@@@ -665,6 -606,27 +665,6 @@@
  
    #endif // !AUTO_BED_LEVELING_GRID
  
 -  // Z Probe to nozzle (X,Y) offset, relative to (0, 0).
 -  // X and Y offsets must be integers.
 -  //
 -  // In the following example the X and Y offsets are both positive:
 -  // #define X_PROBE_OFFSET_FROM_EXTRUDER 10
 -  // #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
 -  //
 -  //    +-- BACK ---+
 -  //    |           |
 -  //  L |    (+) P  | R <-- probe (20,20)
 -  //  E |           | I
 -  //  F | (-) N (+) | G <-- nozzle (10,10)
 -  //  T |           | H
 -  //    |    (-)    | T
 -  //    |           |
 -  //    O-- FRONT --+
 -  //  (0,0)
 -  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
 -  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
 -  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
 -
    #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
  
    #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
@@@ -672,6 -634,26 +672,6 @@@
    //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                               // Useful to retract a deployable Z probe.
  
 -  // Probes are sensors/switches that need to be activated before they can be used
 -  // and deactivated after their use.
 -  // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
 -
 -  // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
 -  // when the hardware endstops are active.
 -  //#define FIX_MOUNTED_PROBE
 -
 -  // A Servo Probe can be defined in the servo section below.
 -
 -  // An Allen Key Probe is currently predefined only in the delta example configurations.
 -
 -  // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 -  //#define Z_PROBE_SLED
 -  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 -
 -  // A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
 -  // For example any setup that uses the nozzle itself as a probe.
 -  //#define MECHANICAL_PROBE
 -
    // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
    // it is highly recommended you also enable Z_SAFE_HOMING below!
  
@@@ -1169,6 -1151,14 +1169,6 @@@
  //
  //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
  
 -// Servo Endstops
 -//
 -// This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
 -// Use M851 to set the Z probe vertical offset from the nozzle. Store that setting with M500.
 -//
 -//#define Z_ENDSTOP_SERVO_NR 0
 -//#define Z_SERVO_ANGLES {70,0} // Z Servo Extend and Retract angles
 -
  // Servo deactivation
  //
  // With this option servos are powered only during movement, then turned off to prevent jitter.

commit f215b309326e7507654413cf288468c281fc55a9
Merge: 7b5cd314a5 42ccb5b0df
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Jun 19 19:44:25 2016 -0700

    Merge pull request #4093 from thinkyhead/rc_probe_without_abl
    
    Make Z Probe options independent of ABL

diff --combined Marlin/Configuration.h
index 929b2bd0f9,11aece9a21..110a69358a
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -409,6 -409,57 +409,57 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //============================= Z Probe Options =============================
  //===========================================================================
  
+ //
+ // Probe Type
+ // Probes are sensors/switches that are activated / deactivated before/after use.
+ //
+ // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
+ // You must activate one of these to use AUTO_BED_LEVELING_FEATURE below.
+ //
+ // Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
+ //
+ 
+ // A fix mounted probe, like the normal inductive probe, must be deactivated to go
+ // below Z_PROBE_OFFSET_FROM_EXTRUDER when the hardware endstops are active.
+ //#define FIX_MOUNTED_PROBE
+ 
+ // Z Servo Probe, such as an endstop switch on a rotating arm.
+ //#define Z_ENDSTOP_SERVO_NR 0
+ //#define Z_SERVO_ANGLES {70,0} // Z Servo Deploy and Stow angles
+ 
+ // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
+ //#define Z_PROBE_SLED
+ //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
+ 
+ // A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
+ // For example any setup that uses the nozzle itself as a probe.
+ //#define MECHANICAL_PROBE
+ 
+ // Z Probe to nozzle (X,Y) offset, relative to (0, 0).
+ // X and Y offsets must be integers.
+ //
+ // In the following example the X and Y offsets are both positive:
+ // #define X_PROBE_OFFSET_FROM_EXTRUDER 10
+ // #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
+ //
+ //    +-- BACK ---+
+ //    |           |
+ //  L |    (+) P  | R <-- probe (20,20)
+ //  E |           | I
+ //  F | (-) N (+) | G <-- nozzle (10,10)
+ //  T |           | H
+ //    |    (-)    | T
+ //    |           |
+ //    O-- FRONT --+
+ //  (0,0)
+ #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
+ #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
+ #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
+ 
+ //
+ // Allen Key Probe is defined in the Delta example configurations.
+ //
+ 
  // Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z Probe and a Z-min-endstop on the same machine.
  // With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
  //
@@@ -453,12 -504,20 +504,20 @@@
  // If you're using the Z MIN endstop connector for your Z probe, this has no effect.
  //#define DISABLE_Z_MIN_PROBE_ENDSTOP
  
+ //
  // Probe Raise options provide clearance for the probe to deploy and stow.
+ //
  // For G28 these apply when the probe deploys and stows.
  // For G29 these apply before and after the full procedure.
  #define Z_RAISE_BEFORE_PROBING 15   // Raise before probe deploy (e.g., the first probe).
  #define Z_RAISE_AFTER_PROBING 15    // Raise before probe stow (e.g., the last probe).
  
+ //
+ // For M851 give a range for adjusting the Z probe offset
+ //
+ #define Z_PROBE_OFFSET_RANGE_MIN -20
+ #define Z_PROBE_OFFSET_RANGE_MAX 20
+ 
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  // :{0:'Low',1:'High'}
  #define X_ENABLE_ON 0
@@@ -606,27 -665,6 +665,6 @@@
  
    #endif // !AUTO_BED_LEVELING_GRID
  
-   // Z Probe to nozzle (X,Y) offset, relative to (0, 0).
-   // X and Y offsets must be integers.
-   //
-   // In the following example the X and Y offsets are both positive:
-   // #define X_PROBE_OFFSET_FROM_EXTRUDER 10
-   // #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
-   //
-   //    +-- BACK ---+
-   //    |           |
-   //  L |    (+) P  | R <-- probe (20,20)
-   //  E |           | I
-   //  F | (-) N (+) | G <-- nozzle (10,10)
-   //  T |           | H
-   //    |    (-)    | T
-   //    |           |
-   //    O-- FRONT --+
-   //  (0,0)
-   #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
-   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
-   #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
- 
    #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
  
    #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
@@@ -634,26 -672,6 +672,6 @@@
    //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                               // Useful to retract a deployable Z probe.
  
-   // Probes are sensors/switches that need to be activated before they can be used
-   // and deactivated after their use.
-   // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
- 
-   // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
-   // when the hardware endstops are active.
-   //#define FIX_MOUNTED_PROBE
- 
-   // A Servo Probe can be defined in the servo section below.
- 
-   // An Allen Key Probe is currently predefined only in the delta example configurations.
- 
-   // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
-   //#define Z_PROBE_SLED
-   //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
- 
-   // A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
-   // For example any setup that uses the nozzle itself as a probe.
-   //#define MECHANICAL_PROBE
- 
    // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
    // it is highly recommended you also enable Z_SAFE_HOMING below!
  
@@@ -958,10 -976,6 +976,10 @@@
  //
  //#define ULTIPANEL
  
 +// Cartesio UI
 +// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
 +//#define CARTESIO_UI
 +
  //
  // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
  // http://reprap.org/wiki/PanelOne
@@@ -1151,14 -1165,6 +1169,6 @@@
  //
  //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
  
- // Servo Endstops
- //
- // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
- // Use M851 to set the Z probe vertical offset from the nozzle. Store that setting with M500.
- //
- //#define Z_ENDSTOP_SERVO_NR 0
- //#define Z_SERVO_ANGLES {70,0} // Z Servo Extend and Retract angles
- 
  // Servo deactivation
  //
  // With this option servos are powered only during movement, then turned off to prevent jitter.

commit dfbf8b3c2c86734adaa6ed0604a535f5ede55309
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Jun 19 19:24:59 2016 -0700

    FIL_RUNOUT_INVERTING false by default

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 929b2bd0f9..fce4276c22 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -526,7 +526,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
                                  // It is assumed that when logic high = filament available
                                  //                    when logic  low = filament ran out
 #if ENABLED(FILAMENT_RUNOUT_SENSOR)
-  const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
+  const bool FIL_RUNOUT_INVERTING = false; // set to true to invert the logic of the sensor.
   #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
   #define FILAMENT_RUNOUT_SCRIPT "M600"
 #endif

commit de1222875805a0a2fa49826597e3481b529a2ac7
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jun 14 18:03:17 2016 -0700

    Make Z Probe options independent of ABL

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 05916e4ef1..11aece9a21 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -409,6 +409,57 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //============================= Z Probe Options =============================
 //===========================================================================
 
+//
+// Probe Type
+// Probes are sensors/switches that are activated / deactivated before/after use.
+//
+// Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, etc.
+// You must activate one of these to use AUTO_BED_LEVELING_FEATURE below.
+//
+// Use M851 to set the Z probe vertical offset from the nozzle. Store with M500.
+//
+
+// A fix mounted probe, like the normal inductive probe, must be deactivated to go
+// below Z_PROBE_OFFSET_FROM_EXTRUDER when the hardware endstops are active.
+//#define FIX_MOUNTED_PROBE
+
+// Z Servo Probe, such as an endstop switch on a rotating arm.
+//#define Z_ENDSTOP_SERVO_NR 0
+//#define Z_SERVO_ANGLES {70,0} // Z Servo Deploy and Stow angles
+
+// Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
+//#define Z_PROBE_SLED
+//#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
+
+// A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
+// For example any setup that uses the nozzle itself as a probe.
+//#define MECHANICAL_PROBE
+
+// Z Probe to nozzle (X,Y) offset, relative to (0, 0).
+// X and Y offsets must be integers.
+//
+// In the following example the X and Y offsets are both positive:
+// #define X_PROBE_OFFSET_FROM_EXTRUDER 10
+// #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
+//
+//    +-- BACK ---+
+//    |           |
+//  L |    (+) P  | R <-- probe (20,20)
+//  E |           | I
+//  F | (-) N (+) | G <-- nozzle (10,10)
+//  T |           | H
+//    |    (-)    | T
+//    |           |
+//    O-- FRONT --+
+//  (0,0)
+#define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
+#define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
+#define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
+
+//
+// Allen Key Probe is defined in the Delta example configurations.
+//
+
 // Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z Probe and a Z-min-endstop on the same machine.
 // With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
 //
@@ -453,12 +504,20 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // If you're using the Z MIN endstop connector for your Z probe, this has no effect.
 //#define DISABLE_Z_MIN_PROBE_ENDSTOP
 
+//
 // Probe Raise options provide clearance for the probe to deploy and stow.
+//
 // For G28 these apply when the probe deploys and stows.
 // For G29 these apply before and after the full procedure.
 #define Z_RAISE_BEFORE_PROBING 15   // Raise before probe deploy (e.g., the first probe).
 #define Z_RAISE_AFTER_PROBING 15    // Raise before probe stow (e.g., the last probe).
 
+//
+// For M851 give a range for adjusting the Z probe offset
+//
+#define Z_PROBE_OFFSET_RANGE_MIN -20
+#define Z_PROBE_OFFSET_RANGE_MAX 20
+
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 // :{0:'Low',1:'High'}
 #define X_ENABLE_ON 0
@@ -606,27 +665,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #endif // !AUTO_BED_LEVELING_GRID
 
-  // Z Probe to nozzle (X,Y) offset, relative to (0, 0).
-  // X and Y offsets must be integers.
-  //
-  // In the following example the X and Y offsets are both positive:
-  // #define X_PROBE_OFFSET_FROM_EXTRUDER 10
-  // #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
-  //
-  //    +-- BACK ---+
-  //    |           |
-  //  L |    (+) P  | R <-- probe (20,20)
-  //  E |           | I
-  //  F | (-) N (+) | G <-- nozzle (10,10)
-  //  T |           | H
-  //    |    (-)    | T
-  //    |           |
-  //    O-- FRONT --+
-  //  (0,0)
-  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
-  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
-  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
-
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
 
   #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
@@ -634,26 +672,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                              // Useful to retract a deployable Z probe.
 
-  // Probes are sensors/switches that need to be activated before they can be used
-  // and deactivated after their use.
-  // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
-
-  // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
-  // when the hardware endstops are active.
-  //#define FIX_MOUNTED_PROBE
-
-  // A Servo Probe can be defined in the servo section below.
-
-  // An Allen Key Probe is currently predefined only in the delta example configurations.
-
-  // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
-  //#define Z_PROBE_SLED
-  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
-
-  // A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
-  // For example any setup that uses the nozzle itself as a probe.
-  //#define MECHANICAL_PROBE
-
   // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
   // it is highly recommended you also enable Z_SAFE_HOMING below!
 
@@ -1147,14 +1165,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
-// Servo Endstops
-//
-// This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
-// Use M851 to set the Z probe vertical offset from the nozzle. Store that setting with M500.
-//
-//#define Z_ENDSTOP_SERVO_NR 0
-//#define Z_SERVO_ANGLES {70,0} // Z Servo Extend and Retract angles
-
 // Servo deactivation
 //
 // With this option servos are powered only during movement, then turned off to prevent jitter.

commit f8c278ce4d66e7c5897ec88e78271a6607cc3a75
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Jun 19 17:39:46 2016 -0700

    Cartesio UI display option in all configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 05916e4ef1..929b2bd0f9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -958,6 +958,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define ULTIPANEL
 
+// Cartesio UI
+// http://mauk.cc/webshop/cartesio-shop/electronics/user-interface
+//#define CARTESIO_UI
+
 //
 // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
 // http://reprap.org/wiki/PanelOne

commit bd4ec727e7c7aba528ef957dcafa6ef412d07682
Merge: 692a6e7c91 eab44b30d4
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Jun 17 17:32:55 2016 -0700

    Merge pull request #4066 from thinkyhead/rc_M851_with_probe
    
    Make M851 standard with a bed probe

diff --combined Marlin/Configuration.h
index 7e5417c799,b5a1f614d6..05916e4ef1
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -420,7 -420,7 +420,7 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  // To use a separate Z probe, your board must define a Z_MIN_PROBE_PIN.
  //
  // For a servo-based Z probe, you must set up servo support below, including
 -// NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES.
 +// NUM_SERVOS, Z_ENDSTOP_SERVO_NR and Z_SERVO_ANGLES.
  //
  // - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
  // - Use 5V for powered (usu. inductive) sensors.
@@@ -691,7 -691,7 +691,7 @@@
  #endif
  
  
- // @section movement
+ // @section motion
  
  /**
   * MOVEMENT SETTINGS
@@@ -719,18 -719,6 +719,6 @@@
  //============================= Additional Features ===========================
  //=============================================================================
  
- // @section more
- 
- // Custom M code points
- #define CUSTOM_M_CODES
- #if ENABLED(CUSTOM_M_CODES)
-   #if ENABLED(AUTO_BED_LEVELING_FEATURE)
-     #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
-     #define Z_PROBE_OFFSET_RANGE_MIN -20
-     #define Z_PROBE_OFFSET_RANGE_MAX 20
-   #endif
- #endif
- 
  // @section extras
  
  //
@@@ -1164,8 -1152,10 +1152,8 @@@
  // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
  // Use M851 to set the Z probe vertical offset from the nozzle. Store that setting with M500.
  //
 -//#define X_ENDSTOP_SERVO_NR 1
 -//#define Y_ENDSTOP_SERVO_NR 2
  //#define Z_ENDSTOP_SERVO_NR 0
 -//#define SERVO_ENDSTOP_ANGLES {{0,0}, {0,0}, {70,0}} // X,Y,Z Axis Extend and Retract angles
 +//#define Z_SERVO_ANGLES {70,0} // Z Servo Extend and Retract angles
  
  // Servo deactivation
  //

commit fc56a547d1b50d4aba36540009048a302a34d125
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jun 17 15:03:33 2016 -0700

    Rename movement section to motion

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c0aab3ee1e..b5a1f614d6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -691,7 +691,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #endif
 
 
-// @section movement
+// @section motion
 
 /**
  * MOVEMENT SETTINGS

commit 1000563d80c01e6795ef693dd783b543faa4d3d8
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jun 14 18:05:20 2016 -0700

    Make M851 standard with a bed probe

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 509427b61b..c0aab3ee1e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -719,18 +719,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //============================= Additional Features ===========================
 //=============================================================================
 
-// @section more
-
-// Custom M code points
-#define CUSTOM_M_CODES
-#if ENABLED(CUSTOM_M_CODES)
-  #if ENABLED(AUTO_BED_LEVELING_FEATURE)
-    #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
-    #define Z_PROBE_OFFSET_RANGE_MIN -20
-    #define Z_PROBE_OFFSET_RANGE_MAX 20
-  #endif
-#endif
-
 // @section extras
 
 //

commit 47ce810f524c1816288638d5c0f789a98a0989b5
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Jun 13 20:18:24 2016 -0700

    Remove support for XY servo endstops

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 509427b61b..7e5417c799 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -420,7 +420,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // To use a separate Z probe, your board must define a Z_MIN_PROBE_PIN.
 //
 // For a servo-based Z probe, you must set up servo support below, including
-// NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES.
+// NUM_SERVOS, Z_ENDSTOP_SERVO_NR and Z_SERVO_ANGLES.
 //
 // - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
 // - Use 5V for powered (usu. inductive) sensors.
@@ -1164,10 +1164,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
 // Use M851 to set the Z probe vertical offset from the nozzle. Store that setting with M500.
 //
-//#define X_ENDSTOP_SERVO_NR 1
-//#define Y_ENDSTOP_SERVO_NR 2
 //#define Z_ENDSTOP_SERVO_NR 0
-//#define SERVO_ENDSTOP_ANGLES {{0,0}, {0,0}, {70,0}} // X,Y,Z Axis Extend and Retract angles
+//#define Z_SERVO_ANGLES {70,0} // Z Servo Extend and Retract angles
 
 // Servo deactivation
 //

commit 02e5dad29a8c9c644d0f5a8c653ceb8458e4c2ac
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jun 15 22:02:12 2016 -0700

    Include Croatian in language listings

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index afd024933f..509427b61b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -820,8 +820,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // Here you may choose the language used by Marlin on the LCD menus, the following
 // list of languages are available:
-//    en, pl, fr, de, es, ru, bg, it, pt, pt_utf8, pt-br, pt-br_utf8,
-//    fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
+//    en, an, bg, ca, cn, cz, de, es, eu, fi, fr, gl, hr, it, kana,
+//    kana_utf8, nl, pl, pt, pt_utf8, pt-br, pt-br_utf8, ru, test
+//
+// :{'en':'English','an':'Aragonese','bg':'Bulgarian','ca':'Catalan','cn':'Chinese','cz':'Czech','de':'German','es':'Spanish','eu':'Basque-Euskera','fi':'Finnish','fr':'French','gl':'Galician','hr':'Croatian','it':'Italian','kana':'Japanese','kana_utf8':'Japanese (UTF8)','nl':'Dutch','pl':'Polish','pt':'Portuguese','pt-br':'Portuguese (Brazilian)','pt-br_utf8':'Portuguese (Brazilian UTF8)','pt_utf8':'Portuguese (UTF8)','ru':'Russian','test':'TEST'}
 //
 #define LCD_LANGUAGE en
 

commit 8ccd97e7ccff5b91ad4a8c5da484cd66087266d3
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Fri Apr 22 17:42:26 2016 +0100

    Updated all example configuration files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1c34d5976f..afd024933f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -47,9 +47,9 @@
  * You must increment this version number for every significant change such as,
  * but not limited to: ADD, DELETE RENAME OR REPURPOSE any directive/option.
  *
- * Note: Update also Default_Version.h !
+ * Note: Update also Version.h !
  */
-#define CONFIGURATION_H_VERSION 1
+#define CONFIGURATION_H_VERSION 010100
 
 #include "boards.h"
 #include "macros.h"

commit de8108648f487c284a10d66f8e16475790f01876
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Fri Apr 22 17:33:00 2016 +0100

    Added a versioning system to the config files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 502690ada0..1c34d5976f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -38,6 +38,19 @@
 #ifndef CONFIGURATION_H
 #define CONFIGURATION_H
 
+/**
+ *
+ *  ***********************************
+ *  **  ATTENTION TO ALL DEVELOPERS  **
+ *  ***********************************
+ *
+ * You must increment this version number for every significant change such as,
+ * but not limited to: ADD, DELETE RENAME OR REPURPOSE any directive/option.
+ *
+ * Note: Update also Default_Version.h !
+ */
+#define CONFIGURATION_H_VERSION 1
+
 #include "boards.h"
 #include "macros.h"
 

commit 16212432c9152a6e9f678ad7e21cfc7dfc8d7e7e
Author: Reid Rankin <reidrankin@gmail.com>
Date:   Tue May 31 10:26:08 2016 -0500

    G20/21 and M149 support, and code_value() refactor
    
    This is an update of MarlinDev PR #196.
    
    G20/21: support for switching input units between millimeters and
    inches.
    M149: support for changing input temperature units.
    
    In support of these changes, code_value() and code_value_short() are
    replaced with an array of functions which handle converting to the
    proper types and/or units.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4c17271023..502690ada0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -749,6 +749,16 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define M100_FREE_MEMORY_WATCHER // uncomment to add the M100 Free Memory Watcher for debug purpose
 
+//
+// G20/G21 Inch mode support
+//
+//#define INCH_MODE_SUPPORT
+
+//
+// M149 Set temperature units support
+//
+//#define TEMPERATURE_UNITS_SUPPORT
+
 // @section temperature
 
 // Preheat Constants

commit cd441ce652579f0d24c36c4ff3dd9b6b5afa5858
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu May 26 17:43:20 2016 -0700

    SINGLENOZZLE: EXTRUDERS versus HOTENDS

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 968fca6593..4c17271023 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -126,8 +126,8 @@
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
 // For the other hotends it is their distance from the extruder 0 hotend.
-//#define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
-//#define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+//#define HOTEND_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+//#define HOTEND_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
 
 //// The following define selects which power supply you have. Please choose the one that matches your setup
 // 1 = ATX
@@ -224,8 +224,8 @@
 #define BED_MAXTEMP 150
 
 // If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS
-//#define EXTRUDER_WATTS (12.0*12.0/6.7) // P=U^2/R
-//#define BED_WATTS (12.0*12.0/1.1)      // P=U^2/R
+//#define HOTEND_WATTS (12.0*12.0/6.7) // P=U^2/R
+//#define BED_WATTS (12.0*12.0/1.1)    // P=U^2/R
 
 //===========================================================================
 //============================= PID Settings ================================
@@ -241,8 +241,8 @@
   //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
-  //#define PID_PARAMS_PER_EXTRUDER // Uses separate PID parameters for each extruder (useful for mismatched extruders)
-                                    // Set/get with gcode: M301 E[extruder number, 0-2]
+  //#define PID_PARAMS_PER_HOTEND // Uses separate PID parameters for each extruder (useful for mismatched extruders)
+                                  // Set/get with gcode: M301 E[extruder number, 0-2]
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term

commit db0fd021d0b351413656a29e1a477a3d4475c5e1
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Jun 2 16:02:43 2016 -0700

    Z raise options independent of ABL so G28 can use them

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bcf08703a8..968fca6593 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -440,6 +440,12 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // If you're using the Z MIN endstop connector for your Z probe, this has no effect.
 //#define DISABLE_Z_MIN_PROBE_ENDSTOP
 
+// Probe Raise options provide clearance for the probe to deploy and stow.
+// For G28 these apply when the probe deploys and stows.
+// For G29 these apply before and after the full procedure.
+#define Z_RAISE_BEFORE_PROBING 15   // Raise before probe deploy (e.g., the first probe).
+#define Z_RAISE_AFTER_PROBING 15    // Raise before probe stow (e.g., the last probe).
+
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 // :{0:'Low',1:'High'}
 #define X_ENABLE_ON 0
@@ -610,9 +616,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
 
-  #define Z_RAISE_BEFORE_PROBING 15   // How much the Z axis will be raised before traveling to the first probing point.
   #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
-  #define Z_RAISE_AFTER_PROBING 15    // How much the Z axis will be raised after the last probing point.
 
   //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                              // Useful to retract a deployable Z probe.

commit 28fb1f8994c7f12f234bc56d647571d3bb8d2a25
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Jun 2 15:20:10 2016 -0700

    Tweak #endif comment for ABL GRID

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b67d0a02fc..bcf08703a8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -585,7 +585,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
     #define ABL_PROBE_PT_3_X 170
     #define ABL_PROBE_PT_3_Y 20
 
-  #endif // AUTO_BED_LEVELING_GRID
+  #endif // !AUTO_BED_LEVELING_GRID
 
   // Z Probe to nozzle (X,Y) offset, relative to (0, 0).
   // X and Y offsets must be integers.

commit a0b000d752a30a5f8165c7c2e49d6c95592c2674
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue May 31 11:47:37 2016 -0700

    Support for SAV_3DGLCD OLED LCD controller

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ae141a642f..b67d0a02fc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1063,6 +1063,13 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define U8GLIB_SSD1306
 
+// SAV OLEd LCD module support using either SSD1306 or SH1106 based LCD modules
+//#define SAV_3DGLCD
+#if ENABLED(SAV_3DGLCD)
+  //#define U8GLIB_SSD1306
+  #define U8GLIB_SH1106
+#endif
+
 //
 // CONTROLLER TYPE: Shift register panels
 //

commit eb2746a34f9f7ac7039b43aff21360d01dcc31a2
Author: Edward Patel <edward.patel@memention.com>
Date:   Sat May 28 21:05:43 2016 +0200

    MBL: Fix for negative x/y positions

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fe14777ea7..ae141a642f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -519,10 +519,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define MESH_BED_LEVELING    // Enable mesh bed leveling.
 
 #if ENABLED(MESH_BED_LEVELING)
-  #define MESH_MIN_X 10
-  #define MESH_MAX_X (X_MAX_POS - (MESH_MIN_X))
-  #define MESH_MIN_Y 10
-  #define MESH_MAX_Y (Y_MAX_POS - (MESH_MIN_Y))
+  #define MESH_INSET 10        // Mesh inset margin on print area
   #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited.
   #define MESH_NUM_Y_POINTS 3
   #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.

commit fe3122774a516c052a7475573116646aaceaf46d
Merge: 30f6b84561 0e55c06f7d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu May 26 18:50:43 2016 -0700

    Merge pull request #3806 from thinkyhead/rc_coreyz_support
    
    Support for COREYZ. Fixes for COREXY, COREXZ

diff --combined Marlin/Configuration.h
index a79b38e5a9,a595524bff..fe14777ea7
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -120,9 -120,6 +120,9 @@@
  // :[1,2,3,4]
  #define EXTRUDERS 1
  
 +// For Cyclops or any "multi-extruder" that shares a single nozzle.
 +//#define SINGLENOZZLE
 +
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
  // For the other hotends it is their distance from the extruder 0 hotend.
@@@ -345,11 -342,10 +345,10 @@@
  
  // @section machine
  
- // Uncomment this option to enable CoreXY kinematics
+ // Uncomment one of these options to enable CoreXY, CoreXZ, or CoreYZ kinematics
  //#define COREXY
- 
- // Uncomment this option to enable CoreXZ kinematics
  //#define COREXZ
+ //#define COREYZ
  
  // Enable this option for Toshiba steppers
  //#define CONFIG_STEPPERS_TOSHIBA

commit 89e630b2fba82b2a54b551d9d643f87d1ec8a727
Merge: 678cbad76a 0c7c45063b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon May 23 15:52:19 2016 -0700

    Merge pull request #3808 from thinkyhead/rc_singlenozzle
    
    SINGLENOZZLE

diff --combined Marlin/Configuration.h
index 87c72790b3,2fe035f6cb..a79b38e5a9
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -120,6 -120,9 +120,9 @@@
  // :[1,2,3,4]
  #define EXTRUDERS 1
  
+ // For Cyclops or any "multi-extruder" that shares a single nozzle.
+ //#define SINGLENOZZLE
+ 
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
  // For the other hotends it is their distance from the extruder 0 hotend.
@@@ -525,8 -528,6 +528,8 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
    #define MESH_NUM_Y_POINTS 3
    #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.
  
 +  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest at origin [0,0,0]
 +
    //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
  
    #if ENABLED(MANUAL_BED_LEVELING)
@@@ -875,16 -876,6 +878,16 @@@
  //
  //#define ENCODER_STEPS_PER_MENU_ITEM 5
  
 +/**
 + * Encoder Direction Options
 + *
 + * Test your encoder's behavior first with both options disabled.
 + *
 + *  Reversed Value Edit and Menu Nav? Enable REVERSE_ENCODER_DIRECTION.
 + *  Reversed Menu Navigation only?    Enable REVERSE_MENU_DIRECTION.
 + *  Reversed Value Editing only?      Enable BOTH options.
 + */
 +
  //
  // This option reverses the encoder direction everywhere
  //

commit 95fee8ca819ac97ad281e7dcf976075506eac53f
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri May 20 13:22:16 2016 -0700

    Add option for CoreYZ kinematics

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 87c72790b3..a595524bff 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -342,11 +342,10 @@
 
 // @section machine
 
-// Uncomment this option to enable CoreXY kinematics
+// Uncomment one of these options to enable CoreXY, CoreXZ, or CoreYZ kinematics
 //#define COREXY
-
-// Uncomment this option to enable CoreXZ kinematics
 //#define COREXZ
+//#define COREYZ
 
 // Enable this option for Toshiba steppers
 //#define CONFIG_STEPPERS_TOSHIBA

commit c5130fd23b8b7fe67975a064c1ca8bfa10b3cd80
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri May 20 15:11:45 2016 -0700

    Additional instructions for controller reverse options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e8ce1dac40..87c72790b3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -875,6 +875,16 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define ENCODER_STEPS_PER_MENU_ITEM 5
 
+/**
+ * Encoder Direction Options
+ *
+ * Test your encoder's behavior first with both options disabled.
+ *
+ *  Reversed Value Edit and Menu Nav? Enable REVERSE_ENCODER_DIRECTION.
+ *  Reversed Menu Navigation only?    Enable REVERSE_MENU_DIRECTION.
+ *  Reversed Value Editing only?      Enable BOTH options.
+ */
+
 //
 // This option reverses the encoder direction everywhere
 //

commit 69abfef82e6d076a6f8bcafce373ef0bf156b519
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri May 20 15:45:11 2016 -0700

    Add "SINGLENOZZLE" extruder option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 15bfd5ef47..2fe035f6cb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -120,6 +120,9 @@
 // :[1,2,3,4]
 #define EXTRUDERS 1
 
+// For Cyclops or any "multi-extruder" that shares a single nozzle.
+//#define SINGLENOZZLE
+
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
 // For the other hotends it is their distance from the extruder 0 hotend.

commit 37c6d0f4ed7608635a8589a14e391715a243c500
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu May 19 18:38:44 2016 -0700

    Reword MESH_G28_REST_ORIGIN comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3dadaedc1f..e8ce1dac40 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -525,7 +525,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   #define MESH_NUM_Y_POINTS 3
   #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.
 
-  //#define MESH_G28_REST_ORIGIN // Enable to make 'G28' all axis to rest at origin [0,0,0]
+  //#define MESH_G28_REST_ORIGIN // After homing all axes ('G28' or 'G28 XYZ') rest at origin [0,0,0]
 
   //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
 

commit c7d90dc5ece06cd4e0e7788d605626679edcded9
Author: Edward Patel <edward.patel@memention.com>
Date:   Tue May 17 23:38:08 2016 +0200

    Add option to configure G28 all axis resting position for MBL

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 15bfd5ef47..3dadaedc1f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -525,6 +525,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   #define MESH_NUM_Y_POINTS 3
   #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.
 
+  //#define MESH_G28_REST_ORIGIN // Enable to make 'G28' all axis to rest at origin [0,0,0]
+
   //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
 
   #if ENABLED(MANUAL_BED_LEVELING)

commit f9a62f6a8ec0e2af27276f66fc016154fc3cbfc7
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Sat May 14 22:38:59 2016 +0100

    Added PRINTJOB_TIMER_AUTOSTART section to example config files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2d9a003701..15bfd5ef47 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -758,16 +758,16 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // Print job timer
 //
-// This options allows you configure if the print job timer should automatically
-// start and stop counting when a M104 or M109 is received.
+// Enable this option to automatically start and stop the
+// print job timer when M104 and M109 commands are received.
 //
-// If disabled you can control the print timer start and stop using the
-// following G-Code list:
+// In all cases the timer can be started and stopped using
+// the following commands:
 //
 // - M75  - Start the print job timer
 // - M76  - Pause the print job timer
 // - M77  - Stop the print job timer
-#defined PRINTJOB_TIMER_AUTOSTART
+#define PRINTJOB_TIMER_AUTOSTART
 
 //
 // Print Counter

commit 8a18c52002737e71ff142a93e78aae26fe7614ea
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Sat May 14 22:04:53 2016 +0100

    Adds an option to disable print job timer auto start

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 18fe5c864a..2d9a003701 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -755,6 +755,19 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define ABS_PREHEAT_HPB_TEMP 110
 #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
 
+//
+// Print job timer
+//
+// This options allows you configure if the print job timer should automatically
+// start and stop counting when a M104 or M109 is received.
+//
+// If disabled you can control the print timer start and stop using the
+// following G-Code list:
+//
+// - M75  - Start the print job timer
+// - M76  - Pause the print job timer
+// - M77  - Stop the print job timer
+#defined PRINTJOB_TIMER_AUTOSTART
 
 //
 // Print Counter

commit f13c4a9ec4bf52ab088bf3e02c562fc78104b68c
Merge: 6903eb1c5b 85b2c80838
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat May 14 14:39:31 2016 -0700

    Merge pull request #3720 from jbrazio/feature/host-keepalive
    
    Removes the DISABLE from HOST_KEEPALIVE

diff --combined Marlin/Configuration.h
index d9ceed5d58,c45f6fcf3c..18fe5c864a
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -733,13 -733,11 +733,11 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //
  // Host Keepalive
  //
- // By default Marlin will send a busy status message to the host
+ // When enabled Marlin will send a busy status message to the host
  // every couple of seconds when it can't accept commands.
  //
- //#define DISABLE_HOST_KEEPALIVE // Enable this option if your host doesn't like keepalive messages.
- #if DISABLED(DISABLE_HOST_KEEPALIVE)
-   #define DEFAULT_KEEPALIVE_INTERVAL 2 // Number of seconds between "busy" messages. Set with M113.
- #endif
+ #define HOST_KEEPALIVE_FEATURE        // Disable this if your host doesn't like keepalive messages
+ #define DEFAULT_KEEPALIVE_INTERVAL 2  // Number of seconds between "busy" messages. Set with M113.
  
  //
  // M100 Free Memory Watcher
@@@ -862,13 -860,6 +860,13 @@@
  //
  //#define ENCODER_STEPS_PER_MENU_ITEM 5
  
 +//
 +// This option reverses the encoder direction everywhere
 +//
 +//  Set this option if CLOCKWISE causes values to DECREASE
 +//
 +//#define REVERSE_ENCODER_DIRECTION
 +
  //
  // This option reverses the encoder direction for navigating LCD menus.
  //
@@@ -877,13 -868,6 +875,13 @@@
  //
  //#define REVERSE_MENU_DIRECTION
  
 +//
 +// Individual Axis Homing
 +//
 +// Add individual axis homing items (Home X, Home Y, and Home Z) to the LCD menu.
 +//
 +//#define INDIVIDUAL_AXIS_HOMING_MENU
 +
  //
  // SPEAKER/BUZZER
  //

commit 14cd0f4c9215197df35afaa164fa1ec2ea4108bb
Merge: ddf8f5eb10 09150cae79
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu May 12 11:59:46 2016 -0700

    Merge pull request #3740 from thinkyhead/rc_lcd_home_options
    
    Individual Axis Homing LCD menu items

diff --combined Marlin/Configuration.h
index 2ab659513a,f9d9448b97..d9ceed5d58
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -862,13 -862,6 +862,13 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //
  //#define ENCODER_STEPS_PER_MENU_ITEM 5
  
 +//
 +// This option reverses the encoder direction everywhere
 +//
 +//  Set this option if CLOCKWISE causes values to DECREASE
 +//
 +//#define REVERSE_ENCODER_DIRECTION
 +
  //
  // This option reverses the encoder direction for navigating LCD menus.
  //
@@@ -877,6 -870,13 +877,13 @@@
  //
  //#define REVERSE_MENU_DIRECTION
  
+ //
+ // Individual Axis Homing
+ //
+ // Add individual axis homing items (Home X, Home Y, and Home Z) to the LCD menu.
+ //
+ //#define INDIVIDUAL_AXIS_HOMING_MENU
+ 
  //
  // SPEAKER/BUZZER
  //

commit 09150cae791abb02f8561d9bfdb5a9691bac3ef6
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Tue May 10 13:29:25 2016 +0100

    Individual Axis Homing LCD menu items

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b164a4f65..f9d9448b97 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -870,6 +870,13 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define REVERSE_MENU_DIRECTION
 
+//
+// Individual Axis Homing
+//
+// Add individual axis homing items (Home X, Home Y, and Home Z) to the LCD menu.
+//
+//#define INDIVIDUAL_AXIS_HOMING_MENU
+
 //
 // SPEAKER/BUZZER
 //

commit 4dc4e2063fb79e7fad5f7e76b4864c6a8b6a5109
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed May 11 15:39:28 2016 -0700

    Add REVERSE_ENCODER_DIRECTION option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b164a4f65..2ab659513a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -862,6 +862,13 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define ENCODER_STEPS_PER_MENU_ITEM 5
 
+//
+// This option reverses the encoder direction everywhere
+//
+//  Set this option if CLOCKWISE causes values to DECREASE
+//
+//#define REVERSE_ENCODER_DIRECTION
+
 //
 // This option reverses the encoder direction for navigating LCD menus.
 //

commit 85b2c80838c08076c84707af2c1216316aafd0f5
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Tue May 10 14:05:33 2016 +0100

    Updated example configurations

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 157f7a5ac1..c45f6fcf3c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -736,8 +736,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // When enabled Marlin will send a busy status message to the host
 // every couple of seconds when it can't accept commands.
 //
-#define HOST_KEEPALIVE_FEATURE    // Disable this if your host doesn't like keepalive messages
-#define HOST_KEEPALIVE_INTERVAL 2 // Number of seconds between "busy" messages. Set with M113.
+#define HOST_KEEPALIVE_FEATURE        // Disable this if your host doesn't like keepalive messages
+#define DEFAULT_KEEPALIVE_INTERVAL 2  // Number of seconds between "busy" messages. Set with M113.
 
 //
 // M100 Free Memory Watcher

commit ac7f634956254f87b45cdb75be782b23b8865a59
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Tue May 10 14:03:34 2016 +0100

    Removed the DISABLE from HOST_KEEPALIVE_FEATURE option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b164a4f65..157f7a5ac1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -733,13 +733,11 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // Host Keepalive
 //
-// By default Marlin will send a busy status message to the host
+// When enabled Marlin will send a busy status message to the host
 // every couple of seconds when it can't accept commands.
 //
-//#define DISABLE_HOST_KEEPALIVE // Enable this option if your host doesn't like keepalive messages.
-#if DISABLED(DISABLE_HOST_KEEPALIVE)
-  #define DEFAULT_KEEPALIVE_INTERVAL 2 // Number of seconds between "busy" messages. Set with M113.
-#endif
+#define HOST_KEEPALIVE_FEATURE    // Disable this if your host doesn't like keepalive messages
+#define HOST_KEEPALIVE_INTERVAL 2 // Number of seconds between "busy" messages. Set with M113.
 
 //
 // M100 Free Memory Watcher

commit aa5a4716cf5e1f2a6a5f7d9b8173615ada1fc5e5
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Tue May 10 13:37:21 2016 +0100

    Update default config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fff9e7a70f..3b164a4f65 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -786,28 +786,28 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 #define LCD_LANGUAGE en
 
-/**
- * LCD Character Set
- *
- * Note: This option is NOT applicable to Graphical Displays.
- *
- * All character-based LCD's provide ASCII plus one of these
- * language extensions:
- *
- *  - JAPANESE ... the most common
- *  - WESTERN  ... with more accented characters
- *  - CYRILLIC ... for the Russian language
- *
- * To determine the language extension installed on your controller:
- *
- *  - Compile and upload with LCD_LANGUAGE set to 'test'
- *  - Click the controller to view the LCD menu
- *  - The LCD will display Japanese, Western, or Cyrillic text
- *
- * See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
- *
- * :['JAPANESE','WESTERN','CYRILLIC']
- */
+//
+// LCD Character Set
+//
+// Note: This option is NOT applicable to Graphical Displays.
+//
+// All character-based LCD's provide ASCII plus one of these
+// language extensions:
+//
+//  - JAPANESE ... the most common
+//  - WESTERN  ... with more accented characters
+//  - CYRILLIC ... for the Russian language
+//
+// To determine the language extension installed on your controller:
+//
+//  - Compile and upload with LCD_LANGUAGE set to 'test'
+//  - Click the controller to view the LCD menu
+//  - The LCD will display Japanese, Western, or Cyrillic text
+//
+// See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
+//
+// :['JAPANESE','WESTERN','CYRILLIC']
+//
 #define DISPLAY_CHARSET_HD44780 JAPANESE
 
 //

commit 212b17d510324c8c9d981b9ce70e035f79bbb3e3
Author: esenapaj <esenapaj@users.noreply.github.com>
Date:   Tue May 3 21:35:02 2016 +0900

    Fix for PR #3526(Configuration.h LCD & SDCard s...
    
    Fix for PR #3526(Configuration.h LCD & SDCard section rewrite)
    
    It removes duplicated BQ_LCD_SMART_CONTROLLER.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e0b9a2ff4c..fff9e7a70f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -939,12 +939,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
 
-//
-// BQ LCD Smart Controller shipped by
-// default with the BQ Hephestos 2 and Witbox 2.
-//
-//#define BQ_LCD_SMART_CONTROLLER
-
 //
 // GADGETS3D G3D LCD/SD Controller
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel

commit c3ef9993b987ffd127bf9a2056aab9660df97101
Merge: 96b2b3f4fe e34f4653ef
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Apr 29 15:31:14 2016 -0700

    Merge pull request #3625 from jbrazio/feature/print-counter
    
    Print job statistics

diff --combined Marlin/Configuration.h
index 37e5ea20b6,49b31d406c..e0b9a2ff4c
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -757,6 -757,19 +757,19 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  #define ABS_PREHEAT_HPB_TEMP 110
  #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
+ 
+ //
+ // Print Counter
+ //
+ // When enabled Marlin will keep track of some print statistical data such as:
+ //  - Total print jobs
+ //  - Total successful print jobs
+ //  - Total failed print jobs
+ //  - Total time printing
+ //
+ // This information can be viewed by the M78 command.
+ //#define PRINTCOUNTER
+ 
  //=============================================================================
  //============================= LCD and SD support ============================
  //=============================================================================
@@@ -771,31 -784,27 +784,31 @@@
  //    en, pl, fr, de, es, ru, bg, it, pt, pt_utf8, pt-br, pt-br_utf8,
  //    fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
  //
 -#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 +#define LCD_LANGUAGE en
  
 -//
 -// LCD CHARACTER SET
 -//
 -// Choose ONE of the following charset options. This selection depends on
 -// your physical hardware, so it must match your character-based LCD.
 -//
 -// Note: This option is NOT applicable to graphical displays.
 -//
 -// To find out what type of display you have:
 -//  - Compile and upload with the language (above) set to 'test'
 -//  - Click the controller to view the LCD menu
 -//
 -// The LCD will display two lines from the upper half of the character set.
 -//
 -// See also https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
 -//
 -#define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
 -//#define DISPLAY_CHARSET_HD44780_WESTERN
 -//#define DISPLAY_CHARSET_HD44780_CYRILLIC
 +/**
 + * LCD Character Set
 + *
 + * Note: This option is NOT applicable to Graphical Displays.
 + *
 + * All character-based LCD's provide ASCII plus one of these
 + * language extensions:
 + *
 + *  - JAPANESE ... the most common
 + *  - WESTERN  ... with more accented characters
 + *  - CYRILLIC ... for the Russian language
 + *
 + * To determine the language extension installed on your controller:
 + *
 + *  - Compile and upload with LCD_LANGUAGE set to 'test'
 + *  - Click the controller to view the LCD menu
 + *  - The LCD will display Japanese, Western, or Cyrillic text
 + *
 + * See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
 + *
 + * :['JAPANESE','WESTERN','CYRILLIC']
 + */
 +#define DISPLAY_CHARSET_HD44780 JAPANESE
  
  //
  // LCD TYPE
@@@ -851,9 -860,7 +864,9 @@@
  
  //
  // This option reverses the encoder direction for navigating LCD menus.
 -// By default CLOCKWISE == DOWN. With this enabled CLOCKWISE == UP.
 +//
 +//  If CLOCKWISE normally moves DOWN this makes it go UP.
 +//  If CLOCKWISE normally moves UP this makes it go DOWN.
  //
  //#define REVERSE_MENU_DIRECTION
  

commit e34f4653ef8f762686bce7c5c0a406dc0fb902c3
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Fri Apr 29 23:13:10 2016 +0100

    Fixed a typo on the configuration files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c9a6245e98..49b31d406c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -763,7 +763,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // When enabled Marlin will keep track of some print statistical data such as:
 //  - Total print jobs
-//  - Total successfull print jobs
+//  - Total successful print jobs
 //  - Total failed print jobs
 //  - Total time printing
 //

commit e2da7e5000c64e2179bb2748dfa96d45f9f0a4c5
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Wed Apr 27 02:27:23 2016 +0100

    Updated the default configuration and fixed a printcounter.h typo

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index edbeb44ab7..c9a6245e98 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -757,6 +757,19 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define ABS_PREHEAT_HPB_TEMP 110
 #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
 
+
+//
+// Print Counter
+//
+// When enabled Marlin will keep track of some print statistical data such as:
+//  - Total print jobs
+//  - Total successfull print jobs
+//  - Total failed print jobs
+//  - Total time printing
+//
+// This information can be viewed by the M78 command.
+//#define PRINTCOUNTER
+
 //=============================================================================
 //============================= LCD and SD support ============================
 //=============================================================================

commit 924285afa6bf8dec51a1768201718a590fc3c615
Merge: 8905908081 f1b00eb12b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Apr 28 20:28:46 2016 -0700

    Merge pull request #3641 from thinkyhead/rc_reverse_menu_doc
    
    Correct the REVERSE_MENU_DIRECTION comment

diff --combined Marlin/Configuration.h
index e433314830,762ddbaf5e..37e5ea20b6
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -771,31 -771,27 +771,31 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //    en, pl, fr, de, es, ru, bg, it, pt, pt_utf8, pt-br, pt-br_utf8,
  //    fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
  //
 -#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 +#define LCD_LANGUAGE en
  
 -//
 -// LCD CHARACTER SET
 -//
 -// Choose ONE of the following charset options. This selection depends on
 -// your physical hardware, so it must match your character-based LCD.
 -//
 -// Note: This option is NOT applicable to graphical displays.
 -//
 -// To find out what type of display you have:
 -//  - Compile and upload with the language (above) set to 'test'
 -//  - Click the controller to view the LCD menu
 -//
 -// The LCD will display two lines from the upper half of the character set.
 -//
 -// See also https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
 -//
 -#define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
 -//#define DISPLAY_CHARSET_HD44780_WESTERN
 -//#define DISPLAY_CHARSET_HD44780_CYRILLIC
 +/**
 + * LCD Character Set
 + *
 + * Note: This option is NOT applicable to Graphical Displays.
 + *
 + * All character-based LCD's provide ASCII plus one of these
 + * language extensions:
 + *
 + *  - JAPANESE ... the most common
 + *  - WESTERN  ... with more accented characters
 + *  - CYRILLIC ... for the Russian language
 + *
 + * To determine the language extension installed on your controller:
 + *
 + *  - Compile and upload with LCD_LANGUAGE set to 'test'
 + *  - Click the controller to view the LCD menu
 + *  - The LCD will display Japanese, Western, or Cyrillic text
 + *
 + * See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
 + *
 + * :['JAPANESE','WESTERN','CYRILLIC']
 + */
 +#define DISPLAY_CHARSET_HD44780 JAPANESE
  
  //
  // LCD TYPE
@@@ -851,7 -847,9 +851,9 @@@
  
  //
  // This option reverses the encoder direction for navigating LCD menus.
- // By default CLOCKWISE == DOWN. With this enabled CLOCKWISE == UP.
+ //
+ //  If CLOCKWISE normally moves DOWN this makes it go UP.
+ //  If CLOCKWISE normally moves UP this makes it go DOWN.
  //
  //#define REVERSE_MENU_DIRECTION
  

commit f1b00eb12be338979428efa42c08f4c03533c4af
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Apr 28 20:27:17 2016 -0700

    Correct the REVERSE_MENU_DIRECTION comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index edbeb44ab7..762ddbaf5e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -847,7 +847,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 //
 // This option reverses the encoder direction for navigating LCD menus.
-// By default CLOCKWISE == DOWN. With this enabled CLOCKWISE == UP.
+//
+//  If CLOCKWISE normally moves DOWN this makes it go UP.
+//  If CLOCKWISE normally moves UP this makes it go DOWN.
 //
 //#define REVERSE_MENU_DIRECTION
 

commit 0c11566f426acf6befd51e9693eece83620696d0
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Apr 26 23:32:15 2016 -0700

    Replace LANGUAGE_INCLUDE with LCD_LANGUAGE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9ecfad283c..e433314830 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -771,7 +771,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //    en, pl, fr, de, es, ru, bg, it, pt, pt_utf8, pt-br, pt-br_utf8,
 //    fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
 //
-#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
+#define LCD_LANGUAGE en
 
 /**
  * LCD Character Set

commit 259794c0bebd38b31c00268b6720aa8c241fd239
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Apr 26 22:25:50 2016 -0700

    Make DISPLAY_CHARSET_HD44780 a single setting

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index edbeb44ab7..9ecfad283c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -773,25 +773,29 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 
-//
-// LCD CHARACTER SET
-//
-// Choose ONE of the following charset options. This selection depends on
-// your physical hardware, so it must match your character-based LCD.
-//
-// Note: This option is NOT applicable to graphical displays.
-//
-// To find out what type of display you have:
-//  - Compile and upload with the language (above) set to 'test'
-//  - Click the controller to view the LCD menu
-//
-// The LCD will display two lines from the upper half of the character set.
-//
-// See also https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
-//
-#define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
-//#define DISPLAY_CHARSET_HD44780_WESTERN
-//#define DISPLAY_CHARSET_HD44780_CYRILLIC
+/**
+ * LCD Character Set
+ *
+ * Note: This option is NOT applicable to Graphical Displays.
+ *
+ * All character-based LCD's provide ASCII plus one of these
+ * language extensions:
+ *
+ *  - JAPANESE ... the most common
+ *  - WESTERN  ... with more accented characters
+ *  - CYRILLIC ... for the Russian language
+ *
+ * To determine the language extension installed on your controller:
+ *
+ *  - Compile and upload with LCD_LANGUAGE set to 'test'
+ *  - Click the controller to view the LCD menu
+ *  - The LCD will display Japanese, Western, or Cyrillic text
+ *
+ * See https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
+ *
+ * :['JAPANESE','WESTERN','CYRILLIC']
+ */
+#define DISPLAY_CHARSET_HD44780 JAPANESE
 
 //
 // LCD TYPE

commit 170f7e8a4569f30dcbf423f39b858a015da2c1f2
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Fri Apr 22 16:07:26 2016 +0100

    Rework Marlin's versioning system

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 97add8a214..edbeb44ab7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -76,7 +76,7 @@
 #if ENABLED(USE_AUTOMATIC_VERSIONING)
   #include "_Version.h"
 #else
-  #include "Default_Version.h"
+  #include "Version.h"
 #endif
 
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during

commit 0c2aa92b079acdcdf5ac9d309e1d4eaf9f7f3305
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Apr 20 17:04:52 2016 -0700

    Z Safe Homing for all
    
    The `Z_SAFE_HOMING` feature is coupled with probes and not leveling, so
    make it available for general use.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cf1c5cd213..97add8a214 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -637,22 +637,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //#define MECHANICAL_PROBE
 
   // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
-  // it is highly recommended you leave Z_SAFE_HOMING enabled!
-
-  #define Z_SAFE_HOMING   // Use the z-min-probe for homing to z-min - not the z-min-endstop.
-                          // This feature is meant to avoid Z homing with Z probe outside the bed area.
-                          // When defined, it will:
-                          // - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
-                          // - If stepper drivers timeout, it will need X and Y homing again before Z homing.
-                          // - Position the Z probe in a defined XY point before Z Homing when homing all axis (G28).
-                          // - Block Z homing only when the Z probe is outside bed area.
-
-  #if ENABLED(Z_SAFE_HOMING)
-
-    #define Z_SAFE_HOMING_X_POINT ((X_MIN_POS + X_MAX_POS) / 2)    // X point for Z homing when homing all axis (G28).
-    #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28).
-
-  #endif
+  // it is highly recommended you also enable Z_SAFE_HOMING below!
 
 #endif // AUTO_BED_LEVELING_FEATURE
 
@@ -672,6 +657,22 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 #endif
 
+// Use "Z Safe Homing" to avoid homing with a Z probe outside the bed area.
+//
+// With this feature enabled:
+//
+// - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
+// - If stepper drivers time out, it will need X and Y homing again before Z homing.
+// - Position the Z probe in a defined XY point before Z Homing when homing all axes (G28).
+// - Prevent Z homing when the Z probe is outside bed area.
+//#define Z_SAFE_HOMING
+
+#if ENABLED(Z_SAFE_HOMING)
+  #define Z_SAFE_HOMING_X_POINT ((X_MIN_POS + X_MAX_POS) / 2)    // X point for Z homing when homing all axis (G28).
+  #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28).
+#endif
+
+
 // @section movement
 
 /**

commit ef2fd620e9ffb37a72308bbe63085bf473735ae1
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 15 20:41:19 2016 -0700

    Suggested fixups for LCD/SD config comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 23f16b0521..cf1c5cd213 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -759,6 +759,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //=============================================================================
 //============================= LCD and SD support ============================
 //=============================================================================
+
 // @section lcd
 
 //
@@ -936,11 +937,12 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // RepRapDiscount FULL GRAPHIC Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
-// #define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
 //
 // MakerLab Mini Panel with graphic
 // controller and SD support - http://reprap.org/wiki/Mini_panel
+//
 //#define MINIPANEL
 
 //
@@ -953,6 +955,18 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define REPRAPWORLD_KEYPAD
 //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0
 
+//
+// RigidBot Panel V1.0
+// http://www.inventapart.com/
+//
+//#define RIGIDBOT_PANEL
+
+//
+// BQ LCD Smart Controller shipped by
+// default with the BQ Hephestos 2 and Witbox 2.
+//
+//#define BQ_LCD_SMART_CONTROLLER
+
 //
 // CONTROLLER TYPE: I2C
 //
@@ -965,10 +979,14 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // http://www.elefu.com/index.php?route=product/product&product_id=53
 //
 //#define RA_CONTROL_PANEL
+
+//
+// Sainsmart YW Robot (LCM1602) LCD Display
+//
 //#define LCD_I2C_SAINSMART_YWROBOT
 
 //
-// LCM160 LCD adapter.
+// Generic LCM1602 LCD adapter
 //
 //#define LCM1602
 
@@ -1003,6 +1021,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 //#define SAV_3DLCD
 
+//=============================================================================
+//=============================== Extra Features ==============================
+//=============================================================================
+
 // @section extras
 
 // Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino

commit 7b5d6ba315df18bb33fba7b39503b51fb348eb56
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Sat Apr 16 03:20:23 2016 +0100

    Rebase & feedback

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0c9e1bc947..23f16b0521 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -604,7 +604,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //    O-- FRONT --+
   //  (0,0)
   #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
-  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle] 
+  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle]
   #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
 
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
@@ -762,7 +762,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // @section lcd
 
 //
-// MARLIN LANGUAGE
+// LCD LANGUAGE
 //
 // Here you may choose the language used by Marlin on the LCD menus, the following
 // list of languages are available:
@@ -772,19 +772,18 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 
 //
-// LCD CHARSET
+// LCD CHARACTER SET
 //
-// Choose ONE of the following charset list, keep in mind that this selection is
-// dependent on your physical hardware thus it has to match the type of Character
-// based LCD you have.
+// Choose ONE of the following charset options. This selection depends on
+// your physical hardware, so it must match your character-based LCD.
 //
-// Note: This options is ignored for a full graphic display.
+// Note: This option is NOT applicable to graphical displays.
 //
-// To find out what type you have:
-//  - Compile and upload with language set to 'test'
-//  - Click to get the menu
+// To find out what type of display you have:
+//  - Compile and upload with the language (above) set to 'test'
+//  - Click the controller to view the LCD menu
 //
-// You'll see two typical lines from the upper half of the charset.
+// The LCD will display two lines from the upper half of the character set.
 //
 // See also https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
 //
@@ -797,10 +796,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // You may choose ULTRA_LCD if you have character based LCD with 16x2, 16x4, 20x2,
 // 20x4 char/lines or DOGLCD for the full graphics display with 128x64 pixels
-// (ST7565R family).
+// (ST7565R family). (This option will be set automatically for certain displays.)
 //
-// IMPORTANT NOTE: You have to install Arduino's U8glib library for the Full
-// Graphics Display to work ! - https://github.com/olikraus/U8glib_Arduino
+// IMPORTANT NOTE: The U8glib library is required for Full Graphic Display!
+//                 https://github.com/olikraus/U8glib_Arduino
 //
 //#define ULTRA_LCD   // Character based
 //#define DOGLCD      // Full graphics display
@@ -808,16 +807,16 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // SD CARD
 //
-// SD card support is now disabled by default, if you have [and want] SD support
-// then you must uncomment the following directive.
+// SD Card support is disabled by default. If your controller has an SD slot,
+// you must uncomment the following option or it won't work.
 //
 //#define SDSUPPORT
 
 //
 // SD CARD: SPI SPEED
 //
-// You may uncomment *one* of the following directives to use slower SPI transfer
-// speeds, this is usually required if you're getting volume init errors.
+// Uncomment ONE of the following items to use a slower SPI transfer
+// speed. This is usually required if you're getting volume init errors.
 //
 //#define SPI_SPEED SPI_HALF_SPEED
 //#define SPI_SPEED SPI_QUARTER_SPEED
@@ -833,35 +832,36 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // ENCODER SETTINGS
 //
-// This option defines how many pulses a encoder should produce for a menu
-// step to be produced, you should increase this value for highres encoders.
+// This option overrides the default number of encoder pulses needed to
+// produce one step. Should be increased for high-resolution encoders.
 //
 //#define ENCODER_PULSES_PER_STEP 1
+
 //
-//
-// This option defines how many steps are required for Marlin to move between
-// next/prev menu items.
+// Use this option to override the number of step signals required to
+// move between next/prev menu items.
 //
 //#define ENCODER_STEPS_PER_MENU_ITEM 5
+
 //
-//
-// This option allows you to reverse the direction you have to turn the encoder
-// to navigate up/down on the menus, by default CLOCKWISE rotation moves DOWN in
-// the LCD menu, when active CLOCKWISE rotation will move UP in the LCD menu.
+// This option reverses the encoder direction for navigating LCD menus.
+// By default CLOCKWISE == DOWN. With this enabled CLOCKWISE == UP.
 //
 //#define REVERSE_MENU_DIRECTION
+
 //
+// SPEAKER/BUZZER
 //
-// If you have a speaker activate this directive to enable it.
-// By default Marlin assumes your setup is buzzer based and no action is required.
+// If you have a speaker that can produce tones, enable it here.
+// By default Marlin assumes you have a buzzer with a fixed frequency.
 //
 //#define SPEAKER
+
 //
-// The duration and frequency the buzzer plays the UI feedback sound.
-// You may define these directives with 0 (zero) if you want to disable all sound
-// feedback from Marlin.
+// The duration and frequency for the UI feedback sound.
+// Set these to 0 to disable audio feedback in the LCD menus.
 //
-// Note: You may test the buzzing sound with the G-Code:
+// Note: Test audio output with the G-Code:
 //  M300 S<frequency Hz> P<duration ms>
 //
 //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
@@ -870,81 +870,81 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //
 // CONTROLLER TYPE: Standard
 //
-// Marlin supports a impressive variety of controllers, uncomment the directive
-// which defines physical controller you're using.
+// Marlin supports a wide variety of controllers.
+// Enable one of the following options to specify your controller.
 //
+
 //
-// Activate this directive if you have an ULTIMAKER Controller.
+// ULTIMAKER Controller.
 //
 //#define ULTIMAKERCONTROLLER
+
 //
-//
-// Activate this directive if you have a ULTIPANEL as seen on Thingiverse.
+// ULTIPANEL as seen on Thingiverse.
 //
 //#define ULTIPANEL
+
 //
-//
-// Activate this directive if you have a PanelOne from T3P3
-// (via RAMPS 1.4 AUX2/AUX3) - http://reprap.org/wiki/PanelOne
+// PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
+// http://reprap.org/wiki/PanelOne
 //
 //#define PANEL_ONE
+
 //
-//
-// Activate this directive if you have a MaKr3d Makr-Panel with graphic
-// controller and SD suppord - http://reprap.org/wiki/MaKr3d_MaKrPanel
+// MaKr3d Makr-Panel with graphic controller and SD support.
+// http://reprap.org/wiki/MaKr3d_MaKrPanel
 //
 //#define MAKRPANEL
+
 //
-//
-// Activate one of these directives if you have a Panucatt Devices Viki 2.0 or
-// mini Viki with Graphic LCD - http://panucatt.com
+// Activate one of these if you have a Panucatt Devices
+// Viki 2.0 or mini Viki with Graphic LCD
+// http://panucatt.com
 //
 //#define VIKI2
 //#define miniVIKI
 
-// This is a new controller currently under development.  https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
 //
-//
-// Activate this directive if you have an Adafruit ST7565 Full Graphic Controller.
+// Adafruit ST7565 Full Graphic Controller.
 // https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
 //
 //#define ELB_FULL_GRAPHIC_CONTROLLER
+
 //
-//
-// Activate this directive if you have a RepRapDiscount Smart Controller.
+// RepRapDiscount Smart Controller.
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //
-// Note: Usually sold in a white PCB.
+// Note: Usually sold with a white PCB.
 //
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
+
 //
-//
-// Activate this directive if you have a BQ LCD Smart Controller shipped by
+// BQ LCD Smart Controller shipped by
 // default with the BQ Hephestos 2 and Witbox 2.
 //
 //#define BQ_LCD_SMART_CONTROLLER
+
 //
-//
-// Activate this directive if you have a GADGETS3D G3D LCD/SD Controller
+// GADGETS3D G3D LCD/SD Controller
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //
-// Note: Usually sold in a blue PCB.
+// Note: Usually sold with a blue PCB.
 //
 //#define G3D_PANEL
+
 //
-//
-// Activate this directive if you have a RepRapDiscount FULL GRAPHIC Smart Controller
+// RepRapDiscount FULL GRAPHIC Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
 // #define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+
 //
-//
-// Activate this directive if you have a MakerLab Mini Panel with graphic
+// MakerLab Mini Panel with graphic
 // controller and SD support - http://reprap.org/wiki/Mini_panel
 //#define MINIPANEL
+
 //
-//
-// Activate this directive if you have a RepRapWorld REPRAPWORLD_KEYPAD v1.1
+// RepRapWorld REPRAPWORLD_KEYPAD v1.1
 // http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
 //
 // REPRAPWORLD_KEYPAD_MOVE_STEP sets how much should the robot move when a key
@@ -959,20 +959,21 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Note: These controllers require the installation of Arduino's LiquidCrystal_I2C
 // library. For more info: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 //
+
 //
-// Activate this directive if you have an Elefu RA Board Control Panel
+// Elefu RA Board Control Panel
 // http://www.elefu.com/index.php?route=product/product&product_id=53
 //
 //#define RA_CONTROL_PANEL
 //#define LCD_I2C_SAINSMART_YWROBOT
+
 //
-//
-// Activate this directive if you have a LCM160 LCD adapter.
+// LCM160 LCD adapter.
 //
 //#define LCM1602
+
 //
-//
-// Activate this directive if you have a PANELOLU2 LCD with status LEDs,
+// PANELOLU2 LCD with status LEDs,
 // separate encoder and click inputs.
 //
 // Note: This controller requires Arduino's LiquidTWI2 library v1.2.3 or later.
@@ -982,15 +983,15 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // a pin (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
 //
 //#define LCD_I2C_PANELOLU2
+
 //
-//
-// Activate this directive if you have a Panucatt VIKI LCD with status LEDs,
+// Panucatt VIKI LCD with status LEDs,
 // integrated click & L/R/U/D buttons, separate encoder inputs.
 //
 //#define LCD_I2C_VIKI
+
 //
-//
-// Activate this directive if you have a SSD1306 OLED full graphics generic display
+// SSD1306 OLED full graphics generic display
 //
 //#define U8GLIB_SSD1306
 

commit 36a49eab1c33d732dad85660fca15de9eaa6b4ea
Author: Jo√£o Br√°zio <jbrazio@gmail.com>
Date:   Thu Apr 14 20:09:27 2016 +0100

    Improved the LCD and SD comments blocks in Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 19d4710b1b..0c9e1bc947 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -714,7 +714,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // @section extras
 
+//
 // EEPROM
+//
 // The microcontroller can store settings in the EEPROM, e.g. max velocity...
 // M500 - stores parameters in EEPROM
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
@@ -754,113 +756,250 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define ABS_PREHEAT_HPB_TEMP 110
 #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
 
-//==============================LCD and SD support=============================
+//=============================================================================
+//============================= LCD and SD support ============================
+//=============================================================================
 // @section lcd
 
-// Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, bg, it, pt, pt_utf8, pt-br, pt-br_utf8, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
-// See also language.h
+//
+// MARLIN LANGUAGE
+//
+// Here you may choose the language used by Marlin on the LCD menus, the following
+// list of languages are available:
+//    en, pl, fr, de, es, ru, bg, it, pt, pt_utf8, pt-br, pt-br_utf8,
+//    fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
+//
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 
-// Choose ONE of these 3 charsets. This has to match your hardware. Ignored for full graphic display.
-// To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
+//
+// LCD CHARSET
+//
+// Choose ONE of the following charset list, keep in mind that this selection is
+// dependent on your physical hardware thus it has to match the type of Character
+// based LCD you have.
+//
+// Note: This options is ignored for a full graphic display.
+//
+// To find out what type you have:
+//  - Compile and upload with language set to 'test'
+//  - Click to get the menu
+//
+// You'll see two typical lines from the upper half of the charset.
+//
 // See also https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
-  #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
-  //#define DISPLAY_CHARSET_HD44780_WESTERN
-  //#define DISPLAY_CHARSET_HD44780_CYRILLIC
-
-//#define ULTRA_LCD  //general LCD support, also 16x2
-//#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
-//#define SDSUPPORT // Enable SD Card Support in Hardware Console
-                    // Changed behaviour! If you need SDSUPPORT uncomment it!
-//#define SPI_SPEED SPI_HALF_SPEED // (also SPI_QUARTER_SPEED, SPI_EIGHTH_SPEED) Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
-//#define SD_CHECK_AND_RETRY // Use CRC checks and retries on the SD communication
-//#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
-//#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
-//#define REVERSE_MENU_DIRECTION // When enabled CLOCKWISE moves UP in the LCD menu
-//#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
-//#define ULTIPANEL  //the UltiPanel as on Thingiverse
-//#define SPEAKER // The sound device is a speaker - not a buzzer. A buzzer resonates with a fixed frequency.
-//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
-//#define LCD_FEEDBACK_FREQUENCY_HZ 1000         // this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
-                                                 // 0 to disable buzzer feedback. Test with M300 S<frequency Hz> P<duration ms>
-// PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
-// http://reprap.org/wiki/PanelOne
-//#define PANEL_ONE
+//
+#define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
+//#define DISPLAY_CHARSET_HD44780_WESTERN
+//#define DISPLAY_CHARSET_HD44780_CYRILLIC
 
-// The MaKr3d Makr-Panel with graphic controller and SD support
-// http://reprap.org/wiki/MaKr3d_MaKrPanel
-//#define MAKRPANEL
+//
+// LCD TYPE
+//
+// You may choose ULTRA_LCD if you have character based LCD with 16x2, 16x4, 20x2,
+// 20x4 char/lines or DOGLCD for the full graphics display with 128x64 pixels
+// (ST7565R family).
+//
+// IMPORTANT NOTE: You have to install Arduino's U8glib library for the Full
+// Graphics Display to work ! - https://github.com/olikraus/U8glib_Arduino
+//
+//#define ULTRA_LCD   // Character based
+//#define DOGLCD      // Full graphics display
+
+//
+// SD CARD
+//
+// SD card support is now disabled by default, if you have [and want] SD support
+// then you must uncomment the following directive.
+//
+//#define SDSUPPORT
+
+//
+// SD CARD: SPI SPEED
+//
+// You may uncomment *one* of the following directives to use slower SPI transfer
+// speeds, this is usually required if you're getting volume init errors.
+//
+//#define SPI_SPEED SPI_HALF_SPEED
+//#define SPI_SPEED SPI_QUARTER_SPEED
+//#define SPI_SPEED SPI_EIGHTH_SPEED
+
+//
+// SD CARD: ENABLE CRC
+//
+// Use CRC checks and retries on the SD communication.
+//
+//#define SD_CHECK_AND_RETRY
 
-// The Panucatt Devices Viki 2.0 and mini Viki with Graphic LCD
-// http://panucatt.com
-// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: https://github.com/olikraus/U8glib_Arduino
+//
+// ENCODER SETTINGS
+//
+// This option defines how many pulses a encoder should produce for a menu
+// step to be produced, you should increase this value for highres encoders.
+//
+//#define ENCODER_PULSES_PER_STEP 1
+//
+//
+// This option defines how many steps are required for Marlin to move between
+// next/prev menu items.
+//
+//#define ENCODER_STEPS_PER_MENU_ITEM 5
+//
+//
+// This option allows you to reverse the direction you have to turn the encoder
+// to navigate up/down on the menus, by default CLOCKWISE rotation moves DOWN in
+// the LCD menu, when active CLOCKWISE rotation will move UP in the LCD menu.
+//
+//#define REVERSE_MENU_DIRECTION
+//
+//
+// If you have a speaker activate this directive to enable it.
+// By default Marlin assumes your setup is buzzer based and no action is required.
+//
+//#define SPEAKER
+//
+// The duration and frequency the buzzer plays the UI feedback sound.
+// You may define these directives with 0 (zero) if you want to disable all sound
+// feedback from Marlin.
+//
+// Note: You may test the buzzing sound with the G-Code:
+//  M300 S<frequency Hz> P<duration ms>
+//
+//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
+//#define LCD_FEEDBACK_FREQUENCY_HZ 1000
+
+//
+// CONTROLLER TYPE: Standard
+//
+// Marlin supports a impressive variety of controllers, uncomment the directive
+// which defines physical controller you're using.
+//
+//
+// Activate this directive if you have an ULTIMAKER Controller.
+//
+//#define ULTIMAKERCONTROLLER
+//
+//
+// Activate this directive if you have a ULTIPANEL as seen on Thingiverse.
+//
+//#define ULTIPANEL
+//
+//
+// Activate this directive if you have a PanelOne from T3P3
+// (via RAMPS 1.4 AUX2/AUX3) - http://reprap.org/wiki/PanelOne
+//
+//#define PANEL_ONE
+//
+//
+// Activate this directive if you have a MaKr3d Makr-Panel with graphic
+// controller and SD suppord - http://reprap.org/wiki/MaKr3d_MaKrPanel
+//
+//#define MAKRPANEL
+//
+//
+// Activate one of these directives if you have a Panucatt Devices Viki 2.0 or
+// mini Viki with Graphic LCD - http://panucatt.com
+//
 //#define VIKI2
 //#define miniVIKI
 
 // This is a new controller currently under development.  https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
 //
-// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: https://github.com/olikraus/U8glib_Arduino
+//
+// Activate this directive if you have an Adafruit ST7565 Full Graphic Controller.
+// https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
+//
 //#define ELB_FULL_GRAPHIC_CONTROLLER
-//#define SD_DETECT_INVERTED
-
-// The RepRapDiscount Smart Controller (white PCB)
+//
+//
+// Activate this directive if you have a RepRapDiscount Smart Controller.
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
+//
+// Note: Usually sold in a white PCB.
+//
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
-
-// The GADGETS3D G3D LCD/SD Controller (blue PCB)
+//
+//
+// Activate this directive if you have a BQ LCD Smart Controller shipped by
+// default with the BQ Hephestos 2 and Witbox 2.
+//
+//#define BQ_LCD_SMART_CONTROLLER
+//
+//
+// Activate this directive if you have a GADGETS3D G3D LCD/SD Controller
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+//
+// Note: Usually sold in a blue PCB.
+//
 //#define G3D_PANEL
-
-// The RepRapDiscount FULL GRAPHIC Smart Controller (quadratic white PCB)
+//
+//
+// Activate this directive if you have a RepRapDiscount FULL GRAPHIC Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
-// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: https://github.com/olikraus/U8glib_Arduino
-//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
-
-// The RepRapWorld REPRAPWORLD_KEYPAD v1.1
+// #define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+//
+//
+// Activate this directive if you have a MakerLab Mini Panel with graphic
+// controller and SD support - http://reprap.org/wiki/Mini_panel
+//#define MINIPANEL
+//
+//
+// Activate this directive if you have a RepRapWorld REPRAPWORLD_KEYPAD v1.1
 // http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+//
+// REPRAPWORLD_KEYPAD_MOVE_STEP sets how much should the robot move when a key
+// is pressed, a value of 10.0 means 10mm per click.
+//
 //#define REPRAPWORLD_KEYPAD
-//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
+//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0
 
-// The Elefu RA Board Control Panel
+//
+// CONTROLLER TYPE: I2C
+//
+// Note: These controllers require the installation of Arduino's LiquidCrystal_I2C
+// library. For more info: https://github.com/kiyoshigawa/LiquidCrystal_I2C
+//
+//
+// Activate this directive if you have an Elefu RA Board Control Panel
 // http://www.elefu.com/index.php?route=product/product&product_id=53
-// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
+//
 //#define RA_CONTROL_PANEL
-
-// The MakerLab Mini Panel with graphic controller and SD support
-// http://reprap.org/wiki/Mini_panel
-//#define MINIPANEL
-
-/**
- * I2C Panels
- */
-
 //#define LCD_I2C_SAINSMART_YWROBOT
-
-//#define LCM1602 // LCM1602 Adapter for 16x2 LCD
-
-// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 //
-// This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
-// Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
-// (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
-// Note: The PANELOLU2 encoder click input can either be directly connected to a pin
-//       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
+//
+// Activate this directive if you have a LCM160 LCD adapter.
+//
+//#define LCM1602
+//
+//
+// Activate this directive if you have a PANELOLU2 LCD with status LEDs,
+// separate encoder and click inputs.
+//
+// Note: This controller requires Arduino's LiquidTWI2 library v1.2.3 or later.
+// For more info: https://github.com/lincomatic/LiquidTWI2
+//
+// Note: The PANELOLU2 encoder click input can either be directly connected to
+// a pin (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
+//
 //#define LCD_I2C_PANELOLU2
-
-// Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+//
+//
+// Activate this directive if you have a Panucatt VIKI LCD with status LEDs,
+// integrated click & L/R/U/D buttons, separate encoder inputs.
+//
 //#define LCD_I2C_VIKI
-
-// SSD1306 OLED generic display support
-// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: https://github.com/olikraus/U8glib_Arduino
+//
+//
+// Activate this directive if you have a SSD1306 OLED full graphics generic display
+//
 //#define U8GLIB_SSD1306
 
-// Shift register panels
-// ---------------------
-// 2 wire Non-latching LCD SR from:
-// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
+//
+// CONTROLLER TYPE: Shift register panels
+//
+// 2 wire Non-latching LCD SR from https://goo.gl/aJJ4sH
 // LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
+//
 //#define SAV_3DLCD
 
 // @section extras

commit a8e4d7c135a323a645756af13fcc0866c8b23e04
Merge: e06931495a 8ec8d59df8
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Apr 15 16:20:58 2016 -0700

    Merge pull request #3477 from alephobjects/BedTempHysteresis
    
    Implementation of M190 bed temp hysteresis

diff --combined Marlin/Configuration.h
index be56f8088f,ae79d55be3..19d4710b1b
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -192,11 -192,16 +192,16 @@@
  //#define TEMP_SENSOR_1_AS_REDUNDANT
  #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
  
- // Actual temperature must be close to target for this long before M109 returns success
+ // Extruder temperature must be close to target for this long before M109 returns success
  #define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
  #define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
  
+ // Bed temperature must be close to target for this long before M190 returns success
+ #define TEMP_BED_RESIDENCY_TIME 10  // (seconds)
+ #define TEMP_BED_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
+ #define TEMP_BED_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
+ 
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
  // to check that the wiring to the thermistor is not broken.
  // Otherwise this would lead to the heater being powered on all the time.
@@@ -236,7 -241,7 +241,7 @@@
    //#define PID_PARAMS_PER_EXTRUDER // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                      // Set/get with gcode: M301 E[extruder number, 0-2]
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
 -                                  // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
 +                                  // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
    #define K1 0.95 //smoothing factor within the PID
  
@@@ -598,9 -603,9 +603,9 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
    //    |           |
    //    O-- FRONT --+
    //  (0,0)
 -  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  [of the nozzle] +right
 -  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front [of the nozzle] +behind
 -  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below [the nozzle] (always negative!)
 +  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
 +  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle] 
 +  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
  
    #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
  
@@@ -612,7 -617,7 +617,7 @@@
                                                                               // Useful to retract a deployable Z probe.
  
    // Probes are sensors/switches that need to be activated before they can be used
 -  // and deactivated after the use.
 +  // and deactivated after their use.
    // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
  
    // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
@@@ -623,14 -628,9 +628,14 @@@
  
    // An Allen Key Probe is currently predefined only in the delta example configurations.
  
 -  //#define Z_PROBE_SLED // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 +  // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 +  //#define Z_PROBE_SLED
    //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
 +  // A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
 +  // For example any setup that uses the nozzle itself as a probe.
 +  //#define MECHANICAL_PROBE
 +
    // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
    // it is highly recommended you leave Z_SAFE_HOMING enabled!
  
@@@ -775,7 -775,7 +780,7 @@@
  //#define REVERSE_MENU_DIRECTION // When enabled CLOCKWISE moves UP in the LCD menu
  //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
  //#define ULTIPANEL  //the UltiPanel as on Thingiverse
 -//#define SPEAKER // The sound device is a speaker - not a buzzer. A buzzer resonates with his own frequency.
 +//#define SPEAKER // The sound device is a speaker - not a buzzer. A buzzer resonates with a fixed frequency.
  //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
  //#define LCD_FEEDBACK_FREQUENCY_HZ 1000         // this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
                                                   // 0 to disable buzzer feedback. Test with M300 S<frequency Hz> P<duration ms>

commit 1cc622b1676323a67424b8b7fb73abaccc8ad78f
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Apr 14 20:06:59 2016 -0700

    Fix minor spelling in comments

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b5af01cc7e..be56f8088f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -236,7 +236,7 @@
   //#define PID_PARAMS_PER_EXTRUDER // Uses separate PID parameters for each extruder (useful for mismatched extruders)
                                     // Set/get with gcode: M301 E[extruder number, 0-2]
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
-                                  // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
+                                  // is more than PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
   #define K1 0.95 //smoothing factor within the PID
 

commit de8c0baf8b103ea6c28b00fe4e0261d72eb4bfa5
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Apr 13 20:34:01 2016 -0700

    Update some comments in Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eb4c5af5ed..b5af01cc7e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -775,7 +775,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define REVERSE_MENU_DIRECTION // When enabled CLOCKWISE moves UP in the LCD menu
 //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 //#define ULTIPANEL  //the UltiPanel as on Thingiverse
-//#define SPEAKER // The sound device is a speaker - not a buzzer. A buzzer resonates with his own frequency.
+//#define SPEAKER // The sound device is a speaker - not a buzzer. A buzzer resonates with a fixed frequency.
 //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
 //#define LCD_FEEDBACK_FREQUENCY_HZ 1000         // this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
                                                  // 0 to disable buzzer feedback. Test with M300 S<frequency Hz> P<duration ms>

commit 69c00aea4cd82bd8222cee7806e4816fb8a313a0
Author: gralco <kuzmenko@alephobjects.com>
Date:   Thu Apr 14 08:03:38 2016 -0600

    Include bed hysteresis setting in the example configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a7aedd8ad5..ae79d55be3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -192,11 +192,12 @@
 //#define TEMP_SENSOR_1_AS_REDUNDANT
 #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 
-// Actual temperature must be close to target for this long before M109/M190 returns success
+// Extruder temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 10  // (seconds)
 #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 #define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
 
+// Bed temperature must be close to target for this long before M190 returns success
 #define TEMP_BED_RESIDENCY_TIME 10  // (seconds)
 #define TEMP_BED_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 #define TEMP_BED_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.

commit f8e10ff1d8c9924a7efb8e4fbb930642d6ab7802
Merge: 50d083c3e6 2eb1b102f8
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Apr 13 20:55:14 2016 -0700

    Merge pull request #3491 from thinkyhead/rc_mechanical_probe
    
    Support for "mechanical probe" with Allen Key as a special case

diff --combined Marlin/Configuration.h
index 50600f1043,a5d63765f3..eb4c5af5ed
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -598,9 -598,9 +598,9 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
    //    |           |
    //    O-- FRONT --+
    //  (0,0)
 -  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  [of the nozzle] +right
 -  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front [of the nozzle] +behind
 -  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below [the nozzle] (always negative!)
 +  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
 +  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle] 
 +  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
  
    #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
  
@@@ -612,7 -612,7 +612,7 @@@
                                                                               // Useful to retract a deployable Z probe.
  
    // Probes are sensors/switches that need to be activated before they can be used
 -  // and deactivated after the use.
 +  // and deactivated after their use.
    // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
  
    // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
@@@ -623,10 -623,13 +623,14 @@@
  
    // An Allen Key Probe is currently predefined only in the delta example configurations.
  
 -  //#define Z_PROBE_SLED // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 +  // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 +  //#define Z_PROBE_SLED
    //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
+   // A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
+   // For example any setup that uses the nozzle itself as a probe.
+   //#define MECHANICAL_PROBE
+ 
    // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
    // it is highly recommended you leave Z_SAFE_HOMING enabled!
  

commit 7eb476597f42052a78357b89728c5f1c0b88a307
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Apr 13 20:34:01 2016 -0700

    Update some comments in Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d0a49aade3..50600f1043 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -598,9 +598,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //    |           |
   //    O-- FRONT --+
   //  (0,0)
-  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  [of the nozzle] +right
-  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front [of the nozzle] +behind
-  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below [the nozzle] (always negative!)
+  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  +right  [of the nozzle]
+  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front +behind [the nozzle] 
+  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below +above  [the nozzle]
 
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
 
@@ -612,7 +612,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
                                                                              // Useful to retract a deployable Z probe.
 
   // Probes are sensors/switches that need to be activated before they can be used
-  // and deactivated after the use.
+  // and deactivated after their use.
   // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
 
   // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
@@ -623,7 +623,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   // An Allen Key Probe is currently predefined only in the delta example configurations.
 
-  //#define Z_PROBE_SLED // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
+  // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
+  //#define Z_PROBE_SLED
   //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
   // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,

commit 2eb1b102f8480ea17e84146fe9b3b20af6d68bb7
Author: esenapaj <creation0004@gmail.com>
Date:   Sun Mar 27 08:32:31 2016 +0900

    Support for "mechanical probe" with Allen Key as a special case

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d0a49aade3..a5d63765f3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -626,6 +626,10 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //#define Z_PROBE_SLED // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
   //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
+  // A Mechanical Probe is any probe that either doesn't deploy or needs manual deployment
+  // For example any setup that uses the nozzle itself as a probe.
+  //#define MECHANICAL_PROBE
+
   // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
   // it is highly recommended you leave Z_SAFE_HOMING enabled!
 

commit 178aeb79c886ae898317e01b05202c185cd1a03b
Author: gralco <kuzmenko@alephobjects.com>
Date:   Tue Apr 12 08:40:57 2016 -0600

    Implementation of M190 bed temp hysteresis

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d0a49aade3..a7aedd8ad5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -192,11 +192,15 @@
 //#define TEMP_SENSOR_1_AS_REDUNDANT
 #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 
-// Actual temperature must be close to target for this long before M109 returns success
+// Actual temperature must be close to target for this long before M109/M190 returns success
 #define TEMP_RESIDENCY_TIME 10  // (seconds)
 #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 #define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
 
+#define TEMP_BED_RESIDENCY_TIME 10  // (seconds)
+#define TEMP_BED_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
+#define TEMP_BED_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
+
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
 // to check that the wiring to the thermistor is not broken.
 // Otherwise this would lead to the heater being powered on all the time.

commit 2eca8d63b36f253c892f3f4320091c825d425ebc
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Apr 6 17:30:23 2016 -0700

    Add DEFAULT_KEEPALIVE_INTERVAL setting

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ddd72d11a0..d0a49aade3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -721,9 +721,12 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Host Keepalive
 //
 // By default Marlin will send a busy status message to the host
-// every 10 seconds when it can't accept commands.
+// every couple of seconds when it can't accept commands.
 //
 //#define DISABLE_HOST_KEEPALIVE // Enable this option if your host doesn't like keepalive messages.
+#if DISABLED(DISABLE_HOST_KEEPALIVE)
+  #define DEFAULT_KEEPALIVE_INTERVAL 2 // Number of seconds between "busy" messages. Set with M113.
+#endif
 
 //
 // M100 Free Memory Watcher

commit e5771346a42d327820328ca0e43ebdc6dd27ee2a
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Mar 2 02:00:34 2016 -0800

    Drop DISABLE_M(IN|AX)_ENDSTOPS, replace with individual endstop flags

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8debc70bd7..ddd72d11a0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -346,8 +346,22 @@
 // Enable this option for Toshiba steppers
 //#define CONFIG_STEPPERS_TOSHIBA
 
+//===========================================================================
+//============================== Endstop Settings ===========================
+//===========================================================================
+
 // @section homing
 
+// Specify here all the endstop connectors that are connected to any endstop or probe.
+// Almost all printers will be using one per axis. Probes will use one or more of the
+// extra connectors. Leave undefined any used for non-endstop and non-probe purposes.
+#define USE_XMIN_PLUG
+#define USE_YMIN_PLUG
+#define USE_ZMIN_PLUG
+//#define USE_XMAX_PLUG
+//#define USE_YMAX_PLUG
+//#define USE_ZMAX_PLUG
+
 // coarse Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
@@ -370,8 +384,6 @@ const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-//#define DISABLE_MAX_ENDSTOPS
-//#define DISABLE_MIN_ENDSTOPS
 
 //===========================================================================
 //============================= Z Probe Options =============================

commit ffe054c129d894c9edde3876ea745dc5c8ac00b1
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 1 17:28:08 2016 -0700

    Fix comment about host keepalive interval

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 82c95a5f11..8debc70bd7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -709,7 +709,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Host Keepalive
 //
 // By default Marlin will send a busy status message to the host
-// every 2 seconds when it can't accept commands.
+// every 10 seconds when it can't accept commands.
 //
 //#define DISABLE_HOST_KEEPALIVE // Enable this option if your host doesn't like keepalive messages.
 

commit 1a79b13b7a1e6840af87d75d71c86361020436ee
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Mar 29 20:28:23 2016 -0700

    FILAMENT_SENSOR -> FILAMENT_WIDTH_SENSOR

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fc884523cd..82c95a5f11 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -920,11 +920,11 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
  * Note may require analog pins to be defined for different motherboards
  **********************************************************************/
 // Uncomment below to enable
-//#define FILAMENT_SENSOR
+//#define FILAMENT_WIDTH_SENSOR
 
 #define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
 
-#if ENABLED(FILAMENT_SENSOR)
+#if ENABLED(FILAMENT_WIDTH_SENSOR)
   #define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
   #define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 

commit 53cc6cca465e9e45256b454bc467b1ff05ee9cce
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Mar 25 19:07:50 2016 -0700

    Formalize some dependencies on PIDTEMPBED

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0470717ee6..fc884523cd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -280,10 +280,10 @@
 // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
 #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
 
-//#define PID_BED_DEBUG // Sends debug data to the serial port.
-
 #if ENABLED(PIDTEMPBED)
 
+  //#define PID_BED_DEBUG // Sends debug data to the serial port.
+
   #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
 
   //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)

commit 4b31c67dce15f31b754a59bcd6083679aa1c0556
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Mar 25 19:04:17 2016 -0700

    Add PID_AUTOTUNE_MENU option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ded362096..0470717ee6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -229,6 +229,7 @@
 #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
 #define PID_MAX BANG_MAX // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #if ENABLED(PIDTEMP)
+  //#define PID_AUTOTUNE_MENU // Add PID Autotune to the LCD "Temperature" menu to run M303 and apply the result.
   //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay

commit 0da744b7b012d7890a2289bfa53147384a7f4078
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Mar 24 23:19:46 2016 -0700

    Further cleanup of comments, partial Doxygen-style
    
    Following up on #3231

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f8470b92e9..0ded362096 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,4 +1,4 @@
-/*
+/**
  * Marlin 3D Printer Firmware
  * Copyright (C) 2016 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
  *
@@ -20,6 +20,21 @@
  *
  */
 
+/**
+ * Configuration.h
+ *
+ * Basic settings such as:
+ *
+ * - Type of electronics
+ * - Type of temperature sensor
+ * - Printer geometry
+ * - Endstop configuration
+ * - LCD controller
+ * - Extra features
+ *
+ * Advanced settings can be found in Configuration_adv.h
+ *
+ */
 #ifndef CONFIGURATION_H
 #define CONFIGURATION_H
 
@@ -29,8 +44,10 @@
 //===========================================================================
 //============================= Getting Started =============================
 //===========================================================================
-/*
-Here are some standard links for getting your machine calibrated:
+
+/**
+ * Here are some standard links for getting your machine calibrated:
+ *
  * http://reprap.org/wiki/Calibration
  * http://youtu.be/wAL9d7FgInk
  * http://calculator.josefprusa.cz
@@ -38,11 +55,7 @@ Here are some standard links for getting your machine calibrated:
  * http://www.thingiverse.com/thing:5573
  * https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
  * http://www.thingiverse.com/thing:298812
-*/
-
-// This configuration file contains the basic settings.
-// Advanced settings can be found in Configuration_adv.h
-// BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
+ */
 
 //===========================================================================
 //============================= DELTA Printer ===============================

commit 5e5d2508328e78fbddc3e02104dc3df448d2f196
Author: jbrazio <jbrazio@gmail.com>
Date:   Thu Mar 24 18:01:20 2016 +0000

    Added gplv3 header to all Marlin files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fff1dd5677..f8470b92e9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,3 +1,25 @@
+/*
+ * Marlin 3D Printer Firmware
+ * Copyright (C) 2016 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ *
+ * Based on Sprinter and grbl.
+ * Copyright (C) 2011 Camiel Gubbels / Erik van der Zalm
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ */
+
 #ifndef CONFIGURATION_H
 #define CONFIGURATION_H
 

commit da9d4c4caf9845b5b3077cdf5b6d65c606bf00b5
Merge: c5857f96c8 fc75e6f92d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Mar 24 00:20:25 2016 -0700

    Merge pull request #3206 from esenapaj/patch-5
    
    Follow-up the PR #3082, etc

diff --combined Marlin/Configuration.h
index fecf1305d1,dd6fbe0779..fff1dd5677
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -341,7 -341,7 +341,7 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //============================= Z Probe Options =============================
  //===========================================================================
  
- // Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z-probe and a Z-min-endstop on the same machine.
+ // Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z Probe and a Z-min-endstop on the same machine.
  // With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
  //
  // *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
@@@ -488,7 -488,7 +488,7 @@@
  
  //#define AUTO_BED_LEVELING_FEATURE // Delete the comment to enable (remove // at the start of the line)
  //#define DEBUG_LEVELING_FEATURE
- #define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
+ #define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
  
  #if ENABLED(AUTO_BED_LEVELING_FEATURE)
  
@@@ -551,7 -551,7 +551,7 @@@
    //    O-- FRONT --+
    //  (0,0)
    #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  [of the nozzle] +right
-   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Z offset: -front [of the nozzle] +behind
+   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front [of the nozzle] +behind
    #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below [the nozzle] (always negative!)
  
    #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
@@@ -703,7 -703,7 +703,7 @@@
  
  // Choose ONE of these 3 charsets. This has to match your hardware. Ignored for full graphic display.
  // To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
 -// See also documentation/LCDLanguageFont.md
 +// See also https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
    #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
    //#define DISPLAY_CHARSET_HD44780_WESTERN
    //#define DISPLAY_CHARSET_HD44780_CYRILLIC

commit fc75e6f92d6618cd607fee78303e4af59b133a88
Author: esenapaj <esenapaj@users.noreply.github.com>
Date:   Tue Mar 22 20:22:01 2016 +0900

    Follow-up the PR #3082, etc
    
    Follow-up the PR #3082
    Follow-up the commit 143ad74: unnoticed updates
    Fix for commit b0f5ba0: Z offset: -front [of the nozzle] +behind -> Y offset: -front [of the nozzle] +behind
    Standardize the writing method: Z-probe, z-probe -> Z Probe
    Adjust spacing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 43d3f501f0..dd6fbe0779 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -341,7 +341,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //============================= Z Probe Options =============================
 //===========================================================================
 
-// Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z-probe and a Z-min-endstop on the same machine.
+// Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z Probe and a Z-min-endstop on the same machine.
 // With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
 //
 // *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
@@ -488,7 +488,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 //#define AUTO_BED_LEVELING_FEATURE // Delete the comment to enable (remove // at the start of the line)
 //#define DEBUG_LEVELING_FEATURE
-#define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
+#define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
 
 #if ENABLED(AUTO_BED_LEVELING_FEATURE)
 
@@ -551,7 +551,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //    O-- FRONT --+
   //  (0,0)
   #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  [of the nozzle] +right
-  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Z offset: -front [of the nozzle] +behind
+  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Y offset: -front [of the nozzle] +behind
   #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below [the nozzle] (always negative!)
 
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.

commit 22299c13c15695c7be20d800769f436e75f03399
Author: esenapaj <esenapaj@users.noreply.github.com>
Date:   Tue Mar 22 19:58:41 2016 +0900

    Change link to the document
    
    documentation/LCDLanguageFont.md moved to http://www.marlinfirmware.org/ at commit 12d0983757d7986a2744136331415fbbb17758c0,
    but http://www.marlinfirmware.org/ isn't working.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 43d3f501f0..fecf1305d1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -703,7 +703,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // Choose ONE of these 3 charsets. This has to match your hardware. Ignored for full graphic display.
 // To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
-// See also documentation/LCDLanguageFont.md
+// See also https://github.com/MarlinFirmware/Marlin/wiki/LCD-Language
   #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
   //#define DISPLAY_CHARSET_HD44780_WESTERN
   //#define DISPLAY_CHARSET_HD44780_CYRILLIC

commit be08eb6153cea68ec8f081d2b7eb5e83664facfd
Merge: d1ff7959b7 92a7d4515a
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Mar 20 17:42:45 2016 -0700

    Merge pull request #3194 from jbrazio/feature/add-pt_pt-utf8
    
    Add pt_pt-utf8 language pack and fix some minor compiler warnings

diff --combined Marlin/Configuration.h
index 5a4a94b25d,2c4113f6d1..43d3f501f0
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -130,7 -130,6 +130,7 @@@ Here are some standard links for gettin
  // 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 +// 70 is the 100K thermistor found in the bq Hephestos 2
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
@@@ -337,52 -336,10 +337,52 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
 -// If you want to enable the Z probe pin, but disable its use, uncomment the line below.
 -// This only affects a Z probe endstop if you have separate Z min endstop as well and have
 -// activated Z_MIN_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z probe,
 -// this has no effect.
 +//===========================================================================
 +//============================= Z Probe Options =============================
 +//===========================================================================
 +
 +// Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z-probe and a Z-min-endstop on the same machine.
 +// With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
 +//
 +// *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
 +//
 +// To continue using the Z-min-endstop for homing, be sure to disable Z_SAFE_HOMING.
 +// Example: To park the head outside the bed area when homing with G28.
 +//
 +// To use a separate Z probe, your board must define a Z_MIN_PROBE_PIN.
 +//
 +// For a servo-based Z probe, you must set up servo support below, including
 +// NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES.
 +//
 +// - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
 +// - Use 5V for powered (usu. inductive) sensors.
 +// - Otherwise connect:
 +//   - normally-closed switches to GND and D32.
 +//   - normally-open switches to 5V and D32.
 +//
 +// Normally-closed switches are advised and are the default.
 +//
 +// The Z_MIN_PROBE_PIN sets the Arduino pin to use. (See your board's pins file.)
 +// Since the RAMPS Aux4->D32 pin maps directly to the Arduino D32 pin, D32 is the
 +// default pin for all RAMPS-based boards. Some other boards map differently.
 +// To set or change the pin for your board, edit the appropriate pins_XXXXX.h file.
 +//
 +// WARNING:
 +// Setting the wrong pin may have unexpected and potentially disastrous consequences.
 +// Use with caution and do your homework.
 +//
 +//#define Z_MIN_PROBE_ENDSTOP
 +
 +// Enable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN to use the Z_MIN_PIN for your Z_MIN_PROBE.
 +// The Z_MIN_PIN will then be used for both Z-homing and probing.
 +#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
 +
 +// To use a probe you must enable one of the two options above!
 +
 +// This option disables the use of the Z_MIN_PROBE_PIN
 +// To enable the Z probe pin but disable its use, uncomment the line below. This only affects a
 +// Z probe switch if you have a separate Z min endstop also and have activated Z_MIN_PROBE_ENDSTOP above.
 +// If you're using the Z MIN endstop connector for your Z probe, this has no effect.
  //#define DISABLE_Z_MIN_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@@ -563,26 -520,14 +563,26 @@@
    //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                               // Useful to retract a deployable Z probe.
  
 -  //#define Z_PROBE_SLED // Turn on if you have a Z probe mounted on a sled like those designed by Charles Bell.
 -  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 +  // Probes are sensors/switches that need to be activated before they can be used
 +  // and deactivated after the use.
 +  // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
 +
 +  // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
 +  // when the hardware endstops are active.
 +  //#define FIX_MOUNTED_PROBE
 +
 +  // A Servo Probe can be defined in the servo section below.
 +
 +  // An Allen Key Probe is currently predefined only in the delta example configurations.
  
 +  //#define Z_PROBE_SLED // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 +  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
 -  //If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
 -  //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 +  // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
 +  // it is highly recommended you leave Z_SAFE_HOMING enabled!
  
 -  #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with Z probe outside the bed area.
 +  #define Z_SAFE_HOMING   // Use the z-min-probe for homing to z-min - not the z-min-endstop.
 +                          // This feature is meant to avoid Z homing with Z probe outside the bed area.
                            // When defined, it will:
                            // - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
                            // - If stepper drivers timeout, it will need X and Y homing again before Z homing.
@@@ -596,6 -541,37 +596,6 @@@
  
    #endif
  
 -  // Support for a dedicated Z probe endstop separate from the Z min endstop.
 -  // If you would like to use both a Z probe and a Z min endstop together,
 -  // uncomment #define Z_MIN_PROBE_ENDSTOP and read the instructions below.
 -  // If you still want to use the Z min endstop for homing, disable Z_SAFE_HOMING above.
 -  // Example: To park the head outside the bed area when homing with G28.
 -  //
 -  // WARNING:
 -  // The Z min endstop will need to set properly as it would without a Z probe
 -  // to prevent head crashes and premature stopping during a print.
 -  //
 -  // To use a separate Z probe endstop, you must have a Z_MIN_PROBE_PIN
 -  // defined in the pins_XXXXX.h file for your control board.
 -  // If you are using a servo based Z probe, you will need to enable NUM_SERVOS,
 -  // Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES in the R/C SERVO support below.
 -  // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin
 -  // in the Aux 4 section of the RAMPS board. Use 5V for powered sensors,
 -  // otherwise connect to ground and D32 for normally closed configuration
 -  // and 5V and D32 for normally open configurations.
 -  // Normally closed configuration is advised and assumed.
 -  // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin.
 -  // Z_MIN_PROBE_PIN is setting the pin to use on the Arduino.
 -  // Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
 -  // D32 is currently selected in the RAMPS 1.3/1.4 pin file.
 -  // All other boards will need changes to the respective pins_XXXXX.h file.
 -  //
 -  // WARNING:
 -  // Setting the wrong pin may have unexpected and potentially disastrous outcomes.
 -  // Use with caution and do your homework.
 -  //
 -  //#define Z_MIN_PROBE_ENDSTOP
 -
  #endif // AUTO_BED_LEVELING_FEATURE
  
  
@@@ -697,7 -673,7 +697,7 @@@
  // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
- // en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
+ // en, pl, fr, de, es, ru, bg, it, pt, pt_utf8, pt-br, pt-br_utf8, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  

commit d1ff7959b722a3317da19ccbce4f3c1a87d9c91f
Merge: 10caee2b7c 468df96b0f
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Mar 20 17:39:52 2016 -0700

    Merge pull request #3188 from esenapaj/patch-1
    
    follow-up the commit b82d91e

diff --combined Marlin/Configuration.h
index 71662e4d51,a16ab17e2d..5a4a94b25d
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -130,6 -130,7 +130,7 @@@ Here are some standard links for gettin
  // 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
+ // 70 is the 100K thermistor found in the bq Hephestos 2
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
@@@ -336,52 -337,10 +337,52 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
 -// If you want to enable the Z probe pin, but disable its use, uncomment the line below.
 -// This only affects a Z probe endstop if you have separate Z min endstop as well and have
 -// activated Z_MIN_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z probe,
 -// this has no effect.
 +//===========================================================================
 +//============================= Z Probe Options =============================
 +//===========================================================================
 +
 +// Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z-probe and a Z-min-endstop on the same machine.
 +// With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
 +//
 +// *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
 +//
 +// To continue using the Z-min-endstop for homing, be sure to disable Z_SAFE_HOMING.
 +// Example: To park the head outside the bed area when homing with G28.
 +//
 +// To use a separate Z probe, your board must define a Z_MIN_PROBE_PIN.
 +//
 +// For a servo-based Z probe, you must set up servo support below, including
 +// NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES.
 +//
 +// - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
 +// - Use 5V for powered (usu. inductive) sensors.
 +// - Otherwise connect:
 +//   - normally-closed switches to GND and D32.
 +//   - normally-open switches to 5V and D32.
 +//
 +// Normally-closed switches are advised and are the default.
 +//
 +// The Z_MIN_PROBE_PIN sets the Arduino pin to use. (See your board's pins file.)
 +// Since the RAMPS Aux4->D32 pin maps directly to the Arduino D32 pin, D32 is the
 +// default pin for all RAMPS-based boards. Some other boards map differently.
 +// To set or change the pin for your board, edit the appropriate pins_XXXXX.h file.
 +//
 +// WARNING:
 +// Setting the wrong pin may have unexpected and potentially disastrous consequences.
 +// Use with caution and do your homework.
 +//
 +//#define Z_MIN_PROBE_ENDSTOP
 +
 +// Enable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN to use the Z_MIN_PIN for your Z_MIN_PROBE.
 +// The Z_MIN_PIN will then be used for both Z-homing and probing.
 +#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
 +
 +// To use a probe you must enable one of the two options above!
 +
 +// This option disables the use of the Z_MIN_PROBE_PIN
 +// To enable the Z probe pin but disable its use, uncomment the line below. This only affects a
 +// Z probe switch if you have a separate Z min endstop also and have activated Z_MIN_PROBE_ENDSTOP above.
 +// If you're using the Z MIN endstop connector for your Z probe, this has no effect.
  //#define DISABLE_Z_MIN_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@@ -562,26 -521,14 +563,26 @@@
    //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                               // Useful to retract a deployable Z probe.
  
 -  //#define Z_PROBE_SLED // Turn on if you have a Z probe mounted on a sled like those designed by Charles Bell.
 -  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 +  // Probes are sensors/switches that need to be activated before they can be used
 +  // and deactivated after the use.
 +  // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
 +
 +  // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
 +  // when the hardware endstops are active.
 +  //#define FIX_MOUNTED_PROBE
 +
 +  // A Servo Probe can be defined in the servo section below.
 +
 +  // An Allen Key Probe is currently predefined only in the delta example configurations.
  
 +  //#define Z_PROBE_SLED // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
 +  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
 -  //If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
 -  //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 +  // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
 +  // it is highly recommended you leave Z_SAFE_HOMING enabled!
  
 -  #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with Z probe outside the bed area.
 +  #define Z_SAFE_HOMING   // Use the z-min-probe for homing to z-min - not the z-min-endstop.
 +                          // This feature is meant to avoid Z homing with Z probe outside the bed area.
                            // When defined, it will:
                            // - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
                            // - If stepper drivers timeout, it will need X and Y homing again before Z homing.
@@@ -595,6 -542,37 +596,6 @@@
  
    #endif
  
 -  // Support for a dedicated Z probe endstop separate from the Z min endstop.
 -  // If you would like to use both a Z probe and a Z min endstop together,
 -  // uncomment #define Z_MIN_PROBE_ENDSTOP and read the instructions below.
 -  // If you still want to use the Z min endstop for homing, disable Z_SAFE_HOMING above.
 -  // Example: To park the head outside the bed area when homing with G28.
 -  //
 -  // WARNING:
 -  // The Z min endstop will need to set properly as it would without a Z probe
 -  // to prevent head crashes and premature stopping during a print.
 -  //
 -  // To use a separate Z probe endstop, you must have a Z_MIN_PROBE_PIN
 -  // defined in the pins_XXXXX.h file for your control board.
 -  // If you are using a servo based Z probe, you will need to enable NUM_SERVOS,
 -  // Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES in the R/C SERVO support below.
 -  // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin
 -  // in the Aux 4 section of the RAMPS board. Use 5V for powered sensors,
 -  // otherwise connect to ground and D32 for normally closed configuration
 -  // and 5V and D32 for normally open configurations.
 -  // Normally closed configuration is advised and assumed.
 -  // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin.
 -  // Z_MIN_PROBE_PIN is setting the pin to use on the Arduino.
 -  // Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
 -  // D32 is currently selected in the RAMPS 1.3/1.4 pin file.
 -  // All other boards will need changes to the respective pins_XXXXX.h file.
 -  //
 -  // WARNING:
 -  // Setting the wrong pin may have unexpected and potentially disastrous outcomes.
 -  // Use with caution and do your homework.
 -  //
 -  //#define Z_MIN_PROBE_ENDSTOP
 -
  #endif // AUTO_BED_LEVELING_FEATURE
  
  

commit 1cc316f1fdff9b93587e48a69b595dc50e34c5bc
Merge: 7bf5d117e7 3f45a1acf9
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Mar 20 17:10:38 2016 -0700

    Merge pull request #3082 from thinkyhead/updated_2820
    
    This is quite comprehensive. If probes are disabled in any case when they shouldn't be, I'm sure we will hear about it soon.

diff --combined Marlin/Configuration.h
index 1d2e8a2800,3dfa8f9a3f..71662e4d51
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -280,15 -280,16 +280,15 @@@ Here are some standard links for gettin
  //===========================================================================
  
  /**
 - * Thermal Runaway Protection protects your printer from damage and fire if a
 + * Thermal Protection protects your printer from damage and fire if a
   * thermistor falls out or temperature sensors fail in any way.
   *
   * The issue: If a thermistor falls out or a temperature sensor fails,
   * Marlin can no longer sense the actual temperature. Since a disconnected
   * thermistor reads as a low temperature, the firmware will keep the heater on.
   *
 - * The solution: Once the temperature reaches the target, start observing.
 - * If the temperature stays too far below the target (hysteresis) for too long,
 - * the firmware will halt as a safety precaution.
 + * If you get "Thermal Runaway" or "Heating failed" errors the
 + * details can be tuned in Configuration_adv.h
   */
  
  #define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
@@@ -336,10 -337,52 +336,52 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
- // If you want to enable the Z probe pin, but disable its use, uncomment the line below.
- // This only affects a Z probe endstop if you have separate Z min endstop as well and have
- // activated Z_MIN_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z probe,
- // this has no effect.
+ //===========================================================================
+ //============================= Z Probe Options =============================
+ //===========================================================================
+ 
+ // Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z-probe and a Z-min-endstop on the same machine.
+ // With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
+ //
+ // *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
+ //
+ // To continue using the Z-min-endstop for homing, be sure to disable Z_SAFE_HOMING.
+ // Example: To park the head outside the bed area when homing with G28.
+ //
+ // To use a separate Z probe, your board must define a Z_MIN_PROBE_PIN.
+ //
+ // For a servo-based Z probe, you must set up servo support below, including
+ // NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES.
+ //
+ // - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
+ // - Use 5V for powered (usu. inductive) sensors.
+ // - Otherwise connect:
+ //   - normally-closed switches to GND and D32.
+ //   - normally-open switches to 5V and D32.
+ //
+ // Normally-closed switches are advised and are the default.
+ //
+ // The Z_MIN_PROBE_PIN sets the Arduino pin to use. (See your board's pins file.)
+ // Since the RAMPS Aux4->D32 pin maps directly to the Arduino D32 pin, D32 is the
+ // default pin for all RAMPS-based boards. Some other boards map differently.
+ // To set or change the pin for your board, edit the appropriate pins_XXXXX.h file.
+ //
+ // WARNING:
+ // Setting the wrong pin may have unexpected and potentially disastrous consequences.
+ // Use with caution and do your homework.
+ //
+ //#define Z_MIN_PROBE_ENDSTOP
+ 
+ // Enable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN to use the Z_MIN_PIN for your Z_MIN_PROBE.
+ // The Z_MIN_PIN will then be used for both Z-homing and probing.
+ #define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
+ 
+ // To use a probe you must enable one of the two options above!
+ 
+ // This option disables the use of the Z_MIN_PROBE_PIN
+ // To enable the Z probe pin but disable its use, uncomment the line below. This only affects a
+ // Z probe switch if you have a separate Z min endstop also and have activated Z_MIN_PROBE_ENDSTOP above.
+ // If you're using the Z MIN endstop connector for your Z probe, this has no effect.
  //#define DISABLE_Z_MIN_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@@ -520,14 -563,26 +562,26 @@@
    //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                               // Useful to retract a deployable Z probe.
  
-   //#define Z_PROBE_SLED // Turn on if you have a Z probe mounted on a sled like those designed by Charles Bell.
-   //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
+   // Probes are sensors/switches that need to be activated before they can be used
+   // and deactivated after the use.
+   // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
+ 
+   // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
+   // when the hardware endstops are active.
+   //#define FIX_MOUNTED_PROBE
+ 
+   // A Servo Probe can be defined in the servo section below.
+ 
+   // An Allen Key Probe is currently predefined only in the delta example configurations.
  
+   //#define Z_PROBE_SLED // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
+   //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
-   //If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
-   //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
+   // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
+   // it is highly recommended you leave Z_SAFE_HOMING enabled!
  
-   #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with Z probe outside the bed area.
+   #define Z_SAFE_HOMING   // Use the z-min-probe for homing to z-min - not the z-min-endstop.
+                           // This feature is meant to avoid Z homing with Z probe outside the bed area.
                            // When defined, it will:
                            // - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
                            // - If stepper drivers timeout, it will need X and Y homing again before Z homing.
@@@ -541,37 -596,6 +595,6 @@@
  
    #endif
  
-   // Support for a dedicated Z probe endstop separate from the Z min endstop.
-   // If you would like to use both a Z probe and a Z min endstop together,
-   // uncomment #define Z_MIN_PROBE_ENDSTOP and read the instructions below.
-   // If you still want to use the Z min endstop for homing, disable Z_SAFE_HOMING above.
-   // Example: To park the head outside the bed area when homing with G28.
-   //
-   // WARNING:
-   // The Z min endstop will need to set properly as it would without a Z probe
-   // to prevent head crashes and premature stopping during a print.
-   //
-   // To use a separate Z probe endstop, you must have a Z_MIN_PROBE_PIN
-   // defined in the pins_XXXXX.h file for your control board.
-   // If you are using a servo based Z probe, you will need to enable NUM_SERVOS,
-   // Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES in the R/C SERVO support below.
-   // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin
-   // in the Aux 4 section of the RAMPS board. Use 5V for powered sensors,
-   // otherwise connect to ground and D32 for normally closed configuration
-   // and 5V and D32 for normally open configurations.
-   // Normally closed configuration is advised and assumed.
-   // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin.
-   // Z_MIN_PROBE_PIN is setting the pin to use on the Arduino.
-   // Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
-   // D32 is currently selected in the RAMPS 1.3/1.4 pin file.
-   // All other boards will need changes to the respective pins_XXXXX.h file.
-   //
-   // WARNING:
-   // Setting the wrong pin may have unexpected and potentially disastrous outcomes.
-   // Use with caution and do your homework.
-   //
-   //#define Z_MIN_PROBE_ENDSTOP
- 
  #endif // AUTO_BED_LEVELING_FEATURE
  
  
@@@ -673,7 -697,7 +696,7 @@@
  // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
 -// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
 +// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  
@@@ -753,8 -777,6 +776,8 @@@
  
  //#define LCD_I2C_SAINSMART_YWROBOT
  
 +//#define LCM1602 // LCM1602 Adapter for 16x2 LCD
 +
  // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
  //
  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )

commit 92a7d4515abe0d7a02d4af0112b125ce2d5d71de
Author: jbrazio <jbrazio@gmail.com>
Date:   Sun Mar 20 23:23:11 2016 +0000

    Missing coma comment correction for the default cofig file

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5c2c357d85..2c4113f6d1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -673,7 +673,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // @section lcd
 
 // Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, bg, it, pt, pt_utf8 pt-br, pt-br_utf8, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
+// en, pl, fr, de, es, ru, bg, it, pt, pt_utf8, pt-br, pt-br_utf8, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
 // See also language.h
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 

commit 68dda08fffc171e1d9e4dad35be7b4945c149006
Author: jbrazio <jbrazio@gmail.com>
Date:   Sun Mar 20 23:14:24 2016 +0000

    Added pt_pt-utf8 language pack; Fixed some minor compiler warnings; Harmonize file suffix for the current existing UTF8 language packs; Updated all configuration files to reflect the new language packs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1d2e8a2800..5c2c357d85 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -673,7 +673,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // @section lcd
 
 // Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
+// en, pl, fr, de, es, ru, bg, it, pt, pt_utf8 pt-br, pt-br_utf8, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
 // See also language.h
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 

commit 468df96b0ff5d3bb3720e16f3f7b6e6dc2466cd2
Author: esenapaj <esenapaj@users.noreply.github.com>
Date:   Sun Mar 20 20:57:14 2016 +0900

    follow-up the commit b82d91e
    
    follow-up the commit b82d91eca69d87334530d874de79d85d06c54c2e

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1d2e8a2800..a16ab17e2d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -130,6 +130,7 @@ Here are some standard links for getting your machine calibrated:
 // 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
 // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
+// 70 is the 100K thermistor found in the bq Hephestos 2
 //
 //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
 //                          (but gives greater accuracy and more stable PID)

commit 32f75749e49409065504293185c1fb59396f3d5d
Merge: 7aafee3003 3166aed087
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Mar 19 23:41:05 2016 -0700

    Merge pull request #3117 from Blue-Marlin/thermal-protection
    
    Improve the descriptions for THERMAL_PROTECTION

diff --combined Marlin/Configuration.h
index 074cafc115,a97357ae1c..1d2e8a2800
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -280,16 -280,15 +280,15 @@@ Here are some standard links for gettin
  //===========================================================================
  
  /**
-  * Thermal Runaway Protection protects your printer from damage and fire if a
+  * Thermal Protection protects your printer from damage and fire if a
   * thermistor falls out or temperature sensors fail in any way.
   *
   * The issue: If a thermistor falls out or a temperature sensor fails,
   * Marlin can no longer sense the actual temperature. Since a disconnected
   * thermistor reads as a low temperature, the firmware will keep the heater on.
   *
-  * The solution: Once the temperature reaches the target, start observing.
-  * If the temperature stays too far below the target (hysteresis) for too long,
-  * the firmware will halt as a safety precaution.
+  * If you get "Thermal Runaway" or "Heating failed" errors the
+  * details can be tuned in Configuration_adv.h
   */
  
  #define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
@@@ -674,7 -673,7 +673,7 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
 -// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
 +// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  
@@@ -754,8 -753,6 +753,8 @@@
  
  //#define LCD_I2C_SAINSMART_YWROBOT
  
 +//#define LCM1602 // LCM1602 Adapter for 16x2 LCD
 +
  // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
  //
  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )

commit 4119cef32f9d98d7b53beeb4245c8067eb9d658b
Merge: da94bcfebb 98392782ea
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Mar 19 20:18:05 2016 -0700

    Merge pull request #3180 from clexpert/RCBugFix
    
    Czech language specific changes

diff --combined Marlin/Configuration.h
index 06d45ffedf,9e173ac8c7..074cafc115
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -674,7 -674,7 +674,7 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
- // en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
+ // en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  
@@@ -754,8 -754,6 +754,8 @@@
  
  //#define LCD_I2C_SAINSMART_YWROBOT
  
 +//#define LCM1602 // LCM1602 Adapter for 16x2 LCD
 +
  // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
  //
  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )

commit eda95d8beda548f5eaffe902ff972b9f1baa5007
Author: CoderSquirrel <CoderSquirrel@users.noreply.github.com>
Date:   Sat Mar 19 18:25:51 2016 -0400

    Add support for LCM1602 16x2 I2C LCD adapter

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bb8b8ba265..06d45ffedf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -754,6 +754,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 //#define LCD_I2C_SAINSMART_YWROBOT
 
+//#define LCM1602 // LCM1602 Adapter for 16x2 LCD
+
 // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 //
 // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )

commit 98392782eaad476a18e6fb49e33e5585f3e36bfe
Author: Petr Zahradnik <clexpert@clexpert.cz>
Date:   Sat Mar 19 20:45:13 2016 +0100

    Update Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bb8b8ba265..9e173ac8c7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -674,7 +674,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // @section lcd
 
 // Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
+// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, cz, test
 // See also language.h
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 

commit 3166aed087ef19bc4678eaa3bff8fca1fc34c44c
Author: Blue-Marlin <Makaira@Marlin-Firmware.org>
Date:   Sat Mar 19 14:08:59 2016 +0100

    Improve the descriptions for THERMAL_PROTECTION

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bb8b8ba265..a97357ae1c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -280,16 +280,15 @@ Here are some standard links for getting your machine calibrated:
 //===========================================================================
 
 /**
- * Thermal Runaway Protection protects your printer from damage and fire if a
+ * Thermal Protection protects your printer from damage and fire if a
  * thermistor falls out or temperature sensors fail in any way.
  *
  * The issue: If a thermistor falls out or a temperature sensor fails,
  * Marlin can no longer sense the actual temperature. Since a disconnected
  * thermistor reads as a low temperature, the firmware will keep the heater on.
  *
- * The solution: Once the temperature reaches the target, start observing.
- * If the temperature stays too far below the target (hysteresis) for too long,
- * the firmware will halt as a safety precaution.
+ * If you get "Thermal Runaway" or "Heating failed" errors the
+ * details can be tuned in Configuration_adv.h
  */
 
 #define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders

commit 3f45a1acf945ada935a3aab284185dd4d67e1726
Author: AnHardt <github@kitelab.de>
Date:   Thu Dec 3 14:19:29 2015 +0100

    Check probes only when deployed
    
    Aim: Test probes in update_endstops only when activated
    
    Changes:
    Configurations
     Add define for FIX_MOUNTED_PROBE to handle the situation where formerly ENDSTOPS_ONLY_FOR_HOMING had to be set, or lowering the nozzle below Z_PROBE_OFFSET_FROM_EXTRUDER could give an "endstop hit" message.
     Add define for Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN to indicate a common situation, that we have a probe but it is connected to an endstop pin
     Add some comments
     Shift some entries to have related things together.
    
    Conditionals.h
     We have a probe (HAS_Z_MIN_PROBE) if one of the pins is defined AND one of the probes is defined.
    
    SanityCheck.h
     Add some tests if the probe is connected and if we have defined a probe.
    
    stepper.cpp
     Changes to test the probe only when it is deployed (z_probe_is_active).
     Test update_endstops() when the probe is deployed.
    
    MarlinMain.cpp
     a. set and reset z_probe_is_active in deploy_z_probe(), stow_z_probe() and dock_sled()
     b. set and reset z_probe_is_active in the case a z-servo is moved to a defined position. The only remaining unhandled servo move is in M280 where we do not end in a defined position. If you want to handle a probe use M401/402
     c. skip deploying/stowing when already deployed/stowed in the dedicated deploy/stow functions.
     d. Handle the new FIX_MOUNTED_PROBE in parallel to a servo driven probe/endstop.
    
     To do: In another PR. handle all probes in deploy/stow_z_probe.
     Sort out SERVO_LEVELING vs. HAS_SERVO_ENDSTOPS.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bb8b8ba265..3dfa8f9a3f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -337,10 +337,52 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 
-// If you want to enable the Z probe pin, but disable its use, uncomment the line below.
-// This only affects a Z probe endstop if you have separate Z min endstop as well and have
-// activated Z_MIN_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z probe,
-// this has no effect.
+//===========================================================================
+//============================= Z Probe Options =============================
+//===========================================================================
+
+// Enable Z_MIN_PROBE_ENDSTOP to use _both_ a Z-probe and a Z-min-endstop on the same machine.
+// With this option the Z_MIN_PROBE_PIN will only be used for probing, never for homing.
+//
+// *** PLEASE READ ALL INSTRUCTIONS BELOW FOR SAFETY! ***
+//
+// To continue using the Z-min-endstop for homing, be sure to disable Z_SAFE_HOMING.
+// Example: To park the head outside the bed area when homing with G28.
+//
+// To use a separate Z probe, your board must define a Z_MIN_PROBE_PIN.
+//
+// For a servo-based Z probe, you must set up servo support below, including
+// NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES.
+//
+// - RAMPS 1.3/1.4 boards may be able to use the 5V, GND, and Aux4->D32 pin.
+// - Use 5V for powered (usu. inductive) sensors.
+// - Otherwise connect:
+//   - normally-closed switches to GND and D32.
+//   - normally-open switches to 5V and D32.
+//
+// Normally-closed switches are advised and are the default.
+//
+// The Z_MIN_PROBE_PIN sets the Arduino pin to use. (See your board's pins file.)
+// Since the RAMPS Aux4->D32 pin maps directly to the Arduino D32 pin, D32 is the
+// default pin for all RAMPS-based boards. Some other boards map differently.
+// To set or change the pin for your board, edit the appropriate pins_XXXXX.h file.
+//
+// WARNING:
+// Setting the wrong pin may have unexpected and potentially disastrous consequences.
+// Use with caution and do your homework.
+//
+//#define Z_MIN_PROBE_ENDSTOP
+
+// Enable Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN to use the Z_MIN_PIN for your Z_MIN_PROBE.
+// The Z_MIN_PIN will then be used for both Z-homing and probing.
+#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN
+
+// To use a probe you must enable one of the two options above!
+
+// This option disables the use of the Z_MIN_PROBE_PIN
+// To enable the Z probe pin but disable its use, uncomment the line below. This only affects a
+// Z probe switch if you have a separate Z min endstop also and have activated Z_MIN_PROBE_ENDSTOP above.
+// If you're using the Z MIN endstop connector for your Z probe, this has no effect.
 //#define DISABLE_Z_MIN_PROBE_ENDSTOP
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@ -521,14 +563,26 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                              // Useful to retract a deployable Z probe.
 
-  //#define Z_PROBE_SLED // Turn on if you have a Z probe mounted on a sled like those designed by Charles Bell.
-  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
+  // Probes are sensors/switches that need to be activated before they can be used
+  // and deactivated after the use.
+  // Allen Key Probes, Servo Probes, Z-Sled Probes, FIX_MOUNTED_PROBE, ... . You have to activate one of these for the AUTO_BED_LEVELING_FEATURE
+
+  // A fix mounted probe, like the normal inductive probe, must be deactivated to go below Z_PROBE_OFFSET_FROM_EXTRUDER
+  // when the hardware endstops are active.
+  //#define FIX_MOUNTED_PROBE
+
+  // A Servo Probe can be defined in the servo section below.
+
+  // An Allen Key Probe is currently predefined only in the delta example configurations.
 
+  //#define Z_PROBE_SLED // Enable if you have a Z probe mounted on a sled like those designed by Charles Bell.
+  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
-  //If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
-  //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
+  // If you've enabled AUTO_BED_LEVELING_FEATURE and are using the Z Probe for Z Homing,
+  // it is highly recommended you leave Z_SAFE_HOMING enabled!
 
-  #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with Z probe outside the bed area.
+  #define Z_SAFE_HOMING   // Use the z-min-probe for homing to z-min - not the z-min-endstop.
+                          // This feature is meant to avoid Z homing with Z probe outside the bed area.
                           // When defined, it will:
                           // - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
                           // - If stepper drivers timeout, it will need X and Y homing again before Z homing.
@@ -542,37 +596,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #endif
 
-  // Support for a dedicated Z probe endstop separate from the Z min endstop.
-  // If you would like to use both a Z probe and a Z min endstop together,
-  // uncomment #define Z_MIN_PROBE_ENDSTOP and read the instructions below.
-  // If you still want to use the Z min endstop for homing, disable Z_SAFE_HOMING above.
-  // Example: To park the head outside the bed area when homing with G28.
-  //
-  // WARNING:
-  // The Z min endstop will need to set properly as it would without a Z probe
-  // to prevent head crashes and premature stopping during a print.
-  //
-  // To use a separate Z probe endstop, you must have a Z_MIN_PROBE_PIN
-  // defined in the pins_XXXXX.h file for your control board.
-  // If you are using a servo based Z probe, you will need to enable NUM_SERVOS,
-  // Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES in the R/C SERVO support below.
-  // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin
-  // in the Aux 4 section of the RAMPS board. Use 5V for powered sensors,
-  // otherwise connect to ground and D32 for normally closed configuration
-  // and 5V and D32 for normally open configurations.
-  // Normally closed configuration is advised and assumed.
-  // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin.
-  // Z_MIN_PROBE_PIN is setting the pin to use on the Arduino.
-  // Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
-  // D32 is currently selected in the RAMPS 1.3/1.4 pin file.
-  // All other boards will need changes to the respective pins_XXXXX.h file.
-  //
-  // WARNING:
-  // Setting the wrong pin may have unexpected and potentially disastrous outcomes.
-  // Use with caution and do your homework.
-  //
-  //#define Z_MIN_PROBE_ENDSTOP
-
 #endif // AUTO_BED_LEVELING_FEATURE
 
 

commit 7ec7bb31c4bcb4d753eae733c2298070d90a5dac
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Mar 7 03:48:14 2016 -0800

    Send a Busy signal to hosts during long processes, wait for input, etc
    
    If Marlin is blocking the serial input or command queue for any length
    of time (for example more than 2 seconds), it needs to send a message
    to serial out to inform the host that it is busy. Marlin should only
    send these messages out when busy, and preferably not when trying to
    print formatted output.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c7f9ae095c..bb8b8ba265 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -646,6 +646,14 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   #define EEPROM_CHITCHAT // Please keep turned on if you can.
 #endif
 
+//
+// Host Keepalive
+//
+// By default Marlin will send a busy status message to the host
+// every 2 seconds when it can't accept commands.
+//
+//#define DISABLE_HOST_KEEPALIVE // Enable this option if your host doesn't like keepalive messages.
+
 //
 // M100 Free Memory Watcher
 //

commit b8b51d8da883183d968a6c242a6b67bf4e46b42d
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Mar 9 00:31:47 2016 -0800

    Add the REVERSE_MENU_DIRECTION option

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 930bb5cd01..c7f9ae095c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -685,6 +685,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define SD_CHECK_AND_RETRY // Use CRC checks and retries on the SD communication
 //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
+//#define REVERSE_MENU_DIRECTION // When enabled CLOCKWISE moves UP in the LCD menu
 //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 //#define ULTIPANEL  //the UltiPanel as on Thingiverse
 //#define SPEAKER // The sound device is a speaker - not a buzzer. A buzzer resonates with his own frequency.

commit 1c384930f324c25f0f88124ff146f072cb8cecff
Merge: ff30a18d9c f9ded2a7c4
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Mar 15 00:25:34 2016 -0700

    Merge pull request #3140 from thinkyhead/rc_fix_macro_expansion
    
    Wrap macros to prevent bad expansions

diff --combined Marlin/Configuration.h
index d334f9e87e,26d81837ad..930bb5cd01
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -110,7 -110,6 +110,7 @@@ Here are some standard links for gettin
  //--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
  //
  //// Temperature sensor settings:
 +// -3 is thermocouple with MAX31855 (only for sensor 0)
  // -2 is thermocouple with MAX6675 (only for sensor 0)
  // -1 is thermocouple with AD595
  // 0 is not used
@@@ -145,7 -144,7 +145,7 @@@
  //     Use it for Testing or Development purposes. NEVER for production machine.
  //#define DUMMY_THERMISTOR_998_VALUE 25
  //#define DUMMY_THERMISTOR_999_VALUE 100
 -// :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
 +// :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-3': "Thermocouple + MAX31855 (only for sensor 0)", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
  #define TEMP_SENSOR_0 1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
@@@ -423,9 -422,9 +423,9 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  
  #if ENABLED(MESH_BED_LEVELING)
    #define MESH_MIN_X 10
-   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
+   #define MESH_MAX_X (X_MAX_POS - (MESH_MIN_X))
    #define MESH_MIN_Y 10
-   #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
+   #define MESH_MAX_Y (Y_MAX_POS - (MESH_MIN_Y))
    #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited.
    #define MESH_NUM_Y_POINTS 3
    #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.
@@@ -852,21 -851,19 +852,21 @@@
  // Uncomment below to enable
  //#define FILAMENT_SENSOR
  
 -#define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
 -#define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 -
  #define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
 -#define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
 -#define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
 -#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm) - limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
  
 -//defines used in the code
 -#define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
 +#if ENABLED(FILAMENT_SENSOR)
 +  #define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
 +  #define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 +
 +  #define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
 +  #define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
 +  #define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
  
 -//When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
 -//#define FILAMENT_LCD_DISPLAY
 +  #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
 +
 +  //When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
 +  //#define FILAMENT_LCD_DISPLAY
 +#endif
  
  #include "Configuration_adv.h"
  #include "thermistortables.h"

commit 30c3a21d1f572c194983d191a99ddabebb164a36
Merge: 81d759efb6 27f244ba2c
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Mar 13 03:30:48 2016 -0700

    Merge pull request #3112 from thinkyhead/rc_support_MAX31855

diff --combined Marlin/Configuration.h
index 5fc6c4c9fb,8259b9b731..d334f9e87e
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -110,6 -110,7 +110,7 @@@ Here are some standard links for gettin
  //--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
  //
  //// Temperature sensor settings:
+ // -3 is thermocouple with MAX31855 (only for sensor 0)
  // -2 is thermocouple with MAX6675 (only for sensor 0)
  // -1 is thermocouple with AD595
  // 0 is not used
@@@ -144,7 -145,7 +145,7 @@@
  //     Use it for Testing or Development purposes. NEVER for production machine.
  //#define DUMMY_THERMISTOR_998_VALUE 25
  //#define DUMMY_THERMISTOR_999_VALUE 100
- // :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
+ // :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-3': "Thermocouple + MAX31855 (only for sensor 0)", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
  #define TEMP_SENSOR_0 1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
@@@ -851,21 -852,19 +852,21 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  // Uncomment below to enable
  //#define FILAMENT_SENSOR
  
 -#define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
 -#define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 -
  #define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
 -#define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
 -#define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
 -#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm) - limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
  
 -//defines used in the code
 -#define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
 +#if ENABLED(FILAMENT_SENSOR)
 +  #define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
 +  #define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 +
 +  #define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
 +  #define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
 +  #define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
  
 -//When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
 -//#define FILAMENT_LCD_DISPLAY
 +  #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
 +
 +  //When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
 +  //#define FILAMENT_LCD_DISPLAY
 +#endif
  
  #include "Configuration_adv.h"
  #include "thermistortables.h"

commit f9ded2a7c495b36cf191cd6da8a0d3506af93a4e
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Mar 12 22:38:55 2016 -0800

    Wrap macros to prevent bad expansions

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 39e2bf9ef3..26d81837ad 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -422,9 +422,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 #if ENABLED(MESH_BED_LEVELING)
   #define MESH_MIN_X 10
-  #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
+  #define MESH_MAX_X (X_MAX_POS - (MESH_MIN_X))
   #define MESH_MIN_Y 10
-  #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
+  #define MESH_MAX_Y (Y_MAX_POS - (MESH_MIN_Y))
   #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited.
   #define MESH_NUM_Y_POINTS 3
   #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.

commit 27f244ba2cb511c9309c55b56a632130f310aa6c
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Mar 8 06:58:11 2016 -0800

    Support MAX31855 as Temperature Sensor -3

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 39e2bf9ef3..8259b9b731 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -110,6 +110,7 @@ Here are some standard links for getting your machine calibrated:
 //--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
 //
 //// Temperature sensor settings:
+// -3 is thermocouple with MAX31855 (only for sensor 0)
 // -2 is thermocouple with MAX6675 (only for sensor 0)
 // -1 is thermocouple with AD595
 // 0 is not used
@@ -144,7 +145,7 @@ Here are some standard links for getting your machine calibrated:
 //     Use it for Testing or Development purposes. NEVER for production machine.
 //#define DUMMY_THERMISTOR_998_VALUE 25
 //#define DUMMY_THERMISTOR_999_VALUE 100
-// :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
+// :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-3': "Thermocouple + MAX31855 (only for sensor 0)", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0

commit ce639b8b035083fa772834314e87902c77dd5e17
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Mar 10 02:41:37 2016 -0800

    Group FILAMENT_SENSOR options together

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 39e2bf9ef3..5fc6c4c9fb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -851,19 +851,21 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Uncomment below to enable
 //#define FILAMENT_SENSOR
 
-#define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
-#define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
-
 #define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
-#define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
-#define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
-#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm) - limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 
-//defines used in the code
-#define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
+#if ENABLED(FILAMENT_SENSOR)
+  #define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
+  #define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
+
+  #define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
+  #define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
+  #define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 
-//When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
-//#define FILAMENT_LCD_DISPLAY
+  #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
+
+  //When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
+  //#define FILAMENT_LCD_DISPLAY
+#endif
 
 #include "Configuration_adv.h"
 #include "thermistortables.h"

commit fd5414c6ea9499333d8c9b5159dc8e301e4dde7c
Author: AnHardt <github@kitelab.de>
Date:   Tue Mar 8 17:50:23 2016 +0100

    Z_RAISE_BEFORE_HOMING -> MIN_Z_HEIGHT_FOR_HOMING
    
    rebased
    corrected spelling
    changed to #elif for error
    
    Still with MIN_Z_HEIGHT_FOR_HOMING but con be done with (folder wide) search-replace when we have a better name.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 26aefa3e8a..39e2bf9ef3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -378,6 +378,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define INVERT_E3_DIR false
 
 // @section homing
+//#define MIN_Z_HEIGHT_FOR_HOMING 4 // (in mm) Minimal z height before homing (G28) for Z clearance above the bed, clamps, ...
+                                    // Be sure you have this distance over your Z_MAX_POS in case.
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -509,9 +511,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Z offset: -front [of the nozzle] +behind
   #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below [the nozzle] (always negative!)
 
-  #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z axis before homing (G28) for Z probe clearance.
-                                        // Be sure you have this distance over your Z_MAX_POS in case.
-
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
 
   #define Z_RAISE_BEFORE_PROBING 15   // How much the Z axis will be raised before traveling to the first probing point.

commit cf792fd8d8361b1b202ea9ddc4ecb0735376da23
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Feb 28 23:23:17 2016 -0800

    Update configurations to use RAMPS 1.4

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 80f42a31fd..26aefa3e8a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -70,7 +70,7 @@ Here are some standard links for getting your machine calibrated:
 // The following define selects which electronics board you have.
 // Please choose the name from boards.h that matches your setup
 #ifndef MOTHERBOARD
-  #define MOTHERBOARD BOARD_RAMPS_13_EFB
+  #define MOTHERBOARD BOARD_RAMPS_14_EFB
 #endif
 
 // Optional custom name for your RepStrap or other custom machine

commit 13ef12ad3fdde8a146adc4c250b47dc45e34222f
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Mar 6 02:01:29 2016 -0800

    Fix power calculations
    
    As suggested by @max-pau in #3073 - #3074

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 986dcc8aea..80f42a31fd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -179,8 +179,8 @@ Here are some standard links for getting your machine calibrated:
 #define BED_MAXTEMP 150
 
 // If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS
-//#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R
-//#define BED_WATTS (12.0*12.0/1.1)      // P=I^2/R
+//#define EXTRUDER_WATTS (12.0*12.0/6.7) // P=U^2/R
+//#define BED_WATTS (12.0*12.0/1.1)      // P=U^2/R
 
 //===========================================================================
 //============================= PID Settings ================================

commit 143ad74db70a363d977a2ef67b00cf22252eb1d8
Author: jbrazio <jbrazio@gmail.com>
Date:   Mon Feb 29 11:27:09 2016 +0000

    Update PROBE_OFFSET_FROM_EXTRUDER comment section in all example config
    files.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7de3c46a6e..986dcc8aea 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -488,26 +488,23 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #endif // AUTO_BED_LEVELING_GRID
 
- /*
-  * Z Probe to nozzle (X,Y) offset, relative to (0, 0).
-  * X and Y offsets must be integers.
-  *
-  * In the following example the X and Y offsets are both positive:
-  * #define X_PROBE_OFFSET_FROM_EXTRUDER 10
-  * #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
-  *
-  *   +-- BACK ---+
-  *   |           |
-  * L |    (+) P  | R <-- probe (20,20)
-  * E |           | I
-  * F | (-) N (+) | G <-- nozzle (10,10)
-  * T |           | H
-  *   |    (-)    | T
-  *   |           |
-  *   O-- FRONT --+
-  * (0,0)
-  *
-  */
+  // Z Probe to nozzle (X,Y) offset, relative to (0, 0).
+  // X and Y offsets must be integers.
+  //
+  // In the following example the X and Y offsets are both positive:
+  // #define X_PROBE_OFFSET_FROM_EXTRUDER 10
+  // #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
+  //
+  //    +-- BACK ---+
+  //    |           |
+  //  L |    (+) P  | R <-- probe (20,20)
+  //  E |           | I
+  //  F | (-) N (+) | G <-- nozzle (10,10)
+  //  T |           | H
+  //    |    (-)    | T
+  //    |           |
+  //    O-- FRONT --+
+  //  (0,0)
   #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  [of the nozzle] +right
   #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Z offset: -front [of the nozzle] +behind
   #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below [the nozzle] (always negative!)

commit b0f5ba02327c034c7f28c0a88211700aaf3086a4
Author: jbrazio <jbrazio@gmail.com>
Date:   Sun Feb 28 18:25:47 2016 +0000

    Update the PROBE_OFFSET_FROM_EXTRUDE comment section
    This changes have being discussed at MarlinFirmware/Marlin#2849.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a1d78c5839..7de3c46a6e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -488,11 +488,29 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #endif // AUTO_BED_LEVELING_GRID
 
-  // Offsets to the Z probe relative to the nozzle tip.
-  // X and Y offsets must be integers.
-  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Z probe to nozzle X offset: -left  +right
-  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Z probe to nozzle Y offset: -front +behind
-  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // Z probe to nozzle Z offset: -below (always!)
+ /*
+  * Z Probe to nozzle (X,Y) offset, relative to (0, 0).
+  * X and Y offsets must be integers.
+  *
+  * In the following example the X and Y offsets are both positive:
+  * #define X_PROBE_OFFSET_FROM_EXTRUDER 10
+  * #define Y_PROBE_OFFSET_FROM_EXTRUDER 10
+  *
+  *   +-- BACK ---+
+  *   |           |
+  * L |    (+) P  | R <-- probe (20,20)
+  * E |           | I
+  * F | (-) N (+) | G <-- nozzle (10,10)
+  * T |           | H
+  *   |    (-)    | T
+  *   |           |
+  *   O-- FRONT --+
+  * (0,0)
+  *
+  */
+  #define X_PROBE_OFFSET_FROM_EXTRUDER 10  // X offset: -left  [of the nozzle] +right
+  #define Y_PROBE_OFFSET_FROM_EXTRUDER 10  // Z offset: -front [of the nozzle] +behind
+  #define Z_PROBE_OFFSET_FROM_EXTRUDER 0   // Z offset: -below [the nozzle] (always negative!)
 
   #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z axis before homing (G28) for Z probe clearance.
                                         // Be sure you have this distance over your Z_MAX_POS in case.

commit e7cf85b9227d528c74e2af4cdfaae3ee2ff927e4
Merge: 6e64895c30 c2e5c6c12c
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Mar 6 00:30:02 2016 -0800

    Merge pull request #3013 from thinkyhead/esenapaj-patch-1
    
    Enhanced #3010 - formal Mesh/Manual dependency

diff --combined Marlin/Configuration.h
index 326db465ee,126e4adea6..a1d78c5839
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -248,13 -248,13 +248,13 @@@ Here are some standard links for gettin
  
    #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
  
 -  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 +  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
    //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
    #define  DEFAULT_bedKp 10.00
    #define  DEFAULT_bedKi .023
    #define  DEFAULT_bedKd 305.4
  
 -  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 +  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
    //from pidautotune
    //#define  DEFAULT_bedKp 97.1
    //#define  DEFAULT_bedKi 1.41
@@@ -349,13 -349,11 +349,13 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  #define Z_ENABLE_ON 0
  #define E_ENABLE_ON 0 // For all extruders
  
 -// Disables axis when it's not being used.
 +// Disables axis stepper immediately when it's not being used.
  // WARNING: When motors turn off there is a chance of losing position accuracy!
  #define DISABLE_X false
  #define DISABLE_Y false
  #define DISABLE_Z false
 +// Warn on display about possibly reduced accuracy
 +//#define DISABLE_REDUCED_ACCURACY_WARNING
  
  // @section extruder
  
@@@ -413,16 -411,11 +413,11 @@@
  #endif
  
  //===========================================================================
- //=========================== Manual Bed Leveling ===========================
+ //============================ Mesh Bed Leveling ============================
  //===========================================================================
  
- //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
  //#define MESH_BED_LEVELING    // Enable mesh bed leveling.
  
- #if ENABLED(MANUAL_BED_LEVELING)
-   #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
- #endif  // MANUAL_BED_LEVELING
- 
  #if ENABLED(MESH_BED_LEVELING)
    #define MESH_MIN_X 10
    #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
@@@ -431,6 -424,13 +426,13 @@@
    #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited.
    #define MESH_NUM_Y_POINTS 3
    #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.
+ 
+   //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
+ 
+   #if ENABLED(MANUAL_BED_LEVELING)
+     #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
+   #endif  // MANUAL_BED_LEVELING
+ 
  #endif  // MESH_BED_LEVELING
  
  //===========================================================================
@@@ -453,7 -453,7 +455,7 @@@
    //   This mode is preferred because there are more measurements.
    //
    // - "3-point" mode
 -  //   Probe 3 arbitrary points on the bed (that aren't colinear)
 +  //   Probe 3 arbitrary points on the bed (that aren't collinear)
    //   You specify the XY coordinates of all 3 points.
  
    // Enable this to sample the bed in a grid (least squares solution).
@@@ -753,7 -753,7 +755,7 @@@
  
  // @section extras
  
 -// Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 +// Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
  // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
@@@ -841,7 -841,7 +843,7 @@@
  #define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
  #define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
  #define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
 -#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 +#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm) - limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
  
  //defines used in the code
  #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially

commit eb85342fd98b48b21801c045cfc72fc54c36186f
Merge: 14f3ca1b2e f27c2b6b4b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Mar 5 21:30:17 2016 -0800

    Merge pull request #2989 from AnHardt/fix2661
    
    Pre home display - Stepper release

diff --combined Marlin/Configuration.h
index 939a99e306,39145a388f..326db465ee
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -248,13 -248,13 +248,13 @@@ Here are some standard links for gettin
  
    #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
  
 -  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 +  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
    //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
    #define  DEFAULT_bedKp 10.00
    #define  DEFAULT_bedKi .023
    #define  DEFAULT_bedKd 305.4
  
 -  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 +  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
    //from pidautotune
    //#define  DEFAULT_bedKp 97.1
    //#define  DEFAULT_bedKi 1.41
@@@ -349,11 -349,13 +349,13 @@@ const bool Z_MIN_PROBE_ENDSTOP_INVERTIN
  #define Z_ENABLE_ON 0
  #define E_ENABLE_ON 0 // For all extruders
  
- // Disables axis when it's not being used.
+ // Disables axis stepper immediately when it's not being used.
  // WARNING: When motors turn off there is a chance of losing position accuracy!
  #define DISABLE_X false
  #define DISABLE_Y false
  #define DISABLE_Z false
+ // Warn on display about possibly reduced accuracy
+ //#define DISABLE_REDUCED_ACCURACY_WARNING
  
  // @section extruder
  
@@@ -451,7 -453,7 +453,7 @@@
    //   This mode is preferred because there are more measurements.
    //
    // - "3-point" mode
 -  //   Probe 3 arbitrary points on the bed (that aren't colinear)
 +  //   Probe 3 arbitrary points on the bed (that aren't collinear)
    //   You specify the XY coordinates of all 3 points.
  
    // Enable this to sample the bed in a grid (least squares solution).
@@@ -751,7 -753,7 +753,7 @@@
  
  // @section extras
  
 -// Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 +// Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
  // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
@@@ -839,7 -841,7 +841,7 @@@
  #define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
  #define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
  #define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
 -#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 +#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm) - limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
  
  //defines used in the code
  #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially

commit 772460a7b810f5fe9b3a138c01fdfec40f2c0280
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Mar 5 20:41:15 2016 -0800

    Various minor spelling corrections
    
    Redo of #2939 rebased against RCBugFix

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f2b5ba95e9..939a99e306 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -248,13 +248,13 @@ Here are some standard links for getting your machine calibrated:
 
   #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
 
-  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
   //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
   #define  DEFAULT_bedKp 10.00
   #define  DEFAULT_bedKi .023
   #define  DEFAULT_bedKd 305.4
 
-  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  //120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
   //from pidautotune
   //#define  DEFAULT_bedKp 97.1
   //#define  DEFAULT_bedKi 1.41
@@ -451,7 +451,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //   This mode is preferred because there are more measurements.
   //
   // - "3-point" mode
-  //   Probe 3 arbitrary points on the bed (that aren't colinear)
+  //   Probe 3 arbitrary points on the bed (that aren't collinear)
   //   You specify the XY coordinates of all 3 points.
 
   // Enable this to sample the bed in a grid (least squares solution).
@@ -751,7 +751,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // @section extras
 
-// Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
+// Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 
 // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
@@ -839,7 +839,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
 #define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
 #define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
-#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
+#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm) - limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 
 //defines used in the code
 #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially

commit 615bec2329d14b371ad57dbe2bd3aaec0138a91c
Author: AnHardt <github@kitelab.de>
Date:   Wed Nov 4 14:19:33 2015 +0100

    Activate warning about possible reduced accuracy by default
    
    Renamed `WARN_REDUCED_ACCURACY` to `DISABLE_REDUCED_ACCURACY_WARNING`
    
    Changed the condition for blinking from
    ```
    #if ENABLED(WARN_REDUCED_ACCURACY)
    ```
    to
    ```
    #if DISABLED(DISABLE_REDUCED_ACCURACY_WARNING)
    ```

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 23f155c834..39145a388f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -355,7 +355,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define DISABLE_Y false
 #define DISABLE_Z false
 // Warn on display about possibly reduced accuracy
-//#define WARN_REDUCED_ACCURACY
+//#define DISABLE_REDUCED_ACCURACY_WARNING
 
 // @section extruder
 

commit 5b0f659355c45f8d6859b98c4ebdc1a639c9bdc8
Author: AnHardt <github@kitelab.de>
Date:   Sun Feb 28 23:19:32 2016 +0100

    Changes for graphics displays
    
    Replaced displaying "---" instead of the value of a coordinate when
    unhomed or with reduced precision
    with blinking the coordinate-prefix-character ('X','Y','Z').
    For "unhomed" a '?' is shown every second second - until that axis is
    homed. The value displayed is, as before the "---" where displayed, the
    relative to the reset position coordinate value.
    When the axis stepper was disabled, now we can display a hint on that,
    by showing a blinking ' ' instead of the axis letter, when
    WARN_REDUCED_ACCURACY is defined.
    
    I suppose the code itself is here the better documentation.
    
    A '+/-' character is in non of our charsets so i decided for a '?' for
    now to reduce the work.
    There is no additional space on the displays one could use to display
    the information, so replacing something is the only option. As the axis
    letters are totally redundant with their positions on the display they
    contain the least information.
    So my decision was to overwrite them.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 663bd76d38..23f155c834 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -349,11 +349,13 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define Z_ENABLE_ON 0
 #define E_ENABLE_ON 0 // For all extruders
 
-// Disables axis stepper immediately  when it's not being used.
+// Disables axis stepper immediately when it's not being used.
 // WARNING: When motors turn off there is a chance of losing position accuracy!
 #define DISABLE_X false
 #define DISABLE_Y false
 #define DISABLE_Z false
+// Warn on display about possibly reduced accuracy
+//#define WARN_REDUCED_ACCURACY
 
 // @section extruder
 

commit b6e69e71cec45b2d238c2e3097bb8dc702166440
Author: AnHardt <github@kitelab.de>
Date:   Sun Feb 28 15:50:50 2016 +0100

    Make stepper shutdown after inactivity dependent
    
    Make stepper shutdown after inactivity dependent on a new set of
    #defines.
    DISABLE_INACTIV_X
    DISABLE_INACTIV_Y
    DISABLE_INACTIV_Z
    DISABLE_INACTIV_E
    
    And make exemplaric Configuration.
    Names can be discussed.
    
    This makes the disabling of the steppers independent from the DISABLE_?
    settings witch shut down the steppers immediately.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f2b5ba95e9..663bd76d38 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -349,7 +349,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #define Z_ENABLE_ON 0
 #define E_ENABLE_ON 0 // For all extruders
 
-// Disables axis when it's not being used.
+// Disables axis stepper immediately  when it's not being used.
 // WARNING: When motors turn off there is a chance of losing position accuracy!
 #define DISABLE_X false
 #define DISABLE_Y false

commit c2e5c6c12c08d822a4a122a6e9c0fd44b5aa4a42
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Feb 20 20:24:22 2016 -0800

    Nest Manual Bed Leveling options
    
    This formalizes the dependency of MANUAL_BED_LEVELING on
    MESH_BED_LEVELING

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f2b5ba95e9..126e4adea6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -411,16 +411,11 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 #endif
 
 //===========================================================================
-//=========================== Manual Bed Leveling ===========================
+//============================ Mesh Bed Leveling ============================
 //===========================================================================
 
-//#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
 //#define MESH_BED_LEVELING    // Enable mesh bed leveling.
 
-#if ENABLED(MANUAL_BED_LEVELING)
-  #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
-#endif  // MANUAL_BED_LEVELING
-
 #if ENABLED(MESH_BED_LEVELING)
   #define MESH_MIN_X 10
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
@@ -429,6 +424,13 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited.
   #define MESH_NUM_Y_POINTS 3
   #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.
+
+  //#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
+
+  #if ENABLED(MANUAL_BED_LEVELING)
+    #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
+  #endif  // MANUAL_BED_LEVELING
+
 #endif  // MESH_BED_LEVELING
 
 //===========================================================================

commit b19b2721724ac6de18b7af101e780be7fce46b88
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Feb 6 21:17:17 2016 -0800

    Update configurations with SPI_SPEED
    
    - Include aligned comment about new SDSUPPORT behavior

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 61712921fd..f2b5ba95e9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -661,9 +661,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define ULTRA_LCD  //general LCD support, also 16x2
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
-// Changed behaviour! If you need SDSUPPORT uncomment it!
-//#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
-//#define SDEXTRASLOW // Use even slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
+                    // Changed behaviour! If you need SDSUPPORT uncomment it!
+//#define SPI_SPEED SPI_HALF_SPEED // (also SPI_QUARTER_SPEED, SPI_EIGHTH_SPEED) Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 //#define SD_CHECK_AND_RETRY // Use CRC checks and retries on the SD communication
 //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking

commit 159ff94afdb6c3def7b1ae583dc3b9a9baf5b746
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Feb 7 02:07:21 2016 -0800

    Remove obsolete HEATER_BED_DUTY_CYCLE_DIVIDER #2977

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b7f8f4f1df..61712921fd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -178,11 +178,6 @@ Here are some standard links for getting your machine calibrated:
 #define HEATER_3_MAXTEMP 275
 #define BED_MAXTEMP 150
 
-// If your bed has low resistance e.g. .6 ohm and throws the fuse you can duty cycle it to reduce the
-// average current. The value should be an integer and the heat bed will be turned on for 1 interval of
-// HEATER_BED_DUTY_CYCLE_DIVIDER intervals.
-//#define HEATER_BED_DUTY_CYCLE_DIVIDER 4
-
 // If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS
 //#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R
 //#define BED_WATTS (12.0*12.0/1.1)      // P=I^2/R

commit 1635613c255ae87a88ede49cf05ff03bc7b65794
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Thu Dec 10 06:22:26 2015 -0600

    Backport cosmetic

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5838943898..b7f8f4f1df 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -478,14 +478,14 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #else  // !AUTO_BED_LEVELING_GRID
 
-      // Arbitrary points to probe.
-      // A simple cross-product is used to estimate the plane of the bed.
-      #define ABL_PROBE_PT_1_X 15
-      #define ABL_PROBE_PT_1_Y 180
-      #define ABL_PROBE_PT_2_X 15
-      #define ABL_PROBE_PT_2_Y 20
-      #define ABL_PROBE_PT_3_X 170
-      #define ABL_PROBE_PT_3_Y 20
+    // Arbitrary points to probe.
+    // A simple cross-product is used to estimate the plane of the bed.
+    #define ABL_PROBE_PT_1_X 15
+    #define ABL_PROBE_PT_1_Y 180
+    #define ABL_PROBE_PT_2_X 15
+    #define ABL_PROBE_PT_2_Y 20
+    #define ABL_PROBE_PT_3_X 170
+    #define ABL_PROBE_PT_3_Y 20
 
   #endif // AUTO_BED_LEVELING_GRID
 
@@ -504,8 +504,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
   #define Z_RAISE_AFTER_PROBING 15    // How much the Z axis will be raised after the last probing point.
 
-//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
-                                                                            // Useful to retract a deployable Z probe.
+  //#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
+                                                                             // Useful to retract a deployable Z probe.
 
   //#define Z_PROBE_SLED // Turn on if you have a Z probe mounted on a sled like those designed by Charles Bell.
   //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.

commit e7b40bbe988927a84d6f76eb1a2294bc09e704c4
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Thu Dec 10 05:59:36 2015 -0600

    Change link to U8glib source

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c4fa028cec..5838943898 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -688,13 +688,13 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // The Panucatt Devices Viki 2.0 and mini Viki with Graphic LCD
 // http://panucatt.com
-// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: https://github.com/olikraus/U8glib_Arduino
 //#define VIKI2
 //#define miniVIKI
 
 // This is a new controller currently under development.  https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
 //
-// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: https://github.com/olikraus/U8glib_Arduino
 //#define ELB_FULL_GRAPHIC_CONTROLLER
 //#define SD_DETECT_INVERTED
 
@@ -709,7 +709,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // The RepRapDiscount FULL GRAPHIC Smart Controller (quadratic white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 //
-// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: https://github.com/olikraus/U8glib_Arduino
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
 // The RepRapWorld REPRAPWORLD_KEYPAD v1.1
@@ -743,9 +743,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 //#define LCD_I2C_VIKI
-  
+
 // SSD1306 OLED generic display support
-// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: https://github.com/olikraus/U8glib_Arduino
 //#define U8GLIB_SSD1306
 
 // Shift register panels

commit 9b23490f01307316bb8453ff2473249c8ae38be2
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Oct 13 03:47:49 2015 -0700

    Clean up spacing in configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5da249fcc5..c4fa028cec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -853,11 +853,6 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
 //#define FILAMENT_LCD_DISPLAY
 
-
-
-
-
-
 #include "Configuration_adv.h"
 #include "thermistortables.h"
 

commit 0ad25c6665ee8af0c0532a1c8d43c1236c2d2e69
Author: KiteLab <KiteLab@users.noreply.github.com>
Date:   Tue Sep 22 20:47:23 2015 +0200

    Hint for changed behaviour of SDSUPPORT

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e209b18e2e..5da249fcc5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -666,6 +666,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define ULTRA_LCD  //general LCD support, also 16x2
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
+// Changed behaviour! If you need SDSUPPORT uncomment it!
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 //#define SDEXTRASLOW // Use even slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 //#define SD_CHECK_AND_RETRY // Use CRC checks and retries on the SD communication

commit e01f5e1ef7652973ddce84ca0c6655e7fc38378f
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Tue Sep 15 12:36:08 2015 -0500

    Cleanup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7c1009e09c..e209b18e2e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -75,11 +75,11 @@ Here are some standard links for getting your machine calibrated:
 
 // Optional custom name for your RepStrap or other custom machine
 // Displayed in the LCD "Ready" message
-// #define CUSTOM_MACHINE_NAME "3D Printer"
+//#define CUSTOM_MACHINE_NAME "3D Printer"
 
 // Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
 // You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)
-// #define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
+//#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
 // This defines the number of extruders
 // :[1,2,3,4]
@@ -142,8 +142,8 @@ Here are some standard links for getting your machine calibrated:
 // 110 is Pt100 with 1k pullup (non standard)
 // 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below.
 //     Use it for Testing or Development purposes. NEVER for production machine.
-//     #define DUMMY_THERMISTOR_998_VALUE 25
-//     #define DUMMY_THERMISTOR_999_VALUE 100
+//#define DUMMY_THERMISTOR_998_VALUE 25
+//#define DUMMY_THERMISTOR_999_VALUE 100
 // :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
@@ -321,13 +321,13 @@ Here are some standard links for getting your machine calibrated:
 
 #if DISABLED(ENDSTOPPULLUPS)
   // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
-  // #define ENDSTOPPULLUP_XMAX
-  // #define ENDSTOPPULLUP_YMAX
-  // #define ENDSTOPPULLUP_ZMAX
-  // #define ENDSTOPPULLUP_XMIN
-  // #define ENDSTOPPULLUP_YMIN
-  // #define ENDSTOPPULLUP_ZMIN
-  // #define ENDSTOPPULLUP_ZMIN_PROBE
+  //#define ENDSTOPPULLUP_XMAX
+  //#define ENDSTOPPULLUP_YMAX
+  //#define ENDSTOPPULLUP_ZMAX
+  //#define ENDSTOPPULLUP_XMIN
+  //#define ENDSTOPPULLUP_YMIN
+  //#define ENDSTOPPULLUP_ZMIN
+  //#define ENDSTOPPULLUP_ZMIN_PROBE
 #endif
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
@@ -419,8 +419,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //=========================== Manual Bed Leveling ===========================
 //===========================================================================
 
-// #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
-// #define MESH_BED_LEVELING    // Enable mesh bed leveling.
+//#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
+//#define MESH_BED_LEVELING    // Enable mesh bed leveling.
 
 #if ENABLED(MANUAL_BED_LEVELING)
   #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
@@ -504,7 +504,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
   #define Z_RAISE_AFTER_PROBING 15    // How much the Z axis will be raised after the last probing point.
 
-//   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
+//#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
                                                                             // Useful to retract a deployable Z probe.
 
   //#define Z_PROBE_SLED // Turn on if you have a Z probe mounted on a sled like those designed by Charles Bell.
@@ -723,7 +723,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // The MakerLab Mini Panel with graphic controller and SD support
 // http://reprap.org/wiki/Mini_panel
-// #define MINIPANEL
+//#define MINIPANEL
 
 /**
  * I2C Panels
@@ -777,7 +777,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // M240  Triggers a camera by emulating a Canon RC-1 Remote
 // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
-// #define PHOTOGRAPH_PIN     23
+//#define PHOTOGRAPH_PIN     23
 
 // SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX

commit 5e36b646351425d24a20850606bd478bb7e17970
Author: Mike Cochrane <mikec@mikenz.geek.nz>
Date:   Mon Sep 14 01:18:26 2015 +1200

    SDEXTRASLOW for some SD card readers (PR#176)
    
    Add SDEXTRASLOW which runs the SD card at SPI_QUARTER_SPEED. Quarter speed is needed for RIGIDBOT_PANEL

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6b3dd0d7e6..7c1009e09c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -667,6 +667,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
+//#define SDEXTRASLOW // Use even slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 //#define SD_CHECK_AND_RETRY // Use CRC checks and retries on the SD communication
 //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking

commit 20b47721553f0be3554b7143270dec4a809127d6
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Wed Aug 5 06:40:36 2015 -0500

    Create DEBUG_LEVELING_FEATURE

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bc972625b8..6b3dd0d7e6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -510,8 +510,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //#define Z_PROBE_SLED // Turn on if you have a Z probe mounted on a sled like those designed by Charles Bell.
   //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
-// If you have enabled the bed auto leveling and are using the same Z probe for Z homing,
-// it is highly recommended you let this Z_SAFE_HOMING enabled!!!
+
+  //If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
+  //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 
   #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with Z probe outside the bed area.
                           // When defined, it will:

commit 6292d9e8155fd7372fa2019881c270911763dd34
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Wed Aug 5 07:12:26 2015 -0500

    Rename ENABLE_AUTO_BED_LEVELING
    
    With the introduction of the #if ENABLED(‚Ä¶)
    
    reads better than

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 772683877d..bc972625b8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -442,10 +442,11 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // @section bedlevel
 
-//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line).
-#define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z probe repeatability test will be included if auto bed leveling is enabled.
+//#define AUTO_BED_LEVELING_FEATURE // Delete the comment to enable (remove // at the start of the line)
+//#define DEBUG_LEVELING_FEATURE
+#define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
 
-#if ENABLED(ENABLE_AUTO_BED_LEVELING)
+#if ENABLED(AUTO_BED_LEVELING_FEATURE)
 
   // There are 2 different ways to specify probing locations:
   //
@@ -557,7 +558,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //
   //#define Z_MIN_PROBE_ENDSTOP
 
-#endif // ENABLE_AUTO_BED_LEVELING
+#endif // AUTO_BED_LEVELING_FEATURE
 
 
 // @section homing
@@ -608,7 +609,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Custom M code points
 #define CUSTOM_M_CODES
 #if ENABLED(CUSTOM_M_CODES)
-  #if ENABLED(ENABLE_AUTO_BED_LEVELING)
+  #if ENABLED(AUTO_BED_LEVELING_FEATURE)
     #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
     #define Z_PROBE_OFFSET_RANGE_MIN -20
     #define Z_PROBE_OFFSET_RANGE_MAX 20

commit 9897a9147c7f6aea4ea7318bbc1ebd21af40a52b
Author: Christian LefrancÃßois <clefranc@diffusionfermont.ca>
Date:   Thu Aug 20 10:07:55 2015 -0400

    Update ABL comments  (PR#95)
    
    * Updates the auto bed leveling comments ONLY.
    * Renames "Z probe" word usage in //comments and #errors properly.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 827cfd2cee..772683877d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -341,9 +341,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 
-// If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
-// This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
-// activated Z_MIN_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
+// If you want to enable the Z probe pin, but disable its use, uncomment the line below.
+// This only affects a Z probe endstop if you have separate Z min endstop as well and have
+// activated Z_MIN_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z probe,
 // this has no effect.
 //#define DISABLE_Z_MIN_PROBE_ENDSTOP
 
@@ -419,11 +419,11 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 //=========================== Manual Bed Leveling ===========================
 //===========================================================================
 
-// #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
-// #define MESH_BED_LEVELING    // Enable mesh bed leveling
+// #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling.
+// #define MESH_BED_LEVELING    // Enable mesh bed leveling.
 
 #if ENABLED(MANUAL_BED_LEVELING)
-  #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis
+  #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis.
 #endif  // MANUAL_BED_LEVELING
 
 #if ENABLED(MESH_BED_LEVELING)
@@ -431,9 +431,9 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
   #define MESH_MIN_Y 10
   #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
-  #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited
+  #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited.
   #define MESH_NUM_Y_POINTS 3
-  #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0
+  #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0.
 #endif  // MESH_BED_LEVELING
 
 //===========================================================================
@@ -442,12 +442,12 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
 // @section bedlevel
 
-//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
-#define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
+//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line).
+#define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z probe repeatability test will be included if auto bed leveling is enabled.
 
 #if ENABLED(ENABLE_AUTO_BED_LEVELING)
 
-  // There are 2 different ways to specify probing locations
+  // There are 2 different ways to specify probing locations:
   //
   // - "grid" mode
   //   Probe several points in a rectangular grid.
@@ -458,8 +458,8 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
   //   Probe 3 arbitrary points on the bed (that aren't colinear)
   //   You specify the XY coordinates of all 3 points.
 
-  // Enable this to sample the bed in a grid (least squares solution)
-  // Note: this feature generates 10KB extra code size
+  // Enable this to sample the bed in a grid (least squares solution).
+  // Note: this feature generates 10KB extra code size.
   #define AUTO_BED_LEVELING_GRID
 
   #if ENABLED(AUTO_BED_LEVELING_GRID)
@@ -469,16 +469,16 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
     #define FRONT_PROBE_BED_POSITION 20
     #define BACK_PROBE_BED_POSITION 170
 
-    #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
+    #define MIN_PROBE_EDGE 10 // The Z probe minimum square sides can be no smaller than this.
 
-    // Set the number of grid points per dimension
-    // You probably don't need more than 3 (squared=9)
+    // Set the number of grid points per dimension.
+    // You probably don't need more than 3 (squared=9).
     #define AUTO_BED_LEVELING_GRID_POINTS 2
 
   #else  // !AUTO_BED_LEVELING_GRID
 
-      // Arbitrary points to probe. A simple cross-product
-      // is used to estimate the plane of the bed.
+      // Arbitrary points to probe.
+      // A simple cross-product is used to estimate the plane of the bed.
       #define ABL_PROBE_PT_1_X 15
       #define ABL_PROBE_PT_1_Y 180
       #define ABL_PROBE_PT_2_X 15
@@ -488,56 +488,73 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 
   #endif // AUTO_BED_LEVELING_GRID
 
-  // Offsets to the probe relative to the extruder tip (Hotend - Probe)
-  // X and Y offsets must be integers
-  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
-  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Probe on: -front +behind
-  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // -below (always!)
+  // Offsets to the Z probe relative to the nozzle tip.
+  // X and Y offsets must be integers.
+  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Z probe to nozzle X offset: -left  +right
+  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Z probe to nozzle Y offset: -front +behind
+  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // Z probe to nozzle Z offset: -below (always!)
 
-  #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
-                                        // Be sure you have this distance over your Z_MAX_POS in case
+  #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z axis before homing (G28) for Z probe clearance.
+                                        // Be sure you have this distance over your Z_MAX_POS in case.
 
-  #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min
+  #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min.
 
-  #define Z_RAISE_BEFORE_PROBING 15   //How much the extruder will be raised before traveling to the first probing point.
-  #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
-  #define Z_RAISE_AFTER_PROBING 15    //How much the extruder will be raised after the last probing point.
+  #define Z_RAISE_BEFORE_PROBING 15   // How much the Z axis will be raised before traveling to the first probing point.
+  #define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
+  #define Z_RAISE_AFTER_PROBING 15    // How much the Z axis will be raised after the last probing point.
 
-//   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
-                                                                            //Useful to retract a deployable probe.
+//   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.
+                                                                            // Useful to retract a deployable Z probe.
 
-  //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
-  //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
+  //#define Z_PROBE_SLED // Turn on if you have a Z probe mounted on a sled like those designed by Charles Bell.
+  //#define SLED_DOCKING_OFFSET 5 // The extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
-//If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
-//it is highly recommended you let this Z_SAFE_HOMING enabled!!!
+// If you have enabled the bed auto leveling and are using the same Z probe for Z homing,
+// it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 
-  #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area.
+  #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with Z probe outside the bed area.
                           // When defined, it will:
-                          // - Allow Z homing only after X and Y homing AND stepper drivers still enabled
-                          // - If stepper drivers timeout, it will need X and Y homing again before Z homing
-                          // - Position the probe in a defined XY point before Z Homing when homing all axis (G28)
-                          // - Block Z homing only when the probe is outside bed area.
+                          // - Allow Z homing only after X and Y homing AND stepper drivers still enabled.
+                          // - If stepper drivers timeout, it will need X and Y homing again before Z homing.
+                          // - Position the Z probe in a defined XY point before Z Homing when homing all axis (G28).
+                          // - Block Z homing only when the Z probe is outside bed area.
 
   #if ENABLED(Z_SAFE_HOMING)
 
-    #define Z_SAFE_HOMING_X_POINT ((X_MIN_POS + X_MAX_POS) / 2)    // X point for Z homing when homing all axis (G28)
-    #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28)
+    #define Z_SAFE_HOMING_X_POINT ((X_MIN_POS + X_MAX_POS) / 2)    // X point for Z homing when homing all axis (G28).
+    #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28).
 
   #endif
 
-  // Support for a dedicated Z PROBE endstop separate from the Z MIN endstop.
-  // If you would like to use both a Z PROBE and a Z MIN endstop together , uncomment #define Z_MIN_PROBE_ENDSTOP and read the instructions below.
-  // If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
-  // WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
-  // To use a separate Z PROBE endstop, you must have a Z_MIN_PROBE_PIN defined in the pins.h file for your control board.
-  // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES in the R/C Servo below.
-  // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
-  // for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
-  // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_MIN_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
-  // D32 is currently selected in the RAMPS 1.3/1.4 pin file. All other boards will need changes to the respective pins_XXXXX.h file.
-  // WARNING: Setting the wrong pin may have unexpected and potentially disastrous outcomes. Use with caution and do your homework.
-
+  // Support for a dedicated Z probe endstop separate from the Z min endstop.
+  // If you would like to use both a Z probe and a Z min endstop together,
+  // uncomment #define Z_MIN_PROBE_ENDSTOP and read the instructions below.
+  // If you still want to use the Z min endstop for homing, disable Z_SAFE_HOMING above.
+  // Example: To park the head outside the bed area when homing with G28.
+  //
+  // WARNING:
+  // The Z min endstop will need to set properly as it would without a Z probe
+  // to prevent head crashes and premature stopping during a print.
+  //
+  // To use a separate Z probe endstop, you must have a Z_MIN_PROBE_PIN
+  // defined in the pins_XXXXX.h file for your control board.
+  // If you are using a servo based Z probe, you will need to enable NUM_SERVOS,
+  // Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES in the R/C SERVO support below.
+  // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin
+  // in the Aux 4 section of the RAMPS board. Use 5V for powered sensors,
+  // otherwise connect to ground and D32 for normally closed configuration
+  // and 5V and D32 for normally open configurations.
+  // Normally closed configuration is advised and assumed.
+  // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin.
+  // Z_MIN_PROBE_PIN is setting the pin to use on the Arduino.
+  // Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
+  // D32 is currently selected in the RAMPS 1.3/1.4 pin file.
+  // All other boards will need changes to the respective pins_XXXXX.h file.
+  //
+  // WARNING:
+  // Setting the wrong pin may have unexpected and potentially disastrous outcomes.
+  // Use with caution and do your homework.
+  //
   //#define Z_MIN_PROBE_ENDSTOP
 
 #endif // ENABLE_AUTO_BED_LEVELING
@@ -785,7 +802,7 @@ const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the l
 // Servo Endstops
 //
 // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
-// Use M851 to set the z-probe vertical offset from the nozzle. Store that setting with M500.
+// Use M851 to set the Z probe vertical offset from the nozzle. Store that setting with M500.
 //
 //#define X_ENDSTOP_SERVO_NR 1
 //#define Y_ENDSTOP_SERVO_NR 2

commit e2d69f66b29aa0957ff4610ab1a6644fe8393fca
Author: AnHardt <github@kitelab.de>
Date:   Mon Aug 10 10:35:39 2015 +0200

    Make Z_PROBE a Z_MIN_PROBE (PR#65)
    
    Currently we use the probe exclusively as a device to find the build platform(bed).
    For the currently supported setups this means, we use it as a additional min-endstop.
    A triggered when not deployed probe disturbs the homing process for max-endstops.
    
    Rename ENDSTOPPULLUP_ZPROBE to ENDSTOPPULLUP_ZMIN_PROBE
    Rename Z_PROBE_ENDSTOP_INVERTING to Z_MIN_PROBE_ENDSTOP_INVERTING
    Rename Z_PROBE_ENDSTOP to Z_MIN_PROBE_ENDSTOP
    Rename DISABLE_Z_PROBE_ENDSTOP to DISABLE_Z_MIN_PROBE_ENDSTOP
    Rename Z_PROBE_REPEATABILITY_TEST to Z_MIN_PROBE_REPEATABILITY_TEST
    Rename Z_PROBE_ENDSTOP to Z_MIN_PROBE_ENDSTOP
    Adjust comments accordingly
    Remove Z_MAX  check for the probe in update_endstops().
    
    Using an delta related idea of @clefranc from #61,
    extended to the general change for all setups.
    
    Tested with Prusa i3, max-z-endstop and permanently triggered z-probe.
    Worked for @clefranc's delta.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 32867a9086..827cfd2cee 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -327,7 +327,7 @@ Here are some standard links for getting your machine calibrated:
   // #define ENDSTOPPULLUP_XMIN
   // #define ENDSTOPPULLUP_YMIN
   // #define ENDSTOPPULLUP_ZMIN
-  // #define ENDSTOPPULLUP_ZPROBE
+  // #define ENDSTOPPULLUP_ZMIN_PROBE
 #endif
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
@@ -337,15 +337,15 @@ const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+const bool Z_MIN_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 
 // If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
 // This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
-// activated Z_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
+// activated Z_MIN_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
 // this has no effect.
-//#define DISABLE_Z_PROBE_ENDSTOP
+//#define DISABLE_Z_MIN_PROBE_ENDSTOP
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 // :{0:'Low',1:'High'}
@@ -443,7 +443,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // @section bedlevel
 
 //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
-#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
+#define Z_MIN_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
 
 #if ENABLED(ENABLE_AUTO_BED_LEVELING)
 
@@ -527,18 +527,18 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   #endif
 
   // Support for a dedicated Z PROBE endstop separate from the Z MIN endstop.
-  // If you would like to use both a Z PROBE and a Z MIN endstop together or just a Z PROBE with a custom pin, uncomment #define Z_PROBE_ENDSTOP and read the instructions below.
+  // If you would like to use both a Z PROBE and a Z MIN endstop together , uncomment #define Z_MIN_PROBE_ENDSTOP and read the instructions below.
   // If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
   // WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
-  // To use a separate Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
+  // To use a separate Z PROBE endstop, you must have a Z_MIN_PROBE_PIN defined in the pins.h file for your control board.
   // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES in the R/C Servo below.
   // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
   // for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
-  // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
+  // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_MIN_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
   // D32 is currently selected in the RAMPS 1.3/1.4 pin file. All other boards will need changes to the respective pins_XXXXX.h file.
   // WARNING: Setting the wrong pin may have unexpected and potentially disastrous outcomes. Use with caution and do your homework.
 
-  //#define Z_PROBE_ENDSTOP
+  //#define Z_MIN_PROBE_ENDSTOP
 
 #endif // ENABLE_AUTO_BED_LEVELING
 

commit b227d8c12880e407b28868e9ffcaed507558df9a
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Sat Aug 1 10:03:46 2015 -0500

    Supply a VERSION in a short form for displays
    
    The long descriptor will still be available in M115

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b6e12ee595..32867a9086 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -49,7 +49,7 @@ Here are some standard links for getting your machine calibrated:
 // build by the user have been successfully uploaded into firmware.
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
 #define SHOW_BOOTSCREEN
-#define STRING_SPLASH_LINE1 BUILD_VERSION // will be shown during bootup in line 1
+#define STRING_SPLASH_LINE1 SHORT_BUILD_VERSION // will be shown during bootup in line 1
 //#define STRING_SPLASH_LINE2 STRING_DISTRIBUTION_DATE // will be shown during bootup in line 2
 
 // @section machine

commit 329acc852e50b30f9f3a9f00669fad47ae90b0f5
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Sat Aug 1 09:57:59 2015 -0500

    Canonize Option flag USE_AUTOMATIC_VERSION

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 71679be041..b6e12ee595 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -38,7 +38,7 @@ Here are some standard links for getting your machine calibrated:
 
 // @section info
 
-#if ENABLED(HAS_AUTOMATIC_VERSIONING)
+#if ENABLED(USE_AUTOMATIC_VERSIONING)
   #include "_Version.h"
 #else
   #include "Default_Version.h"

commit 09571b7753020c985018745651c32f9bb405e58b
Author: AnHardt <github@kitelab.de>
Date:   Fri Jul 31 16:24:20 2015 +0200

    Boot-screen for the character displays
    
    Uses about 488 byte of progmem and 32 byte of RAM.
    For that configurable.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce691276d8..71679be041 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -48,6 +48,7 @@ Here are some standard links for getting your machine calibrated:
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
+#define SHOW_BOOTSCREEN
 #define STRING_SPLASH_LINE1 BUILD_VERSION // will be shown during bootup in line 1
 //#define STRING_SPLASH_LINE2 STRING_DISTRIBUTION_DATE // will be shown during bootup in line 2
 

commit 1e2deff4fd5183b6a2d4d6dff0d33c775a2234be
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jul 31 16:55:47 2015 -0700

    Rename BTENABLED to BLUETOOTH
    
    - For some reason it‚Äôs easy to forget what BT stands for, but it
    doesn‚Äôt need an abbreviation.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1e632ba25a..ce691276d8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -63,8 +63,8 @@ Here are some standard links for getting your machine calibrated:
 // :[2400,9600,19200,38400,57600,115200,250000]
 #define BAUDRATE 250000
 
-// This enables the serial port associated to the Bluetooth interface
-//#define BTENABLED              // Enable BT interface on AT90USB devices
+// Enable the Bluetooth serial interface on AT90USB devices
+//#define BLUETOOTH
 
 // The following define selects which electronics board you have.
 // Please choose the name from boards.h that matches your setup

commit 270c766de27abbf89a1d7d64d11ae9f3ba06c5cb
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jul 31 16:40:50 2015 -0700

    SDCARDDETECT -> SD_DETECT, added docs
    
    - `SD_DETECT_PIN` replaces `SDCARDDETECT`
    - `SD_DETECT_INVERTED` replaces `SDCARDDETECTINVERTED`
    - Revise the description of `SD_DETECT_INVERTED`
    - Add a note about the override of `SD_DETECT_INVERTED` in
    `Conditionals.h`

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dfcfaebee7..1e632ba25a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -674,7 +674,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 //#define ELB_FULL_GRAPHIC_CONTROLLER
-//#define SDCARDDETECTINVERTED
+//#define SD_DETECT_INVERTED
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller

commit 37d1879386d711502168b333dceb3797593e194d
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jul 22 18:23:23 2015 -0700

    Apply overridables to Configuration files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c441c24675..dfcfaebee7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -38,7 +38,7 @@ Here are some standard links for getting your machine calibrated:
 
 // @section info
 
-#ifdef HAS_AUTOMATIC_VERSIONING
+#if ENABLED(HAS_AUTOMATIC_VERSIONING)
   #include "_Version.h"
 #else
   #include "Default_Version.h"
@@ -195,7 +195,7 @@ Here are some standard links for getting your machine calibrated:
 #define PIDTEMP
 #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
 #define PID_MAX BANG_MAX // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
-#ifdef PIDTEMP
+#if ENABLED(PIDTEMP)
   //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
@@ -248,7 +248,7 @@ Here are some standard links for getting your machine calibrated:
 
 //#define PID_BED_DEBUG // Sends debug data to the serial port.
 
-#ifdef PIDTEMPBED
+#if ENABLED(PIDTEMPBED)
 
   #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
 
@@ -318,7 +318,7 @@ Here are some standard links for getting your machine calibrated:
 // coarse Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
-#ifndef ENDSTOPPULLUPS
+#if DISABLED(ENDSTOPPULLUPS)
   // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
   // #define ENDSTOPPULLUP_XMAX
   // #define ENDSTOPPULLUP_YMAX
@@ -408,7 +408,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
                                  // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
                                  // It is assumed that when logic high = filament available
                                  //                    when logic  low = filament ran out
-#ifdef FILAMENT_RUNOUT_SENSOR
+#if ENABLED(FILAMENT_RUNOUT_SENSOR)
   const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
   #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
   #define FILAMENT_RUNOUT_SCRIPT "M600"
@@ -421,11 +421,11 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
 // #define MESH_BED_LEVELING    // Enable mesh bed leveling
 
-#ifdef MANUAL_BED_LEVELING
+#if ENABLED(MANUAL_BED_LEVELING)
   #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis
 #endif  // MANUAL_BED_LEVELING
 
-#ifdef MESH_BED_LEVELING
+#if ENABLED(MESH_BED_LEVELING)
   #define MESH_MIN_X 10
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
   #define MESH_MIN_Y 10
@@ -444,7 +444,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 #define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
 
-#ifdef ENABLE_AUTO_BED_LEVELING
+#if ENABLED(ENABLE_AUTO_BED_LEVELING)
 
   // There are 2 different ways to specify probing locations
   //
@@ -461,7 +461,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   // Note: this feature generates 10KB extra code size
   #define AUTO_BED_LEVELING_GRID
 
-  #ifdef AUTO_BED_LEVELING_GRID
+  #if ENABLED(AUTO_BED_LEVELING_GRID)
 
     #define LEFT_PROBE_BED_POSITION 15
     #define RIGHT_PROBE_BED_POSITION 170
@@ -518,7 +518,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
                           // - Position the probe in a defined XY point before Z Homing when homing all axis (G28)
                           // - Block Z homing only when the probe is outside bed area.
 
-  #ifdef Z_SAFE_HOMING
+  #if ENABLED(Z_SAFE_HOMING)
 
     #define Z_SAFE_HOMING_X_POINT ((X_MIN_POS + X_MAX_POS) / 2)    // X point for Z homing when homing all axis (G28)
     #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28)
@@ -550,7 +550,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 // Manual homing switch locations:
 // For deltabots this means top and center of the Cartesian print volume.
-#ifdef MANUAL_HOME_POSITIONS
+#if ENABLED(MANUAL_HOME_POSITIONS)
   #define MANUAL_X_HOME_POS 0
   #define MANUAL_Y_HOME_POS 0
   #define MANUAL_Z_HOME_POS 0
@@ -589,8 +589,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 // Custom M code points
 #define CUSTOM_M_CODES
-#ifdef CUSTOM_M_CODES
-  #ifdef ENABLE_AUTO_BED_LEVELING
+#if ENABLED(CUSTOM_M_CODES)
+  #if ENABLED(ENABLE_AUTO_BED_LEVELING)
     #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
     #define Z_PROBE_OFFSET_RANGE_MIN -20
     #define Z_PROBE_OFFSET_RANGE_MAX 20
@@ -607,7 +607,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //define this to enable EEPROM support
 //#define EEPROM_SETTINGS
 
-#ifdef EEPROM_SETTINGS
+#if ENABLED(EEPROM_SETTINGS)
   // To disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
   #define EEPROM_CHITCHAT // Please keep turned on if you can.
 #endif
@@ -796,7 +796,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // With this option servos are powered only during movement, then turned off to prevent jitter.
 //#define DEACTIVATE_SERVOS_AFTER_MOVE
 
-#ifdef DEACTIVATE_SERVOS_AFTER_MOVE
+#if ENABLED(DEACTIVATE_SERVOS_AFTER_MOVE)
   // Delay (in microseconds) before turning the servo off. This depends on the servo speed.
   // 300ms is a good value but you can try less delay.
   // If the servo can't reach the requested position, increase it.

commit edaaead7e0a7c443eb90a40e355b0e47091aceff
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Jul 30 20:43:21 2015 -0700

    Fix comment about SERVO_ENDSTOP_ANGLES

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 87578f8055..c441c24675 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -530,7 +530,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   // If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
   // WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
   // To use a separate Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
-  // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
+  // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOP_ANGLES in the R/C Servo below.
   // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
   // for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
   // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.

commit 0af2a80e068008b772f545456bc5774ef127c9f2
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Jul 28 19:22:44 2015 -0700

    Make SERVO_ENDSTOP_ANGLES 2-dimensional

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 312ffd4ae8..87578f8055 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -789,7 +789,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define X_ENDSTOP_SERVO_NR 1
 //#define Y_ENDSTOP_SERVO_NR 2
 //#define Z_ENDSTOP_SERVO_NR 0
-//#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
+//#define SERVO_ENDSTOP_ANGLES {{0,0}, {0,0}, {70,0}} // X,Y,Z Axis Extend and Retract angles
 
 // Servo deactivation
 //

commit ae00fad75bec87d352017ef7128520e38bc5fb36
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Sat Jul 18 18:59:12 2015 -0500

    Rename as M100

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f7baeaa869..312ffd4ae8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -613,9 +613,9 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #endif
 
 //
-// M99 Free Memory Watcher
+// M100 Free Memory Watcher
 //
-#define M99_FREE_MEMORY_WATCHER // uncomment to add the M99 Free Memory Watcher for debug purpose
+//#define M100_FREE_MEMORY_WATCHER // uncomment to add the M100 Free Memory Watcher for debug purpose
 
 // @section temperature
 

commit ed7d45e8f564c73f773928a27031c7e214499a6c
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Sun Jul 5 19:42:13 2015 -0500

    Memory watcher

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9ba9c6ea98..f7baeaa869 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -612,6 +612,11 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   #define EEPROM_CHITCHAT // Please keep turned on if you can.
 #endif
 
+//
+// M99 Free Memory Watcher
+//
+#define M99_FREE_MEMORY_WATCHER // uncomment to add the M99 Free Memory Watcher for debug purpose
+
 // @section temperature
 
 // Preheat Constants

commit fd0e81b0c77fbe84e88074c568ad950e41bddff0
Author: AnHardt <github@kitelab.de>
Date:   Fri Jul 24 23:19:09 2015 +0200

    Distinguish between BUZZER and SPEAKER (PR#2513)
    
    A speaker needs a AC or a pulsed DC to make a sound, a buzzer only needs a DC.
    A buzzer has it's own resonator. It works in most cases to feed the buzzer with a pulsed DC, but the sound will not be as loud as with pure DC.
    
    There seem to be boards where the BEEPER-pin is not able to handle a PWM. Obviously intended for a buzzer.
    To make these board able to handle a speaker
    
    * replace the PWM based tone()-function again with a on-delay-off-delay loop.
    
    Hopefully the last time I touch the beeper code.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ea6055828a..9ba9c6ea98 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -647,6 +647,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
 //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 //#define ULTIPANEL  //the UltiPanel as on Thingiverse
+//#define SPEAKER // The sound device is a speaker - not a buzzer. A buzzer resonates with his own frequency.
 //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
 //#define LCD_FEEDBACK_FREQUENCY_HZ 1000         // this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
                                                  // 0 to disable buzzer feedback. Test with M300 S<frequency Hz> P<duration ms>

commit 8b876241bd87475251ace370bbdfd463777e20af
Author: AnHardt <github@kitelab.de>
Date:   Fri Jul 24 11:26:05 2015 +0200

    Some more servo code tweaks
    
    Just set up the pin. Don't move to a random position.
    
    Simplify servo::move()
    * servo::move() does not need the pin parameter - The pin is set during servo_init() with attach().
    * servo::move() does not need a return value.
    
    SERVO_LEVELING is the wrong condition to deactivate the servos.
    
    Remove some temporary (Servo *) variables.
    SanityCheck for the servo indexes.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 161e2eb64f..ea6055828a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -530,7 +530,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   // If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
   // WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
   // To use a separate Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
-  // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, SERVO_ENDSTOPS and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
+  // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, Z_ENDSTOP_SERVO_NR and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
   // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
   // for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
   // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
@@ -780,7 +780,9 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
 // Use M851 to set the z-probe vertical offset from the nozzle. Store that setting with M500.
 //
-//#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
+//#define X_ENDSTOP_SERVO_NR 1
+//#define Y_ENDSTOP_SERVO_NR 2
+//#define Z_ENDSTOP_SERVO_NR 0
 //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
 
 // Servo deactivation

commit 00dbf69b6d7d325a9f7bdb0664fdc5bcbea77235
Author: AndySze <andy.sze.mail@gmail.com>
Date:   Thu Jul 23 16:12:19 2015 +0800

    add MINIPANEL defines

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7d06e21793..161e2eb64f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -694,6 +694,10 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 //#define RA_CONTROL_PANEL
 
+// The MakerLab Mini Panel with graphic controller and SD support
+// http://reprap.org/wiki/Mini_panel
+// #define MINIPANEL
+
 /**
  * I2C Panels
  */

commit 4e14e152fa8bf02ec60df44ba5f3acb8e7ecebc7
Author: AnHardt <github@kitelab.de>
Date:   Thu Jul 23 17:59:09 2015 +0200

    Add Travis tests for CORXY and COREXZ

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 400d226e00..7d06e21793 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -305,10 +305,10 @@ Here are some standard links for getting your machine calibrated:
 // @section machine
 
 // Uncomment this option to enable CoreXY kinematics
-// #define COREXY
+//#define COREXY
 
 // Uncomment this option to enable CoreXZ kinematics
-// #define COREXZ
+//#define COREXZ
 
 // Enable this option for Toshiba steppers
 //#define CONFIG_STEPPERS_TOSHIBA

commit d85861d296c6a34693af0a2aadd4019f8e38cc80
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jul 22 15:39:23 2015 -0700

    Move macros, add ENABLED/DISABLED, add includes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 432055eb3e..400d226e00 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2,6 +2,7 @@
 #define CONFIGURATION_H
 
 #include "boards.h"
+#include "macros.h"
 
 //===========================================================================
 //============================= Getting Started =============================

commit 129f986ccf39905087056491e2bfabe2196d90d6
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Jun 15 17:28:43 2015 -0700

    Add COREXZ option to configurations

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9ecbdb8f3c..432055eb3e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -306,6 +306,9 @@ Here are some standard links for getting your machine calibrated:
 // Uncomment this option to enable CoreXY kinematics
 // #define COREXY
 
+// Uncomment this option to enable CoreXZ kinematics
+// #define COREXZ
+
 // Enable this option for Toshiba steppers
 //#define CONFIG_STEPPERS_TOSHIBA
 

commit 391386dd94c146624f79ab1ee456a3856d9dc10a
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jul 15 16:08:26 2015 -0700

    Update configs for new servo deactivation

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3bb02ba755..9ecbdb8f3c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -767,17 +767,6 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
-// If DEACTIVATE_SERVOS_AFTER_MOVE is defined, the servos will be turned on only during movement and then turned off to avoid jitter
-// SERVO_DEACTIVATION_DELAY is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
-// If your servo does not reach the requested position, enlarge the time.
-// You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
-//
-//#define DEACTIVATE_SERVOS_AFTER_MOVE
-
-#ifdef DEACTIVATE_SERVOS_AFTER_MOVE
-  #define SERVO_DEACTIVATION_DELAY 300
-#endif
-
 // Servo Endstops
 //
 // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
@@ -786,6 +775,18 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
 //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
 
+// Servo deactivation
+//
+// With this option servos are powered only during movement, then turned off to prevent jitter.
+//#define DEACTIVATE_SERVOS_AFTER_MOVE
+
+#ifdef DEACTIVATE_SERVOS_AFTER_MOVE
+  // Delay (in microseconds) before turning the servo off. This depends on the servo speed.
+  // 300ms is a good value but you can try less delay.
+  // If the servo can't reach the requested position, increase it.
+  #define SERVO_DEACTIVATION_DELAY 300
+#endif
+
 /**********************************************************************\
  * Support for a filament diameter sensor
  * Also allows adjustment of diameter at print time (vs  at slicing)

commit 5243d8b523098b241061c554280c394f126c7df5
Author: AnHardt <github@kitelab.de>
Date:   Mon Jul 13 00:51:39 2015 +0200

    Deactivate DEACTIVATE_SERVOS_AFTER_MOVE by default

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c0f3ab877c..3bb02ba755 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -772,7 +772,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // If your servo does not reach the requested position, enlarge the time.
 // You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
 //
-#define DEACTIVATE_SERVOS_AFTER_MOVE
+//#define DEACTIVATE_SERVOS_AFTER_MOVE
 
 #ifdef DEACTIVATE_SERVOS_AFTER_MOVE
   #define SERVO_DEACTIVATION_DELAY 300

commit 49609f6c14ef962b001d6e5952981383897108cb
Author: AnHardt <github@kitelab.de>
Date:   Mon Jul 13 00:16:06 2015 +0200

    Activate the new servo.move() function
    
    by replacing the sequences (attach, write, delay, detach), and their conditions with the new function in Marlin.main.cpp
    and removing the old configuration in the ABL part of Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b574c47996..c0f3ab877c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -504,13 +504,6 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
   //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
-  //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
-  //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
-  // You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
-
-//  #define PROBE_SERVO_DEACTIVATION_DELAY 300
-
-
 //If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
 //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 

commit 40b6edcad70396f2a94b993b85ad3301745fd5d7
Author: AnHardt <github@kitelab.de>
Date:   Sun Jul 12 23:36:17 2015 +0200

    Introduce DEACTIVATE_SERVOS_AFTER_MOVE in Configuration.h
    
    DEACTIVATE_SERVOS_AFTER_MOVE is ought to replace PROBE_SERVO_DEACTIVATION_DELAY.
    But it will work on all servo moves, not only the probe servo moves.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 85865226a3..b574c47996 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -774,6 +774,17 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
+// If DEACTIVATE_SERVOS_AFTER_MOVE is defined, the servos will be turned on only during movement and then turned off to avoid jitter
+// SERVO_DEACTIVATION_DELAY is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
+// If your servo does not reach the requested position, enlarge the time.
+// You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
+//
+#define DEACTIVATE_SERVOS_AFTER_MOVE
+
+#ifdef DEACTIVATE_SERVOS_AFTER_MOVE
+  #define SERVO_DEACTIVATION_DELAY 300
+#endif
+
 // Servo Endstops
 //
 // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.

commit c3c605c6582443231022c0f29aaa56e04e6a548d
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Jul 8 21:33:12 2015 -0700

    Move note about LiquidTWI2 to Configuration.h (PR#2406)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 47b2b91d0c..85865226a3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -704,6 +704,12 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define LCD_I2C_SAINSMART_YWROBOT
 
 // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
+//
+// This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+// Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+// (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
+// Note: The PANELOLU2 encoder click input can either be directly connected to a pin
+//       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
 //#define LCD_I2C_PANELOLU2
 
 // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs

commit dc40a5f6e004a13a334584a4be17bc5ce67b9170
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Jun 14 21:57:06 2015 -0700

    Patch up more outdated config lines

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cf4fd7cae6..47b2b91d0c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -97,7 +97,7 @@ Here are some standard links for getting your machine calibrated:
 #define POWER_SUPPLY 1
 
 // Define this to have the electronics keep the power supply off on startup. If you don't know what this is leave it.
-// #define PS_DEFAULT_OFF
+//#define PS_DEFAULT_OFF
 
 // @section temperature
 
@@ -205,21 +205,22 @@ Here are some standard links for getting your machine calibrated:
   #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
   #define K1 0.95 //smoothing factor within the PID
 
-// If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
-// Ultimaker
-    #define  DEFAULT_Kp 22.2
-    #define  DEFAULT_Ki 1.08
-    #define  DEFAULT_Kd 114
-
-// MakerGear
-//    #define  DEFAULT_Kp 7.0
-//    #define  DEFAULT_Ki 0.1
-//    #define  DEFAULT_Kd 12
-
-// Mendel Parts V9 on 12V
-//    #define  DEFAULT_Kp 63.0
-//    #define  DEFAULT_Ki 2.25
-//    #define  DEFAULT_Kd 440
+  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
+  // Ultimaker
+  #define  DEFAULT_Kp 22.2
+  #define  DEFAULT_Ki 1.08
+  #define  DEFAULT_Kd 114
+
+  // MakerGear
+  //#define  DEFAULT_Kp 7.0
+  //#define  DEFAULT_Ki 0.1
+  //#define  DEFAULT_Kd 12
+
+  // Mendel Parts V9 on 12V
+  //#define  DEFAULT_Kp 63.0
+  //#define  DEFAULT_Ki 2.25
+  //#define  DEFAULT_Kd 440
+
 #endif // PIDTEMP
 
 //===========================================================================
@@ -247,21 +248,22 @@ Here are some standard links for getting your machine calibrated:
 //#define PID_BED_DEBUG // Sends debug data to the serial port.
 
 #ifdef PIDTEMPBED
-    #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
 
-//120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
-    #define  DEFAULT_bedKp 10.00
-    #define  DEFAULT_bedKi .023
-    #define  DEFAULT_bedKd 305.4
+  #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
+
+  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
+  #define  DEFAULT_bedKp 10.00
+  #define  DEFAULT_bedKi .023
+  #define  DEFAULT_bedKd 305.4
 
-//120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-//from pidautotune
-//    #define  DEFAULT_bedKp 97.1
-//    #define  DEFAULT_bedKi 1.41
-//    #define  DEFAULT_bedKd 1675.16
+  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+  //from pidautotune
+  //#define  DEFAULT_bedKp 97.1
+  //#define  DEFAULT_bedKi 1.41
+  //#define  DEFAULT_bedKd 1675.16
 
-// FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
+  // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 #endif // PIDTEMPBED
 
 // @section extruder
@@ -305,7 +307,7 @@ Here are some standard links for getting your machine calibrated:
 // #define COREXY
 
 // Enable this option for Toshiba steppers
-// #define CONFIG_STEPPERS_TOSHIBA
+//#define CONFIG_STEPPERS_TOSHIBA
 
 // @section homing
 

commit a274769f4fe547fb63cc0c74b34948ac9c740e89
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jun 12 04:12:55 2015 -0700

    Clean up spacing and comments
    
    Also clean up some trailing spaces in a few other sources

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2804bd4104..cf4fd7cae6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -235,7 +235,7 @@ Here are some standard links for getting your machine calibrated:
 // shouldn't use bed PID until someone else verifies your hardware works.
 // If this is enabled, find your own PID constants below.
 //#define PIDTEMPBED
-//
+
 //#define BED_LIMIT_SWITCHING
 
 // This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
@@ -406,7 +406,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
   #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
   #define FILAMENT_RUNOUT_SCRIPT "M600"
-#endif 
+#endif
 
 //===========================================================================
 //=========================== Manual Bed Leveling ===========================
@@ -498,7 +498,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 //   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
                                                                             //Useful to retract a deployable probe.
-                                                                           
+
   //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
   //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
@@ -573,7 +573,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
-#define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
+#define DEFAULT_RETRACT_ACCELERATION  3000    // E acceleration in mm/s^2 for retracts
 #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
 
 // The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)

commit d3bce05d54f84bc37c611dfa0dcec32b967ab426
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jun 12 04:04:43 2015 -0700

    Fix up spacing for filament sensor values

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c19117f753..2804bd4104 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -791,10 +791,10 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
 #define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 
-#define DEFAULT_NOMINAL_FILAMENT_DIA 3.0 //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
-#define MEASURED_UPPER_LIMIT         3.3 //upper limit factor used for sensor reading validation in mm
-#define MEASURED_LOWER_LIMIT         1.9 //lower limit factor for sensor reading validation in mm
-#define MAX_MEASUREMENT_DELAY       20   //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
+#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
+#define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
+#define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm
+#define MAX_MEASUREMENT_DELAY       20     //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 
 //defines used in the code
 #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially

commit b4b10a57fe5060689e0669d5cda67009643214a1
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jun 12 03:58:03 2015 -0700

    Fix configurator section directives and values lists

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 484b28066c..c19117f753 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -334,7 +334,6 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 
-// @section machine
 // If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
 // This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
 // activated Z_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,

commit bba14dcbe6bfabeca47acf98efcc766fc661de30
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Jun 12 03:02:01 2015 -0700

    Move Z Safe Homing point to the middle of the movement range

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ccc175c65f..484b28066c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -522,8 +522,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
   #ifdef Z_SAFE_HOMING
 
-    #define Z_SAFE_HOMING_X_POINT (X_MAX_LENGTH/2)    // X point for Z homing when homing all axis (G28)
-    #define Z_SAFE_HOMING_Y_POINT (Y_MAX_LENGTH/2)    // Y point for Z homing when homing all axis (G28)
+    #define Z_SAFE_HOMING_X_POINT ((X_MIN_POS + X_MAX_POS) / 2)    // X point for Z homing when homing all axis (G28)
+    #define Z_SAFE_HOMING_Y_POINT ((Y_MIN_POS + Y_MAX_POS) / 2)    // Y point for Z homing when homing all axis (G28)
 
   #endif
 

commit 58941e543e3c8895078e28e664edd003b519492a
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Sat Jun 6 21:01:40 2015 -0500

    ELB_FULL_GRAPHIC_CONTROLLER_SDCARDDETECTINVERTED removed
    
    #defining something just to define something else doesn‚Äôt
    make sense
    
    If you want SDCARDDETECTINVERTED, just define it yourself.
    
    If the previous code was intended to define, undefined and then again define the term, that code is improper.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 337a5bb5d4..ccc175c65f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -670,7 +670,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 //#define ELB_FULL_GRAPHIC_CONTROLLER
-//#define ELB_FULL_GRAPHIC_CONTROLLER_SDCARDDETECTINVERTED
+//#define SDCARDDETECTINVERTED
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller

commit b94a0e15013ce8401a20ab87ff76692748dd96fb
Author: Ed Boston <edward.boston@gmail.com>
Date:   Fri May 29 15:02:20 2015 -0700

    Added ELB_FULL_GRAPHIC_CONTROLLER_SDCARDDETECTINVERTED
    
    The new define allows the sd card detect to be inverted or not from
    Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 430f134bb5..337a5bb5d4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -670,6 +670,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 //#define ELB_FULL_GRAPHIC_CONTROLLER
+//#define ELB_FULL_GRAPHIC_CONTROLLER_SDCARDDETECTINVERTED
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller

commit d1f447100035d02266d0d91fbd8babf0faf79270
Merge: 35af5ef23e 2deb5a8ac5
Author: AnHardt <github@kitelab.de>
Date:   Tue Jun 2 18:31:21 2015 +0200

    Merge pull request #2146 from Wackerbarth/Versioning
    
    Versioning

diff --combined Marlin/Configuration.h
index d7e8f1ffda,1d8355d501..430f134bb5
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -37,14 -37,18 +37,18 @@@ Here are some standard links for gettin
  
  // @section info
  
+ #ifdef HAS_AUTOMATIC_VERSIONING
+   #include "_Version.h"
+ #else
+   #include "Default_Version.h"
+ #endif
+ 
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
- #define STRING_VERSION "1.0.3 dev"
- #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
  #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
- #define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1
- //#define STRING_SPLASH_LINE2 STRING_VERSION_CONFIG_H // will be shown during bootup in line2
+ #define STRING_SPLASH_LINE1 BUILD_VERSION // will be shown during bootup in line 1
+ //#define STRING_SPLASH_LINE2 STRING_DISTRIBUTION_DATE // will be shown during bootup in line 2
  
  // @section machine
  
@@@ -243,8 -247,6 +247,8 @@@
  //#define PID_BED_DEBUG // Sends debug data to the serial port.
  
  #ifdef PIDTEMPBED
 +    #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
 +
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
      #define  DEFAULT_bedKp 10.00
@@@ -702,16 -704,12 +706,16 @@@ const bool Z_PROBE_ENDSTOP_INVERTING = 
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
  //#define LCD_I2C_VIKI
 +  
 +// SSD1306 OLED generic display support
 +// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 +//#define U8GLIB_SSD1306
  
  // Shift register panels
  // ---------------------
  // 2 wire Non-latching LCD SR from:
  // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
 -
 +// LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
  //#define SAV_3DLCD
  
  // @section extras

commit 11e3f3375d94e218826179ebe8b00b64e72146bf
Merge: 93da52d011 764e61708b
Author: fmalpartida <fmalpartida@gmail.com>
Date:   Sun May 31 21:20:26 2015 +0200

    Merge commit '764e61708b8e73410c7819d59c4970d7089ca6f5' into bugFixing
    Updated LCD wiki location.

diff --combined Marlin/Configuration.h
index 288daffcbe,32a0a888d2..d7e8f1ffda
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -702,16 -702,12 +702,16 @@@ const bool Z_PROBE_ENDSTOP_INVERTING = 
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
  //#define LCD_I2C_VIKI
 +  
 +// SSD1306 OLED generic display support
 +// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 +//#define U8GLIB_SSD1306
  
  // Shift register panels
  // ---------------------
  // 2 wire Non-latching LCD SR from:
  // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
--
++// LCD configuration: http://reprap.org/wiki/SAV_3D_LCD
  //#define SAV_3DLCD
  
  // @section extras

commit 93da52d011969a2881d8fdb7cb0f64f642688f1c
Author: fmalpartida <fmalpartida@gmail.com>
Date:   Sun May 31 18:53:29 2015 +0200

    Added support for OLED SSD1306 I2C based LCDs.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 32a0a888d2..288daffcbe 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -702,6 +702,10 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 //#define LCD_I2C_VIKI
+  
+// SSD1306 OLED generic display support
+// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+//#define U8GLIB_SSD1306
 
 // Shift register panels
 // ---------------------

commit e86f2342c057cdc624a07a11ed26bb653c790bda
Author: Jonathan Bastien-Filiatrault <joe@x2a.org>
Date:   Thu May 28 11:30:56 2015 -0400

    Separate the maximum integral power for the bed from PID_INTEGRAL_DRIVE_MAX / PID_MAX.
    
    My PID_INTEGRAL_DRIVE_MAX was at 96, which was insufficient for my bed
    to reach its intended temperature. The head requires a low maximum power since
    I run on 24 volts and it has a somewhat low thermal mass.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d9d9aa8b23..32a0a888d2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -243,6 +243,8 @@ Here are some standard links for getting your machine calibrated:
 //#define PID_BED_DEBUG // Sends debug data to the serial port.
 
 #ifdef PIDTEMPBED
+    #define PID_BED_INTEGRAL_DRIVE_MAX MAX_BED_POWER //limit for the integral term
+
 //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
     #define  DEFAULT_bedKp 10.00

commit 5ea139fd79b5fc16de77ae2b167a2ec62aecaeb5
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Thu May 14 16:56:04 2015 -0500

    Revised Versioning mechanism

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d9d9aa8b23..1d8355d501 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -37,14 +37,18 @@ Here are some standard links for getting your machine calibrated:
 
 // @section info
 
+#ifdef HAS_AUTOMATIC_VERSIONING
+  #include "_Version.h"
+#else
+  #include "Default_Version.h"
+#endif
+
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.
-#define STRING_VERSION "1.0.3 dev"
-#define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
-#define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1
-//#define STRING_SPLASH_LINE2 STRING_VERSION_CONFIG_H // will be shown during bootup in line2
+#define STRING_SPLASH_LINE1 BUILD_VERSION // will be shown during bootup in line 1
+//#define STRING_SPLASH_LINE2 STRING_DISTRIBUTION_DATE // will be shown during bootup in line 2
 
 // @section machine
 

commit 38cc0b93c6f268318d1a996e0bcd4745d3de2b01
Merge: 04a1622172 e353d27430
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 22 13:59:50 2015 -0700

    Merge pull request #1874 from AnHardt/Bulgarian
    
    Introduction of Bulgarian - language_bg.h

diff --combined Marlin/Configuration.h
index ccd9786811,6c54f9891c..d9d9aa8b23
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -623,7 -623,7 +623,7 @@@ const bool Z_PROBE_ENDSTOP_INVERTING = 
  // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
- // en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
+ // en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  
@@@ -660,11 -660,6 +660,11 @@@
  //#define VIKI2
  //#define miniVIKI
  
 +// This is a new controller currently under development.  https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
 +//
 +// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 +//#define ELB_FULL_GRAPHIC_CONTROLLER
 +
  // The RepRapDiscount Smart Controller (white PCB)
  // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
  //#define REPRAP_DISCOUNT_SMART_CONTROLLER

commit 152b681bb5b436f435b9602fb2e63fb9df643142
Author: Ed Boston <edward.boston@gmail.com>
Date:   Tue May 19 04:14:55 2015 -0700

    Added link to controller github
    
    Added the link to the github information about the
    ELB_FULL_GRAPHIC_CONTROLLER

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2d57d3061f..ccd9786811 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -660,8 +660,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define VIKI2
 //#define miniVIKI
 
-// This is a new controller currently under development.  A link to more information will be provided as it
-// becomes available.
+// This is a new controller currently under development.  https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/
 //
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 //#define ELB_FULL_GRAPHIC_CONTROLLER

commit e353d27430ea38561f176584c15113a7f4915baf
Merge: 775ea401c8 cad248fc55
Author: AnHardt <github@kitelab.de>
Date:   Mon May 18 23:56:53 2015 +0200

    Merge branch 'Development' of https://github.com/MarlinFirmware/Marlin into Bulgarian

diff --combined Marlin/Configuration.h
index 63dcee5354,8e520fa96a..6c54f9891c
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -270,44 -270,24 +270,24 @@@ Here are some standard links for gettin
  #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  
  //===========================================================================
- //============================= Thermal Runaway Protection ==================
+ //======================== Thermal Runaway Protection =======================
  //===========================================================================
- /*
- This is a feature to protect your printer from burn up in flames if it has
- a thermistor coming off place (this happened to a friend of mine recently and
- motivated me writing this feature).
- 
- The issue: If a thermistor come off, it will read a lower temperature than actual.
- The system will turn the heater on forever, burning up the filament and anything
- else around.
- 
- After the temperature reaches the target for the first time, this feature will
- start measuring for how long the current temperature stays below the target
- minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
- 
- If it stays longer than _PERIOD, it means the thermistor temperature
- cannot catch up with the target, so something *may be* wrong. Then, to be on the
- safe side, the system will he halt.
- 
- Bear in mind the count down will just start AFTER the first time the
- thermistor temperature is over the target, so you will have no problem if
- your extruder heater takes 2 minutes to hit the target on heating.
- 
- */
- // If you want to enable this feature for all your extruder heaters,
- // uncomment the 2 defines below:
- 
- // Parameters for all extruder heaters
- //#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
- //#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
- 
- // If you want to enable this feature for your bed heater,
- // uncomment the 2 defines below:
  
- // Parameters for the bed heater
- //#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
- //#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
+ /**
+  * Thermal Runaway Protection protects your printer from damage and fire if a
+  * thermistor falls out or temperature sensors fail in any way.
+  *
+  * The issue: If a thermistor falls out or a temperature sensor fails,
+  * Marlin can no longer sense the actual temperature. Since a disconnected
+  * thermistor reads as a low temperature, the firmware will keep the heater on.
+  *
+  * The solution: Once the temperature reaches the target, start observing.
+  * If the temperature stays too far below the target (hysteresis) for too long,
+  * the firmware will halt as a safety precaution.
+  */
  
+ #define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
+ #define THERMAL_PROTECTION_BED     // Enable thermal protection for the heated bed
  
  //===========================================================================
  //============================= Mechanical Settings =========================
@@@ -377,7 -357,7 +357,7 @@@ const bool Z_PROBE_ENDSTOP_INVERTING = 
  
  // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
  #define INVERT_X_DIR false
- #define INVERT_Y_DIR false
+ #define INVERT_Y_DIR true
  #define INVERT_Z_DIR false
  
  // @section extruder
@@@ -411,17 -391,20 +391,20 @@@
  #define Z_MAX_POS 200
  
  //===========================================================================
- //============================= Filament Runout Sensor ======================
+ //========================= Filament Runout Sensor ==========================
  //===========================================================================
  //#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
                                   // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
                                   // It is assumed that when logic high = filament available
                                   //                    when logic  low = filament ran out
- //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
- //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+ #ifdef FILAMENT_RUNOUT_SENSOR
+   const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
+   #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+   #define FILAMENT_RUNOUT_SCRIPT "M600"
+ #endif 
  
  //===========================================================================
- //============================ Mesh Bed Leveling ============================
+ //=========================== Manual Bed Leveling ===========================
  //===========================================================================
  
  // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
@@@ -442,7 -425,7 +425,7 @@@
  #endif  // MESH_BED_LEVELING
  
  //===========================================================================
- //============================= Bed Auto Leveling ===========================
+ //============================ Bed Auto Leveling ============================
  //===========================================================================
  
  // @section bedlevel
@@@ -622,10 -605,9 +605,9 @@@
  
  #ifdef EEPROM_SETTINGS
    // To disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
-   #define EEPROM_CHITCHAT // please keep turned on if you can.
+   #define EEPROM_CHITCHAT // Please keep turned on if you can.
  #endif
  
- 
  // @section temperature
  
  // Preheat Constants
@@@ -641,7 -623,7 +623,7 @@@
  // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
 -// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
 +// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  

commit ca8d1756d559e6ed52f88a702e322b79975e0bea
Author: Ed Boston <edward.boston@gmail.com>
Date:   Mon May 18 14:23:31 2015 -0700

    Define fixes
    
    Fixed a couple defines that were not changed or commented out.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bc7e7dda05..2d57d3061f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -664,7 +664,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // becomes available.
 //
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
-#define ELB_FULL_GRAPHIC_CONTROLLER
+//#define ELB_FULL_GRAPHIC_CONTROLLER
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller

commit a83bf18ee1063798e75ad6324b033752e0b1f66f
Author: Ed Boston <edward.boston@gmail.com>
Date:   Mon May 18 05:37:46 2015 -0700

    More functional seperation
    
    Moved SDCARDDETECTINVERTED and SDSLOW to Conditionals.h.
    Added U8GLIB_LM6059_AF to define display specific actions.
    Added reminder to compile in u8glib

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 71a770bd60..bc7e7dda05 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -662,7 +662,9 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 // This is a new controller currently under development.  A link to more information will be provided as it
 // becomes available.
-//#define ELB_FULL_GRAPHIC_CONTROLLER
+//
+// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+#define ELB_FULL_GRAPHIC_CONTROLLER
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller

commit 047e688e93c58f7428547d5f1eb45d5e149e278b
Author: Ed Boston <edward.boston@gmail.com>
Date:   Sun May 17 15:23:17 2015 -0700

    Changed ADAFRUIT_ST7565 to ELB_FULL_GRAPHIC_CONTROLLER
    
    Rename of define to avoid confusion between the controller and the
    display which had similar names.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 928e53d162..71a770bd60 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -660,8 +660,9 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define VIKI2
 //#define miniVIKI
 
-// The Adafruit ST7565 is a custom display.  More info will be posted as the project files are finialized.
-//#define ADAFRUIT_ST7565
+// This is a new controller currently under development.  A link to more information will be provided as it
+// becomes available.
+//#define ELB_FULL_GRAPHIC_CONTROLLER
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller

commit 1999ac415cd1e0a1786a601bbfbd13e9aacf2648
Author: Ed Boston <edward.boston@gmail.com>
Date:   Sun May 17 13:39:24 2015 -0700

    Formatting Changes
    
    Fixes for some code formatting changes and commenting out the
    ADAFRUIT_ST7565 define that was left defined.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c5fdac39db..928e53d162 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -660,7 +660,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define VIKI2
 //#define miniVIKI
 
-#define ADAFRUIT_ST7565
+// The Adafruit ST7565 is a custom display.  More info will be posted as the project files are finialized.
+//#define ADAFRUIT_ST7565
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller

commit 41f8cdb3a62817b5bea01309e73f9082883c1728
Author: Ed Boston <edward.boston@gmail.com>
Date:   Sun May 17 12:47:41 2015 -0700

    ADAFRUIT_ST7565
    
    Added support for new display type

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8e520fa96a..c5fdac39db 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -660,6 +660,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define VIKI2
 //#define miniVIKI
 
+#define ADAFRUIT_ST7565
+
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER

commit 78beef2d73c4b0b59ea6536dbd8e7ac9d0219d97
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu May 14 00:25:47 2015 -0700

    Use Mendel default for INVERT_Y_DIR

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f71699db73..8e520fa96a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -357,7 +357,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
 #define INVERT_X_DIR false
-#define INVERT_Y_DIR false
+#define INVERT_Y_DIR true
 #define INVERT_Z_DIR false
 
 // @section extruder

commit f65833931d3a5af5fbb44e05dd808c10c41dbb06
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed May 13 02:02:19 2015 -0700

    Formatting tweaks

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 823fadc149..f71699db73 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -605,10 +605,9 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 #ifdef EEPROM_SETTINGS
   // To disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
-  #define EEPROM_CHITCHAT // please keep turned on if you can.
+  #define EEPROM_CHITCHAT // Please keep turned on if you can.
 #endif
 
-
 // @section temperature
 
 // Preheat Constants

commit 2445ae3d3aed0e1dc6da1a4094c543bad1dbbf60
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun May 10 22:52:01 2015 -0700

    Combine thermal runaway and watch-period
    
    - Make thermal protection for all hotends and/or bed into simple
    switches
    - Now enable `WATCH_TEMP_PERIOD` when `THERMAL_PROTECTION_HOTENDS` is
    enabled
    - Move detailed thermal parameters to `Configuration_adv.h`
    - Add sanity checks to warn about old configurations
    - Change `WATCH_TEMP_PERIOD` to seconds instead of milliseconds

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6f2333de8f..823fadc149 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -284,24 +284,10 @@ Here are some standard links for getting your machine calibrated:
  * The solution: Once the temperature reaches the target, start observing.
  * If the temperature stays too far below the target (hysteresis) for too long,
  * the firmware will halt as a safety precaution.
- *
- * Note that because the countdown starts only AFTER the temperature reaches
- * the target, this will not catch a thermistor that is already disconnected
- * when the print starts!
- *
- * To enable for all extruder heaters, uncomment the two defines below:
  */
 
-// Parameters for all extruder heaters
-#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 // in seconds
-#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
-
-// To enable for the bed heater, uncomment the two defines below:
-
-// Parameters for the bed heater
-#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 // in seconds
-#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
-
+#define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
+#define THERMAL_PROTECTION_BED     // Enable thermal protection for the heated bed
 
 //===========================================================================
 //============================= Mechanical Settings =========================

commit 7f3252eea99983adbda5d6fe5c6044248979df75
Merge: 0511ccda23 26015b02d8
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 8 04:39:59 2015 -0700

    Merge pull request #1999 from paclema/Filrunout_configurable_script
    
    Added configurable script for filrunout from configuration.h

diff --combined Marlin/Configuration.h
index 69bf148bb3,ce5933319b..6f2333de8f
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -270,37 -270,43 +270,37 @@@ Here are some standard links for gettin
  #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  
  //===========================================================================
 -//============================= Thermal Runaway Protection ==================
 +//======================== Thermal Runaway Protection =======================
  //===========================================================================
 -/*
 -This is a feature to protect your printer from burn up in flames if it has
 -a thermistor coming off place (this happened to a friend of mine recently and
 -motivated me writing this feature).
 -
 -The issue: If a thermistor come off, it will read a lower temperature than actual.
 -The system will turn the heater on forever, burning up the filament and anything
 -else around.
 -
 -After the temperature reaches the target for the first time, this feature will
 -start measuring for how long the current temperature stays below the target
 -minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
  
 -If it stays longer than _PERIOD, it means the thermistor temperature
 -cannot catch up with the target, so something *may be* wrong. Then, to be on the
 -safe side, the system will he halt.
 -
 -Bear in mind the count down will just start AFTER the first time the
 -thermistor temperature is over the target, so you will have no problem if
 -your extruder heater takes 2 minutes to hit the target on heating.
 -
 -*/
 -// If you want to enable this feature for all your extruder heaters,
 -// uncomment the 2 defines below:
 +/**
 + * Thermal Runaway Protection protects your printer from damage and fire if a
 + * thermistor falls out or temperature sensors fail in any way.
 + *
 + * The issue: If a thermistor falls out or a temperature sensor fails,
 + * Marlin can no longer sense the actual temperature. Since a disconnected
 + * thermistor reads as a low temperature, the firmware will keep the heater on.
 + *
 + * The solution: Once the temperature reaches the target, start observing.
 + * If the temperature stays too far below the target (hysteresis) for too long,
 + * the firmware will halt as a safety precaution.
 + *
 + * Note that because the countdown starts only AFTER the temperature reaches
 + * the target, this will not catch a thermistor that is already disconnected
 + * when the print starts!
 + *
 + * To enable for all extruder heaters, uncomment the two defines below:
 + */
  
  // Parameters for all extruder heaters
 -//#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
 -//#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
 +#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 // in seconds
 +#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
  
 -// If you want to enable this feature for your bed heater,
 -// uncomment the 2 defines below:
 +// To enable for the bed heater, uncomment the two defines below:
  
  // Parameters for the bed heater
 -//#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
 -//#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
 +#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 // in seconds
 +#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
  
  
  //===========================================================================
@@@ -405,17 -411,20 +405,20 @@@ const bool Z_PROBE_ENDSTOP_INVERTING = 
  #define Z_MAX_POS 200
  
  //===========================================================================
 -//============================= Filament Runout Sensor ======================
 +//========================= Filament Runout Sensor ==========================
  //===========================================================================
  //#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
                                   // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
                                   // It is assumed that when logic high = filament available
                                   //                    when logic  low = filament ran out
- //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
- //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+ #ifdef FILAMENT_RUNOUT_SENSOR
+   const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
+   #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+   #define FILAMENT_RUNOUT_SCRIPT "M600"
+ #endif 
  
  //===========================================================================
 -//============================ Mesh Bed Leveling ============================
 +//=========================== Manual Bed Leveling ===========================
  //===========================================================================
  
  // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
@@@ -436,7 -445,7 +439,7 @@@
  #endif  // MESH_BED_LEVELING
  
  //===========================================================================
 -//============================= Bed Auto Leveling ===========================
 +//============================ Bed Auto Leveling ============================
  //===========================================================================
  
  // @section bedlevel

commit 181ccc884c79c48c818e23514499968d7fbf7701
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu May 7 20:46:03 2015 -0700

    Edit thermal runaway description

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index abcfea50f8..69bf148bb3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -270,42 +270,36 @@ Here are some standard links for getting your machine calibrated:
 #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
 //===========================================================================
-//============================= Thermal Runaway Protection ==================
+//======================== Thermal Runaway Protection =======================
 //===========================================================================
-/*
-This is a feature to protect your printer from burn up in flames if it has
-a thermistor coming off place (this happened to a friend of mine recently and
-motivated me writing this feature).
-
-The issue: If a thermistor come off, it will read a lower temperature than actual.
-The system will turn the heater on forever, burning up the filament and anything
-else around.
-
-After the temperature reaches the target for the first time, this feature will
-start measuring for how long the current temperature stays below the target
-minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
 
-If it stays longer than _PERIOD, it means the thermistor temperature
-cannot catch up with the target, so something *may be* wrong. Then, to be on the
-safe side, the system will he halt.
-
-Bear in mind the count down will just start AFTER the first time the
-thermistor temperature is over the target, so you will have no problem if
-your extruder heater takes 2 minutes to hit the target on heating.
-
-*/
-// If you want to enable this feature for all your extruder heaters,
-// uncomment the 2 defines below:
+/**
+ * Thermal Runaway Protection protects your printer from damage and fire if a
+ * thermistor falls out or temperature sensors fail in any way.
+ *
+ * The issue: If a thermistor falls out or a temperature sensor fails,
+ * Marlin can no longer sense the actual temperature. Since a disconnected
+ * thermistor reads as a low temperature, the firmware will keep the heater on.
+ *
+ * The solution: Once the temperature reaches the target, start observing.
+ * If the temperature stays too far below the target (hysteresis) for too long,
+ * the firmware will halt as a safety precaution.
+ *
+ * Note that because the countdown starts only AFTER the temperature reaches
+ * the target, this will not catch a thermistor that is already disconnected
+ * when the print starts!
+ *
+ * To enable for all extruder heaters, uncomment the two defines below:
+ */
 
 // Parameters for all extruder heaters
-#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
+#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 // in seconds
 #define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
 
-// If you want to enable this feature for your bed heater,
-// uncomment the 2 defines below:
+// To enable for the bed heater, uncomment the two defines below:
 
 // Parameters for the bed heater
-#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
+#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 // in seconds
 #define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
 
 
@@ -411,7 +405,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #define Z_MAX_POS 200
 
 //===========================================================================
-//============================= Filament Runout Sensor ======================
+//========================= Filament Runout Sensor ==========================
 //===========================================================================
 //#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
                                  // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
@@ -421,7 +415,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
 
 //===========================================================================
-//============================ Mesh Bed Leveling ============================
+//=========================== Manual Bed Leveling ===========================
 //===========================================================================
 
 // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
@@ -442,7 +436,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #endif  // MESH_BED_LEVELING
 
 //===========================================================================
-//============================= Bed Auto Leveling ===========================
+//============================ Bed Auto Leveling ============================
 //===========================================================================
 
 // @section bedlevel

commit 26015b02d8b153b4d583f3838ffdd65cd1258831
Author: paclema <paclema@gmail.com>
Date:   Sun May 3 02:39:34 2015 +0200

    Fixed typo and updated Configuration.h of configurator

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 535d1319d0..ce5933319b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,4 +1,4 @@
-f#ifndef CONFIGURATION_H
+#ifndef CONFIGURATION_H
 #define CONFIGURATION_H
 
 #include "boards.h"

commit aedd58091162ced31f6b1336268b4e4f4b01f531
Author: paclema <paclema@gmail.com>
Date:   Sun May 3 02:28:43 2015 +0200

    Updated all configuration.h examples

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ce5933319b..535d1319d0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,4 +1,4 @@
-#ifndef CONFIGURATION_H
+f#ifndef CONFIGURATION_H
 #define CONFIGURATION_H
 
 #include "boards.h"

commit 425cd46c12640a79e89fdf49c6e22a7161a8104a
Merge: b12bcd0f92 514d8ac460
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Apr 29 19:44:50 2015 -0700

    Merge pull request #1993 from AnHardt/TRP-bed
    
    Enable TRP for the bed

diff --combined Marlin/Configuration.h
index 25e0f3897e,77dc404c8f..abcfea50f8
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -41,6 -41,7 +41,6 @@@ Here are some standard links for gettin
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
  #define STRING_VERSION "1.0.3 dev"
 -#define STRING_URL "reprap.org"
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
  #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
  #define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1
@@@ -298,15 -299,15 +298,15 @@@ your extruder heater takes 2 minutes t
  // uncomment the 2 defines below:
  
  // Parameters for all extruder heaters
 -//#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
 -//#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
 +#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
 +#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
  
  // If you want to enable this feature for your bed heater,
  // uncomment the 2 defines below:
  
  // Parameters for the bed heater
- //#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
- //#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
+ #define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
+ #define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
  
  
  //===========================================================================
@@@ -641,7 -642,7 +641,7 @@@ const bool Z_PROBE_ENDSTOP_INVERTING = 
  // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
 -// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
 +// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  

commit 013a09dbe632fad0b6342a43fdc1dec59e53b2c2
Author: paclema <paclema@gmail.com>
Date:   Wed Apr 29 21:38:40 2015 +0200

    Added configurable script for filrunout form configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 455e46a195..ce5933319b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -417,8 +417,11 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
                                  // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
                                  // It is assumed that when logic high = filament available
                                  //                    when logic  low = filament ran out
-//const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
-//#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+#ifdef FILAMENT_RUNOUT_SENSOR
+  const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
+  #define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
+  #define FILAMENT_RUNOUT_SCRIPT "M600"
+#endif 
 
 //===========================================================================
 //============================ Mesh Bed Leveling ============================

commit 514d8ac4607b2f05f9db5967e5ac00f9d2d5fd4f
Author: AnHardt <github@kitelab.de>
Date:   Wed Apr 29 08:47:01 2015 +0200

    Enable TRP for the bed
    
    in all Configurations.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e3d0c339a2..77dc404c8f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -306,8 +306,8 @@ your extruder heater takes 2 minutes to hit the target on heating.
 // uncomment the 2 defines below:
 
 // Parameters for the bed heater
-//#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
-//#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
+#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
+#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
 
 
 //===========================================================================

commit 2610b8d047d6116a9dd0853f5281d35383aabb8e
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Apr 28 17:40:29 2015 -0700

    Enable thermal runaway protection by default

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 455e46a195..25e0f3897e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -298,8 +298,8 @@ your extruder heater takes 2 minutes to hit the target on heating.
 // uncomment the 2 defines below:
 
 // Parameters for all extruder heaters
-//#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
-//#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
+#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
+#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
 
 // If you want to enable this feature for your bed heater,
 // uncomment the 2 defines below:

commit b4b19a6cbdb2229d1ee134a6418623538e07094d
Merge: 56fc3a4835 7548a56f64
Author: AnHardt <github@kitelab.de>
Date:   Tue Apr 28 09:24:32 2015 +0200

    Merge https://github.com/MarlinFirmware/Marlin into Bulgarian
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/configurator/config/Configuration.h
            Marlin/example_configurations/Felix/Configuration.h
            Marlin/example_configurations/Felix/Configuration_DUAL.h
            Marlin/example_configurations/Hephestos/Configuration.h
            Marlin/example_configurations/K8200/Configuration.h
            Marlin/example_configurations/SCARA/Configuration.h
            Marlin/example_configurations/WITBOX/Configuration.h
            Marlin/example_configurations/delta/generic/Configuration.h
            Marlin/example_configurations/delta/kossel_mini/Configuration.h
            Marlin/example_configurations/makibox/Configuration.h
            Marlin/example_configurations/tvrrug/Round2/Configuration.h
    
    Conflicts with my Chinese implementation resolved.

diff --combined Marlin/Configuration.h
index 63ce9aee8b,455e46a195..63dcee5354
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -41,7 -41,6 +41,6 @@@ Here are some standard links for gettin
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
  #define STRING_VERSION "1.0.3 dev"
- #define STRING_URL "reprap.org"
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
  #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
  #define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1
@@@ -68,8 -67,9 +67,9 @@@
    #define MOTHERBOARD BOARD_RAMPS_13_EFB
  #endif
  
- // Define this to set a custom name for your generic Mendel,
- // #define CUSTOM_MENDEL_NAME "This Mendel"
+ // Optional custom name for your RepStrap or other custom machine
+ // Displayed in the LCD "Ready" message
+ // #define CUSTOM_MACHINE_NAME "3D Printer"
  
  // Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
  // You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)
@@@ -363,6 -363,7 +363,7 @@@ const bool Z_PROBE_ENDSTOP_INVERTING = 
  #define E_ENABLE_ON 0 // For all extruders
  
  // Disables axis when it's not being used.
+ // WARNING: When motors turn off there is a chance of losing position accuracy!
  #define DISABLE_X false
  #define DISABLE_Y false
  #define DISABLE_Z false
@@@ -420,7 -421,7 +421,7 @@@
  //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
  //===========================================================================
- //============================ Manual Bed Leveling ==========================
+ //============================ Mesh Bed Leveling ============================
  //===========================================================================
  
  // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
@@@ -640,7 -641,7 +641,7 @@@
  // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
- // en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
 -// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
++// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  
@@@ -660,10 -661,9 +661,9 @@@
  //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
  //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
  //#define ULTIPANEL  //the UltiPanel as on Thingiverse
- //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
  //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
-                                                // 0 to disable buzzer feedback  
- 
+ //#define LCD_FEEDBACK_FREQUENCY_HZ 1000         // this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
+                                                  // 0 to disable buzzer feedback. Test with M300 S<frequency Hz> P<duration ms>
  // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
  // http://reprap.org/wiki/PanelOne
  //#define PANEL_ONE
@@@ -791,13 -791,13 +791,13 @@@
  // Uncomment below to enable
  //#define FILAMENT_SENSOR
  
- #define FILAMENT_SENSOR_EXTRUDER_NUM	0  //The number of the extruder that has the filament sensor (0,1,2)
- #define MEASUREMENT_DELAY_CM			14  //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
+ #define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
+ #define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
  
- #define DEFAULT_NOMINAL_FILAMENT_DIA  3.0  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
- #define MEASURED_UPPER_LIMIT          3.30  //upper limit factor used for sensor reading validation in mm
- #define MEASURED_LOWER_LIMIT          1.90  //lower limit factor for sensor reading validation in mm
- #define MAX_MEASUREMENT_DELAY			20  //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
+ #define DEFAULT_NOMINAL_FILAMENT_DIA 3.0 //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
+ #define MEASURED_UPPER_LIMIT         3.3 //upper limit factor used for sensor reading validation in mm
+ #define MEASURED_LOWER_LIMIT         1.9 //lower limit factor for sensor reading validation in mm
+ #define MAX_MEASUREMENT_DELAY       20   //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
  
  //defines used in the code
  #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially

commit 0970102950578dca6f258f05fe3d20eb402451a3
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Apr 27 21:59:14 2015 -0700

    Remove obsolete STRING_URL

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ba1d0594b..455e46a195 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -41,7 +41,6 @@ Here are some standard links for getting your machine calibrated:
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.
 #define STRING_VERSION "1.0.3 dev"
-#define STRING_URL "reprap.org"
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
 #define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1

commit 6b1b71837c98ceab55db7433357a13cd829d1ede
Author: AnHardt <github@kitelab.de>
Date:   Mon Apr 27 12:15:36 2015 +0200

    Intit. commit for Chinese
    
    Edited the European part of 'ISO10646_CN.fon' to match the existing fonts.
    Added Chinese font to make_fonts.bat
    Created 'dogm_font_data_ISO10646_CN.h'
    Added Chinese to 'language.h'
    Added 'language_cn.h' with some minor edits.
    Added Chinese font in 'language_en.h' to not fall back to European font.
    Added cn to 'Configuration.h'
    Changed WIDTH to LCD_PIXEL_WIDTH and HEIGHT to LCD_PIXEL_HEIGHT to have more descriptive names.
    
    In 'dogm_lcd_implementation.h'
    Added Chinese Font
    Made 1 pixel more room for the larger Chinese font on the status line.
    Changed geometry of the 'select bar' by one pixel.
    Changed the way the position for values and postcars are set.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e3d0c339a2..0ba1d0594b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -642,7 +642,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // @section lcd
 
 // Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
+// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, cn, test
 // See also language.h
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 

commit 5c29fda16756d28b231444b1e54ed656650bc8ab
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Apr 25 00:46:33 2015 -0700

    Add a warning for DISABLE_[XYZ] options

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4e39703ad4..e3d0c339a2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -364,6 +364,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #define E_ENABLE_ON 0 // For all extruders
 
 // Disables axis when it's not being used.
+// WARNING: When motors turn off there is a chance of losing position accuracy!
 #define DISABLE_X false
 #define DISABLE_Y false
 #define DISABLE_Z false

commit 3a27a78f9ed5c89735ace99d8c4173991f3405a4
Author: AnHardt <github@kitelab.de>
Date:   Mon Apr 20 15:01:43 2015 +0200

    Commented REPRAP_DISCOUNT_SMART_CONTROLLER again
    
    and removed some tabs.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 81392d96bb..4e39703ad4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -680,7 +680,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
-#define REPRAP_DISCOUNT_SMART_CONTROLLER
+//#define REPRAP_DISCOUNT_SMART_CONTROLLER
 
 // The GADGETS3D G3D LCD/SD Controller (blue PCB)
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
@@ -791,13 +791,13 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // Uncomment below to enable
 //#define FILAMENT_SENSOR
 
-#define FILAMENT_SENSOR_EXTRUDER_NUM	0  //The number of the extruder that has the filament sensor (0,1,2)
-#define MEASUREMENT_DELAY_CM			14  //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
+#define FILAMENT_SENSOR_EXTRUDER_NUM 0   //The number of the extruder that has the filament sensor (0,1,2)
+#define MEASUREMENT_DELAY_CM        14   //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 
-#define DEFAULT_NOMINAL_FILAMENT_DIA  3.0  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
-#define MEASURED_UPPER_LIMIT          3.30  //upper limit factor used for sensor reading validation in mm
-#define MEASURED_LOWER_LIMIT          1.90  //lower limit factor for sensor reading validation in mm
-#define MAX_MEASUREMENT_DELAY			20  //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
+#define DEFAULT_NOMINAL_FILAMENT_DIA 3.0 //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
+#define MEASURED_UPPER_LIMIT         3.3 //upper limit factor used for sensor reading validation in mm
+#define MEASURED_LOWER_LIMIT         1.9 //lower limit factor for sensor reading validation in mm
+#define MAX_MEASUREMENT_DELAY       20   //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 
 //defines used in the code
 #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially

commit 064f2b37d03827440364c2dabcdb2468fbc57415
Author: AnHardt <github@kitelab.de>
Date:   Mon Apr 20 11:11:13 2015 +0200

    More Beeper clean up.
    
    Centralised beep code to lcd_buzz().
    From gcode_M300() and lcd_quick_feedback().
    
    Enforced max. duration for M300 to 5 seconds.
    
    Corrected description in 'Configuration.h'
    
    LCD_FEEDBACK_FREQUENCY_HZ 0 gives now a silent delay of
    LCD_FEEDBACK_FREQUENCY_DURATION_MS.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f48646ac7f..81392d96bb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -661,10 +661,9 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
 //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 //#define ULTIPANEL  //the UltiPanel as on Thingiverse
-//#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
 //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
-                                               // 0 to disable buzzer feedback  
-
+//#define LCD_FEEDBACK_FREQUENCY_HZ 1000         // this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
+                                                 // 0 to disable buzzer feedback. Test with M300 S<frequency Hz> P<duration ms>
 // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
 // http://reprap.org/wiki/PanelOne
 //#define PANEL_ONE
@@ -681,7 +680,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
-//#define REPRAP_DISCOUNT_SMART_CONTROLLER
+#define REPRAP_DISCOUNT_SMART_CONTROLLER
 
 // The GADGETS3D G3D LCD/SD Controller (blue PCB)
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel

commit 74e4b42f7ece308f4f5ec1313d79b18bfaecc59c
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Apr 12 17:17:41 2015 -0700

    Default MACHINE_NAME to "3D Printer"

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 646dc60aef..f48646ac7f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -70,7 +70,7 @@ Here are some standard links for getting your machine calibrated:
 
 // Optional custom name for your RepStrap or other custom machine
 // Displayed in the LCD "Ready" message
-// #define CUSTOM_MACHINE_NAME "This RepRap"
+// #define CUSTOM_MACHINE_NAME "3D Printer"
 
 // Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
 // You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)

commit ccbe2c4ea3a36195dce61caf097420cb64e2d653
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 10 21:29:42 2015 -0700

    Apply CUSTOM_MACHINE_NAME to configurations
    
    - Replace ‚ÄúMendel‚Äù with ‚ÄúRepRap‚Äù

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b99d4f426f..646dc60aef 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -68,8 +68,9 @@ Here are some standard links for getting your machine calibrated:
   #define MOTHERBOARD BOARD_RAMPS_13_EFB
 #endif
 
-// Define this to set a custom name for your generic Mendel,
-// #define CUSTOM_MENDEL_NAME "This Mendel"
+// Optional custom name for your RepStrap or other custom machine
+// Displayed in the LCD "Ready" message
+// #define CUSTOM_MACHINE_NAME "This RepRap"
 
 // Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
 // You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)

commit 56fc3a48356da8189d83602546ba0cdf4b90aad0
Author: AnHardt <github@kitelab.de>
Date:   Thu Apr 9 13:09:18 2015 +0200

    bgr -> bg
    
    + update in documentation

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9f0443c234..63ce9aee8b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -640,7 +640,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // @section lcd
 
 // Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, bgr, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
+// en, pl, fr, de, es, ru, bg, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
 // See also language.h
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 

commit 6248c93f373bb1590b9c5c04ac43e02684e5eb17
Author: AnHardt <github@kitelab.de>
Date:   Thu Apr 9 01:26:48 2015 +0200

    Introduction of Bulgarian - language_bgr.h
    
    Thank you @Nprod!

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b0d97f15e7..9f0443c234 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -640,7 +640,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // @section lcd
 
 // Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
+// en, pl, fr, de, es, ru, bgr, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
 // See also language.h
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 

commit 7dc64efe672a1417b2aa49a72a27448e09f06d05
Author: Edward Patel <edward.patel@memention.com>
Date:   Wed Apr 8 20:52:48 2015 +0200

    Added sanity check for MESH_NUM_X_POINTS and MESH_NUM_Y_POINTS

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b0d97f15e7..b99d4f426f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -420,7 +420,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
 
 //===========================================================================
-//============================ Manual Bed Leveling ==========================
+//============================ Mesh Bed Leveling ============================
 //===========================================================================
 
 // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling

commit 4788b5930045b5a550f0bbbb580616ba215a594a
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Apr 8 03:12:21 2015 -0700

    Thermistor values for configurator

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 71815cde27..b0d97f15e7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -138,7 +138,7 @@ Here are some standard links for getting your machine calibrated:
 //     Use it for Testing or Development purposes. NEVER for production machine.
 //     #define DUMMY_THERMISTOR_998_VALUE 25
 //     #define DUMMY_THERMISTOR_999_VALUE 100
-
+// :{ '0': "Not used", '4': "10k !! do not use for a hotend. Bad resolution at high temp. !!", '1': "100k / 4.7k - EPCOS", '51': "100k / 1k - EPCOS", '6': "100k / 4.7k EPCOS - Not as accurate as Table 1", '5': "100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '7': "100k / 4.7k Honeywell 135-104LAG-J01", '71': "100k / 4.7k Honeywell 135-104LAF-J01", '8': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT", '9': "100k / 4.7k GE Sensing AL03006-58.2K-97-G1", '10': "100k / 4.7k RS 198-961", '11': "100k / 4.7k beta 3950 1%", '12': "100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)", '13': "100k Hisens 3950  1% up to 300¬∞C for hotend 'Simple ONE ' & hotend 'All In ONE'", '60': "100k Maker's Tool Works Kapton Bed Thermistor beta=3950", '55': "100k / 1k - ATC Semitec 104GT-2 (Used in ParCan & J-Head)", '2': "200k / 4.7k - ATC Semitec 204GT-2", '52': "200k / 1k - ATC Semitec 204GT-2", '-2': "Thermocouple + MAX6675 (only for sensor 0)", '-1': "Thermocouple + AD595", '3': "Mendel-parts / 4.7k", '1047': "Pt1000 / 4.7k", '1010': "Pt1000 / 1k (non standard)", '20': "PT100 (Ultimainboard V2.x)", '147': "Pt100 / 4.7k", '110': "Pt100 / 1k (non-standard)", '998': "Dummy 1", '999': "Dummy 2" }
 #define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0

commit 7431ef7e2d90138a4bbf6f3003e0dcf24eba65ab
Merge: 43773ff735 cf9b58452c
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Apr 7 21:14:00 2015 -0700

    Merge branch 'Development' into dev_version
    Latest upstream commits

diff --combined Marlin/Configuration.h
index 35062d1af1,788ee58ff5..71815cde27
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -40,7 -40,7 +40,7 @@@ Here are some standard links for gettin
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
 -#define STRING_VERSION "1.0.2"
 +#define STRING_VERSION "1.0.3 dev"
  #define STRING_URL "reprap.org"
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
  #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
@@@ -426,6 -426,10 +426,10 @@@ const bool Z_PROBE_ENDSTOP_INVERTING = 
  // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
  // #define MESH_BED_LEVELING    // Enable mesh bed leveling
  
+ #ifdef MANUAL_BED_LEVELING
+   #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis
+ #endif  // MANUAL_BED_LEVELING
+ 
  #ifdef MESH_BED_LEVELING
    #define MESH_MIN_X 10
    #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)

commit eb6e3886f458c116bd1be364d29f30a2e003d8b0
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Apr 7 20:38:43 2015 -0700

    Set version to "1.0.3 dev"

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 33a419b6b7..35062d1af1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -40,7 +40,7 @@ Here are some standard links for getting your machine calibrated:
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.
-#define STRING_VERSION "1.0.2"
+#define STRING_VERSION "1.0.3 dev"
 #define STRING_URL "reprap.org"
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.

commit a9ed39b12dc37f71a39c36154bf9ec60bbb8ec1e
Author: Edward Patel <edward.patel@memention.com>
Date:   Tue Apr 7 22:58:08 2015 +0200

    Moved checks into SanityCheck.h + removed previous added checks.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9234d2ce7a..788ee58ff5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -431,11 +431,6 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #endif  // MANUAL_BED_LEVELING
 
 #ifdef MESH_BED_LEVELING
-
-  #ifdef DELTA
-    #error 'MESH_BED_LEVELING' does not yet support 'DELTA' printers
-  #endif
-
   #define MESH_MIN_X 10
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
   #define MESH_MIN_Y 10
@@ -456,10 +451,6 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 #ifdef ENABLE_AUTO_BED_LEVELING
 
-  #ifdef MESH_BED_LEVELING
-    #error Select 'ENABLE_AUTO_BED_LEVELING' or 'MESH_BED_LEVELING', not both
-  #endif // MESH_BED_LEVELING
-
   // There are 2 different ways to specify probing locations
   //
   // - "grid" mode

commit 002340f32c3be12658e2bdb4b5ba44220b163e97
Merge: d27c82a450 3db4e0fb5d
Author: Edward Patel <edward.patel@memention.com>
Date:   Tue Apr 7 22:49:12 2015 +0200

    Merge branch 'Development-Marlin' into Development

diff --combined Marlin/Configuration.h
index a525894a47,33a419b6b7..9234d2ce7a
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -35,6 -35,8 +35,8 @@@ Here are some standard links for gettin
  // example_configurations/SCARA directory.
  //
  
+ // @section info
+ 
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
@@@ -45,12 -47,16 +47,16 @@@
  #define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1
  //#define STRING_SPLASH_LINE2 STRING_VERSION_CONFIG_H // will be shown during bootup in line2
  
+ // @section machine
+ 
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
  // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
+ // :[0,1,2,3,4,5,6,7]
  #define SERIAL_PORT 0
  
  // This determines the communication speed of the printer
+ // :[2400,9600,19200,38400,57600,115200,250000]
  #define BAUDRATE 250000
  
  // This enables the serial port associated to the Bluetooth interface
@@@ -70,6 -76,7 +76,7 @@@
  // #define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
  
  // This defines the number of extruders
+ // :[1,2,3,4]
  #define EXTRUDERS 1
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
@@@ -81,12 -88,15 +88,15 @@@
  //// The following define selects which power supply you have. Please choose the one that matches your setup
  // 1 = ATX
  // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
+ // :{1:'ATX',2:'X-Box 360'}
  
  #define POWER_SUPPLY 1
  
  // Define this to have the electronics keep the power supply off on startup. If you don't know what this is leave it.
  // #define PS_DEFAULT_OFF
  
+ // @section temperature
+ 
  //===========================================================================
  //============================= Thermal Settings ============================
  //===========================================================================
@@@ -248,6 -258,7 +258,7 @@@
  // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
  #endif // PIDTEMPBED
  
+ // @section extruder
  
  //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
  //can be software-disabled for whatever purposes by
@@@ -302,12 -313,16 +313,16 @@@ your extruder heater takes 2 minutes t
  //============================= Mechanical Settings =========================
  //===========================================================================
  
+ // @section machine
+ 
  // Uncomment this option to enable CoreXY kinematics
  // #define COREXY
  
  // Enable this option for Toshiba steppers
  // #define CONFIG_STEPPERS_TOSHIBA
  
+ // @section homing
+ 
  // coarse Endstop Settings
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
  
@@@ -332,6 -347,8 +347,8 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
+ 
+ // @section machine
  // If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
  // This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
  // activated Z_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
@@@ -339,6 -356,7 +356,7 @@@
  //#define DISABLE_Z_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
+ // :{0:'Low',1:'High'}
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
  #define Z_ENABLE_ON 0
@@@ -348,20 -366,32 +366,32 @@@
  #define DISABLE_X false
  #define DISABLE_Y false
  #define DISABLE_Z false
+ 
+ // @section extruder
+ 
  #define DISABLE_E false // For all extruders
  #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
+ // @section machine
+ 
  // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
  #define INVERT_X_DIR false
  #define INVERT_Y_DIR false
  #define INVERT_Z_DIR false
+ 
+ // @section extruder
+ 
+ // For direct drive extruder v9 set to true, for geared extruder set to false.
  #define INVERT_E0_DIR false
  #define INVERT_E1_DIR false
  #define INVERT_E2_DIR false
  #define INVERT_E3_DIR false
  
+ // @section homing
+ 
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
+ // :[-1,1]
  #define X_HOME_DIR -1
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
@@@ -369,6 -399,8 +399,8 @@@
  #define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  
+ // @section machine
+ 
  // Travel limits after homing (units are in mm)
  #define X_MIN_POS 0
  #define Y_MIN_POS 0
@@@ -394,16 -426,7 +426,16 @@@
  // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
  // #define MESH_BED_LEVELING    // Enable mesh bed leveling
  
 +#ifdef MANUAL_BED_LEVELING
 +  #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis
 +#endif  // MANUAL_BED_LEVELING
 +
  #ifdef MESH_BED_LEVELING
 +
 +  #ifdef DELTA
 +    #error 'MESH_BED_LEVELING' does not yet support 'DELTA' printers
 +  #endif
 +
    #define MESH_MIN_X 10
    #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
    #define MESH_MIN_Y 10
@@@ -417,15 -440,13 +449,17 @@@
  //============================= Bed Auto Leveling ===========================
  //===========================================================================
  
+ // @section bedlevel
+ 
  //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
  #define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
  
  #ifdef ENABLE_AUTO_BED_LEVELING
  
 +  #ifdef MESH_BED_LEVELING
 +    #error Select 'ENABLE_AUTO_BED_LEVELING' or 'MESH_BED_LEVELING', not both
 +  #endif // MESH_BED_LEVELING
 +
    // There are 2 different ways to specify probing locations
    //
    // - "grid" mode
@@@ -529,6 -550,8 +563,8 @@@
  #endif // ENABLE_AUTO_BED_LEVELING
  
  
+ // @section homing
+ 
  // The position of the homing switches
  //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
@@@ -542,6 -565,8 +578,8 @@@
    //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
  #endif
  
+ // @section movement
+ 
  /**
   * MOVEMENT SETTINGS
   */
@@@ -568,6 -593,8 +606,8 @@@
  //============================= Additional Features ===========================
  //=============================================================================
  
+ // @section more
+ 
  // Custom M code points
  #define CUSTOM_M_CODES
  #ifdef CUSTOM_M_CODES
@@@ -578,6 -605,7 +618,7 @@@
    #endif
  #endif
  
+ // @section extras
  
  // EEPROM
  // The microcontroller can store settings in the EEPROM, e.g. max velocity...
@@@ -586,9 -614,14 +627,14 @@@
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable EEPROM support
  //#define EEPROM_SETTINGS
- //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
- // please keep turned on if you can.
- //#define EEPROM_CHITCHAT
+ 
+ #ifdef EEPROM_SETTINGS
+   // To disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
+   #define EEPROM_CHITCHAT // please keep turned on if you can.
+ #endif
+ 
+ 
+ // @section temperature
  
  // Preheat Constants
  #define PLA_PREHEAT_HOTEND_TEMP 180
@@@ -600,6 -633,7 +646,7 @@@
  #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  //==============================LCD and SD support=============================
+ // @section lcd
  
  // Define your display language below. Replace (en) with your language code and uncomment.
  // en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
@@@ -683,6 -717,8 +730,8 @@@
  
  //#define SAV_3DLCD
  
+ // @section extras
+ 
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  

commit 967db181d0f783fe4b1183c71571e5621bd572e3
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Apr 6 21:46:18 2015 -0700

    Latest upstream commits

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 174f9e386e..33a419b6b7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -614,9 +614,12 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable EEPROM support
 //#define EEPROM_SETTINGS
-//to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
-// please keep turned on if you can.
-//#define EEPROM_CHITCHAT
+
+#ifdef EEPROM_SETTINGS
+  // To disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
+  #define EEPROM_CHITCHAT // please keep turned on if you can.
+#endif
+
 
 // @section temperature
 

commit d27c82a4500229abdf9a3d478b981f0315cfee21
Author: Edward Patel <edward.patel@memention.com>
Date:   Mon Apr 6 23:03:06 2015 +0200

    Added check for Delta printers in Mesh, #error not yet supported.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7803bdd0a4..a525894a47 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -399,6 +399,11 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #endif  // MANUAL_BED_LEVELING
 
 #ifdef MESH_BED_LEVELING
+
+  #ifdef DELTA
+    #error 'MESH_BED_LEVELING' does not yet support 'DELTA' printers
+  #endif
+
   #define MESH_MIN_X 10
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
   #define MESH_MIN_Y 10

commit 9a093b2e8fc780cc61d55d088f592ec44d370482
Author: Edward Patel <edward.patel@memention.com>
Date:   Mon Apr 6 19:38:59 2015 +0200

    Added #error + mention not to enable ABL and Mesh at the same time

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 419e010dce..7803bdd0a4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -417,6 +417,10 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 #ifdef ENABLE_AUTO_BED_LEVELING
 
+  #ifdef MESH_BED_LEVELING
+    #error Select 'ENABLE_AUTO_BED_LEVELING' or 'MESH_BED_LEVELING', not both
+  #endif // MESH_BED_LEVELING
+
   // There are 2 different ways to specify probing locations
   //
   // - "grid" mode

commit 46474cf2f2cc1f762ff10a2ab908d3d54f803841
Author: Richard Wackerbarth <rkw@dataplex.net>
Date:   Sat Apr 4 06:15:42 2015 -0500

    Incorporate @section headers from configurator

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 871d69ccb7..174f9e386e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,6 +35,8 @@ Here are some standard links for getting your machine calibrated:
 // example_configurations/SCARA directory.
 //
 
+// @section info
+
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.
@@ -45,12 +47,16 @@ Here are some standard links for getting your machine calibrated:
 #define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1
 //#define STRING_SPLASH_LINE2 STRING_VERSION_CONFIG_H // will be shown during bootup in line2
 
+// @section machine
+
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.
 // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
+// :[0,1,2,3,4,5,6,7]
 #define SERIAL_PORT 0
 
 // This determines the communication speed of the printer
+// :[2400,9600,19200,38400,57600,115200,250000]
 #define BAUDRATE 250000
 
 // This enables the serial port associated to the Bluetooth interface
@@ -70,6 +76,7 @@ Here are some standard links for getting your machine calibrated:
 // #define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 
 // This defines the number of extruders
+// :[1,2,3,4]
 #define EXTRUDERS 1
 
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
@@ -81,12 +88,15 @@ Here are some standard links for getting your machine calibrated:
 //// The following define selects which power supply you have. Please choose the one that matches your setup
 // 1 = ATX
 // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
+// :{1:'ATX',2:'X-Box 360'}
 
 #define POWER_SUPPLY 1
 
 // Define this to have the electronics keep the power supply off on startup. If you don't know what this is leave it.
 // #define PS_DEFAULT_OFF
 
+// @section temperature
+
 //===========================================================================
 //============================= Thermal Settings ============================
 //===========================================================================
@@ -248,6 +258,7 @@ Here are some standard links for getting your machine calibrated:
 // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 #endif // PIDTEMPBED
 
+// @section extruder
 
 //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
 //can be software-disabled for whatever purposes by
@@ -302,12 +313,16 @@ your extruder heater takes 2 minutes to hit the target on heating.
 //============================= Mechanical Settings =========================
 //===========================================================================
 
+// @section machine
+
 // Uncomment this option to enable CoreXY kinematics
 // #define COREXY
 
 // Enable this option for Toshiba steppers
 // #define CONFIG_STEPPERS_TOSHIBA
 
+// @section homing
+
 // coarse Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
@@ -332,6 +347,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
+
+// @section machine
 // If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
 // This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
 // activated Z_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
@@ -339,6 +356,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define DISABLE_Z_PROBE_ENDSTOP
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
+// :{0:'Low',1:'High'}
 #define X_ENABLE_ON 0
 #define Y_ENABLE_ON 0
 #define Z_ENABLE_ON 0
@@ -348,20 +366,32 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #define DISABLE_X false
 #define DISABLE_Y false
 #define DISABLE_Z false
+
+// @section extruder
+
 #define DISABLE_E false // For all extruders
 #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
 
+// @section machine
+
 // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
 #define INVERT_X_DIR false
 #define INVERT_Y_DIR false
 #define INVERT_Z_DIR false
+
+// @section extruder
+
+// For direct drive extruder v9 set to true, for geared extruder set to false.
 #define INVERT_E0_DIR false
 #define INVERT_E1_DIR false
 #define INVERT_E2_DIR false
 #define INVERT_E3_DIR false
 
+// @section homing
+
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
+// :[-1,1]
 #define X_HOME_DIR -1
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
@@ -369,6 +399,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
 #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
 
+// @section machine
+
 // Travel limits after homing (units are in mm)
 #define X_MIN_POS 0
 #define Y_MIN_POS 0
@@ -408,6 +440,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //============================= Bed Auto Leveling ===========================
 //===========================================================================
 
+// @section bedlevel
+
 //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 #define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
 
@@ -516,6 +550,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #endif // ENABLE_AUTO_BED_LEVELING
 
 
+// @section homing
+
 // The position of the homing switches
 //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
 //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
@@ -529,6 +565,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 #endif
 
+// @section movement
+
 /**
  * MOVEMENT SETTINGS
  */
@@ -555,6 +593,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //============================= Additional Features ===========================
 //=============================================================================
 
+// @section more
+
 // Custom M code points
 #define CUSTOM_M_CODES
 #ifdef CUSTOM_M_CODES
@@ -565,6 +605,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   #endif
 #endif
 
+// @section extras
 
 // EEPROM
 // The microcontroller can store settings in the EEPROM, e.g. max velocity...
@@ -577,6 +618,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // please keep turned on if you can.
 //#define EEPROM_CHITCHAT
 
+// @section temperature
+
 // Preheat Constants
 #define PLA_PREHEAT_HOTEND_TEMP 180
 #define PLA_PREHEAT_HPB_TEMP 70
@@ -587,6 +630,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
 
 //==============================LCD and SD support=============================
+// @section lcd
 
 // Define your display language below. Replace (en) with your language code and uncomment.
 // en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
@@ -670,6 +714,8 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
 //#define SAV_3DLCD
 
+// @section extras
+
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 

commit d24ea7c03f7ddbb3645a9cfb136a620dbcb6dfc3
Author: Edward Patel <edward.patel@memention.com>
Date:   Sun Apr 5 05:14:06 2015 +0200

    Added Comment in hope of github seeing these updates

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7de354f882..419e010dce 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -395,7 +395,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // #define MESH_BED_LEVELING    // Enable mesh bed leveling
 
 #ifdef MANUAL_BED_LEVELING
-  #define MBL_Z_STEP 0.025
+  #define MBL_Z_STEP 0.025  // Step size while manually probing Z axis
 #endif  // MANUAL_BED_LEVELING
 
 #ifdef MESH_BED_LEVELING

commit ea10601406dd24dd3e3bef3ec22319f73034fbf6
Merge: 48b1c3822f cb02bc6db4
Author: Edward Patel <edward.patel@memention.com>
Date:   Sun Apr 5 04:06:02 2015 +0200

    Merge branch 'Development-Marlin' into Development
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/Marlin_main.cpp

diff --combined Marlin/Configuration.h
index 5a6d483bf9,871d69ccb7..7de354f882
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -31,7 -31,7 +31,7 @@@ Here are some standard links for gettin
  //===========================================================================
  //============================= SCARA Printer ===============================
  //===========================================================================
- // For a Delta printer replace the configuration files with the files in the
+ // For a Scara printer replace the configuration files with the files in the
  // example_configurations/SCARA directory.
  //
  
@@@ -319,6 -319,7 +319,7 @@@ your extruder heater takes 2 minutes t
    // #define ENDSTOPPULLUP_XMIN
    // #define ENDSTOPPULLUP_YMIN
    // #define ENDSTOPPULLUP_ZMIN
+   // #define ENDSTOPPULLUP_ZPROBE
  #endif
  
  // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
@@@ -328,8 -329,14 +329,14 @@@ const bool Z_MIN_ENDSTOP_INVERTING = fa
  const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
+ // If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
+ // This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
+ // activated Z_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
+ // this has no effect.
+ //#define DISABLE_Z_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -387,11 -394,7 +394,11 @@@
  // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
  // #define MESH_BED_LEVELING    // Enable mesh bed leveling
  
- #if defined(MANUAL_BED_LEVELING)
++#ifdef MANUAL_BED_LEVELING
 +  #define MBL_Z_STEP 0.025
 +#endif  // MANUAL_BED_LEVELING
 +
- #if defined(MESH_BED_LEVELING)
+ #ifdef MESH_BED_LEVELING
    #define MESH_MIN_X 10
    #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
    #define MESH_MIN_Y 10
@@@ -496,6 -499,20 +503,20 @@@
  
    #endif
  
+   // Support for a dedicated Z PROBE endstop separate from the Z MIN endstop.
+   // If you would like to use both a Z PROBE and a Z MIN endstop together or just a Z PROBE with a custom pin, uncomment #define Z_PROBE_ENDSTOP and read the instructions below.
+   // If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
+   // WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
+   // To use a separate Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
+   // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, SERVO_ENDSTOPS and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
+   // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
+   // for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
+   // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
+   // D32 is currently selected in the RAMPS 1.3/1.4 pin file. All other boards will need changes to the respective pins_XXXXX.h file.
+   // WARNING: Setting the wrong pin may have unexpected and potentially disastrous outcomes. Use with caution and do your homework.
+ 
+   //#define Z_PROBE_ENDSTOP
+ 
  #endif // ENABLE_AUTO_BED_LEVELING
  
  
@@@ -512,8 -529,10 +533,10 @@@
    //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
  #endif
  
- //// MOVEMENT SETTINGS
- #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
+ /**
+  * MOVEMENT SETTINGS
+  */
+ 
  #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
  // default settings
@@@ -674,7 -693,7 +697,7 @@@
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
  
- // SF send wrong arc g-codes when using Arc Point as fillet procedure
+ // SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
  //#define SF_ARC_FIX
  
  // Support for the BariCUDA Paste Extruder.

commit b02a55e60fb95b92f61cf92db6a34ffeac061aba
Author: quillford <quillford@users.noreply.github.com>
Date:   Sat Apr 4 15:26:35 2015 -0700

    Fixed scara directions
    
    Config said for a delta instead of for a scara

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8d3e75dae9..871d69ccb7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -31,7 +31,7 @@ Here are some standard links for getting your machine calibrated:
 //===========================================================================
 //============================= SCARA Printer ===============================
 //===========================================================================
-// For a Delta printer replace the configuration files with the files in the
+// For a Scara printer replace the configuration files with the files in the
 // example_configurations/SCARA directory.
 //
 

commit c065da52ec81ea66b0d62a282474db195bc38e18
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 3 22:54:48 2015 -0700

    Spacing and spelling

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5d9586808a..8d3e75dae9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -503,7 +503,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   // If you would like to use both a Z PROBE and a Z MIN endstop together or just a Z PROBE with a custom pin, uncomment #define Z_PROBE_ENDSTOP and read the instructions below.
   // If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
   // WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
-  // To use a separte Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
+  // To use a separate Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
   // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, SERVO_ENDSTOPS and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
   // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
   // for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.

commit e0d4368cb50730f130851729a18b4ac4b64fe7d9
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 3 20:45:24 2015 -0700

    Minor code cleanup, move NUM_AXIS out of config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 321c25f97c..5d9586808a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -529,8 +529,10 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
   //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 #endif
 
-//// MOVEMENT SETTINGS
-#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
+/**
+ * MOVEMENT SETTINGS
+ */
+
 #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
 // default settings

commit a469d796e16368beef2f5f8e5fbd1aa26e4238bd
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 3 18:14:57 2015 -0700

    Add cleanups needed for #1772

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4dd2d1020c..321c25f97c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -499,19 +499,19 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
   #endif
 
-// Support for a dedicated Z PROBE endstop separate from the Z MIN endstop.
-// If you would like to use both a Z PROBE and a Z MIN endstop together or just a Z PROBE with a custom pin, uncomment #define Z_PROBE_ENDSTOP and read the instructions below.
-// If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
-// WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
-// To use a separte Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
-// If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, SERVO_ENDSTOPS and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
-// RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
-// for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
-// The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
-// D32 is currently selected in the RAMPS 1.3/1.4 pin file. All other boards will need changes to the respective pins_XXXXX.h file.
-// WARNING: Setting the wrong pin may have unexpected and potentially disastrous outcomes. Use with caution and do your homework.
-
-//  #define Z_PROBE_ENDSTOP
+  // Support for a dedicated Z PROBE endstop separate from the Z MIN endstop.
+  // If you would like to use both a Z PROBE and a Z MIN endstop together or just a Z PROBE with a custom pin, uncomment #define Z_PROBE_ENDSTOP and read the instructions below.
+  // If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
+  // WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
+  // To use a separte Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
+  // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, SERVO_ENDSTOPS and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
+  // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
+  // for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
+  // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
+  // D32 is currently selected in the RAMPS 1.3/1.4 pin file. All other boards will need changes to the respective pins_XXXXX.h file.
+  // WARNING: Setting the wrong pin may have unexpected and potentially disastrous outcomes. Use with caution and do your homework.
+
+  //#define Z_PROBE_ENDSTOP
 
 #endif // ENABLE_AUTO_BED_LEVELING
 

commit c0ca26cd50d3fa4943e63a5407eaae436fd853b7
Merge: 92119d0f7d 5c1f08a35f
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 3 18:05:17 2015 -0700

    Merge branch 'Development' into fixup_probing
    Latest upstream commits

diff --combined Marlin/Configuration.h
index 748a3914c0,f23b1e45b2..4dd2d1020c
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -319,6 -319,7 +319,7 @@@ your extruder heater takes 2 minutes t
    // #define ENDSTOPPULLUP_XMIN
    // #define ENDSTOPPULLUP_YMIN
    // #define ENDSTOPPULLUP_ZMIN
+   // #define ENDSTOPPULLUP_ZPROBE
  #endif
  
  // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
@@@ -328,8 -329,14 +329,14 @@@ const bool Z_MIN_ENDSTOP_INVERTING = fa
  const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
+ // If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
+ // This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
+ // activated Z_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
+ // this has no effect.
+ //#define DISABLE_Z_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -387,7 -394,7 +394,7 @@@
  // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
  // #define MESH_BED_LEVELING    // Enable mesh bed leveling
  
 -#if defined(MESH_BED_LEVELING)
 +#ifdef MESH_BED_LEVELING
    #define MESH_MIN_X 10
    #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
    #define MESH_MIN_Y 10
@@@ -492,6 -499,20 +499,20 @@@
  
    #endif
  
+ // Support for a dedicated Z PROBE endstop separate from the Z MIN endstop.
+ // If you would like to use both a Z PROBE and a Z MIN endstop together or just a Z PROBE with a custom pin, uncomment #define Z_PROBE_ENDSTOP and read the instructions below.
+ // If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
+ // WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
+ // To use a separte Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
+ // If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, SERVO_ENDSTOPS and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
+ // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
+ // for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
+ // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
+ // D32 is currently selected in the RAMPS 1.3/1.4 pin file. All other boards will need changes to the respective pins_XXXXX.h file.
+ // WARNING: Setting the wrong pin may have unexpected and potentially disastrous outcomes. Use with caution and do your homework.
+ 
+ //  #define Z_PROBE_ENDSTOP
+ 
  #endif // ENABLE_AUTO_BED_LEVELING
  
  
@@@ -670,7 -691,7 +691,7 @@@
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
  
 -// SF send wrong arc g-codes when using Arc Point as fillet procedure
 +// SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
  //#define SF_ARC_FIX
  
  // Support for the BariCUDA Paste Extruder.

commit 0e8182bbf2f0ac2c3340b7d89e6b77fa2f55f292
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Apr 3 15:31:35 2015 -0700

    Additional pin tests, cleanup

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a984923ea2..748a3914c0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -387,7 +387,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
 // #define MESH_BED_LEVELING    // Enable mesh bed leveling
 
-#if defined(MESH_BED_LEVELING)
+#ifdef MESH_BED_LEVELING
   #define MESH_MIN_X 10
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
   #define MESH_MIN_Y 10
@@ -670,7 +670,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
 // #define PHOTOGRAPH_PIN     23
 
-// SF send wrong arc g-codes when using Arc Point as fillet procedure
+// SkeinForge sends the wrong arc g-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX
 
 // Support for the BariCUDA Paste Extruder.

commit 6b91b7b411da3e7dfd535670d8a096a7144a0ff2
Author: Edward Patel <edward.patel@memention.com>
Date:   Wed Apr 1 21:18:51 2015 +0200

    Mesh bed leveling: Added G29 S3 + finer steps in manual probing.
    
    * Use "G29 S3 Xn Yn Zn.nn" to modify bad probed point manually
    * Changed manual Z steps from 0.05 to 0.025 and made brought it to Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a984923ea2..5a6d483bf9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -387,6 +387,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
 // #define MESH_BED_LEVELING    // Enable mesh bed leveling
 
+#if defined(MANUAL_BED_LEVELING)
+  #define MBL_Z_STEP 0.025
+#endif  // MANUAL_BED_LEVELING
+
 #if defined(MESH_BED_LEVELING)
   #define MESH_MIN_X 10
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)

commit a57862e29f03e3a1f8dd2f8aa1ff588aa3bbf889
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Wed Apr 1 11:40:24 2015 -0500

    Cleaning up code in prep for merge with upstream.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3d6bd50c26..f23b1e45b2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -330,7 +330,6 @@ const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 // If you want to enable the Z Probe pin, but disable its use, uncomment the line below.

commit a508d835dbee8a180d506c85076c7671a66791fa
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Wed Apr 1 02:14:55 2015 -0500

    Changed Z_PROBE_AND_ENDSTOP to Z_PROBE_ENDSTOP.
    Updated documentation in Configuration.h.
    Cleaned up and commented some code relating to Z_PROBE_ENDSTOP.
    Separated Z_MIN_ENDSTOP and Z_PROBE_ENDSTOP completely.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2ca9fa231c..3d6bd50c26 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -335,7 +335,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 //#define DISABLE_MIN_ENDSTOPS
 // If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
 // This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
-// activated Z_PROBE_AND_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
+// activated Z_PROBE_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
 // this has no effect.
 //#define DISABLE_Z_PROBE_ENDSTOP
 
@@ -500,17 +500,19 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
   #endif
 
-// Support for concurrent and seperate Z Probe and Z min endstop use.
-// Added by Chris Roadfeldt 3-28-2015
-// If you would like to use both a Z Probe and a Z min endstop at the same time, uncomment #define Z_PROBE_AND_ENDSTOP below
-// You will want to disable Z_SAFE_HOMING above as you will still use the Z min endstop for homing.
-// In order to use this, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
-// RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
+// Support for a dedicated Z PROBE endstop separate from the Z MIN endstop.
+// If you would like to use both a Z PROBE and a Z MIN endstop together or just a Z PROBE with a custom pin, uncomment #define Z_PROBE_ENDSTOP and read the instructions below.
+// If you want to still use the Z min endstop for homing, disable Z_SAFE_HOMING above. Eg; to park the head outside the bed area when homing with G28.
+// WARNING: The Z MIN endstop will need to set properly as it would without a Z PROBE to prevent head crashes and premature stopping during a print.
+// To use a separte Z PROBE endstop, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
+// If you are using a servo based Z PROBE, you will need to enable NUM_SERVOS, SERVO_ENDSTOPS and SERVO_ENDSTOPS_ANGLES in the R/C Servo below.
+// RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board. Use 5V for powered sensors, otherwise connect to ground and D32
+// for normally closed configuration and 5V and D32 for normally open configurations. Normally closed configuration is advised and assumed.
 // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
-// D32 is currently selected in the RAMPS 1.3/1.4 pin file. Update the pins.h file for your control board to make use of this. Not doing so nullifies Z_PROBE_AND_ENDSTOP
-// WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
+// D32 is currently selected in the RAMPS 1.3/1.4 pin file. All other boards will need changes to the respective pins_XXXXX.h file.
+// WARNING: Setting the wrong pin may have unexpected and potentially disastrous outcomes. Use with caution and do your homework.
 
-//  #define Z_PROBE_AND_ENDSTOP
+//  #define Z_PROBE_ENDSTOP
 
 #endif // ENABLE_AUTO_BED_LEVELING
 

commit c89b8368ee678b693362b0833b1f425caab4af53
Merge: 45ece5afb1 be593b600b
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Tue Mar 31 11:08:36 2015 -0500

    Merge remote-tracking branch 'MarlinFirmware/Development' into Development
    
    Conflicts:
            Marlin/Marlin_main.cpp

diff --combined Marlin/Configuration.h
index e223872d86,a984923ea2..2ca9fa231c
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -72,6 -72,12 +72,12 @@@ Here are some standard links for gettin
  // This defines the number of extruders
  #define EXTRUDERS 1
  
+ // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
+ // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
+ // For the other hotends it is their distance from the extruder 0 hotend.
+ //#define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+ //#define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+ 
  //// The following define selects which power supply you have. Please choose the one that matches your setup
  // 1 = ATX
  // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@@ -313,7 -319,6 +319,7 @@@ your extruder heater takes 2 minutes t
    // #define ENDSTOPPULLUP_XMIN
    // #define ENDSTOPPULLUP_YMIN
    // #define ENDSTOPPULLUP_ZMIN
 +  // #define ENDSTOPPULLUP_ZPROBE
  #endif
  
  // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
@@@ -323,15 -328,8 +329,15 @@@ const bool Z_MIN_ENDSTOP_INVERTING = fa
  const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
 +// If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
 +// This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
 +// activated Z_PROBE_AND_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
 +// this has no effect.
 +//#define DISABLE_Z_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -494,18 -492,6 +500,18 @@@
  
    #endif
  
 +// Support for concurrent and seperate Z Probe and Z min endstop use.
 +// Added by Chris Roadfeldt 3-28-2015
 +// If you would like to use both a Z Probe and a Z min endstop at the same time, uncomment #define Z_PROBE_AND_ENDSTOP below
 +// You will want to disable Z_SAFE_HOMING above as you will still use the Z min endstop for homing.
 +// In order to use this, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
 +// RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
 +// The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
 +// D32 is currently selected in the RAMPS 1.3/1.4 pin file. Update the pins.h file for your control board to make use of this. Not doing so nullifies Z_PROBE_AND_ENDSTOP
 +// WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
 +
 +//  #define Z_PROBE_AND_ENDSTOP
 +
  #endif // ENABLE_AUTO_BED_LEVELING
  
  
@@@ -536,12 -522,6 +542,6 @@@
  #define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
  #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
  
- // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
- // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
- // For the other hotends it is their distance from the extruder 0 hotend.
- // #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
- // #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
- 
  // The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
@@@ -716,7 -696,7 +716,7 @@@
  // Servo Endstops
  //
  // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
- // Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
+ // Use M851 to set the z-probe vertical offset from the nozzle. Store that setting with M500.
  //
  //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
  //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles

commit 6ff1620fcb76139243402dbeb8a57926ec8adc59
Merge: 8a4ed3c241 935592cf6a
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Mar 31 03:21:45 2015 -0700

    Merge pull request #1753 from thinkyhead/fix_extruder_offset
    
    Fix EXTRUDER_OFFSET compiler error

diff --combined Marlin/Configuration.h
index 56fe20089e,5412cbbea3..a984923ea2
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -72,6 -72,12 +72,12 @@@ Here are some standard links for gettin
  // This defines the number of extruders
  #define EXTRUDERS 1
  
+ // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
+ // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
+ // For the other hotends it is their distance from the extruder 0 hotend.
+ //#define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+ //#define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+ 
  //// The following define selects which power supply you have. Please choose the one that matches your setup
  // 1 = ATX
  // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@@ -516,12 -522,6 +522,6 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  #define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
  #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
  
- // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
- // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
- // For the other hotends it is their distance from the extruder 0 hotend.
- // #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
- // #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
- 
  // The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
@@@ -696,7 -696,7 +696,7 @@@
  // Servo Endstops
  //
  // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
 -// Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
 +// Use M851 to set the z-probe vertical offset from the nozzle. Store that setting with M500.
  //
  //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
  //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles

commit cda4bd4ad95d3472bd6961c56bc64d57bbdfd097
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Mar 31 03:20:15 2015 -0700

    Correct the comment about M206

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bd1bff6d22..56fe20089e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -696,7 +696,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // Servo Endstops
 //
 // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
-// Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
+// Use M851 to set the z-probe vertical offset from the nozzle. Store that setting with M500.
 //
 //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
 //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles

commit 935592cf6a8793e9baaed0d584b5aad84c1a3ff5
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Mar 31 02:50:52 2015 -0700

    offsets off by default

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f62509e4a6..5412cbbea3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -75,8 +75,8 @@ Here are some standard links for getting your machine calibrated:
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
 // For the other hotends it is their distance from the extruder 0 hotend.
-#define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
-#define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+//#define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+//#define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
 
 //// The following define selects which power supply you have. Please choose the one that matches your setup
 // 1 = ATX

commit 2a45922afef441d1a32f6ba6655d49785212ee5e
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Tue Mar 31 02:49:47 2015 -0700

    Restore extruder_offset, init more simply

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bd1bff6d22..f62509e4a6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -72,6 +72,12 @@ Here are some standard links for getting your machine calibrated:
 // This defines the number of extruders
 #define EXTRUDERS 1
 
+// Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
+// The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
+// For the other hotends it is their distance from the extruder 0 hotend.
+#define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+#define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+
 //// The following define selects which power supply you have. Please choose the one that matches your setup
 // 1 = ATX
 // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@ -516,12 +522,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 #define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
 #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
 
-// Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
-// The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
-// For the other hotends it is their distance from the extruder 0 hotend.
-// #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
-// #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
-
 // The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)

commit 45ece5afb1ff1d5314c36367f5eb54972af39017
Merge: 17707e7479 21ab44cfa7
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Tue Mar 31 03:07:57 2015 -0500

    Merge remote-tracking branch 'MarlinFirmware/Development' into Development

diff --combined Marlin/Configuration.h
index 82d7107456,bd1bff6d22..e223872d86
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -104,7 -104,7 +104,7 @@@ Here are some standard links for gettin
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
  // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
- // 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
+ // 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  //
@@@ -118,7 -118,7 +118,7 @@@
  // 1010 is Pt1000 with 1k pullup (non standard)
  // 147 is Pt100 with 4k7 pullup
  // 110 is Pt100 with 1k pullup (non standard)
- // 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below. 
+ // 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below.
  //     Use it for Testing or Development purposes. NEVER for production machine.
  //     #define DUMMY_THERMISTOR_998_VALUE 25
  //     #define DUMMY_THERMISTOR_999_VALUE 100
@@@ -264,15 -264,15 +264,15 @@@ The issue: If a thermistor come off, i
  The system will turn the heater on forever, burning up the filament and anything
  else around.
  
- After the temperature reaches the target for the first time, this feature will 
- start measuring for how long the current temperature stays below the target 
+ After the temperature reaches the target for the first time, this feature will
+ start measuring for how long the current temperature stays below the target
  minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
  
  If it stays longer than _PERIOD, it means the thermistor temperature
  cannot catch up with the target, so something *may be* wrong. Then, to be on the
  safe side, the system will he halt.
  
- Bear in mind the count down will just start AFTER the first time the 
+ Bear in mind the count down will just start AFTER the first time the
  thermistor temperature is over the target, so you will have no problem if
  your extruder heater takes 2 minutes to hit the target on heating.
  
@@@ -313,7 -313,6 +313,7 @@@
    // #define ENDSTOPPULLUP_XMIN
    // #define ENDSTOPPULLUP_YMIN
    // #define ENDSTOPPULLUP_ZMIN
 +  // #define ENDSTOPPULLUP_ZPROBE
  #endif
  
  // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
@@@ -323,15 -322,8 +323,15 @@@ const bool Z_MIN_ENDSTOP_INVERTING = fa
  const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
 +// If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
 +// This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
 +// activated Z_PROBE_AND_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
 +// this has no effect.
 +//#define DISABLE_Z_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -346,7 -338,7 +346,7 @@@
  #define DISABLE_E false // For all extruders
  #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
- // If you motor turns to wrong direction, you can invert it here:
+ // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
  #define INVERT_X_DIR false
  #define INVERT_Y_DIR false
  #define INVERT_Z_DIR false
@@@ -429,14 -421,13 +429,13 @@@
      #define RIGHT_PROBE_BED_POSITION 170
      #define FRONT_PROBE_BED_POSITION 20
      #define BACK_PROBE_BED_POSITION 170
-     
+ 
      #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
  
      // Set the number of grid points per dimension
      // You probably don't need more than 3 (squared=9)
      #define AUTO_BED_LEVELING_GRID_POINTS 2
  
- 
    #else  // !AUTO_BED_LEVELING_GRID
  
        // Arbitrary points to probe. A simple cross-product
@@@ -450,7 -441,6 +449,6 @@@
  
    #endif // AUTO_BED_LEVELING_GRID
  
- 
    // Offsets to the probe relative to the extruder tip (Hotend - Probe)
    // X and Y offsets must be integers
    #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
@@@ -462,7 -452,7 +460,7 @@@
  
    #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min
  
-   #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
+   #define Z_RAISE_BEFORE_PROBING 15   //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
    #define Z_RAISE_AFTER_PROBING 15    //How much the extruder will be raised after the last probing point.
  
@@@ -496,18 -486,6 +494,18 @@@
  
    #endif
  
 +// Support for concurrent and seperate Z Probe and Z min endstop use.
 +// Added by Chris Roadfeldt 3-28-2015
 +// If you would like to use both a Z Probe and a Z min endstop at the same time, uncomment #define Z_PROBE_AND_ENDSTOP below
 +// You will want to disable Z_SAFE_HOMING above as you will still use the Z min endstop for homing.
 +// In order to use this, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
 +// RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
 +// The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
 +// D32 is currently selected in the RAMPS 1.3/1.4 pin file. Update the pins.h file for your control board to make use of this. Not doing so nullifies Z_PROBE_AND_ENDSTOP
 +// WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
 +
 +//  #define Z_PROBE_AND_ENDSTOP
 +
  #endif // ENABLE_AUTO_BED_LEVELING
  
  
@@@ -592,7 -570,7 +590,7 @@@
  // See also language.h
  #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  
- // Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
+ // Choose ONE of these 3 charsets. This has to match your hardware. Ignored for full graphic display.
  // To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
  // See also documentation/LCDLanguageFont.md
    #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
@@@ -665,7 -643,7 +663,7 @@@
  // Shift register panels
  // ---------------------
  // 2 wire Non-latching LCD SR from:
- // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
+ // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
  
  //#define SAV_3DLCD
  
@@@ -673,7 -651,7 +671,7 @@@
  //#define FAST_PWM_FAN
  
  // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
- // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
+ // which is not as annoying as with the hardware PWM. On the other hand, if this frequency
  // is too low, you should also increment SOFT_PWM_SCALE.
  //#define FAN_SOFT_PWM
  
@@@ -727,9 -705,9 +725,9 @@@
   * Support for a filament diameter sensor
   * Also allows adjustment of diameter at print time (vs  at slicing)
   * Single extruder only at this point (extruder 0)
-  * 
+  *
   * Motherboards
-  * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector 
+  * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector
   * 81 - Printrboard - Uses Analog input 2 on the Exp1 connector (version B,C,D,E)
   * 301 - Rambo  - uses Analog input 3
   * Note may require analog pins to be defined for different motherboards
@@@ -746,7 -724,7 +744,7 @@@
  #define MAX_MEASUREMENT_DELAY			20  //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
  
  //defines used in the code
- #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially 
+ #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
  
  //When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
  //#define FILAMENT_LCD_DISPLAY

commit ba2c7cb46725428c94d04fe2f696a4f09a224f77
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Mar 30 23:24:33 2015 -0700

    Update configs with all the latest

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 889690d82f..bd1bff6d22 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -104,7 +104,7 @@ Here are some standard links for getting your machine calibrated:
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
 // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
-// 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
+// 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE"
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
 // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 //
@@ -118,7 +118,7 @@ Here are some standard links for getting your machine calibrated:
 // 1010 is Pt1000 with 1k pullup (non standard)
 // 147 is Pt100 with 4k7 pullup
 // 110 is Pt100 with 1k pullup (non standard)
-// 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below. 
+// 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below.
 //     Use it for Testing or Development purposes. NEVER for production machine.
 //     #define DUMMY_THERMISTOR_998_VALUE 25
 //     #define DUMMY_THERMISTOR_999_VALUE 100
@@ -264,15 +264,15 @@ The issue: If a thermistor come off, it will read a lower temperature than actua
 The system will turn the heater on forever, burning up the filament and anything
 else around.
 
-After the temperature reaches the target for the first time, this feature will 
-start measuring for how long the current temperature stays below the target 
+After the temperature reaches the target for the first time, this feature will
+start measuring for how long the current temperature stays below the target
 minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
 
 If it stays longer than _PERIOD, it means the thermistor temperature
 cannot catch up with the target, so something *may be* wrong. Then, to be on the
 safe side, the system will he halt.
 
-Bear in mind the count down will just start AFTER the first time the 
+Bear in mind the count down will just start AFTER the first time the
 thermistor temperature is over the target, so you will have no problem if
 your extruder heater takes 2 minutes to hit the target on heating.
 
@@ -338,7 +338,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 #define DISABLE_E false // For all extruders
 #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
 
-// If you motor turns to wrong direction, you can invert it here:
+// Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
 #define INVERT_X_DIR false
 #define INVERT_Y_DIR false
 #define INVERT_Z_DIR false
@@ -421,14 +421,13 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
     #define RIGHT_PROBE_BED_POSITION 170
     #define FRONT_PROBE_BED_POSITION 20
     #define BACK_PROBE_BED_POSITION 170
-    
+
     #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
 
     // Set the number of grid points per dimension
     // You probably don't need more than 3 (squared=9)
     #define AUTO_BED_LEVELING_GRID_POINTS 2
 
-
   #else  // !AUTO_BED_LEVELING_GRID
 
       // Arbitrary points to probe. A simple cross-product
@@ -442,7 +441,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #endif // AUTO_BED_LEVELING_GRID
 
-
   // Offsets to the probe relative to the extruder tip (Hotend - Probe)
   // X and Y offsets must be integers
   #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
@@ -454,7 +452,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min
 
-  #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
+  #define Z_RAISE_BEFORE_PROBING 15   //How much the extruder will be raised before traveling to the first probing point.
   #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
   #define Z_RAISE_AFTER_PROBING 15    //How much the extruder will be raised after the last probing point.
 
@@ -572,7 +570,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // See also language.h
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 
-// Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
+// Choose ONE of these 3 charsets. This has to match your hardware. Ignored for full graphic display.
 // To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
 // See also documentation/LCDLanguageFont.md
   #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
@@ -645,7 +643,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // Shift register panels
 // ---------------------
 // 2 wire Non-latching LCD SR from:
-// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
+// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
 
 //#define SAV_3DLCD
 
@@ -653,7 +651,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 //#define FAST_PWM_FAN
 
 // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
-// which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
+// which is not as annoying as with the hardware PWM. On the other hand, if this frequency
 // is too low, you should also increment SOFT_PWM_SCALE.
 //#define FAN_SOFT_PWM
 
@@ -707,9 +705,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
  * Support for a filament diameter sensor
  * Also allows adjustment of diameter at print time (vs  at slicing)
  * Single extruder only at this point (extruder 0)
- * 
+ *
  * Motherboards
- * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector 
+ * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector
  * 81 - Printrboard - Uses Analog input 2 on the Exp1 connector (version B,C,D,E)
  * 301 - Rambo  - uses Analog input 3
  * Note may require analog pins to be defined for different motherboards
@@ -726,7 +724,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 #define MAX_MEASUREMENT_DELAY			20  //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 
 //defines used in the code
-#define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially 
+#define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially
 
 //When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
 //#define FILAMENT_LCD_DISPLAY

commit 3175c70c796281e3aa3bf5df2300f405345fdf63
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Tue Mar 31 00:11:11 2015 -0500

    Manually synching back up with MarlinFirmware/Development.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 481004f1d3..82d7107456 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -313,8 +313,8 @@ your extruder heater takes 2 minutes to hit the target on heating.
   // #define ENDSTOPPULLUP_XMIN
   // #define ENDSTOPPULLUP_YMIN
   // #define ENDSTOPPULLUP_ZMIN
+  // #define ENDSTOPPULLUP_ZPROBE
 #endif
->>>>>>> MarlinFirmware/Development
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
 const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.

commit 3be00cce6fe76f93af858532c8e75085893f1374
Merge: e08f8eed05 2e7a4bd7db
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Mon Mar 30 23:59:01 2015 -0500

    Merge remote-tracking branch 'MarlinFirmware/Development' into Development
    
    Conflicts:
            Marlin/Configuration.h

diff --combined Marlin/Configuration.h
index 29ea48c592,889690d82f..481004f1d3
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -302,14 -302,18 +302,19 @@@ your extruder heater takes 2 minutes t
  // Enable this option for Toshiba steppers
  // #define CONFIG_STEPPERS_TOSHIBA
  
- // The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
- #define ENDSTOPPULLUP_XMAX
- #define ENDSTOPPULLUP_YMAX
- #define ENDSTOPPULLUP_ZMAX
- #define ENDSTOPPULLUP_XMIN
- #define ENDSTOPPULLUP_YMIN
- #define ENDSTOPPULLUP_ZMIN
- #define ENDSTOPPULLUP_ZPROBE
+ // coarse Endstop Settings
+ #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+ 
+ #ifndef ENDSTOPPULLUPS
+   // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
+   // #define ENDSTOPPULLUP_XMAX
+   // #define ENDSTOPPULLUP_YMAX
+   // #define ENDSTOPPULLUP_ZMAX
+   // #define ENDSTOPPULLUP_XMIN
+   // #define ENDSTOPPULLUP_YMIN
+   // #define ENDSTOPPULLUP_ZMIN
+ #endif
++>>>>>>> MarlinFirmware/Development
  
  // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
  const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
@@@ -318,15 -322,8 +323,15 @@@ const bool Z_MIN_ENDSTOP_INVERTING = fa
  const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
 +// If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
 +// This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
 +// activated Z_PROBE_AND_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
 +// this has no effect.
 +//#define DISABLE_Z_PROBE_ENDSTOP
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -491,18 -488,6 +496,18 @@@
  
    #endif
  
 +// Support for concurrent and seperate Z Probe and Z min endstop use.
 +// Added by Chris Roadfeldt 3-28-2015
 +// If you would like to use both a Z Probe and a Z min endstop at the same time, uncomment #define Z_PROBE_AND_ENDSTOP below
 +// You will want to disable Z_SAFE_HOMING above as you will still use the Z min endstop for homing.
 +// In order to use this, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
 +// RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
 +// The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
 +// D32 is currently selected in the RAMPS 1.3/1.4 pin file. Update the pins.h file for your control board to make use of this. Not doing so nullifies Z_PROBE_AND_ENDSTOP
 +// WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
 +
 +//  #define Z_PROBE_AND_ENDSTOP
 +
  #endif // ENABLE_AUTO_BED_LEVELING
  
  

commit 5e82ed4f305c0f28a6e46a40331bc8b1a7759430
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Mar 30 21:15:16 2015 -0700

    Restore ENDSTOPPULLUPS in Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ad7ec45909..889690d82f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -302,13 +302,18 @@ your extruder heater takes 2 minutes to hit the target on heating.
 // Enable this option for Toshiba steppers
 // #define CONFIG_STEPPERS_TOSHIBA
 
-// The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
-#define ENDSTOPPULLUP_XMAX
-#define ENDSTOPPULLUP_YMAX
-#define ENDSTOPPULLUP_ZMAX
-#define ENDSTOPPULLUP_XMIN
-#define ENDSTOPPULLUP_YMIN
-#define ENDSTOPPULLUP_ZMIN
+// coarse Endstop Settings
+#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+
+#ifndef ENDSTOPPULLUPS
+  // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
+  // #define ENDSTOPPULLUP_XMAX
+  // #define ENDSTOPPULLUP_YMAX
+  // #define ENDSTOPPULLUP_ZMAX
+  // #define ENDSTOPPULLUP_XMIN
+  // #define ENDSTOPPULLUP_YMIN
+  // #define ENDSTOPPULLUP_ZMIN
+#endif
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
 const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.

commit 80285251cccf1464b39469122e26804e23a96efb
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Sun Mar 29 03:06:20 2015 -0500

    More config cleanup work for Z_PROBE_AND_ENDSTOP.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6d76a8ee41..29ea48c592 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -500,6 +500,7 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
 // D32 is currently selected in the RAMPS 1.3/1.4 pin file. Update the pins.h file for your control board to make use of this. Not doing so nullifies Z_PROBE_AND_ENDSTOP
 // WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
+
 //  #define Z_PROBE_AND_ENDSTOP
 
 #endif // ENABLE_AUTO_BED_LEVELING

commit fe4549cd834e1b6b4901b74e163c2f8c12bf09fb
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Sun Mar 29 03:04:59 2015 -0500

    Config file Z_PROBE_AND_ENDSTOP description clean up.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e2b0bfc37f..6d76a8ee41 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -491,14 +491,13 @@ const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic
 
   #endif
 
-// Seaparte concurrent Z Probe and Z min endstop support
+// Support for concurrent and seperate Z Probe and Z min endstop use.
 // Added by Chris Roadfeldt 3-28-2015
-// If you have a Z Probe in addition to a Z min endstop, uncomment the #define Z_PROBE_AND_ENDSTOP line below and configure Z Probe settings.
-// Only use this if you have both a Z PROBE and Z Min ENDSTOP.
-// Note: It's expected that your Z Probe triggers in the direction towards your bed.
+// If you would like to use both a Z Probe and a Z min endstop at the same time, uncomment #define Z_PROBE_AND_ENDSTOP below
+// You will want to disable Z_SAFE_HOMING above as you will still use the Z min endstop for homing.
 // In order to use this, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
 // RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
-// The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. The Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
+// The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
 // D32 is currently selected in the RAMPS 1.3/1.4 pin file. Update the pins.h file for your control board to make use of this. Not doing so nullifies Z_PROBE_AND_ENDSTOP
 // WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
 //  #define Z_PROBE_AND_ENDSTOP

commit 6125124d6c3e76d7826f81355779c9d0e958dce2
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Sun Mar 29 02:29:16 2015 -0500

    Config file cleanup for Z_PROBE_AND_ENDSTOP support.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b23864065c..e2b0bfc37f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -309,6 +309,7 @@ your extruder heater takes 2 minutes to hit the target on heating.
 #define ENDSTOPPULLUP_XMIN
 #define ENDSTOPPULLUP_YMIN
 #define ENDSTOPPULLUP_ZMIN
+#define ENDSTOPPULLUP_ZPROBE
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
 const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
@@ -317,9 +318,15 @@ const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
+// If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
+// This only affects a Z Probe Endstop if you have separate Z min endstop as well and have
+// activated Z_PROBE_AND_ENDSTOP below. If you are using the Z Min endstop on your Z Probe,
+// this has no effect.
+//#define DISABLE_Z_PROBE_ENDSTOP
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
@@ -484,33 +491,17 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #endif
 
-// Z Probe and Z endstop support
+// Seaparte concurrent Z Probe and Z min endstop support
 // Added by Chris Roadfeldt 3-28-2015
-// If you have a Z Probe in addition to endstop(s) for Z Homing, uncomment the #define Z_PROBE_AND_ENDSTOP line below and configure Z Probe settings.
-// Only use this if you have both a Z PROBE and Z HOMING ENDSTOP(S). If you are using Z_SAFE_HOMING above, then you probably don't need this unless you want to make use of
-// a non-default pin for your Z Probe.
-// Note: It's expected that your Z Probe triggers in the direction towards your bed. If your Z Probe does not trigger when traveling towards you bed, it will trigger when it's moving
-// away from the bed.
-
-//  #define Z_PROBE_AND_ENDSTOP
-
-  #ifdef Z_PROBE_AND_ENDSTOP
-
-// As of 3-28-2015, there are NO Z Probe pins defined in any board config files.
-// Z_PROBE_PIN is for the signal pin only. RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
+// If you have a Z Probe in addition to a Z min endstop, uncomment the #define Z_PROBE_AND_ENDSTOP line below and configure Z Probe settings.
+// Only use this if you have both a Z PROBE and Z Min ENDSTOP.
+// Note: It's expected that your Z Probe triggers in the direction towards your bed.
+// In order to use this, you must have a Z_PROBE_PIN defined in the pins.h file for your control board.
+// RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
 // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. The Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
 // D32 is currently selected in the RAMPS 1.3/1.4 pin file. Update the pins.h file for your control board to make use of this. Not doing so nullifies Z_PROBE_AND_ENDSTOP
 // WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
-
-// Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
-    const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
-
-// The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
-    #define ENDSTOPPULLUP_ZPROBE
-
-// If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
-//    #define DISABLE_Z_PROBE_ENDSTOP
-  #endif
+//  #define Z_PROBE_AND_ENDSTOP
 
 #endif // ENABLE_AUTO_BED_LEVELING
 

commit 324c14943bdb58a26cf95574dc9b0d329bbe4027
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Sun Mar 29 02:16:09 2015 -0500

    Bug fixes for Z_PROBE_AND_ENDSTOP.
    Code cleanup for Z_PROBE_AND_ENDSTOP.
    Added Z_PROBE_PIN to pins_RAMPS_13.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 262b4e15b6..b23864065c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -499,9 +499,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // As of 3-28-2015, there are NO Z Probe pins defined in any board config files.
 // Z_PROBE_PIN is for the signal pin only. RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
 // The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. The Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
-// If you have RAMPS 1.3/1.4 and want to use the RAMPS D32 pin, set Z_PROBE_PIN to 32 and use ground and 5v next to it as needed. Check the RAMPS 1.3/1.4 pinout diagram for details.
+// D32 is currently selected in the RAMPS 1.3/1.4 pin file. Update the pins.h file for your control board to make use of this. Not doing so nullifies Z_PROBE_AND_ENDSTOP
 // WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
-  #define Z_PROBE_PIN -1
 
 // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
     const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.

commit fd823449adc46369ff4e3efdb51dfc03f041615e
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Sat Mar 28 05:42:38 2015 -0500

    Added serial message for Z Probe trigger.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b8ef0755a2..262b4e15b6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -497,9 +497,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
   #ifdef Z_PROBE_AND_ENDSTOP
 
 // As of 3-28-2015, there are NO Z Probe pins defined in any board config files.
-// Z_PROBE_PIN is for the signal pin only. RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D1 pin in the Aux 1 section of the RAMPS board for the signal.
-// The D1 pin in Aux 1 on RAMPS maps to the Arduino D1 pin. The Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D1 pin on the RAMPS maps to D1 on Arduino, this works.
-// If you have RAMPS 1.3/1.4 and want to use the RAMPS D1 pin, set Z_PROBE_PIN to 1 and use ground and 5v next to it as needed. Check the RAMPS 1.3/1.4 pinout diagram for details.
+// Z_PROBE_PIN is for the signal pin only. RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D32 pin in the Aux 4 section of the RAMPS board for the signal.
+// The D32 pin in Aux 4 on RAMPS maps to the Arduino D32 pin. The Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D32 pin on the RAMPS maps to D32 on Arduino, this works.
+// If you have RAMPS 1.3/1.4 and want to use the RAMPS D32 pin, set Z_PROBE_PIN to 32 and use ground and 5v next to it as needed. Check the RAMPS 1.3/1.4 pinout diagram for details.
 // WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
   #define Z_PROBE_PIN -1
 

commit 44b88b41a29ffd436ae79539a35749a5f98f9650
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Sat Mar 28 05:01:04 2015 -0500

    Added credit for code.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 21141938ba..b8ef0755a2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -484,6 +484,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #endif
 
+// Z Probe and Z endstop support
+// Added by Chris Roadfeldt 3-28-2015
 // If you have a Z Probe in addition to endstop(s) for Z Homing, uncomment the #define Z_PROBE_AND_ENDSTOP line below and configure Z Probe settings.
 // Only use this if you have both a Z PROBE and Z HOMING ENDSTOP(S). If you are using Z_SAFE_HOMING above, then you probably don't need this unless you want to make use of
 // a non-default pin for your Z Probe.

commit 2979b40a7a3ef2937aa900c06b733ee3f6b4373a
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Sat Mar 28 04:41:03 2015 -0500

    Fixed typo in Z Probe and Endstop section.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ff6a57c239..21141938ba 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -484,7 +484,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #endif
 
-// If you have are a Z Probe in addition to endstop(s) for Z Homing, uncomment the #define Z_PROBE_AND_ENDSTOP line below and configure Z Probe settings.
+// If you have a Z Probe in addition to endstop(s) for Z Homing, uncomment the #define Z_PROBE_AND_ENDSTOP line below and configure Z Probe settings.
 // Only use this if you have both a Z PROBE and Z HOMING ENDSTOP(S). If you are using Z_SAFE_HOMING above, then you probably don't need this unless you want to make use of
 // a non-default pin for your Z Probe.
 // Note: It's expected that your Z Probe triggers in the direction towards your bed. If your Z Probe does not trigger when traveling towards you bed, it will trigger when it's moving

commit 9f3ff14008fbcdc82e12a4cdf57129fde29219b6
Author: Chris Roadfeldt <chris@roadfeldt.com>
Date:   Sat Mar 28 04:31:51 2015 -0500

    Enabled separate Z Probe and Z Axis endstop use at same time.
    Typo fixes in comments in existing code.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ad7ec45909..ff6a57c239 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -317,6 +317,7 @@ const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 
@@ -483,6 +484,33 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #endif
 
+// If you have are a Z Probe in addition to endstop(s) for Z Homing, uncomment the #define Z_PROBE_AND_ENDSTOP line below and configure Z Probe settings.
+// Only use this if you have both a Z PROBE and Z HOMING ENDSTOP(S). If you are using Z_SAFE_HOMING above, then you probably don't need this unless you want to make use of
+// a non-default pin for your Z Probe.
+// Note: It's expected that your Z Probe triggers in the direction towards your bed. If your Z Probe does not trigger when traveling towards you bed, it will trigger when it's moving
+// away from the bed.
+
+//  #define Z_PROBE_AND_ENDSTOP
+
+  #ifdef Z_PROBE_AND_ENDSTOP
+
+// As of 3-28-2015, there are NO Z Probe pins defined in any board config files.
+// Z_PROBE_PIN is for the signal pin only. RAMPS 1.3/1.4 boards may be able to use the 5V, Ground and the D1 pin in the Aux 1 section of the RAMPS board for the signal.
+// The D1 pin in Aux 1 on RAMPS maps to the Arduino D1 pin. The Z_PROBE_PIN is setting the pin to use on the Arduino. Since the D1 pin on the RAMPS maps to D1 on Arduino, this works.
+// If you have RAMPS 1.3/1.4 and want to use the RAMPS D1 pin, set Z_PROBE_PIN to 1 and use ground and 5v next to it as needed. Check the RAMPS 1.3/1.4 pinout diagram for details.
+// WARNING: Setting the wrong pin may have unexpected and disastrous outcomes. Use with caution and do your homework.
+  #define Z_PROBE_PIN -1
+
+// Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
+    const bool Z_PROBE_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+
+// The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
+    #define ENDSTOPPULLUP_ZPROBE
+
+// If you want to enable the Z Probe pin, but disable its use, uncomment the line below.
+//    #define DISABLE_Z_PROBE_ENDSTOP
+  #endif
+
 #endif // ENABLE_AUTO_BED_LEVELING
 
 

commit bc2f249cc6401fa775cb81a8311efd48dcdcc00b
Merge: abfcbd793f 20f909567a
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 27 18:24:19 2015 -0700

    Merge pull request #1622 from AnHardt/tm-utf-minus-kanji
    
    The big Language Pack

diff --combined Marlin/Configuration.h
index 4a21a912a9,760355b896..ad7ec45909
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -532,11 -532,9 +532,11 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  // Custom M code points
  #define CUSTOM_M_CODES
  #ifdef CUSTOM_M_CODES
 -  #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
 -  #define Z_PROBE_OFFSET_RANGE_MIN -15
 -  #define Z_PROBE_OFFSET_RANGE_MAX -5
 +  #ifdef ENABLE_AUTO_BED_LEVELING
 +    #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
 +    #define Z_PROBE_OFFSET_RANGE_MIN -20
 +    #define Z_PROBE_OFFSET_RANGE_MAX 20
 +  #endif
  #endif
  
  
@@@ -563,13 -561,16 +563,16 @@@
  //==============================LCD and SD support=============================
  
  // Define your display language below. Replace (en) with your language code and uncomment.
- // en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
+ // en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
  // See also language.h
- //#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
- 
- // Character based displays can have different extended charsets.
- #define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
- //#define DISPLAY_CHARSET_HD44780_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
+ #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
+ 
+ // Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
+ // To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
+ // See also documentation/LCDLanguageFont.md
+   #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
+   //#define DISPLAY_CHARSET_HD44780_WESTERN
+   //#define DISPLAY_CHARSET_HD44780_CYRILLIC
  
  //#define ULTRA_LCD  //general LCD support, also 16x2
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
@@@ -582,7 -583,6 +585,7 @@@
  //#define ULTIPANEL  //the UltiPanel as on Thingiverse
  //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
  //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
 +                                               // 0 to disable buzzer feedback  
  
  // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
  // http://reprap.org/wiki/PanelOne

commit abfcbd793f7acda1b166e3fb647aa5f843fc7c1c
Merge: 72510b75d2 eab5fad539
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 27 17:03:38 2015 -0700

    Merge pull request #1693 from chris-bo/rework_lcd_beeper
    
    use only one implementation for beeper feedback

diff --combined Marlin/Configuration.h
index 760c3f2602,7ee90d1179..4a21a912a9
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -184,6 -184,7 +184,6 @@@ Here are some standard links for gettin
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
    #define K1 0.95 //smoothing factor within the PID
 -  #define PID_dT ((OVERSAMPLENR * 10.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
@@@ -208,7 -209,7 +208,7 @@@
  // Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
  // Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
 -// If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
 +// If your PID_dT is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
  // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
  // If your configuration is significantly different than this and you don't understand the issues involved, you probably
@@@ -532,11 -533,9 +532,11 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  // Custom M code points
  #define CUSTOM_M_CODES
  #ifdef CUSTOM_M_CODES
 -  #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
 -  #define Z_PROBE_OFFSET_RANGE_MIN -15
 -  #define Z_PROBE_OFFSET_RANGE_MAX -5
 +  #ifdef ENABLE_AUTO_BED_LEVELING
 +    #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
 +    #define Z_PROBE_OFFSET_RANGE_MIN -20
 +    #define Z_PROBE_OFFSET_RANGE_MAX 20
 +  #endif
  #endif
  
  
@@@ -582,6 -581,7 +582,7 @@@
  //#define ULTIPANEL  //the UltiPanel as on Thingiverse
  //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
  //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
+                                                // 0 to disable buzzer feedback  
  
  // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
  // http://reprap.org/wiki/PanelOne

commit 78090275a9999f8fd4a335576891f7087a2c304b
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Mar 26 13:52:48 2015 -0700

    Fix probe range editing
    
    - Increase the probe offset range to -20‚Ä¶20
    - Apply the range limits to the menu item

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d191ead2ad..760c3f2602 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -534,8 +534,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 #ifdef CUSTOM_M_CODES
   #ifdef ENABLE_AUTO_BED_LEVELING
     #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
-    #define Z_PROBE_OFFSET_RANGE_MIN -15
-    #define Z_PROBE_OFFSET_RANGE_MAX -5
+    #define Z_PROBE_OFFSET_RANGE_MIN -20
+    #define Z_PROBE_OFFSET_RANGE_MAX 20
   #endif
 #endif
 

commit 20f909567adb71a6720dc9b8ee1cac66fb937448
Merge: 4beffbca69 9e8427f253
Author: AnHardt <github@kitelab.de>
Date:   Thu Mar 26 10:05:00 2015 +0100

    Merge https://github.com/MarlinFirmware/Marlin into tm-utf-minus-kanji
    
    Conflicts:
            README.md
    Solved

diff --combined Marlin/Configuration.h
index a1bfd9d9ba,c02392be48..760355b896
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -184,7 -184,6 +184,6 @@@ Here are some standard links for gettin
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
    #define K1 0.95 //smoothing factor within the PID
-   #define PID_dT ((OVERSAMPLENR * 10.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
@@@ -209,7 -208,7 +208,7 @@@
  // Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
  // Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
- // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
+ // If your PID_dT is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
  // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
  // If your configuration is significantly different than this and you don't understand the issues involved, you probably
@@@ -562,16 -561,13 +561,16 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  //==============================LCD and SD support=============================
  
  // Define your display language below. Replace (en) with your language code and uncomment.
 -// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
 +// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
  // See also language.h
 -//#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 -
 -// Character based displays can have different extended charsets.
 -#define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
 -//#define DISPLAY_CHARSET_HD44780_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
 +#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 +
 +// Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
 +// To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
 +// See also documentation/LCDLanguageFont.md
 +  #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
 +  //#define DISPLAY_CHARSET_HD44780_WESTERN
 +  //#define DISPLAY_CHARSET_HD44780_CYRILLIC
  
  //#define ULTRA_LCD  //general LCD support, also 16x2
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit eab5fad53983b1ca39fa3e29e2d67ec8db706794
Author: Christian Bohn <christianbohn@posteo.de>
Date:   Thu Mar 26 09:00:34 2015 +0100

    code formatting

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cffcf40c46..7ee90d1179 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -579,8 +579,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
 //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 //#define ULTIPANEL  //the UltiPanel as on Thingiverse
-#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
-#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
+//#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
+//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
                                                // 0 to disable buzzer feedback  
 
 // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)

commit 5eff15c409596573f9be505c44c9161f914e1eca
Merge: 5261d35737 ad05a726c1
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Mar 25 21:24:38 2015 -0700

    Merge branch 'Development' into fixup_leveling
    Latest upstream commits

diff --combined Marlin/Configuration.h
index cb46c530e4,c02392be48..d191ead2ad
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -184,7 -184,6 +184,6 @@@ Here are some standard links for gettin
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
    #define K1 0.95 //smoothing factor within the PID
-   #define PID_dT ((OVERSAMPLENR * 10.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
@@@ -209,7 -208,7 +208,7 @@@
  // Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
  // Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
- // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
+ // If your PID_dT is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
  // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
  // If your configuration is significantly different than this and you don't understand the issues involved, you probably
@@@ -533,11 -532,9 +532,11 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  // Custom M code points
  #define CUSTOM_M_CODES
  #ifdef CUSTOM_M_CODES
 -  #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
 -  #define Z_PROBE_OFFSET_RANGE_MIN -15
 -  #define Z_PROBE_OFFSET_RANGE_MAX -5
 +  #ifdef ENABLE_AUTO_BED_LEVELING
 +    #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
 +    #define Z_PROBE_OFFSET_RANGE_MIN -15
 +    #define Z_PROBE_OFFSET_RANGE_MAX -5
 +  #endif
  #endif
  
  

commit 5261d35737f4a129327de8c5b9ed7e7f4cccbe30
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Mar 25 21:20:50 2015 -0700

    Fix custom m-code behavior
    
    Don‚Äôt set CUSTOM_M_CODE_SET_Z_PROBE_OFFSET if there‚Äôs no Z probe

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f5a36e6b9c..cb46c530e4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -533,9 +533,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // Custom M code points
 #define CUSTOM_M_CODES
 #ifdef CUSTOM_M_CODES
-  #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
-  #define Z_PROBE_OFFSET_RANGE_MIN -15
-  #define Z_PROBE_OFFSET_RANGE_MAX -5
+  #ifdef ENABLE_AUTO_BED_LEVELING
+    #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
+    #define Z_PROBE_OFFSET_RANGE_MIN -15
+    #define Z_PROBE_OFFSET_RANGE_MAX -5
+  #endif
 #endif
 
 

commit 2dfd0e5ce73f1948494267aa9fe2f3f80c1cc3f0
Author: chris-bo <christianbohn@posteo.de>
Date:   Wed Mar 25 12:44:29 2015 +0100

    Update Configuration.h
    
    documentation how to disable buzzer feedback

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f5a36e6b9c..cffcf40c46 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -579,8 +579,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
 //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 //#define ULTIPANEL  //the UltiPanel as on Thingiverse
-//#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
-//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
+#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
+#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
+                                               // 0 to disable buzzer feedback  
 
 // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
 // http://reprap.org/wiki/PanelOne

commit 94330705c7e48ef2d4462368c01ea74281c63db4
Author: AnHardt <github@kitelab.de>
Date:   Wed Mar 25 11:51:41 2015 +0100

    Move definition of PIDdT back to temperature.h
    
    make it unconditional
    remove all definitions in the 'Configuration.h's
    remove form 'Conditionals.h'

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f5a36e6b9c..c02392be48 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -184,7 +184,6 @@ Here are some standard links for getting your machine calibrated:
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
   #define K1 0.95 //smoothing factor within the PID
-  #define PID_dT ((OVERSAMPLENR * 10.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 
 // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker
@@ -209,7 +208,7 @@ Here are some standard links for getting your machine calibrated:
 // Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 //
 // Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
-// If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
+// If your PID_dT is the default, and correct for your hardware/configuration, that means 7.689Hz,
 // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
 // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
 // If your configuration is significantly different than this and you don't understand the issues involved, you probably

commit 9d589cbb2a969a92fa92e26566086d0caa6ae04c
Merge: 08856d9615 512a0056a9
Author: AnHardt <github@kitelab.de>
Date:   Tue Mar 24 16:59:15 2015 +0100

    Merge https://github.com/MarlinFirmware/Marlin into tm3-utf-minus-kanji
    
    Conflicts:
            Marlin/example_configurations/delta/generic/Configuration.h
            Marlin/example_configurations/delta/kossel_mini/Configuration.h
            Marlin/language.h
    
    Conflicts solved

diff --combined Marlin/Configuration.h
index dca5544def,f5a36e6b9c..a1bfd9d9ba
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -360,10 -360,6 +360,6 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  #define Y_MAX_POS 200
  #define Z_MAX_POS 200
  
- #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
- #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
- #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
- 
  //===========================================================================
  //============================= Filament Runout Sensor ======================
  //===========================================================================
@@@ -374,6 -370,23 +370,23 @@@
  //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
  //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
+ //===========================================================================
+ //============================ Manual Bed Leveling ==========================
+ //===========================================================================
+ 
+ // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
+ // #define MESH_BED_LEVELING    // Enable mesh bed leveling
+ 
+ #if defined(MESH_BED_LEVELING)
+   #define MESH_MIN_X 10
+   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
+   #define MESH_MIN_Y 10
+   #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
+   #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited
+   #define MESH_NUM_Y_POINTS 3
+   #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0
+ #endif  // MESH_BED_LEVELING
+ 
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
  //===========================================================================
@@@ -400,12 -413,6 +413,6 @@@
  
    #ifdef AUTO_BED_LEVELING_GRID
  
-     // Use one of these defines to specify the origin
-     // for a topographical map to be printed for your bed.
-     enum { OriginBackLeft, OriginFrontLeft, OriginBackRight, OriginFrontRight };
-     #define TOPO_ORIGIN OriginFrontLeft
- 
-     // The edges of the rectangle in which to probe
      #define LEFT_PROBE_BED_POSITION 15
      #define RIGHT_PROBE_BED_POSITION 170
      #define FRONT_PROBE_BED_POSITION 20
@@@ -555,16 -562,13 +562,16 @@@
  //==============================LCD and SD support=============================
  
  // Define your display language below. Replace (en) with your language code and uncomment.
 -// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
 +// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
  // See also language.h
 -//#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 -
 -// Character based displays can have different extended charsets.
 -#define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
 -//#define DISPLAY_CHARSET_HD44780_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
 +#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 +
 +// Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
 +// To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
 +// See also documentation/LCDLanguageFont.md
 +  #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
 +  //#define DISPLAY_CHARSET_HD44780_WESTERN
 +  //#define DISPLAY_CHARSET_HD44780_CYRILLIC
  
  //#define ULTRA_LCD  //general LCD support, also 16x2
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
@@@ -616,112 -620,17 +623,17 @@@
  // REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
  //#define RA_CONTROL_PANEL
  
- //automatic expansion
- #if defined (MAKRPANEL)
-  #define DOGLCD
-  #define SDSUPPORT
-  #define ULTIPANEL
-  #define NEWPANEL
-  #define DEFAULT_LCD_CONTRAST 17
- #endif
- 
- #if defined(miniVIKI) || defined(VIKI2)
-  #define ULTRA_LCD  //general LCD support, also 16x2
-  #define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
-  #define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
-  
-   #ifdef miniVIKI
-    #define DEFAULT_LCD_CONTRAST 95
-   #else
-    #define DEFAULT_LCD_CONTRAST 40
-   #endif
-   
-  #define ENCODER_PULSES_PER_STEP 4
-  #define ENCODER_STEPS_PER_MENU_ITEM 1
- #endif
- 
- #if defined (PANEL_ONE)
-  #define SDSUPPORT
-  #define ULTIMAKERCONTROLLER
- #endif
- 
- #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
-  #define DOGLCD
-  #define U8GLIB_ST7920
-  #define REPRAP_DISCOUNT_SMART_CONTROLLER
- #endif
- 
- #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
-  #define ULTIPANEL
-  #define NEWPANEL
- #endif
- 
- #if defined(REPRAPWORLD_KEYPAD)
-   #define NEWPANEL
-   #define ULTIPANEL
- #endif
- #if defined(RA_CONTROL_PANEL)
-  #define ULTIPANEL
-  #define NEWPANEL
-  #define LCD_I2C_TYPE_PCA8574
-  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
- #endif
- 
- //I2C PANELS
+ /**
+  * I2C Panels
+  */
  
  //#define LCD_I2C_SAINSMART_YWROBOT
- #ifdef LCD_I2C_SAINSMART_YWROBOT
-   // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
-   // Make sure it is placed in the Arduino libraries directory.
-   #define LCD_I2C_TYPE_PCF8575
-   #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
-   #define NEWPANEL
-   #define ULTIPANEL
- #endif
  
  // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
  //#define LCD_I2C_PANELOLU2
- #ifdef LCD_I2C_PANELOLU2
-   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
-   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
-   // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
-   // Note: The PANELOLU2 encoder click input can either be directly connected to a pin
-   //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
-   #define LCD_I2C_TYPE_MCP23017
-   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
-   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
-   #define NEWPANEL
-   #define ULTIPANEL
- 
-   #ifndef ENCODER_PULSES_PER_STEP
- 	#define ENCODER_PULSES_PER_STEP 4
-   #endif
- 
-   #ifndef ENCODER_STEPS_PER_MENU_ITEM
- 	#define ENCODER_STEPS_PER_MENU_ITEM 1
-   #endif
- 
- 
-   #ifdef LCD_USE_I2C_BUZZER
- 	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
- 	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
-   #endif
- 
- #endif
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
  //#define LCD_I2C_VIKI
- #ifdef LCD_I2C_VIKI
-   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
-   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
-   // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
-   //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
-   #define LCD_I2C_TYPE_MCP23017
-   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
-   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
-   #define NEWPANEL
-   #define ULTIPANEL
- #endif
  
  // Shift register panels
  // ---------------------
@@@ -729,51 -638,10 +641,10 @@@
  // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
  
  //#define SAV_3DLCD
- #ifdef SAV_3DLCD
-    #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
-    #define NEWPANEL
-    #define ULTIPANEL
- #endif
- 
- 
- #ifdef ULTIPANEL
- //  #define NEWPANEL  //enable this if you have a click-encoder panel
-   #define SDSUPPORT
-   #define ULTRA_LCD
-   #ifdef DOGLCD // Change number of lines to match the DOG graphic display
-     #define LCD_WIDTH 22
-     #define LCD_HEIGHT 5
-   #else
-     #define LCD_WIDTH 20
-     #define LCD_HEIGHT 4
-   #endif
- #else //no panel but just LCD
-   #ifdef ULTRA_LCD
-   #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
-     #define LCD_WIDTH 22
-     #define LCD_HEIGHT 5
-   #else
-     #define LCD_WIDTH 16
-     #define LCD_HEIGHT 2
-   #endif
-   #endif
- #endif
- 
- // default LCD contrast for dogm-like LCD displays
- #ifdef DOGLCD
- # ifndef DEFAULT_LCD_CONTRAST
- #  define DEFAULT_LCD_CONTRAST 32
- # endif
- #endif
  
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
- // Temperature status LEDs that display the hotend and bet temperature.
- // If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
- // Otherwise the RED led is on. There is 1C hysteresis.
- //#define TEMP_STAT_LEDS
- 
  // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
  // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
  // is too low, you should also increment SOFT_PWM_SCALE.
@@@ -785,6 -653,11 +656,11 @@@
  // at zero value, there are 128 effective control positions.
  #define SOFT_PWM_SCALE 0
  
+ // Temperature status LEDs that display the hotend and bet temperature.
+ // If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
+ // Otherwise the RED led is on. There is 1C hysteresis.
+ //#define TEMP_STAT_LEDS
+ 
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
@@@ -856,4 -729,4 +732,4 @@@
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  
- #endif //__CONFIGURATION_H
+ #endif //CONFIGURATION_H

commit 4fbb80567eea18e71f6ddc88282de42c3b0ca1fd
Merge: 15eb5d35a2 f65f61fa72
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Mar 22 23:07:22 2015 -0700

    Get upstream commits

diff --combined Marlin/Configuration.h
index b0b19e2447,63f9063882..f5a36e6b9c
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -360,6 -360,10 +360,6 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  #define Y_MAX_POS 200
  #define Z_MAX_POS 200
  
 -#define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 -#define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
 -#define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 -
  //===========================================================================
  //============================= Filament Runout Sensor ======================
  //===========================================================================
@@@ -413,12 -417,6 +413,6 @@@
  
    #ifdef AUTO_BED_LEVELING_GRID
  
-     // Use one of these defines to specify the origin
-     // for a topographical map to be printed for your bed.
-     enum { OriginBackLeft, OriginFrontLeft, OriginBackRight, OriginFrontRight };
-     #define TOPO_ORIGIN OriginFrontLeft
- 
-     // The edges of the rectangle in which to probe
      #define LEFT_PROBE_BED_POSITION 15
      #define RIGHT_PROBE_BED_POSITION 170
      #define FRONT_PROBE_BED_POSITION 20
@@@ -626,17 -624,112 +620,17 @@@
  // REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
  //#define RA_CONTROL_PANEL
  
 -//automatic expansion
 -#if defined (MAKRPANEL)
 - #define DOGLCD
 - #define SDSUPPORT
 - #define ULTIPANEL
 - #define NEWPANEL
 - #define DEFAULT_LCD_CONTRAST 17
 -#endif
 -
 -#if defined(miniVIKI) || defined(VIKI2)
 - #define ULTRA_LCD  //general LCD support, also 16x2
 - #define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 - #define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 - 
 -  #ifdef miniVIKI
 -   #define DEFAULT_LCD_CONTRAST 95
 -  #else
 -   #define DEFAULT_LCD_CONTRAST 40
 -  #endif
 -  
 - #define ENCODER_PULSES_PER_STEP 4
 - #define ENCODER_STEPS_PER_MENU_ITEM 1
 -#endif
 -
 -#if defined (PANEL_ONE)
 - #define SDSUPPORT
 - #define ULTIMAKERCONTROLLER
 -#endif
 -
 -#if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
 - #define DOGLCD
 - #define U8GLIB_ST7920
 - #define REPRAP_DISCOUNT_SMART_CONTROLLER
 -#endif
 -
 -#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
 - #define ULTIPANEL
 - #define NEWPANEL
 -#endif
 -
 -#if defined(REPRAPWORLD_KEYPAD)
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
 -#if defined(RA_CONTROL_PANEL)
 - #define ULTIPANEL
 - #define NEWPANEL
 - #define LCD_I2C_TYPE_PCA8574
 - #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 -#endif
 -
 -//I2C PANELS
 +/**
 + * I2C Panels
 + */
  
  //#define LCD_I2C_SAINSMART_YWROBOT
 -#ifdef LCD_I2C_SAINSMART_YWROBOT
 -  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
 -  // Make sure it is placed in the Arduino libraries directory.
 -  #define LCD_I2C_TYPE_PCF8575
 -  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
  
  // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
  //#define LCD_I2C_PANELOLU2
 -#ifdef LCD_I2C_PANELOLU2
 -  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 -  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 -  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
 -  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin
 -  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
 -  #define LCD_I2C_TYPE_MCP23017
 -  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 -  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -
 -  #ifndef ENCODER_PULSES_PER_STEP
 -	#define ENCODER_PULSES_PER_STEP 4
 -  #endif
 -
 -  #ifndef ENCODER_STEPS_PER_MENU_ITEM
 -	#define ENCODER_STEPS_PER_MENU_ITEM 1
 -  #endif
 -
 -
 -  #ifdef LCD_USE_I2C_BUZZER
 -	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
 -	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
 -  #endif
 -
 -#endif
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
  //#define LCD_I2C_VIKI
 -#ifdef LCD_I2C_VIKI
 -  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 -  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 -  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
 -  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
 -  #define LCD_I2C_TYPE_MCP23017
 -  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 -  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
  
  // Shift register panels
  // ---------------------
@@@ -644,10 -737,51 +638,10 @@@
  // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
  
  //#define SAV_3DLCD
 -#ifdef SAV_3DLCD
 -   #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
 -   #define NEWPANEL
 -   #define ULTIPANEL
 -#endif
 -
 -
 -#ifdef ULTIPANEL
 -//  #define NEWPANEL  //enable this if you have a click-encoder panel
 -  #define SDSUPPORT
 -  #define ULTRA_LCD
 -  #ifdef DOGLCD // Change number of lines to match the DOG graphic display
 -    #define LCD_WIDTH 22
 -    #define LCD_HEIGHT 5
 -  #else
 -    #define LCD_WIDTH 20
 -    #define LCD_HEIGHT 4
 -  #endif
 -#else //no panel but just LCD
 -  #ifdef ULTRA_LCD
 -  #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
 -    #define LCD_WIDTH 22
 -    #define LCD_HEIGHT 5
 -  #else
 -    #define LCD_WIDTH 16
 -    #define LCD_HEIGHT 2
 -  #endif
 -  #endif
 -#endif
 -
 -// default LCD contrast for dogm-like LCD displays
 -#ifdef DOGLCD
 -# ifndef DEFAULT_LCD_CONTRAST
 -#  define DEFAULT_LCD_CONTRAST 32
 -# endif
 -#endif
  
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
 -// Temperature status LEDs that display the hotend and bet temperature.
 -// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 -// Otherwise the RED led is on. There is 1C hysteresis.
 -//#define TEMP_STAT_LEDS
 -
  // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
  // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
  // is too low, you should also increment SOFT_PWM_SCALE.
@@@ -659,11 -793,6 +653,11 @@@
  // at zero value, there are 128 effective control positions.
  #define SOFT_PWM_SCALE 0
  
 +// Temperature status LEDs that display the hotend and bet temperature.
 +// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 +// Otherwise the RED led is on. There is 1C hysteresis.
 +//#define TEMP_STAT_LEDS
 +
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
@@@ -735,4 -864,4 +729,4 @@@
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  
 -#endif //__CONFIGURATION_H
 +#endif //CONFIGURATION_H

commit 7717e1ce330f9b9238a8a9f1970d6c0a11806d9d
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Mar 22 21:48:46 2015 -0700

    Fix bad insert in configuration

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 897cdfefa4..63f9063882 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -417,7 +417,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #ifdef AUTO_BED_LEVELING_GRID
 
-home_offset    // The edges of the rectangle in which to probe
     #define LEFT_PROBE_BED_POSITION 15
     #define RIGHT_PROBE_BED_POSITION 170
     #define FRONT_PROBE_BED_POSITION 20

commit 146501215f722322baa0042ff31faa321cc4ab39
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Mar 22 21:45:20 2015 -0700

    Fix mangled probe_pt calls
    
    - Address issue #1669
    - Remove the TOPO_ORIGIN configuration setting

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c892cd9dea..897cdfefa4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -417,12 +417,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #ifdef AUTO_BED_LEVELING_GRID
 
-    // Use one of these defines to specify the origin
-    // for a topographical map to be printed for your bed.
-    enum { OriginBackLeft, OriginFrontLeft, OriginBackRight, OriginFrontRight };
-    #define TOPO_ORIGIN OriginFrontLeft
-
-    // The edges of the rectangle in which to probe
+home_offset    // The edges of the rectangle in which to probe
     #define LEFT_PROBE_BED_POSITION 15
     #define RIGHT_PROBE_BED_POSITION 170
     #define FRONT_PROBE_BED_POSITION 20

commit 15eb5d35a2ee1bf3dc29818ac18ebbffb0a72aaa
Merge: 19df90622b 9b639b4135
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Mar 21 15:42:45 2015 -0700

    Merge branch 'Development' into config_testing
    Latest upstream commits

diff --combined Marlin/Configuration.h
index 2ba65bc580,c892cd9dea..b0b19e2447
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -360,6 -360,10 +360,6 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  #define Y_MAX_POS 200
  #define Z_MAX_POS 200
  
 -#define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 -#define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
 -#define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 -
  //===========================================================================
  //============================= Filament Runout Sensor ======================
  //===========================================================================
@@@ -370,6 -374,23 +370,23 @@@
  //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
  //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
+ //===========================================================================
+ //============================ Manual Bed Leveling ==========================
+ //===========================================================================
+ 
+ // #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
+ // #define MESH_BED_LEVELING    // Enable mesh bed leveling
+ 
+ #if defined(MESH_BED_LEVELING)
+   #define MESH_MIN_X 10
+   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
+   #define MESH_MIN_Y 10
+   #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
+   #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited
+   #define MESH_NUM_Y_POINTS 3
+   #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0
+ #endif  // MESH_BED_LEVELING
+ 
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
  //===========================================================================
@@@ -609,17 -630,112 +626,17 @@@
  // REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
  //#define RA_CONTROL_PANEL
  
 -//automatic expansion
 -#if defined (MAKRPANEL)
 - #define DOGLCD
 - #define SDSUPPORT
 - #define ULTIPANEL
 - #define NEWPANEL
 - #define DEFAULT_LCD_CONTRAST 17
 -#endif
 -
 -#if defined(miniVIKI) || defined(VIKI2)
 - #define ULTRA_LCD  //general LCD support, also 16x2
 - #define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 - #define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 - 
 -  #ifdef miniVIKI
 -   #define DEFAULT_LCD_CONTRAST 95
 -  #else
 -   #define DEFAULT_LCD_CONTRAST 40
 -  #endif
 -  
 - #define ENCODER_PULSES_PER_STEP 4
 - #define ENCODER_STEPS_PER_MENU_ITEM 1
 -#endif
 -
 -#if defined (PANEL_ONE)
 - #define SDSUPPORT
 - #define ULTIMAKERCONTROLLER
 -#endif
 -
 -#if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
 - #define DOGLCD
 - #define U8GLIB_ST7920
 - #define REPRAP_DISCOUNT_SMART_CONTROLLER
 -#endif
 -
 -#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
 - #define ULTIPANEL
 - #define NEWPANEL
 -#endif
 -
 -#if defined(REPRAPWORLD_KEYPAD)
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
 -#if defined(RA_CONTROL_PANEL)
 - #define ULTIPANEL
 - #define NEWPANEL
 - #define LCD_I2C_TYPE_PCA8574
 - #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 -#endif
 -
 -//I2C PANELS
 +/**
 + * I2C Panels
 + */
  
  //#define LCD_I2C_SAINSMART_YWROBOT
 -#ifdef LCD_I2C_SAINSMART_YWROBOT
 -  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
 -  // Make sure it is placed in the Arduino libraries directory.
 -  #define LCD_I2C_TYPE_PCF8575
 -  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
  
  // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
  //#define LCD_I2C_PANELOLU2
 -#ifdef LCD_I2C_PANELOLU2
 -  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 -  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 -  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
 -  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin
 -  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
 -  #define LCD_I2C_TYPE_MCP23017
 -  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 -  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -
 -  #ifndef ENCODER_PULSES_PER_STEP
 -	#define ENCODER_PULSES_PER_STEP 4
 -  #endif
 -
 -  #ifndef ENCODER_STEPS_PER_MENU_ITEM
 -	#define ENCODER_STEPS_PER_MENU_ITEM 1
 -  #endif
 -
 -
 -  #ifdef LCD_USE_I2C_BUZZER
 -	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
 -	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
 -  #endif
 -
 -#endif
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
  //#define LCD_I2C_VIKI
 -#ifdef LCD_I2C_VIKI
 -  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 -  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 -  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
 -  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
 -  #define LCD_I2C_TYPE_MCP23017
 -  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 -  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
  
  // Shift register panels
  // ---------------------
@@@ -627,10 -743,51 +644,10 @@@
  // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
  
  //#define SAV_3DLCD
 -#ifdef SAV_3DLCD
 -   #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
 -   #define NEWPANEL
 -   #define ULTIPANEL
 -#endif
 -
 -
 -#ifdef ULTIPANEL
 -//  #define NEWPANEL  //enable this if you have a click-encoder panel
 -  #define SDSUPPORT
 -  #define ULTRA_LCD
 -  #ifdef DOGLCD // Change number of lines to match the DOG graphic display
 -    #define LCD_WIDTH 22
 -    #define LCD_HEIGHT 5
 -  #else
 -    #define LCD_WIDTH 20
 -    #define LCD_HEIGHT 4
 -  #endif
 -#else //no panel but just LCD
 -  #ifdef ULTRA_LCD
 -  #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
 -    #define LCD_WIDTH 22
 -    #define LCD_HEIGHT 5
 -  #else
 -    #define LCD_WIDTH 16
 -    #define LCD_HEIGHT 2
 -  #endif
 -  #endif
 -#endif
 -
 -// default LCD contrast for dogm-like LCD displays
 -#ifdef DOGLCD
 -# ifndef DEFAULT_LCD_CONTRAST
 -#  define DEFAULT_LCD_CONTRAST 32
 -# endif
 -#endif
  
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
 -// Temperature status LEDs that display the hotend and bet temperature.
 -// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 -// Otherwise the RED led is on. There is 1C hysteresis.
 -//#define TEMP_STAT_LEDS
 -
  // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
  // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
  // is too low, you should also increment SOFT_PWM_SCALE.
@@@ -642,11 -799,6 +659,11 @@@
  // at zero value, there are 128 effective control positions.
  #define SOFT_PWM_SCALE 0
  
 +// Temperature status LEDs that display the hotend and bet temperature.
 +// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 +// Otherwise the RED led is on. There is 1C hysteresis.
 +//#define TEMP_STAT_LEDS
 +
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
@@@ -718,4 -870,4 +735,4 @@@
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  
 -#endif //__CONFIGURATION_H
 +#endif //CONFIGURATION_H

commit 2c9bd15625644d95e80dc8944dacf07101ed4ecf
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Mar 21 15:24:57 2015 -0700

    Move LCD items to `Conditionals.h`
    
    - `Conditionals.h` is included twice, setting LCD values the first time

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9c52f03457..2ba65bc580 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -715,10 +715,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
 
 
-#include "Conditionals_lcd.h"
 #include "Configuration_adv.h"
-#include "Conditionals.h"
-#include "SanityCheck.h"
 #include "thermistortables.h"
 
 #endif //CONFIGURATION_H

commit a7e89d4cfadf3932fab4578cdb8a5e594adb2bdf
Merge: 5112cf8422 0d869703ca
Author: Edward Patel <edward.patel@memention.com>
Date:   Fri Mar 20 15:46:01 2015 +0100

    Merge branch 'Development' into manual-bed-leveling+mesh-bed-level

diff --combined Marlin/Configuration.h
index f0bb262635,eaf000c3ae..c892cd9dea
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -225,6 -225,8 +225,8 @@@ Here are some standard links for gettin
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
  #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
+ //#define PID_BED_DEBUG // Sends debug data to the serial port.
+ 
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
@@@ -372,23 -374,6 +374,23 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
  //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
 +//===========================================================================
 +//============================ Manual Bed Leveling ==========================
 +//===========================================================================
 +
 +// #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
 +// #define MESH_BED_LEVELING    // Enable mesh bed leveling
 +
 +#if defined(MESH_BED_LEVELING)
 +  #define MESH_MIN_X 10
 +  #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
 +  #define MESH_MIN_Y 10
 +  #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
 +  #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited
 +  #define MESH_NUM_Y_POINTS 3
 +  #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0
 +#endif  // MESH_BED_LEVELING
 +
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
  //===========================================================================

commit e72cb3e45d4453585befeab06ac8da56e24f3080
Merge: 6bfccaf99e e3f04c876a
Author: AnHardt <github@kitelab.de>
Date:   Fri Mar 20 13:35:47 2015 +0100

    Merge https://github.com/MarlinFirmware/Marlin into tm2-utf-minus-kanji
    
    Conflicts:
            Marlin/dogm_lcd_implementation.h
            Marlin/ultralcd_implementation_hitachi_HD44780.h
    
    Fix merge conflicts 2

diff --combined Marlin/Configuration.h
index 2cbd2baae5,eaf000c3ae..dca5544def
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -225,6 -225,8 +225,8 @@@ Here are some standard links for gettin
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
  #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
+ //#define PID_BED_DEBUG // Sends debug data to the serial port.
+ 
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
@@@ -553,16 -555,13 +555,16 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  //==============================LCD and SD support=============================
  
  // Define your display language below. Replace (en) with your language code and uncomment.
 -// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
 +// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
  // See also language.h
 -//#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 -
 -// Character based displays can have different extended charsets.
 -#define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
 -//#define DISPLAY_CHARSET_HD44780_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
 +#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 +
 +// Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
 +// To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
 +// See also documentation/LCDLanguageFont.md
 +  #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
 +  //#define DISPLAY_CHARSET_HD44780_WESTERN
 +  //#define DISPLAY_CHARSET_HD44780_CYRILLIC
  
  //#define ULTRA_LCD  //general LCD support, also 16x2
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit 63d5d28085095004f265b756a17c396b5a860b5a
Merge: a1c240b0a4 526a755a66
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Mar 20 04:15:18 2015 -0700

    Merge branch 'Development' into config_testing
    Latest upstream changes

diff --combined Marlin/Configuration.h
index bb753eaa43,eaf000c3ae..9c52f03457
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -225,6 -225,8 +225,8 @@@ Here are some standard links for gettin
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
  #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
+ //#define PID_BED_DEBUG // Sends debug data to the serial port.
+ 
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
@@@ -358,6 -360,10 +360,6 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  #define Y_MAX_POS 200
  #define Z_MAX_POS 200
  
 -#define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 -#define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
 -#define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 -
  //===========================================================================
  //============================= Filament Runout Sensor ======================
  //===========================================================================
@@@ -607,17 -613,112 +609,17 @@@
  // REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
  //#define RA_CONTROL_PANEL
  
 -//automatic expansion
 -#if defined (MAKRPANEL)
 - #define DOGLCD
 - #define SDSUPPORT
 - #define ULTIPANEL
 - #define NEWPANEL
 - #define DEFAULT_LCD_CONTRAST 17
 -#endif
 -
 -#if defined(miniVIKI) || defined(VIKI2)
 - #define ULTRA_LCD  //general LCD support, also 16x2
 - #define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 - #define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 - 
 -  #ifdef miniVIKI
 -   #define DEFAULT_LCD_CONTRAST 95
 -  #else
 -   #define DEFAULT_LCD_CONTRAST 40
 -  #endif
 -  
 - #define ENCODER_PULSES_PER_STEP 4
 - #define ENCODER_STEPS_PER_MENU_ITEM 1
 -#endif
 -
 -#if defined (PANEL_ONE)
 - #define SDSUPPORT
 - #define ULTIMAKERCONTROLLER
 -#endif
 -
 -#if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
 - #define DOGLCD
 - #define U8GLIB_ST7920
 - #define REPRAP_DISCOUNT_SMART_CONTROLLER
 -#endif
 -
 -#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
 - #define ULTIPANEL
 - #define NEWPANEL
 -#endif
 -
 -#if defined(REPRAPWORLD_KEYPAD)
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
 -#if defined(RA_CONTROL_PANEL)
 - #define ULTIPANEL
 - #define NEWPANEL
 - #define LCD_I2C_TYPE_PCA8574
 - #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 -#endif
 -
 -//I2C PANELS
 +/**
 + * I2C Panels
 + */
  
  //#define LCD_I2C_SAINSMART_YWROBOT
 -#ifdef LCD_I2C_SAINSMART_YWROBOT
 -  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
 -  // Make sure it is placed in the Arduino libraries directory.
 -  #define LCD_I2C_TYPE_PCF8575
 -  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
  
  // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
  //#define LCD_I2C_PANELOLU2
 -#ifdef LCD_I2C_PANELOLU2
 -  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 -  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 -  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
 -  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin
 -  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
 -  #define LCD_I2C_TYPE_MCP23017
 -  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 -  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -
 -  #ifndef ENCODER_PULSES_PER_STEP
 -	#define ENCODER_PULSES_PER_STEP 4
 -  #endif
 -
 -  #ifndef ENCODER_STEPS_PER_MENU_ITEM
 -	#define ENCODER_STEPS_PER_MENU_ITEM 1
 -  #endif
 -
 -
 -  #ifdef LCD_USE_I2C_BUZZER
 -	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
 -	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
 -  #endif
 -
 -#endif
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
  //#define LCD_I2C_VIKI
 -#ifdef LCD_I2C_VIKI
 -  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 -  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 -  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
 -  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
 -  #define LCD_I2C_TYPE_MCP23017
 -  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 -  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
 -  #define NEWPANEL
 -  #define ULTIPANEL
 -#endif
  
  // Shift register panels
  // ---------------------
@@@ -625,10 -726,51 +627,10 @@@
  // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
  
  //#define SAV_3DLCD
 -#ifdef SAV_3DLCD
 -   #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
 -   #define NEWPANEL
 -   #define ULTIPANEL
 -#endif
 -
 -
 -#ifdef ULTIPANEL
 -//  #define NEWPANEL  //enable this if you have a click-encoder panel
 -  #define SDSUPPORT
 -  #define ULTRA_LCD
 -  #ifdef DOGLCD // Change number of lines to match the DOG graphic display
 -    #define LCD_WIDTH 22
 -    #define LCD_HEIGHT 5
 -  #else
 -    #define LCD_WIDTH 20
 -    #define LCD_HEIGHT 4
 -  #endif
 -#else //no panel but just LCD
 -  #ifdef ULTRA_LCD
 -  #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
 -    #define LCD_WIDTH 22
 -    #define LCD_HEIGHT 5
 -  #else
 -    #define LCD_WIDTH 16
 -    #define LCD_HEIGHT 2
 -  #endif
 -  #endif
 -#endif
 -
 -// default LCD contrast for dogm-like LCD displays
 -#ifdef DOGLCD
 -# ifndef DEFAULT_LCD_CONTRAST
 -#  define DEFAULT_LCD_CONTRAST 32
 -# endif
 -#endif
  
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
 -// Temperature status LEDs that display the hotend and bet temperature.
 -// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 -// Otherwise the RED led is on. There is 1C hysteresis.
 -//#define TEMP_STAT_LEDS
 -
  // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
  // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
  // is too low, you should also increment SOFT_PWM_SCALE.
@@@ -640,11 -782,6 +642,11 @@@
  // at zero value, there are 128 effective control positions.
  #define SOFT_PWM_SCALE 0
  
 +// Temperature status LEDs that display the hotend and bet temperature.
 +// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 +// Otherwise the RED led is on. There is 1C hysteresis.
 +//#define TEMP_STAT_LEDS
 +
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
@@@ -713,10 -850,7 +715,10 @@@
  
  
  
 +#include "Conditionals_lcd.h"
  #include "Configuration_adv.h"
 +#include "Conditionals.h"
 +#include "SanityCheck.h"
  #include "thermistortables.h"
  
 -#endif //__CONFIGURATION_H
 +#endif //CONFIGURATION_H

commit b6d381f8636670ed2500cb7c4b026cfcbcb4ea8b
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Mar 20 02:50:28 2015 -0700

    Divide up Conditionals to get LCD items early

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3c5d92deee..bb753eaa43 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -713,6 +713,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
 
 
+#include "Conditionals_lcd.h"
 #include "Configuration_adv.h"
 #include "Conditionals.h"
 #include "SanityCheck.h"

commit 670006b919a3a26a7262e1bcda0929eebae70a94
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Mar 19 22:22:23 2015 -0700

    Remove invariant code from Configurations
    
    - Add `Conditionals.h` with calculated configuration values
    - Add `SanityCheck.h` with checks for configuration errors
    - Remove equivalent code from all configurations
    - Move error checks from some sources to `SanityCheck.h` also
    - Fix initialization of count_direction in stepper.cpp

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1778fc28f6..3c5d92deee 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -358,10 +358,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 #define Y_MAX_POS 200
 #define Z_MAX_POS 200
 
-#define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
-#define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
-#define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
-
 //===========================================================================
 //============================= Filament Runout Sensor ======================
 //===========================================================================
@@ -611,112 +607,17 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 //#define RA_CONTROL_PANEL
 
-//automatic expansion
-#if defined (MAKRPANEL)
- #define DOGLCD
- #define SDSUPPORT
- #define ULTIPANEL
- #define NEWPANEL
- #define DEFAULT_LCD_CONTRAST 17
-#endif
-
-#if defined(miniVIKI) || defined(VIKI2)
- #define ULTRA_LCD  //general LCD support, also 16x2
- #define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
- #define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
- 
-  #ifdef miniVIKI
-   #define DEFAULT_LCD_CONTRAST 95
-  #else
-   #define DEFAULT_LCD_CONTRAST 40
-  #endif
-  
- #define ENCODER_PULSES_PER_STEP 4
- #define ENCODER_STEPS_PER_MENU_ITEM 1
-#endif
-
-#if defined (PANEL_ONE)
- #define SDSUPPORT
- #define ULTIMAKERCONTROLLER
-#endif
-
-#if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
- #define DOGLCD
- #define U8GLIB_ST7920
- #define REPRAP_DISCOUNT_SMART_CONTROLLER
-#endif
-
-#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
- #define ULTIPANEL
- #define NEWPANEL
-#endif
-
-#if defined(REPRAPWORLD_KEYPAD)
-  #define NEWPANEL
-  #define ULTIPANEL
-#endif
-#if defined(RA_CONTROL_PANEL)
- #define ULTIPANEL
- #define NEWPANEL
- #define LCD_I2C_TYPE_PCA8574
- #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
-#endif
-
-//I2C PANELS
+/**
+ * I2C Panels
+ */
 
 //#define LCD_I2C_SAINSMART_YWROBOT
-#ifdef LCD_I2C_SAINSMART_YWROBOT
-  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
-  // Make sure it is placed in the Arduino libraries directory.
-  #define LCD_I2C_TYPE_PCF8575
-  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
-  #define NEWPANEL
-  #define ULTIPANEL
-#endif
 
 // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 //#define LCD_I2C_PANELOLU2
-#ifdef LCD_I2C_PANELOLU2
-  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
-  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
-  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
-  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin
-  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
-  #define LCD_I2C_TYPE_MCP23017
-  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
-  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
-  #define NEWPANEL
-  #define ULTIPANEL
-
-  #ifndef ENCODER_PULSES_PER_STEP
-	#define ENCODER_PULSES_PER_STEP 4
-  #endif
-
-  #ifndef ENCODER_STEPS_PER_MENU_ITEM
-	#define ENCODER_STEPS_PER_MENU_ITEM 1
-  #endif
-
-
-  #ifdef LCD_USE_I2C_BUZZER
-	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
-	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
-  #endif
-
-#endif
 
 // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 //#define LCD_I2C_VIKI
-#ifdef LCD_I2C_VIKI
-  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
-  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
-  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
-  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
-  #define LCD_I2C_TYPE_MCP23017
-  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
-  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
-  #define NEWPANEL
-  #define ULTIPANEL
-#endif
 
 // Shift register panels
 // ---------------------
@@ -724,51 +625,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
 
 //#define SAV_3DLCD
-#ifdef SAV_3DLCD
-   #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
-   #define NEWPANEL
-   #define ULTIPANEL
-#endif
-
-
-#ifdef ULTIPANEL
-//  #define NEWPANEL  //enable this if you have a click-encoder panel
-  #define SDSUPPORT
-  #define ULTRA_LCD
-  #ifdef DOGLCD // Change number of lines to match the DOG graphic display
-    #define LCD_WIDTH 22
-    #define LCD_HEIGHT 5
-  #else
-    #define LCD_WIDTH 20
-    #define LCD_HEIGHT 4
-  #endif
-#else //no panel but just LCD
-  #ifdef ULTRA_LCD
-  #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
-    #define LCD_WIDTH 22
-    #define LCD_HEIGHT 5
-  #else
-    #define LCD_WIDTH 16
-    #define LCD_HEIGHT 2
-  #endif
-  #endif
-#endif
-
-// default LCD contrast for dogm-like LCD displays
-#ifdef DOGLCD
-# ifndef DEFAULT_LCD_CONTRAST
-#  define DEFAULT_LCD_CONTRAST 32
-# endif
-#endif
 
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 
-// Temperature status LEDs that display the hotend and bet temperature.
-// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
-// Otherwise the RED led is on. There is 1C hysteresis.
-//#define TEMP_STAT_LEDS
-
 // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
 // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
 // is too low, you should also increment SOFT_PWM_SCALE.
@@ -780,6 +640,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 // at zero value, there are 128 effective control positions.
 #define SOFT_PWM_SCALE 0
 
+// Temperature status LEDs that display the hotend and bet temperature.
+// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
+// Otherwise the RED led is on. There is 1C hysteresis.
+//#define TEMP_STAT_LEDS
+
 // M240  Triggers a camera by emulating a Canon RC-1 Remote
 // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
 // #define PHOTOGRAPH_PIN     23
@@ -849,6 +714,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
 
 #include "Configuration_adv.h"
+#include "Conditionals.h"
+#include "SanityCheck.h"
 #include "thermistortables.h"
 
-#endif //__CONFIGURATION_H
+#endif //CONFIGURATION_H

commit 47c1ea72aff276a9ea0317aba8b400a49ac9e7dc
Merge: e650d4044e 8ccdac9898
Author: AnHardt <github@kitelab.de>
Date:   Fri Mar 20 00:07:36 2015 +0100

    Merge https://github.com/kieranc/Marlin into PIDdebug
    
    Conflicts:
            Marlin/temperature.cpp
    
    Cleaned merge conflict.
    
    Codeposition had changed.
    Variable pid_input had vanished.
    
    Signed-off-by: AnHardt <github@kitelab.de>

diff --combined Marlin/Configuration.h
index 1778fc28f6,b9f31540bb..eaf000c3ae
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -8,7 -8,7 +8,7 @@@
  //===========================================================================
  /*
  Here are some standard links for getting your machine calibrated:
 - * http://reprap.org/wiki/Calibration 
 + * http://reprap.org/wiki/Calibration
   * http://youtu.be/wAL9d7FgInk
   * http://calculator.josefprusa.cz
   * http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
@@@ -59,7 -59,7 +59,7 @@@
  // The following define selects which electronics board you have.
  // Please choose the name from boards.h that matches your setup
  #ifndef MOTHERBOARD
 -  #define MOTHERBOARD BOARD_ULTIMAKER
 +  #define MOTHERBOARD BOARD_RAMPS_13_EFB
  #endif
  
  // Define this to set a custom name for your generic Mendel,
@@@ -118,15 -118,10 +118,15 @@@
  // 1010 is Pt1000 with 1k pullup (non standard)
  // 147 is Pt100 with 4k7 pullup
  // 110 is Pt100 with 1k pullup (non standard)
 +// 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below. 
 +//     Use it for Testing or Development purposes. NEVER for production machine.
 +//     #define DUMMY_THERMISTOR_998_VALUE 25
 +//     #define DUMMY_THERMISTOR_999_VALUE 100
  
 -#define TEMP_SENSOR_0 -1
 -#define TEMP_SENSOR_1 -1
 +#define TEMP_SENSOR_0 1
 +#define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
 +#define TEMP_SENSOR_3 0
  #define TEMP_SENSOR_BED 0
  
  // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
@@@ -144,7 -139,6 +144,7 @@@
  #define HEATER_0_MINTEMP 5
  #define HEATER_1_MINTEMP 5
  #define HEATER_2_MINTEMP 5
 +#define HEATER_3_MINTEMP 5
  #define BED_MINTEMP 5
  
  // When temperature exceeds max temp, your heater will be switched off.
@@@ -153,7 -147,6 +153,7 @@@
  #define HEATER_0_MAXTEMP 275
  #define HEATER_1_MAXTEMP 275
  #define HEATER_2_MAXTEMP 275
 +#define HEATER_3_MAXTEMP 275
  #define BED_MAXTEMP 150
  
  // If your bed has low resistance e.g. .6 ohm and throws the fuse you can duty cycle it to reduce the
@@@ -225,6 -218,8 +225,8 @@@
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
  #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
+ //#define PID_BED_DEBUG // Sends debug data to the serial port.
+ 
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
  //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
@@@ -295,30 -290,46 +297,30 @@@ your extruder heater takes 2 minutes t
  //============================= Mechanical Settings =========================
  //===========================================================================
  
 -// Uncomment the following line to enable CoreXY kinematics
 +// Uncomment this option to enable CoreXY kinematics
  // #define COREXY
  
 -// coarse Endstop Settings
 -#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 -
 -#ifndef ENDSTOPPULLUPS
 -  // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
 -  // #define ENDSTOPPULLUP_XMAX
 -  // #define ENDSTOPPULLUP_YMAX
 -  // #define ENDSTOPPULLUP_ZMAX
 -  // #define ENDSTOPPULLUP_XMIN
 -  // #define ENDSTOPPULLUP_YMIN
 -  // #define ENDSTOPPULLUP_ZMIN
 -#endif
 -
 -#ifdef ENDSTOPPULLUPS
 -  #define ENDSTOPPULLUP_XMAX
 -  #define ENDSTOPPULLUP_YMAX
 -  #define ENDSTOPPULLUP_ZMAX
 -  #define ENDSTOPPULLUP_XMIN
 -  #define ENDSTOPPULLUP_YMIN
 -  #define ENDSTOPPULLUP_ZMIN
 -#endif
 -
 -// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 -const bool X_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool Y_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool Z_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool X_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool Y_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 +// Enable this option for Toshiba steppers
 +// #define CONFIG_STEPPERS_TOSHIBA
 +
 +// The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
 +#define ENDSTOPPULLUP_XMAX
 +#define ENDSTOPPULLUP_YMAX
 +#define ENDSTOPPULLUP_ZMAX
 +#define ENDSTOPPULLUP_XMIN
 +#define ENDSTOPPULLUP_YMIN
 +#define ENDSTOPPULLUP_ZMIN
 +
 +// Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
 +const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Y_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
 -// Disable max endstops for compatibility with endstop checking routine
 -#if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)
 -  #define DISABLE_MAX_ENDSTOPS
 -#endif
 -
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
@@@ -332,14 -343,12 +334,14 @@@
  #define DISABLE_E false // For all extruders
  #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
 -#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 -#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 -#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 -#define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 -#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 -#define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 +// If you motor turns to wrong direction, you can invert it here:
 +#define INVERT_X_DIR false
 +#define INVERT_Y_DIR false
 +#define INVERT_Z_DIR false
 +#define INVERT_E0_DIR false
 +#define INVERT_E1_DIR false
 +#define INVERT_E2_DIR false
 +#define INVERT_E3_DIR false
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@@ -351,26 -360,17 +353,26 @@@
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  
  // Travel limits after homing (units are in mm)
 -#define X_MAX_POS 205
  #define X_MIN_POS 0
 -#define Y_MAX_POS 205
  #define Y_MIN_POS 0
 -#define Z_MAX_POS 200
  #define Z_MIN_POS 0
 +#define X_MAX_POS 200
 +#define Y_MAX_POS 200
 +#define Z_MAX_POS 200
  
  #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
 +//===========================================================================
 +//============================= Filament Runout Sensor ======================
 +//===========================================================================
 +//#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
 +                                 // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
 +                                 // It is assumed that when logic high = filament available
 +                                 //                    when logic  low = filament ran out
 +//const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
 +//#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
@@@ -381,45 -381,40 +383,45 @@@
  
  #ifdef ENABLE_AUTO_BED_LEVELING
  
 -// There are 2 different ways to pick the X and Y locations to probe:
 -
 -//  - "grid" mode
 -//    Probe every point in a rectangular grid
 -//    You must specify the rectangle, and the density of sample points
 -//    This mode is preferred because there are more measurements.
 -//    It used to be called ACCURATE_BED_LEVELING but "grid" is more descriptive
 -
 -//  - "3-point" mode
 -//    Probe 3 arbitrary points on the bed (that aren't colinear)
 -//    You must specify the X & Y coordinates of all 3 points
 -
 +  // There are 2 different ways to specify probing locations
 +  //
 +  // - "grid" mode
 +  //   Probe several points in a rectangular grid.
 +  //   You specify the rectangle and the density of sample points.
 +  //   This mode is preferred because there are more measurements.
 +  //
 +  // - "3-point" mode
 +  //   Probe 3 arbitrary points on the bed (that aren't colinear)
 +  //   You specify the XY coordinates of all 3 points.
 +
 +  // Enable this to sample the bed in a grid (least squares solution)
 +  // Note: this feature generates 10KB extra code size
    #define AUTO_BED_LEVELING_GRID
 -  // with AUTO_BED_LEVELING_GRID, the bed is sampled in a
 -  // AUTO_BED_LEVELING_GRID_POINTSxAUTO_BED_LEVELING_GRID_POINTS grid
 -  // and least squares solution is calculated
 -  // Note: this feature occupies 10'206 byte
 +
    #ifdef AUTO_BED_LEVELING_GRID
  
 -    // set the rectangle in which to probe
 +    // Use one of these defines to specify the origin
 +    // for a topographical map to be printed for your bed.
 +    enum { OriginBackLeft, OriginFrontLeft, OriginBackRight, OriginFrontRight };
 +    #define TOPO_ORIGIN OriginFrontLeft
 +
 +    // The edges of the rectangle in which to probe
      #define LEFT_PROBE_BED_POSITION 15
      #define RIGHT_PROBE_BED_POSITION 170
 -    #define BACK_PROBE_BED_POSITION 180
      #define FRONT_PROBE_BED_POSITION 20
 +    #define BACK_PROBE_BED_POSITION 170
 +    
 +    #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
  
 -     // set the number of grid points per dimension
 -     // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
 +    // Set the number of grid points per dimension
 +    // You probably don't need more than 3 (squared=9)
      #define AUTO_BED_LEVELING_GRID_POINTS 2
  
  
 -  #else  // not AUTO_BED_LEVELING_GRID
 -    // with no grid, just probe 3 arbitrary points.  A simple cross-product
 -    // is used to esimate the plane of the print bed
 +  #else  // !AUTO_BED_LEVELING_GRID
  
 +      // Arbitrary points to probe. A simple cross-product
 +      // is used to estimate the plane of the bed.
        #define ABL_PROBE_PT_1_X 15
        #define ABL_PROBE_PT_1_Y 180
        #define ABL_PROBE_PT_2_X 15
@@@ -430,11 -425,11 +432,11 @@@
    #endif // AUTO_BED_LEVELING_GRID
  
  
 -  // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
 +  // Offsets to the probe relative to the extruder tip (Hotend - Probe)
    // X and Y offsets must be integers
 -  #define X_PROBE_OFFSET_FROM_EXTRUDER -25
 -  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29
 -  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35
 +  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
 +  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Probe on: -front +behind
 +  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // -below (always!)
  
    #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
                                          // Be sure you have this distance over your Z_MAX_POS in case
@@@ -443,11 -438,7 +445,11 @@@
  
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
 +  #define Z_RAISE_AFTER_PROBING 15    //How much the extruder will be raised after the last probing point.
  
 +//   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
 +                                                                            //Useful to retract a deployable probe.
 +                                                                           
    //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
    //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
@@@ -475,6 -466,29 +477,6 @@@
  
    #endif
  
 -  #ifdef AUTO_BED_LEVELING_GRID	// Check if Probe_Offset * Grid Points is greater than Probing Range
 -    #if X_PROBE_OFFSET_FROM_EXTRUDER < 0
 -      #if (-(X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
 -	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 -	  #endif
 -	#else
 -      #if ((X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
 -	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 -	  #endif
 -	#endif
 -    #if Y_PROBE_OFFSET_FROM_EXTRUDER < 0
 -      #if (-(Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
 -	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 -	  #endif
 -	#else
 -      #if ((Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
 -	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 -	  #endif
 -	#endif
 -
 -	
 -  #endif
 -  
  #endif // ENABLE_AUTO_BED_LEVELING
  
  
@@@ -482,14 -496,12 +484,14 @@@
  //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
 -//Manual homing switch locations:
 +// Manual homing switch locations:
  // For deltabots this means top and center of the Cartesian print volume.
 -#define MANUAL_X_HOME_POS 0
 -#define MANUAL_Y_HOME_POS 0
 -#define MANUAL_Z_HOME_POS 0
 -//#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 +#ifdef MANUAL_HOME_POSITIONS
 +  #define MANUAL_X_HOME_POS 0
 +  #define MANUAL_Y_HOME_POS 0
 +  #define MANUAL_Z_HOME_POS 0
 +  //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 +#endif
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -497,13 -509,12 +499,13 @@@
  
  // default settings
  
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
 -#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
 -#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
 +#define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
 +#define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
  
 -#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 -#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
 +#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
 +#define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
 +#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@@ -544,11 -555,11 +546,11 @@@
  // Preheat Constants
  #define PLA_PREHEAT_HOTEND_TEMP 180
  #define PLA_PREHEAT_HPB_TEMP 70
 -#define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +#define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  #define ABS_PREHEAT_HOTEND_TEMP 240
 -#define ABS_PREHEAT_HPB_TEMP 100
 -#define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +#define ABS_PREHEAT_HPB_TEMP 110
 +#define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  //==============================LCD and SD support=============================
  
@@@ -573,20 -584,10 +575,20 @@@
  //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
  //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
  
 +// PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
 +// http://reprap.org/wiki/PanelOne
 +//#define PANEL_ONE
 +
  // The MaKr3d Makr-Panel with graphic controller and SD support
  // http://reprap.org/wiki/MaKr3d_MaKrPanel
  //#define MAKRPANEL
  
 +// The Panucatt Devices Viki 2.0 and mini Viki with Graphic LCD
 +// http://panucatt.com
 +// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 +//#define VIKI2
 +//#define miniVIKI
 +
  // The RepRapDiscount Smart Controller (white PCB)
  // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
  //#define REPRAP_DISCOUNT_SMART_CONTROLLER
@@@ -620,26 -621,6 +622,26 @@@
   #define DEFAULT_LCD_CONTRAST 17
  #endif
  
 +#if defined(miniVIKI) || defined(VIKI2)
 + #define ULTRA_LCD  //general LCD support, also 16x2
 + #define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 + #define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
 + 
 +  #ifdef miniVIKI
 +   #define DEFAULT_LCD_CONTRAST 95
 +  #else
 +   #define DEFAULT_LCD_CONTRAST 40
 +  #endif
 +  
 + #define ENCODER_PULSES_PER_STEP 4
 + #define ENCODER_STEPS_PER_MENU_ITEM 1
 +#endif
 +
 +#if defined (PANEL_ONE)
 + #define SDSUPPORT
 + #define ULTIMAKERCONTROLLER
 +#endif
 +
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
   #define U8GLIB_ST7920

commit e917477fec2e431d700c777aaf980cf65f5d5fe7
Merge: 1883e1bb60 a534ac197a
Author: AnHardt <github@kitelab.de>
Date:   Thu Mar 19 12:35:43 2015 +0100

    Merge https://github.com/MarlinFirmware/Marlin into tm-utf-minus-kanji
    
    Conflicts:
            Marlin/dogm_lcd_implementation.h
            Marlin/fonts/make_fonts.bat
    
    Claerd conflicts with my own #1621. (His was easy. :-) )
    
    corrected typo in fonts/README.fonts
    
    Applied changes to the new delta-configurations
     and deletet there some extra whitespace at the line-endings.

diff --combined Marlin/Configuration.h
index 1a432f1cc7,1778fc28f6..2cbd2baae5
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -443,6 -443,7 +443,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
+   #define Z_RAISE_AFTER_PROBING 15    //How much the extruder will be raised after the last probing point.
  
  //   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
                                                                              //Useful to retract a deployable probe.
@@@ -552,16 -553,13 +553,16 @@@
  //==============================LCD and SD support=============================
  
  // Define your display language below. Replace (en) with your language code and uncomment.
 -// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
 +// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
  // See also language.h
 -//#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 -
 -// Character based displays can have different extended charsets.
 -#define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
 -//#define DISPLAY_CHARSET_HD44780_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
 +#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 +
 +// Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
 +// To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
 +// See also documentation/LCDLanguageFont.md
 +  #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
 +  //#define DISPLAY_CHARSET_HD44780_WESTERN
 +  //#define DISPLAY_CHARSET_HD44780_CYRILLIC
  
  //#define ULTRA_LCD  //general LCD support, also 16x2
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit 8067a985ce3d7239ab89962eb2d4e528bf83953a
Merge: e983a5ab92 f5f99c4883
Author: Edward Patel <edward.patel@memention.com>
Date:   Tue Mar 17 22:48:08 2015 +0100

    Merge branch 'Development' into manual-bed-leveling+mesh-bed-level
    
    Fixed conflicts:
            Marlin/planner.h

diff --combined Marlin/Configuration.h
index da9d2b60af,1778fc28f6..f0bb262635
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -372,23 -372,6 +372,23 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
  //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
 +//===========================================================================
 +//============================ Manual Bed Leveling ==========================
 +//===========================================================================
 +
 +// #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
 +// #define MESH_BED_LEVELING    // Enable mesh bed leveling
 +
 +#if defined(MESH_BED_LEVELING)
 +  #define MESH_MIN_X 10
 +  #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
 +  #define MESH_MIN_Y 10
 +  #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
 +  #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited
 +  #define MESH_NUM_Y_POINTS 3
 +  #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0
 +#endif  // MESH_BED_LEVELING
 +
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
  //===========================================================================
@@@ -415,6 -398,11 +415,11 @@@
  
    #ifdef AUTO_BED_LEVELING_GRID
  
+     // Use one of these defines to specify the origin
+     // for a topographical map to be printed for your bed.
+     enum { OriginBackLeft, OriginFrontLeft, OriginBackRight, OriginFrontRight };
+     #define TOPO_ORIGIN OriginFrontLeft
+ 
      // The edges of the rectangle in which to probe
      #define LEFT_PROBE_BED_POSITION 15
      #define RIGHT_PROBE_BED_POSITION 170
@@@ -455,6 -443,7 +460,7 @@@
  
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
+   #define Z_RAISE_AFTER_PROBING 15    //How much the extruder will be raised after the last probing point.
  
  //   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
                                                                              //Useful to retract a deployable probe.

commit 1883e1bb602ad054b2dfeb5ae0d65b278ad8475c
Author: AnHardt <github@kitelab.de>
Date:   Tue Mar 17 11:23:44 2015 +0100

    Applied thinkyheads corrections from 2015-03-17

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 87102f79a1..1a432f1cc7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -558,10 +558,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
 // Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
 // To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
-// Se also documentation/LCDLanguageFont.md
+// See also documentation/LCDLanguageFont.md
   #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
   //#define DISPLAY_CHARSET_HD44780_WESTERN
-  //#define DISPLAY_CHARSET_HD44780_CYRILIC
+  //#define DISPLAY_CHARSET_HD44780_CYRILLIC
 
 //#define ULTRA_LCD  //general LCD support, also 16x2
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit 00b162a993d1beceb246d8cb6b3b2b60e13bb91e
Merge: cbe4496123 e38dd5f030
Author: AnHardt <github@kitelab.de>
Date:   Mon Mar 16 17:13:49 2015 +0100

    Merge remote-tracking branch 'origin/utf-kanji' into tm-utf-minus-kanji
    
    Conflicts:
            Marlin/language.h
    Conflict cleaned

diff --combined Marlin/Configuration.h
index 9f6d0497a4,eb23965a6b..87102f79a1
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -8,7 -8,7 +8,7 @@@
  //===========================================================================
  /*
  Here are some standard links for getting your machine calibrated:
 - * http://reprap.org/wiki/Calibration 
 + * http://reprap.org/wiki/Calibration
   * http://youtu.be/wAL9d7FgInk
   * http://calculator.josefprusa.cz
   * http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
@@@ -59,7 -59,7 +59,7 @@@
  // The following define selects which electronics board you have.
  // Please choose the name from boards.h that matches your setup
  #ifndef MOTHERBOARD
 -  #define MOTHERBOARD BOARD_ULTIMAKER
 +  #define MOTHERBOARD BOARD_RAMPS_13_EFB
  #endif
  
  // Define this to set a custom name for your generic Mendel,
@@@ -123,8 -123,8 +123,8 @@@
  //     #define DUMMY_THERMISTOR_998_VALUE 25
  //     #define DUMMY_THERMISTOR_999_VALUE 100
  
 -#define TEMP_SENSOR_0 -1
 -#define TEMP_SENSOR_1 -1
 +#define TEMP_SENSOR_0 1
 +#define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_3 0
  #define TEMP_SENSOR_BED 0
@@@ -295,27 -295,38 +295,27 @@@ your extruder heater takes 2 minutes t
  //============================= Mechanical Settings =========================
  //===========================================================================
  
 -// Uncomment the following line to enable CoreXY kinematics
 +// Uncomment this option to enable CoreXY kinematics
  // #define COREXY
  
 -// coarse Endstop Settings
 -#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 -
 -#ifndef ENDSTOPPULLUPS
 -  // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
 -  // #define ENDSTOPPULLUP_XMAX
 -  // #define ENDSTOPPULLUP_YMAX
 -  // #define ENDSTOPPULLUP_ZMAX
 -  // #define ENDSTOPPULLUP_XMIN
 -  // #define ENDSTOPPULLUP_YMIN
 -  // #define ENDSTOPPULLUP_ZMIN
 -#endif
 -
 -#ifdef ENDSTOPPULLUPS
 -  #define ENDSTOPPULLUP_XMAX
 -  #define ENDSTOPPULLUP_YMAX
 -  #define ENDSTOPPULLUP_ZMAX
 -  #define ENDSTOPPULLUP_XMIN
 -  #define ENDSTOPPULLUP_YMIN
 -  #define ENDSTOPPULLUP_ZMIN
 -#endif
 -
 -// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 -const bool X_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool Y_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool Z_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool X_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool Y_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 -const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 +// Enable this option for Toshiba steppers
 +// #define CONFIG_STEPPERS_TOSHIBA
 +
 +// The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
 +#define ENDSTOPPULLUP_XMAX
 +#define ENDSTOPPULLUP_YMAX
 +#define ENDSTOPPULLUP_ZMAX
 +#define ENDSTOPPULLUP_XMIN
 +#define ENDSTOPPULLUP_YMIN
 +#define ENDSTOPPULLUP_ZMIN
 +
 +// Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
 +const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Y_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 +const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
@@@ -332,14 -343,13 +332,14 @@@
  #define DISABLE_E false // For all extruders
  #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
 -#define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
 -#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 -#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 -#define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 -#define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 -#define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 -#define INVERT_E3_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 +// If you motor turns to wrong direction, you can invert it here:
 +#define INVERT_X_DIR false
 +#define INVERT_Y_DIR false
 +#define INVERT_Z_DIR false
 +#define INVERT_E0_DIR false
 +#define INVERT_E1_DIR false
 +#define INVERT_E2_DIR false
 +#define INVERT_E3_DIR false
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@@ -351,26 -361,17 +351,26 @@@
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  
  // Travel limits after homing (units are in mm)
 -#define X_MAX_POS 205
  #define X_MIN_POS 0
 -#define Y_MAX_POS 205
  #define Y_MIN_POS 0
 -#define Z_MAX_POS 200
  #define Z_MIN_POS 0
 +#define X_MAX_POS 200
 +#define Y_MAX_POS 200
 +#define Z_MAX_POS 200
  
  #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
 +//===========================================================================
 +//============================= Filament Runout Sensor ======================
 +//===========================================================================
 +//#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
 +                                 // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
 +                                 // It is assumed that when logic high = filament available
 +                                 //                    when logic  low = filament ran out
 +//const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
 +//#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
@@@ -381,45 -382,40 +381,45 @@@
  
  #ifdef ENABLE_AUTO_BED_LEVELING
  
 -// There are 2 different ways to pick the X and Y locations to probe:
 -
 -//  - "grid" mode
 -//    Probe every point in a rectangular grid
 -//    You must specify the rectangle, and the density of sample points
 -//    This mode is preferred because there are more measurements.
 -//    It used to be called ACCURATE_BED_LEVELING but "grid" is more descriptive
 -
 -//  - "3-point" mode
 -//    Probe 3 arbitrary points on the bed (that aren't colinear)
 -//    You must specify the X & Y coordinates of all 3 points
 -
 +  // There are 2 different ways to specify probing locations
 +  //
 +  // - "grid" mode
 +  //   Probe several points in a rectangular grid.
 +  //   You specify the rectangle and the density of sample points.
 +  //   This mode is preferred because there are more measurements.
 +  //
 +  // - "3-point" mode
 +  //   Probe 3 arbitrary points on the bed (that aren't colinear)
 +  //   You specify the XY coordinates of all 3 points.
 +
 +  // Enable this to sample the bed in a grid (least squares solution)
 +  // Note: this feature generates 10KB extra code size
    #define AUTO_BED_LEVELING_GRID
 -  // with AUTO_BED_LEVELING_GRID, the bed is sampled in a
 -  // AUTO_BED_LEVELING_GRID_POINTSxAUTO_BED_LEVELING_GRID_POINTS grid
 -  // and least squares solution is calculated
 -  // Note: this feature occupies 10'206 byte
 +
    #ifdef AUTO_BED_LEVELING_GRID
  
 -    // set the rectangle in which to probe
 +    // Use one of these defines to specify the origin
 +    // for a topographical map to be printed for your bed.
 +    enum { OriginBackLeft, OriginFrontLeft, OriginBackRight, OriginFrontRight };
 +    #define TOPO_ORIGIN OriginFrontLeft
 +
 +    // The edges of the rectangle in which to probe
      #define LEFT_PROBE_BED_POSITION 15
      #define RIGHT_PROBE_BED_POSITION 170
 -    #define BACK_PROBE_BED_POSITION 180
      #define FRONT_PROBE_BED_POSITION 20
 +    #define BACK_PROBE_BED_POSITION 170
 +    
 +    #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
  
 -     // set the number of grid points per dimension
 -     // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
 +    // Set the number of grid points per dimension
 +    // You probably don't need more than 3 (squared=9)
      #define AUTO_BED_LEVELING_GRID_POINTS 2
  
  
 -  #else  // not AUTO_BED_LEVELING_GRID
 -    // with no grid, just probe 3 arbitrary points.  A simple cross-product
 -    // is used to esimate the plane of the print bed
 +  #else  // !AUTO_BED_LEVELING_GRID
  
 +      // Arbitrary points to probe. A simple cross-product
 +      // is used to estimate the plane of the bed.
        #define ABL_PROBE_PT_1_X 15
        #define ABL_PROBE_PT_1_Y 180
        #define ABL_PROBE_PT_2_X 15
@@@ -430,10 -426,10 +430,10 @@@
    #endif // AUTO_BED_LEVELING_GRID
  
  
 -  // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
 +  // Offsets to the probe relative to the extruder tip (Hotend - Probe)
    // X and Y offsets must be integers
 -  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // -left  +right
 -  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // -front +behind
 +  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
 +  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Probe on: -front +behind
    #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // -below (always!)
  
    #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
@@@ -444,9 -440,6 +444,9 @@@
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
 +//   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
 +                                                                            //Useful to retract a deployable probe.
 +                                                                           
    //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
    //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
@@@ -474,6 -467,29 +474,6 @@@
  
    #endif
  
 -  #ifdef AUTO_BED_LEVELING_GRID	// Check if Probe_Offset * Grid Points is greater than Probing Range
 -    #if X_PROBE_OFFSET_FROM_EXTRUDER < 0
 -      #if (-(X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
 -	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 -	  #endif
 -	#else
 -      #if ((X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
 -	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 -	  #endif
 -	#endif
 -    #if Y_PROBE_OFFSET_FROM_EXTRUDER < 0
 -      #if (-(Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
 -	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 -	  #endif
 -	#else
 -      #if ((Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
 -	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 -	  #endif
 -	#endif
 -
 -	
 -  #endif
 -  
  #endif // ENABLE_AUTO_BED_LEVELING
  
  
@@@ -481,14 -497,12 +481,14 @@@
  //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
 -//Manual homing switch locations:
 +// Manual homing switch locations:
  // For deltabots this means top and center of the Cartesian print volume.
 -#define MANUAL_X_HOME_POS 0
 -#define MANUAL_Y_HOME_POS 0
 -#define MANUAL_Z_HOME_POS 0
 -//#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 +#ifdef MANUAL_HOME_POSITIONS
 +  #define MANUAL_X_HOME_POS 0
 +  #define MANUAL_Y_HOME_POS 0
 +  #define MANUAL_Z_HOME_POS 0
 +  //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 +#endif
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -496,13 -510,12 +496,13 @@@
  
  // default settings
  
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
 -#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
 -#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
 +#define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
 +#define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
  
 -#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 -#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
 +#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
 +#define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
 +#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@@ -543,22 -556,25 +543,25 @@@
  // Preheat Constants
  #define PLA_PREHEAT_HOTEND_TEMP 180
  #define PLA_PREHEAT_HPB_TEMP 70
 -#define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +#define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  #define ABS_PREHEAT_HOTEND_TEMP 240
 -#define ABS_PREHEAT_HPB_TEMP 100
 -#define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +#define ABS_PREHEAT_HPB_TEMP 110
 +#define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  //==============================LCD and SD support=============================
  
  // Define your display language below. Replace (en) with your language code and uncomment.
- // en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
+ // en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
  // See also language.h
- //#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
- 
- // Character based displays can have different extended charsets.
- #define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
- //#define DISPLAY_CHARSET_HD44780_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
+ #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
+ 
+ // Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
+ // To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
+ // Se also documentation/LCDLanguageFont.md
+   #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
+   //#define DISPLAY_CHARSET_HD44780_WESTERN
+   //#define DISPLAY_CHARSET_HD44780_CYRILIC
  
  //#define ULTRA_LCD  //general LCD support, also 16x2
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit 8a739b6fba7972adb9ddad167dc5488f270562ff
Merge: 53abc5e2f1 cbe4496123
Author: maverikou <maverikou@users.noreply.github.com>
Date:   Mon Mar 16 08:24:26 2015 +0200

    Merge branch 'Development' into delta_auto_bed_level
    
    Conflicts:
            Marlin/Marlin_main.cpp

diff --combined Marlin/Configuration.h
index 88b689d4bf,9f6d0497a4..1778fc28f6
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -59,7 -59,7 +59,7 @@@ Here are some standard links for gettin
  // The following define selects which electronics board you have.
  // Please choose the name from boards.h that matches your setup
  #ifndef MOTHERBOARD
-   #define MOTHERBOARD BOARD_ULTIMAKER
+   #define MOTHERBOARD BOARD_RAMPS_13_EFB
  #endif
  
  // Define this to set a custom name for your generic Mendel,
@@@ -123,8 -123,8 +123,8 @@@
  //     #define DUMMY_THERMISTOR_998_VALUE 25
  //     #define DUMMY_THERMISTOR_999_VALUE 100
  
- #define TEMP_SENSOR_0 -1
- #define TEMP_SENSOR_1 -1
+ #define TEMP_SENSOR_0 1
+ #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_3 0
  #define TEMP_SENSOR_BED 0
@@@ -301,35 -301,21 +301,21 @@@ your extruder heater takes 2 minutes t
  // Enable this option for Toshiba steppers
  // #define CONFIG_STEPPERS_TOSHIBA
  
- // coarse Endstop Settings
- #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
- 
- #ifndef ENDSTOPPULLUPS
-   // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
-   // #define ENDSTOPPULLUP_XMAX
-   // #define ENDSTOPPULLUP_YMAX
-   // #define ENDSTOPPULLUP_ZMAX
-   // #define ENDSTOPPULLUP_XMIN
-   // #define ENDSTOPPULLUP_YMIN
-   // #define ENDSTOPPULLUP_ZMIN
- #endif
- 
- #ifdef ENDSTOPPULLUPS
-   #define ENDSTOPPULLUP_XMAX
-   #define ENDSTOPPULLUP_YMAX
-   #define ENDSTOPPULLUP_ZMAX
-   #define ENDSTOPPULLUP_XMIN
-   #define ENDSTOPPULLUP_YMIN
-   #define ENDSTOPPULLUP_ZMIN
- #endif
- 
- // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool X_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Y_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Z_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool X_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Y_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+ // The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
+ #define ENDSTOPPULLUP_XMAX
+ #define ENDSTOPPULLUP_YMAX
+ #define ENDSTOPPULLUP_ZMAX
+ #define ENDSTOPPULLUP_XMIN
+ #define ENDSTOPPULLUP_YMIN
+ #define ENDSTOPPULLUP_ZMIN
+ 
+ // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
+ const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Y_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
@@@ -346,13 -332,14 +332,14 @@@
  #define DISABLE_E false // For all extruders
  #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
- #define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
- #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
- #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
- #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
- #define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
- #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
- #define INVERT_E3_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+ // If you motor turns to wrong direction, you can invert it here:
+ #define INVERT_X_DIR false
+ #define INVERT_Y_DIR false
+ #define INVERT_Z_DIR false
+ #define INVERT_E0_DIR false
+ #define INVERT_E1_DIR false
+ #define INVERT_E2_DIR false
+ #define INVERT_E3_DIR false
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@@ -364,17 -351,26 +351,26 @@@
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  
  // Travel limits after homing (units are in mm)
- #define X_MAX_POS 205
  #define X_MIN_POS 0
- #define Y_MAX_POS 205
  #define Y_MIN_POS 0
- #define Z_MAX_POS 200
  #define Z_MIN_POS 0
+ #define X_MAX_POS 200
+ #define Y_MAX_POS 200
+ #define Z_MAX_POS 200
  
  #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
+ //===========================================================================
+ //============================= Filament Runout Sensor ======================
+ //===========================================================================
+ //#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
+                                  // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
+                                  // It is assumed that when logic high = filament available
+                                  //                    when logic  low = filament ran out
+ //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
+ //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
@@@ -402,11 -398,18 +398,18 @@@
  
    #ifdef AUTO_BED_LEVELING_GRID
  
+     // Use one of these defines to specify the origin
+     // for a topographical map to be printed for your bed.
+     enum { OriginBackLeft, OriginFrontLeft, OriginBackRight, OriginFrontRight };
+     #define TOPO_ORIGIN OriginFrontLeft
+ 
      // The edges of the rectangle in which to probe
      #define LEFT_PROBE_BED_POSITION 15
      #define RIGHT_PROBE_BED_POSITION 170
      #define FRONT_PROBE_BED_POSITION 20
      #define BACK_PROBE_BED_POSITION 170
+     
+     #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
  
      // Set the number of grid points per dimension
      // You probably don't need more than 3 (squared=9)
@@@ -429,8 -432,8 +432,8 @@@
  
    // Offsets to the probe relative to the extruder tip (Hotend - Probe)
    // X and Y offsets must be integers
-   #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // -left  +right
-   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // -front +behind
+   #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
+   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Probe on: -front +behind
    #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // -below (always!)
  
    #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
@@@ -440,8 -443,10 +443,11 @@@
  
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
 +  #define Z_RAISE_AFTER_PROBING 15    //How much the extruder will be raised after the last probing point.
  
+ //   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
+                                                                             //Useful to retract a deployable probe.
+                                                                            
    //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
    //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
@@@ -476,12 -481,14 +482,14 @@@
  //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
- //Manual homing switch locations:
+ // Manual homing switch locations:
  // For deltabots this means top and center of the Cartesian print volume.
- #define MANUAL_X_HOME_POS 0
- #define MANUAL_Y_HOME_POS 0
- #define MANUAL_Z_HOME_POS 0
- //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
+ #ifdef MANUAL_HOME_POSITIONS
+   #define MANUAL_X_HOME_POS 0
+   #define MANUAL_Y_HOME_POS 0
+   #define MANUAL_Z_HOME_POS 0
+   //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
+ #endif
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -489,12 -496,13 +497,13 @@@
  
  // default settings
  
- #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
- #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
- #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
+ #define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
+ #define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
+ #define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
  
- #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
- #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
+ #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
+ #define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
+ #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@@ -535,11 -543,11 +544,11 @@@
  // Preheat Constants
  #define PLA_PREHEAT_HOTEND_TEMP 180
  #define PLA_PREHEAT_HPB_TEMP 70
- #define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ #define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  #define ABS_PREHEAT_HOTEND_TEMP 240
- #define ABS_PREHEAT_HPB_TEMP 100
- #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ #define ABS_PREHEAT_HPB_TEMP 110
+ #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  //==============================LCD and SD support=============================
  

commit e983a5ab92b7db6aa6577d85425ca399771ff424
Author: Edward Patel <edward.patel@memention.com>
Date:   Mon Mar 16 02:50:11 2015 +0100

    Disable option. Enable for use/test.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6fc0362b91..da9d2b60af 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -376,8 +376,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 //============================ Manual Bed Leveling ==========================
 //===========================================================================
 
-#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
-#define MESH_BED_LEVELING    // Enable mesh bed leveling
+// #define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
+// #define MESH_BED_LEVELING    // Enable mesh bed leveling
 
 #if defined(MESH_BED_LEVELING)
   #define MESH_MIN_X 10

commit f34b9c83d1596057f724d0eeb5c21233a546cd13
Author: Edward Patel <edward.patel@memention.com>
Date:   Mon Mar 16 01:48:46 2015 +0100

    Added comment about MESH_NUM axis points.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 23be011058..6fc0362b91 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -384,7 +384,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
   #define MESH_MIN_Y 10
   #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
-  #define MESH_NUM_X_POINTS 3
+  #define MESH_NUM_X_POINTS 3  // Don't use more than 7 points per axis, implementation limited
   #define MESH_NUM_Y_POINTS 3
   #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0
 #endif  // MESH_BED_LEVELING

commit a686c9878fe2babab4269120adff41d3705eb1b2
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Mar 15 15:49:36 2015 -0700

    Move TOPO_ORIGIN define to Configuration.h
    
    - Addressing issue #1608

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a2c43bd3d1..9f6d0497a4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -398,6 +398,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 
   #ifdef AUTO_BED_LEVELING_GRID
 
+    // Use one of these defines to specify the origin
+    // for a topographical map to be printed for your bed.
+    enum { OriginBackLeft, OriginFrontLeft, OriginBackRight, OriginFrontRight };
+    #define TOPO_ORIGIN OriginFrontLeft
+
     // The edges of the rectangle in which to probe
     #define LEFT_PROBE_BED_POSITION 15
     #define RIGHT_PROBE_BED_POSITION 170

commit 8005d22c8107bfa60c265969a636219fd0ed86fc
Author: Edward Patel <edward.patel@memention.com>
Date:   Sun Mar 15 23:18:11 2015 +0100

    Added menu option for bed leveling.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 63be50d388..23be011058 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -384,8 +384,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
   #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
   #define MESH_MIN_Y 10
   #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
-  #define MESH_NUM_X_POINTS 4
+  #define MESH_NUM_X_POINTS 3
   #define MESH_NUM_Y_POINTS 3
+  #define MESH_HOME_SEARCH_Z 4  // Z after Home, bed somewhere below but above 0.0
 #endif  // MESH_BED_LEVELING
 
 //===========================================================================

commit 0e51e53813c3f2ccd64e09c2cbc16c2740b3974c
Author: Edward Patel <edward.patel@memention.com>
Date:   Sun Mar 15 10:43:26 2015 +0100

    WIP. Adding bed leveling code.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a2c43bd3d1..63be50d388 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -372,6 +372,22 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
 //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
 
+//===========================================================================
+//============================ Manual Bed Leveling ==========================
+//===========================================================================
+
+#define MANUAL_BED_LEVELING  // Add display menu option for bed leveling
+#define MESH_BED_LEVELING    // Enable mesh bed leveling
+
+#if defined(MESH_BED_LEVELING)
+  #define MESH_MIN_X 10
+  #define MESH_MAX_X (X_MAX_POS - MESH_MIN_X)
+  #define MESH_MIN_Y 10
+  #define MESH_MAX_Y (Y_MAX_POS - MESH_MIN_Y)
+  #define MESH_NUM_X_POINTS 4
+  #define MESH_NUM_Y_POINTS 3
+#endif  // MESH_BED_LEVELING
+
 //===========================================================================
 //============================= Bed Auto Leveling ===========================
 //===========================================================================

commit 2f374f146537387e415b525782e27d50beae42c8
Author: AnHardt <github@kitelab.de>
Date:   Sun Mar 15 16:44:37 2015 +0100

    Removed Kanji.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 53f916b311..eb23965a6b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -565,7 +565,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //==============================LCD and SD support=============================
 
 // Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, kanji, test
+// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, test
 // See also language.h
 #define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 

commit 4b50205f117d553d220fd1ab56a2b29a3c46ba24
Merge: 352aa3f4c5 bb4cb1b15a
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Mar 15 06:37:32 2015 -0700

    Merge branch 'Development' into marlin_configurator
    Latest upstream changes

diff --combined Marlin/Configuration.h
index 8200d01f5b,697753bc3a..a2c43bd3d1
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -351,17 -351,26 +351,26 @@@ const bool Z_MAX_ENDSTOP_INVERTING = fa
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  
  // Travel limits after homing (units are in mm)
 -#define X_MAX_POS 200
  #define X_MIN_POS 0
 -#define Y_MAX_POS 200
  #define Y_MIN_POS 0
 -#define Z_MAX_POS 200
  #define Z_MIN_POS 0
 +#define X_MAX_POS 200
 +#define Y_MAX_POS 200
 +#define Z_MAX_POS 200
  
  #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
+ //===========================================================================
+ //============================= Filament Runout Sensor ======================
+ //===========================================================================
+ //#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
+                                  // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
+                                  // It is assumed that when logic high = filament available
+                                  //                    when logic  low = filament ran out
+ //const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
+ //#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
@@@ -467,14 -476,12 +476,14 @@@
  //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
 -//Manual homing switch locations:
 +// Manual homing switch locations:
  // For deltabots this means top and center of the Cartesian print volume.
 -#define MANUAL_X_HOME_POS 0
 -#define MANUAL_Y_HOME_POS 0
 -#define MANUAL_Z_HOME_POS 0
 -//#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 +#ifdef MANUAL_HOME_POSITIONS
 +  #define MANUAL_X_HOME_POS 0
 +  #define MANUAL_Y_HOME_POS 0
 +  #define MANUAL_Z_HOME_POS 0
 +  //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 +#endif
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E

commit 96f8d20f2f3b130ae0cb76536df6b7c0c27fefc1
Author: AnHardt <github@kitelab.de>
Date:   Fri Mar 13 14:26:58 2015 +0100

    Change selection logic another time
    
    Automatic selection was to unflexible.
    
    Updated documentation
    
    Updated language files to new logic and documentation.
    
    Updated bdf2u8g.exe

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 96c307bcbe..53f916b311 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -567,10 +567,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // Define your display language below. Replace (en) with your language code and uncomment.
 // en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, kanji, test
 // See also language.h
-//#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
+#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 
-// Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display chose that one best fitting to your language.
-// to find out what type you have - compile with language_test.h - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
+// Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display this information is not important.
+// To find out what type you have - compile with (test) - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
+// Se also documentation/LCDLanguageFont.md
   #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
   //#define DISPLAY_CHARSET_HD44780_WESTERN
   //#define DISPLAY_CHARSET_HD44780_CYRILIC

commit 08694339eb13e36318313a124b3259c610ea421f
Merge: 978dadf806 e4d77a6313
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Mar 11 15:47:32 2015 -0700

    Merge branch 'Development' into marlin_configurator
    
    Conflicts:
            Marlin/Configuration.h

diff --combined Marlin/Configuration.h
index 91e1ecf713,f279ef0328..8200d01f5b
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -59,7 -59,7 +59,7 @@@ Here are some standard links for gettin
  // The following define selects which electronics board you have.
  // Please choose the name from boards.h that matches your setup
  #ifndef MOTHERBOARD
-   #define MOTHERBOARD BOARD_ULTIMAKER
+   #define MOTHERBOARD BOARD_RAMPS_13_EFB
  #endif
  
  // Define this to set a custom name for your generic Mendel,
@@@ -123,8 -123,8 +123,8 @@@
  //     #define DUMMY_THERMISTOR_998_VALUE 25
  //     #define DUMMY_THERMISTOR_999_VALUE 100
  
- #define TEMP_SENSOR_0 -1
- #define TEMP_SENSOR_1 -1
+ #define TEMP_SENSOR_0 1
+ #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_3 0
  #define TEMP_SENSOR_BED 0
@@@ -301,35 -301,21 +301,21 @@@ your extruder heater takes 2 minutes t
  // Enable this option for Toshiba steppers
  // #define CONFIG_STEPPERS_TOSHIBA
  
- // coarse Endstop Settings
- #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
- 
- #ifndef ENDSTOPPULLUPS
-   // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
-   // #define ENDSTOPPULLUP_XMAX
-   // #define ENDSTOPPULLUP_YMAX
-   // #define ENDSTOPPULLUP_ZMAX
-   // #define ENDSTOPPULLUP_XMIN
-   // #define ENDSTOPPULLUP_YMIN
-   // #define ENDSTOPPULLUP_ZMIN
- #endif
- 
- #ifdef ENDSTOPPULLUPS
-   #define ENDSTOPPULLUP_XMAX
-   #define ENDSTOPPULLUP_YMAX
-   #define ENDSTOPPULLUP_ZMAX
-   #define ENDSTOPPULLUP_XMIN
-   #define ENDSTOPPULLUP_YMIN
-   #define ENDSTOPPULLUP_ZMIN
- #endif
- 
- // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool X_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Y_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Z_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool X_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Y_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+ // The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
+ #define ENDSTOPPULLUP_XMAX
+ #define ENDSTOPPULLUP_YMAX
+ #define ENDSTOPPULLUP_ZMAX
+ #define ENDSTOPPULLUP_XMIN
+ #define ENDSTOPPULLUP_YMIN
+ #define ENDSTOPPULLUP_ZMIN
+ 
+ // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
+ const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Y_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
@@@ -346,14 -332,14 +332,14 @@@
  #define DISABLE_E false // For all extruders
  #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
- // Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
- #define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
- #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
- #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
- #define INVERT_E0_DIR false   // Direct drive extruder v9: true. Geared extruder: false
- #define INVERT_E1_DIR false   // Direct drive extruder v9: true. Geared extruder: false
- #define INVERT_E2_DIR false   // Direct drive extruder v9: true. Geared extruder: false
- #define INVERT_E3_DIR false   // Direct drive extruder v9: true. Geared extruder: false
+ // If you motor turns to wrong direction, you can invert it here:
+ #define INVERT_X_DIR false
+ #define INVERT_Y_DIR false
+ #define INVERT_Z_DIR false
+ #define INVERT_E0_DIR false
+ #define INVERT_E1_DIR false
+ #define INVERT_E2_DIR false
+ #define INVERT_E3_DIR false
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@@ -365,12 -351,12 +351,12 @@@
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  
  // Travel limits after homing (units are in mm)
 -#define X_MAX_POS 200
  #define X_MIN_POS 0
 -#define Y_MAX_POS 200
  #define Y_MIN_POS 0
 -#define Z_MAX_POS 200
  #define Z_MIN_POS 0
- #define X_MAX_POS 205
- #define Y_MAX_POS 205
++#define X_MAX_POS 200
++#define Y_MAX_POS 200
 +#define Z_MAX_POS 200
  
  #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
@@@ -408,6 -394,8 +394,8 @@@
      #define RIGHT_PROBE_BED_POSITION 170
      #define FRONT_PROBE_BED_POSITION 20
      #define BACK_PROBE_BED_POSITION 170
+     
+     #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
  
      // Set the number of grid points per dimension
      // You probably don't need more than 3 (squared=9)
@@@ -430,8 -418,8 +418,8 @@@
  
    // Offsets to the probe relative to the extruder tip (Hotend - Probe)
    // X and Y offsets must be integers
-   #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // -left  +right
-   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // -front +behind
+   #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
+   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Probe on: -front +behind
    #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // -below (always!)
  
    #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
@@@ -442,6 -430,9 +430,9 @@@
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
+ //   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
+                                                                             //Useful to retract a deployable probe.
+                                                                            
    //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
    //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
@@@ -476,14 -467,12 +467,14 @@@
  //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
 -//Manual homing switch locations:
 +// Manual homing switch locations:
  // For deltabots this means top and center of the Cartesian print volume.
 -#define MANUAL_X_HOME_POS 0
 -#define MANUAL_Y_HOME_POS 0
 -#define MANUAL_Z_HOME_POS 0
 -//#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 +#ifdef MANUAL_HOME_POSITIONS
 +  #define MANUAL_X_HOME_POS 0
 +  #define MANUAL_Y_HOME_POS 0
 +  #define MANUAL_Z_HOME_POS 0
 +  //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
 +#endif
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -491,12 -480,13 +482,13 @@@
  
  // default settings
  
- #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
- #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
- #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
+ #define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
+ #define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
+ #define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
  
- #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
- #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
+ #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
+ #define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
+ #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@@ -537,11 -527,11 +529,11 @@@
  // Preheat Constants
  #define PLA_PREHEAT_HOTEND_TEMP 180
  #define PLA_PREHEAT_HPB_TEMP 70
- #define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ #define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  #define ABS_PREHEAT_HOTEND_TEMP 240
- #define ABS_PREHEAT_HPB_TEMP 100
- #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ #define ABS_PREHEAT_HPB_TEMP 110
+ #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  //==============================LCD and SD support=============================
  

commit b373826428db6ab19672b91ce3fbd982e0986102
Merge: 956fb2d278 c0b6075f77
Author: Mehmet Sutas <msutas@gmail.com>
Date:   Thu Mar 12 00:07:39 2015 +0200

    Merge pull request #2 from MarlinFirmware/Development
    
    update

diff --combined Marlin/Configuration.h
index 9d98204886,f279ef0328..697753bc3a
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -59,7 -59,7 +59,7 @@@ Here are some standard links for gettin
  // The following define selects which electronics board you have.
  // Please choose the name from boards.h that matches your setup
  #ifndef MOTHERBOARD
-   #define MOTHERBOARD BOARD_ULTIMAKER
+   #define MOTHERBOARD BOARD_RAMPS_13_EFB
  #endif
  
  // Define this to set a custom name for your generic Mendel,
@@@ -123,8 -123,8 +123,8 @@@
  //     #define DUMMY_THERMISTOR_998_VALUE 25
  //     #define DUMMY_THERMISTOR_999_VALUE 100
  
- #define TEMP_SENSOR_0 -1
- #define TEMP_SENSOR_1 -1
+ #define TEMP_SENSOR_0 1
+ #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_3 0
  #define TEMP_SENSOR_BED 0
@@@ -301,35 -301,21 +301,21 @@@ your extruder heater takes 2 minutes t
  // Enable this option for Toshiba steppers
  // #define CONFIG_STEPPERS_TOSHIBA
  
- // coarse Endstop Settings
- #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
- 
- #ifndef ENDSTOPPULLUPS
-   // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
-   // #define ENDSTOPPULLUP_XMAX
-   // #define ENDSTOPPULLUP_YMAX
-   // #define ENDSTOPPULLUP_ZMAX
-   // #define ENDSTOPPULLUP_XMIN
-   // #define ENDSTOPPULLUP_YMIN
-   // #define ENDSTOPPULLUP_ZMIN
- #endif
- 
- #ifdef ENDSTOPPULLUPS
-   #define ENDSTOPPULLUP_XMAX
-   #define ENDSTOPPULLUP_YMAX
-   #define ENDSTOPPULLUP_ZMAX
-   #define ENDSTOPPULLUP_XMIN
-   #define ENDSTOPPULLUP_YMIN
-   #define ENDSTOPPULLUP_ZMIN
- #endif
- 
- // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool X_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Y_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Z_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool X_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Y_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
- const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+ // The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
+ #define ENDSTOPPULLUP_XMAX
+ #define ENDSTOPPULLUP_YMAX
+ #define ENDSTOPPULLUP_ZMAX
+ #define ENDSTOPPULLUP_XMIN
+ #define ENDSTOPPULLUP_YMIN
+ #define ENDSTOPPULLUP_ZMIN
+ 
+ // Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
+ const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Y_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
@@@ -346,13 -332,14 +332,14 @@@
  #define DISABLE_E false // For all extruders
  #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
- #define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
- #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
- #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
- #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
- #define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
- #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
- #define INVERT_E3_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+ // If you motor turns to wrong direction, you can invert it here:
+ #define INVERT_X_DIR false
+ #define INVERT_Y_DIR false
+ #define INVERT_Z_DIR false
+ #define INVERT_E0_DIR false
+ #define INVERT_E1_DIR false
+ #define INVERT_E2_DIR false
+ #define INVERT_E3_DIR false
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@@ -364,9 -351,9 +351,9 @@@
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  
  // Travel limits after homing (units are in mm)
- #define X_MAX_POS 205
+ #define X_MAX_POS 200
  #define X_MIN_POS 0
- #define Y_MAX_POS 205
+ #define Y_MAX_POS 200
  #define Y_MIN_POS 0
  #define Z_MAX_POS 200
  #define Z_MIN_POS 0
@@@ -375,15 -362,6 +362,15 @@@
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
 +//===========================================================================
 +//============================= Filament Runout Sensor ======================
 +//===========================================================================
 +//#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
 +                                 // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
 +                                 // It is assumed that when logic high = filament available
 +                                 //                    when logic  low = filament ran out
 +//const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
 +//#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
  
  //===========================================================================
  //============================= Bed Auto Leveling ===========================
@@@ -416,6 -394,8 +403,8 @@@
      #define RIGHT_PROBE_BED_POSITION 170
      #define FRONT_PROBE_BED_POSITION 20
      #define BACK_PROBE_BED_POSITION 170
+     
+     #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
  
      // Set the number of grid points per dimension
      // You probably don't need more than 3 (squared=9)
@@@ -438,8 -418,8 +427,8 @@@
  
    // Offsets to the probe relative to the extruder tip (Hotend - Probe)
    // X and Y offsets must be integers
-   #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // -left  +right
-   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // -front +behind
+   #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
+   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Probe on: -front +behind
    #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // -below (always!)
  
    #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
@@@ -450,6 -430,9 +439,9 @@@
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
+ //   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
+                                                                             //Useful to retract a deployable probe.
+                                                                            
    //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
    //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
@@@ -497,12 -480,13 +489,13 @@@
  
  // default settings
  
- #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
- #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
- #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
+ #define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
+ #define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
+ #define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
  
- #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
- #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
+ #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
+ #define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
+ #define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@@ -543,11 -527,11 +536,11 @@@
  // Preheat Constants
  #define PLA_PREHEAT_HOTEND_TEMP 180
  #define PLA_PREHEAT_HPB_TEMP 70
- #define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ #define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  #define ABS_PREHEAT_HOTEND_TEMP 240
- #define ABS_PREHEAT_HPB_TEMP 100
- #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ #define ABS_PREHEAT_HPB_TEMP 110
+ #define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
  
  //==============================LCD and SD support=============================
  

commit 5bafb1fe1f66dfc24e2f003dfe395ea218c9c3fa
Author: AnHardt <github@kitelab.de>
Date:   Wed Mar 11 20:46:52 2015 +0100

    Add user test to language_test.h and make it default.
    
    Improve description in Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 70b74123ed..96c307bcbe 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -570,7 +570,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 
 // Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display chose that one best fitting to your language.
-// to find out what type you have - compile with language_test.h - upload - click to get the menu.
+// to find out what type you have - compile with language_test.h - upload - click to get the menu. You'll see two typical lines from the upper half of the charset.
   #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
   //#define DISPLAY_CHARSET_HD44780_WESTERN
   //#define DISPLAY_CHARSET_HD44780_CYRILIC

commit 9157cbd8f340579958901c2e77dbcfba687d54d7
Author: alexborro <alexborro@gmail.com>
Date:   Wed Mar 11 13:19:02 2015 -0300

    Add Travel Acceleration and change the M204 options
    
    Added option to set Travel Acceleration (non printing moves).
    The M204 options was a non sense (S for printing moves and T for retract
    moves).
    
    It has been changed to:
    P = Printing moves
    R = Retract only (no X, Y, Z) moves
    T = Travel (non
    printing) moves
    
    I will add this info o G-Code wiki in reprap.org. I also advise to put
    this info in Marlin next version changelog.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 890a87dd20..f279ef0328 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -484,8 +484,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic o
 #define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
 #define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
 
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
-#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
+#define DEFAULT_RETRACT_ACCELERATION  3000   // E acceleration in mm/s^2 for retracts
+#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves
 
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).

commit 817751d4b969baf545b0587aca3007d118872c48
Author: AnHardt <github@kitelab.de>
Date:   Wed Mar 11 11:10:35 2015 +0100

    Added new languages, the Cyrillic display and a test language to find out your hardware.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 076e75c538..70b74123ed 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -565,13 +565,15 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //==============================LCD and SD support=============================
 
 // Define your display language below. Replace (en) with your language code and uncomment.
-// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
+// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu, kana, kana_utf8, kanji, test
 // See also language.h
 //#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 
-// Character based displays can have different extended charsets.
-#define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
-//#define DISPLAY_CHARSET_HD44780_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
+// Chose ONE of the next three charsets. This has to match your hardware. In case of a full graphic display chose that one best fitting to your language.
+// to find out what type you have - compile with language_test.h - upload - click to get the menu.
+  #define DISPLAY_CHARSET_HD44780_JAPAN        // this is the most common hardware
+  //#define DISPLAY_CHARSET_HD44780_WESTERN
+  //#define DISPLAY_CHARSET_HD44780_CYRILIC
 
 //#define ULTRA_LCD  //general LCD support, also 16x2
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit 5bf42066faf7bd125f892493ce233ebe2a745c25
Author: alexborro <alexborro@gmail.com>
Date:   Tue Mar 10 15:06:34 2015 -0300

    Fix typo in configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b586da2ed1..890a87dd20 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -59,7 +59,7 @@ Here are some standard links for getting your machine calibrated:
 // The following define selects which electronics board you have.
 // Please choose the name from boards.h that matches your setup
 #ifndef MOTHERBOARD
-  #define MOTHERBOARD BOARD_RAMPS_13
+  #define MOTHERBOARD BOARD_RAMPS_13_EFB
 #endif
 
 // Define this to set a custom name for your generic Mendel,

commit 8a4b62d081c97db40cbac1bae8de44c45dbab225
Author: alexborro <alexborro@gmail.com>
Date:   Tue Mar 10 14:41:21 2015 -0300

    Set more regular setup in configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 20599a6d57..b586da2ed1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -59,7 +59,7 @@ Here are some standard links for getting your machine calibrated:
 // The following define selects which electronics board you have.
 // Please choose the name from boards.h that matches your setup
 #ifndef MOTHERBOARD
-  #define MOTHERBOARD BOARD_ULTIMAKER
+  #define MOTHERBOARD BOARD_RAMPS_13
 #endif
 
 // Define this to set a custom name for your generic Mendel,
@@ -123,8 +123,8 @@ Here are some standard links for getting your machine calibrated:
 //     #define DUMMY_THERMISTOR_998_VALUE 25
 //     #define DUMMY_THERMISTOR_999_VALUE 100
 
-#define TEMP_SENSOR_0 -1
-#define TEMP_SENSOR_1 -1
+#define TEMP_SENSOR_0 1
+#define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_3 0
 #define TEMP_SENSOR_BED 0
@@ -301,35 +301,21 @@ your extruder heater takes 2 minutes to hit the target on heating.
 // Enable this option for Toshiba steppers
 // #define CONFIG_STEPPERS_TOSHIBA
 
-// coarse Endstop Settings
-#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
-
-#ifndef ENDSTOPPULLUPS
-  // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
-  // #define ENDSTOPPULLUP_XMAX
-  // #define ENDSTOPPULLUP_YMAX
-  // #define ENDSTOPPULLUP_ZMAX
-  // #define ENDSTOPPULLUP_XMIN
-  // #define ENDSTOPPULLUP_YMIN
-  // #define ENDSTOPPULLUP_ZMIN
-#endif
-
-#ifdef ENDSTOPPULLUPS
-  #define ENDSTOPPULLUP_XMAX
-  #define ENDSTOPPULLUP_YMAX
-  #define ENDSTOPPULLUP_ZMAX
-  #define ENDSTOPPULLUP_XMIN
-  #define ENDSTOPPULLUP_YMIN
-  #define ENDSTOPPULLUP_ZMIN
-#endif
-
-// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
-const bool Y_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
-const bool Z_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
-const bool X_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
-const bool Y_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
-const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+// The pullups are needed if you directly connect a mechanical endstop between the signal and ground pins.
+#define ENDSTOPPULLUP_XMAX
+#define ENDSTOPPULLUP_YMAX
+#define ENDSTOPPULLUP_ZMAX
+#define ENDSTOPPULLUP_XMIN
+#define ENDSTOPPULLUP_YMIN
+#define ENDSTOPPULLUP_ZMIN
+
+// Mechanical endstop with COM to ground and NC to Signal uses "false" here (most common setup).
+const bool X_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+const bool Y_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+const bool Z_MIN_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+const bool X_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+const bool Y_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
+const bool Z_MAX_ENDSTOP_INVERTING = false; // set to true to invert the logic of the endstop.
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 
@@ -346,13 +332,14 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define DISABLE_E false // For all extruders
 #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
 
-#define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
-#define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E3_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+// If you motor turns to wrong direction, you can invert it here:
+#define INVERT_X_DIR false
+#define INVERT_Y_DIR false
+#define INVERT_Z_DIR false
+#define INVERT_E0_DIR false
+#define INVERT_E1_DIR false
+#define INVERT_E2_DIR false
+#define INVERT_E3_DIR false
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -364,9 +351,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
 
 // Travel limits after homing (units are in mm)
-#define X_MAX_POS 205
+#define X_MAX_POS 200
 #define X_MIN_POS 0
-#define Y_MAX_POS 205
+#define Y_MAX_POS 200
 #define Y_MIN_POS 0
 #define Z_MAX_POS 200
 #define Z_MIN_POS 0
@@ -443,7 +430,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
   #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
 
-   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
+//   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
                                                                             //Useful to retract a deployable probe.
                                                                            
   //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
@@ -493,9 +480,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 // default settings
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
-#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,4000,500}  // default steps per unit for Ultimaker
+#define DEFAULT_MAX_FEEDRATE          {300, 300, 5, 25}    // (mm/sec)
+#define DEFAULT_MAX_ACCELERATION      {3000,3000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
@@ -539,11 +526,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // Preheat Constants
 #define PLA_PREHEAT_HOTEND_TEMP 180
 #define PLA_PREHEAT_HPB_TEMP 70
-#define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+#define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
 
 #define ABS_PREHEAT_HOTEND_TEMP 240
-#define ABS_PREHEAT_HPB_TEMP 100
-#define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+#define ABS_PREHEAT_HPB_TEMP 110
+#define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
 
 //==============================LCD and SD support=============================
 

commit 60ceca1bc108d75e2342a148d4f78bbe5198571b
Author: alexborro <alexborro@gmail.com>
Date:   Tue Mar 10 14:08:32 2015 -0300

    Add speed configuration for home-bumping movement

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f3723de18c..20599a6d57 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -407,6 +407,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
     #define RIGHT_PROBE_BED_POSITION 170
     #define FRONT_PROBE_BED_POSITION 20
     #define BACK_PROBE_BED_POSITION 170
+    
+    #define MIN_PROBE_EDGE 10 // The probe square sides can be no smaller than this
 
     // Set the number of grid points per dimension
     // You probably don't need more than 3 (squared=9)
@@ -429,8 +431,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   // Offsets to the probe relative to the extruder tip (Hotend - Probe)
   // X and Y offsets must be integers
-  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // -left  +right
-  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // -front +behind
+  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // Probe on: -left  +right
+  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // Probe on: -front +behind
   #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // -below (always!)
 
   #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
@@ -441,6 +443,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
   #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
 
+   #define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" //These commands will be executed in the end of G29 routine.
+                                                                            //Useful to retract a deployable probe.
+                                                                           
   //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
   //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 

commit cfc6a3a87a5274dd38165026f24ee245f2bdc030
Author: Mehmet Sutas <msutas@gmail.com>
Date:   Sat Mar 7 22:43:15 2015 +0200

    Filament Runout Sensor Feature
    
    With this change a mechanical or optical switch may be used to check the
    availability of the filament and when the filament runs out an M600
    (filament change) command is issued. This is only done while printing
    with an SD card.
    
    This feature was requested several times (issue #679), but the requests
    were not accepted since it was believed that this situation should be
    handled at host side. However during an SD print the control is totally
    on firmware and I think that during an SD print it should be handled by
    the firmware.
    
    The original code was posted at reprap forum
    (http://forums.reprap.org/read.php?1,297350) by Lazymonk. I have only
    corrected some bugs of the code and improved it by adding definitions to
    the configuration.h in order to make it more standardized.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f3723de18c..9d98204886 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -375,6 +375,15 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 
+//===========================================================================
+//============================= Filament Runout Sensor ======================
+//===========================================================================
+//#define FILAMENT_RUNOUT_SENSOR // Uncomment for defining a filament runout sensor such as a mechanical or opto endstop to check the existence of filament
+                                 // In RAMPS uses servo pin 2. Can be changed in pins file. For other boards pin definition should be made.
+                                 // It is assumed that when logic high = filament available
+                                 //                    when logic  low = filament ran out
+//const bool FIL_RUNOUT_INVERTING = true;  // Should be uncommented and true or false should assigned
+//#define ENDSTOPPULLUP_FIL_RUNOUT // Uncomment to use internal pullup for filament runout pins if the sensor is defined.
 
 //===========================================================================
 //============================= Bed Auto Leveling ===========================

commit e6862700af1863838521f5642b158580da91567a
Author: maverikou <maverikou@users.noreply.github.com>
Date:   Sat Mar 7 20:55:30 2015 +0200

    Add Z_RAISE_AFTER_PROBING to all config files

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f3723de18c..88b689d4bf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -440,6 +440,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
   #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
+  #define Z_RAISE_AFTER_PROBING 15    //How much the extruder will be raised after the last probing point.
 
   //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
   //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.

commit 0f3b7d5575d6fa17ddf56b8ec5d6b51d3490dbee
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sat Mar 7 01:07:40 2015 -0800

    Update annotated configurations
    
    - Also update base configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f3723de18c..91e1ecf713 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -346,13 +346,14 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define DISABLE_E false // For all extruders
 #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
 
+// Invert the stepper direction. Change (or reverse the motor connector) if an axis goes the wrong way.
 #define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
-#define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E3_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E0_DIR false   // Direct drive extruder v9: true. Geared extruder: false
+#define INVERT_E1_DIR false   // Direct drive extruder v9: true. Geared extruder: false
+#define INVERT_E2_DIR false   // Direct drive extruder v9: true. Geared extruder: false
+#define INVERT_E3_DIR false   // Direct drive extruder v9: true. Geared extruder: false
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -364,12 +365,12 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
 
 // Travel limits after homing (units are in mm)
-#define X_MAX_POS 205
 #define X_MIN_POS 0
-#define Y_MAX_POS 205
 #define Y_MIN_POS 0
-#define Z_MAX_POS 200
 #define Z_MIN_POS 0
+#define X_MAX_POS 205
+#define Y_MAX_POS 205
+#define Z_MAX_POS 200
 
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
@@ -475,12 +476,14 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
 //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
 
-//Manual homing switch locations:
+// Manual homing switch locations:
 // For deltabots this means top and center of the Cartesian print volume.
-#define MANUAL_X_HOME_POS 0
-#define MANUAL_Y_HOME_POS 0
-#define MANUAL_Z_HOME_POS 0
-//#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
+#ifdef MANUAL_HOME_POSITIONS
+  #define MANUAL_X_HOME_POS 0
+  #define MANUAL_Y_HOME_POS 0
+  #define MANUAL_Z_HOME_POS 0
+  //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
+#endif
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E

commit d085725c8632282908b47c9b72f642573f73ae3d
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Fri Mar 6 22:14:34 2015 -0800

    More sanity-checking for ABL
    
    - Moved sanity-checks to Marlin_main.cpp
    - Applied to other configuration files
    - Fixed formatting of ABL output
    - Passing verbose level to probe_pt
    - Miscellaneous cleanup
    - Put CONFIG_STEPPERS_TOSHIBA into Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 076e75c538..f3723de18c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -8,7 +8,7 @@
 //===========================================================================
 /*
 Here are some standard links for getting your machine calibrated:
- * http://reprap.org/wiki/Calibration 
+ * http://reprap.org/wiki/Calibration
  * http://youtu.be/wAL9d7FgInk
  * http://calculator.josefprusa.cz
  * http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
@@ -295,9 +295,12 @@ your extruder heater takes 2 minutes to hit the target on heating.
 //============================= Mechanical Settings =========================
 //===========================================================================
 
-// Uncomment the following line to enable CoreXY kinematics
+// Uncomment this option to enable CoreXY kinematics
 // #define COREXY
 
+// Enable this option for Toshiba steppers
+// #define CONFIG_STEPPERS_TOSHIBA
+
 // coarse Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
@@ -382,40 +385,38 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 #ifdef ENABLE_AUTO_BED_LEVELING
 
-// There are 2 different ways to pick the X and Y locations to probe:
-
-//  - "grid" mode
-//    Probe every point in a rectangular grid
-//    You must specify the rectangle, and the density of sample points
-//    This mode is preferred because there are more measurements.
-//    It used to be called ACCURATE_BED_LEVELING but "grid" is more descriptive
-
-//  - "3-point" mode
-//    Probe 3 arbitrary points on the bed (that aren't colinear)
-//    You must specify the X & Y coordinates of all 3 points
-
+  // There are 2 different ways to specify probing locations
+  //
+  // - "grid" mode
+  //   Probe several points in a rectangular grid.
+  //   You specify the rectangle and the density of sample points.
+  //   This mode is preferred because there are more measurements.
+  //
+  // - "3-point" mode
+  //   Probe 3 arbitrary points on the bed (that aren't colinear)
+  //   You specify the XY coordinates of all 3 points.
+
+  // Enable this to sample the bed in a grid (least squares solution)
+  // Note: this feature generates 10KB extra code size
   #define AUTO_BED_LEVELING_GRID
-  // with AUTO_BED_LEVELING_GRID, the bed is sampled in a
-  // AUTO_BED_LEVELING_GRID_POINTSxAUTO_BED_LEVELING_GRID_POINTS grid
-  // and least squares solution is calculated
-  // Note: this feature occupies 10'206 byte
+
   #ifdef AUTO_BED_LEVELING_GRID
 
-    // set the rectangle in which to probe
+    // The edges of the rectangle in which to probe
     #define LEFT_PROBE_BED_POSITION 15
     #define RIGHT_PROBE_BED_POSITION 170
-    #define BACK_PROBE_BED_POSITION 180
     #define FRONT_PROBE_BED_POSITION 20
+    #define BACK_PROBE_BED_POSITION 170
 
-     // set the number of grid points per dimension
-     // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
+    // Set the number of grid points per dimension
+    // You probably don't need more than 3 (squared=9)
     #define AUTO_BED_LEVELING_GRID_POINTS 2
 
 
-  #else  // not AUTO_BED_LEVELING_GRID
-    // with no grid, just probe 3 arbitrary points.  A simple cross-product
-    // is used to esimate the plane of the print bed
+  #else  // !AUTO_BED_LEVELING_GRID
 
+      // Arbitrary points to probe. A simple cross-product
+      // is used to estimate the plane of the bed.
       #define ABL_PROBE_PT_1_X 15
       #define ABL_PROBE_PT_1_Y 180
       #define ABL_PROBE_PT_2_X 15
@@ -426,7 +427,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #endif // AUTO_BED_LEVELING_GRID
 
 
-  // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
+  // Offsets to the probe relative to the extruder tip (Hotend - Probe)
   // X and Y offsets must be integers
   #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // -left  +right
   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // -front +behind
@@ -467,29 +468,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   #endif
 
-  #ifdef AUTO_BED_LEVELING_GRID	// Check if Probe_Offset * Grid Points is greater than Probing Range
-    #if X_PROBE_OFFSET_FROM_EXTRUDER < 0
-      #if (-(X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
-	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
-	  #endif
-	#else
-      #if ((X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
-	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
-	  #endif
-	#endif
-    #if Y_PROBE_OFFSET_FROM_EXTRUDER < 0
-      #if (-(Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
-	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
-	  #endif
-	#else
-      #if ((Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
-	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
-	  #endif
-	#endif
-
-	
-  #endif
-  
 #endif // ENABLE_AUTO_BED_LEVELING
 
 

commit 32744d41a95d0480a5180ada70e740be6f32c4fc
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Wed Mar 4 21:32:11 2015 -0800

    Do sanity checking on LRFB values
    
    - Setting boundaries based on configured limits, contrasting with G28
    (which forgets these limits?)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8c12b0f85d..076e75c538 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -428,9 +428,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
   // X and Y offsets must be integers
-  #define X_PROBE_OFFSET_FROM_EXTRUDER -25
-  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29
-  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35
+  #define X_PROBE_OFFSET_FROM_EXTRUDER -25     // -left  +right
+  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29     // -front +behind
+  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35  // -below (always!)
 
   #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
                                         // Be sure you have this distance over your Z_MAX_POS in case

commit a99470fbb0f6209c3e89a320a5985bfa042b8d37
Merge: a5bbd402bf 8742b6bd56
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Feb 26 16:01:13 2015 -0800

    Merge pull request #1527 from maverikou/panel_one
    
    Added support for PanelOne from T3P3.

diff --combined Marlin/Configuration.h
index f5e0f15fa7,0dbdb2b760..8c12b0f85d
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -118,10 -118,7 +118,10 @@@ Here are some standard links for gettin
  // 1010 is Pt1000 with 1k pullup (non standard)
  // 147 is Pt100 with 4k7 pullup
  // 110 is Pt100 with 1k pullup (non standard)
 -// 999 is a Dummy Table. It will ALWAYS read 25C.. Use it for Testing or Development purposes. NEVER for production machine.
 +// 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below. 
 +//     Use it for Testing or Development purposes. NEVER for production machine.
 +//     #define DUMMY_THERMISTOR_998_VALUE 25
 +//     #define DUMMY_THERMISTOR_999_VALUE 100
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
@@@ -585,6 -582,10 +585,10 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
  //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
  
+ // PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
+ // http://reprap.org/wiki/PanelOne
+ //#define PANEL_ONE
+ 
  // The MaKr3d Makr-Panel with graphic controller and SD support
  // http://reprap.org/wiki/MaKr3d_MaKrPanel
  //#define MAKRPANEL
@@@ -643,6 -644,10 +647,10 @@@
   #define ENCODER_STEPS_PER_MENU_ITEM 1
  #endif
  
+ #if defined (PANEL_ONE)
+  #define SDSUPPORT
+  #define ULTIMAKERCONTROLLER
+ #endif
  
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD

commit 8742b6bd564b7e099300c8a86d31397f5ee1f15b
Merge: a9e15aa503 e6af82ba2f
Author: maverikou <maverikou@users.noreply.github.com>
Date:   Tue Feb 24 22:24:57 2015 +0200

    Merge branch 'Development' into panel_one

diff --combined Marlin/Configuration.h
index b4e0c20c55,afcd9134cb..0dbdb2b760
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -118,6 -118,7 +118,7 @@@ Here are some standard links for gettin
  // 1010 is Pt1000 with 1k pullup (non standard)
  // 147 is Pt100 with 4k7 pullup
  // 110 is Pt100 with 1k pullup (non standard)
+ // 999 is a Dummy Table. It will ALWAYS read 25C.. Use it for Testing or Development purposes. NEVER for production machine.
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
@@@ -581,10 -582,6 +582,10 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
  //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
  
 +// PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
 +// http://reprap.org/wiki/PanelOne
 +//#define PANEL_ONE
 +
  // The MaKr3d Makr-Panel with graphic controller and SD support
  // http://reprap.org/wiki/MaKr3d_MaKrPanel
  //#define MAKRPANEL
@@@ -643,10 -640,6 +644,10 @@@
   #define ENCODER_STEPS_PER_MENU_ITEM 1
  #endif
  
 +#if defined (PANEL_ONE)
 + #define SDSUPPORT
 + #define ULTIMAKERCONTROLLER
 +#endif
  
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD

commit c6d2ebe452d6dd53a0ec03bc88a4f16eda8037c0
Author: AnHardt <github@kitelab.de>
Date:   Tue Feb 24 11:02:16 2015 +0100

    Extend the idea of dummy temperature sensors.
    
    Added a second sensor and made them configurable.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index afcd9134cb..f5e0f15fa7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -118,7 +118,10 @@ Here are some standard links for getting your machine calibrated:
 // 1010 is Pt1000 with 1k pullup (non standard)
 // 147 is Pt100 with 4k7 pullup
 // 110 is Pt100 with 1k pullup (non standard)
-// 999 is a Dummy Table. It will ALWAYS read 25C.. Use it for Testing or Development purposes. NEVER for production machine.
+// 998 and 999 are Dummy Tables. They will ALWAYS read 25¬∞C or the temperature defined below. 
+//     Use it for Testing or Development purposes. NEVER for production machine.
+//     #define DUMMY_THERMISTOR_998_VALUE 25
+//     #define DUMMY_THERMISTOR_999_VALUE 100
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 -1

commit a57869ba496ba7848e30fd0645204e6b41de4a07
Author: alexborro <alexborro@gmail.com>
Date:   Sun Feb 22 11:02:04 2015 -0300

    Dummy Thermistor Table for testing purposes
    
    Am I the only one who always need to change the thermistortable.h to add
    a dummy table??
    Ok, it is done. Just set the thermistor to 999 and it will always read
    25C. Great for Testing or Development purposes.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 41e1ed7ed9..afcd9134cb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -118,6 +118,7 @@ Here are some standard links for getting your machine calibrated:
 // 1010 is Pt1000 with 1k pullup (non standard)
 // 147 is Pt100 with 4k7 pullup
 // 110 is Pt100 with 1k pullup (non standard)
+// 999 is a Dummy Table. It will ALWAYS read 25C.. Use it for Testing or Development purposes. NEVER for production machine.
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 -1

commit 2e166f533770f49f07fca3672714c82871a17917
Author: Maverikou <maverikou@users.noreply.github.com>
Date:   Tue Jul 29 20:56:55 2014 +0300

    Added support for PanelOne from T3P3.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 41e1ed7ed9..b4e0c20c55 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -581,6 +581,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
 //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
 
+// PanelOne from T3P3 (via RAMPS 1.4 AUX2/AUX3)
+// http://reprap.org/wiki/PanelOne
+//#define PANEL_ONE
+
 // The MaKr3d Makr-Panel with graphic controller and SD support
 // http://reprap.org/wiki/MaKr3d_MaKrPanel
 //#define MAKRPANEL
@@ -639,6 +643,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
  #define ENCODER_STEPS_PER_MENU_ITEM 1
 #endif
 
+#if defined (PANEL_ONE)
+ #define SDSUPPORT
+ #define ULTIMAKERCONTROLLER
+#endif
 
 #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
  #define DOGLCD

commit afc737ca0c8493603881a184f27bd245a943d25c
Author: alexborro <alexborro@gmail.com>
Date:   Fri Feb 13 14:38:05 2015 -0200

    Fix CoreXY Homing Routine.
    
    Fixed how stepper ISR figure it out when the head (extruder) is going to
    Min or Max direction.
    Added Homing to Max Endstops.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fef1593304..41e1ed7ed9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -326,11 +326,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 
-// Disable max endstops for compatibility with endstop checking routine
-#if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)
-  #define DISABLE_MAX_ENDSTOPS
-#endif
-
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
 #define Y_ENABLE_ON 0

commit 7866fa161f46e57fae1d9a82df4927de5e6dc6bb
Merge: 8cfdd3e8a4 ea9e49b20d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Feb 12 16:56:55 2015 -0800

    Merge pull request #1476 from Natealus/Development
    
    Compiling errors with 4 Extruders defined and Viki 2 Implementation

diff --combined Marlin/Configuration.h
index 9b422a812c,c05c3a0e3f..fef1593304
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -122,6 -122,7 +122,7 @@@ Here are some standard links for gettin
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
  #define TEMP_SENSOR_2 0
+ #define TEMP_SENSOR_3 0
  #define TEMP_SENSOR_BED 0
  
  // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
@@@ -139,6 -140,7 +140,7 @@@
  #define HEATER_0_MINTEMP 5
  #define HEATER_1_MINTEMP 5
  #define HEATER_2_MINTEMP 5
+ #define HEATER_3_MINTEMP 5
  #define BED_MINTEMP 5
  
  // When temperature exceeds max temp, your heater will be switched off.
@@@ -147,6 -149,7 +149,7 @@@
  #define HEATER_0_MAXTEMP 275
  #define HEATER_1_MAXTEMP 275
  #define HEATER_2_MAXTEMP 275
+ #define HEATER_3_MAXTEMP 275
  #define BED_MAXTEMP 150
  
  // If your bed has low resistance e.g. .6 ohm and throws the fuse you can duty cycle it to reduce the
@@@ -341,12 -344,13 +344,13 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  #define DISABLE_E false // For all extruders
  #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
- #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+ #define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
  #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
  #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
  #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
- #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
+ #define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+ #define INVERT_E3_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@@ -559,12 -563,7 +563,12 @@@
  #define ABS_PREHEAT_HPB_TEMP 100
  #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
  
 -//LCD and SD support
 +//==============================LCD and SD support=============================
 +
 +// Define your display language below. Replace (en) with your language code and uncomment.
 +// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
 +// See also language.h
 +//#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
  
  // Character based displays can have different extended charsets.
  #define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
@@@ -586,6 -585,12 +590,12 @@@
  // http://reprap.org/wiki/MaKr3d_MaKrPanel
  //#define MAKRPANEL
  
+ // The Panucatt Devices Viki 2.0 and mini Viki with Graphic LCD
+ // http://panucatt.com
+ // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+ //#define VIKI2
+ //#define miniVIKI
+ 
  // The RepRapDiscount Smart Controller (white PCB)
  // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
  //#define REPRAP_DISCOUNT_SMART_CONTROLLER
@@@ -619,6 -624,22 +629,22 @@@
   #define DEFAULT_LCD_CONTRAST 17
  #endif
  
+ #if defined(miniVIKI) || defined(VIKI2)
+  #define ULTRA_LCD  //general LCD support, also 16x2
+  #define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
+  #define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
+  
+   #ifdef miniVIKI
+    #define DEFAULT_LCD_CONTRAST 95
+   #else
+    #define DEFAULT_LCD_CONTRAST 40
+   #endif
+   
+  #define ENCODER_PULSES_PER_STEP 4
+  #define ENCODER_STEPS_PER_MENU_ITEM 1
+ #endif
+ 
+ 
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
   #define U8GLIB_ST7920

commit b9ed873827f03482bc5cca12efd4a8cb8b301604
Author: kieranc <kieranc@gmail.com>
Date:   Tue Feb 10 14:13:06 2015 +0100

    Enable PID debugging for heated bed

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9b422a812c..b9f31540bb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -218,6 +218,8 @@ Here are some standard links for getting your machine calibrated:
 // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
 #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
 
+//#define PID_BED_DEBUG // Sends debug data to the serial port.
+
 #ifdef PIDTEMPBED
 //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)

commit f4b0a40abb6cf31d742eb1b180605346b8fef942
Author: Natealus <natealus@hotmail.com>
Date:   Sun Feb 8 15:43:58 2015 -0700

    Additional fixes to temperature.cpp and found another missing line
    
    Looks like INVERT_E3_DIR was missing in the configuration.h also as I
    did a test compile with 4 extruders and Azteeg X3 Pro defined. So I also
    added those lines too. Additional formatting to make the comments line
    up better in that section.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 68cd201359..c05c3a0e3f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -344,12 +344,13 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define DISABLE_E false // For all extruders
 #define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
 
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E3_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN

commit 8e9272914130fb795498f580cdc91364a91462d1
Author: AnHardt <github@kitelab.de>
Date:   Sun Feb 8 13:45:22 2015 +0100

    Make display language configurable in Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 770c86eb1e..9b422a812c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -559,7 +559,12 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define ABS_PREHEAT_HPB_TEMP 100
 #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 
-//LCD and SD support
+//==============================LCD and SD support=============================
+
+// Define your display language below. Replace (en) with your language code and uncomment.
+// en, pl, fr, de, es, ru, it, pt, pt-br, fi, an, nl, ca, eu
+// See also language.h
+//#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)
 
 // Character based displays can have different extended charsets.
 #define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"

commit 38a500d05cf033a549c3e2b1b5c7fe32f92a9c48
Author: Natealus <natealus@hotmail.com>
Date:   Sun Feb 8 03:14:59 2015 -0700

    Viki 2 Implementation
    
    I've insert the define and pointer entries for the Viki 2 and miniViki
    from Panucatt in all of the example configs and main config. With these
    additions and with pins done in the old single pin.h style...I was able
    to get the display working fine save for needing to turn Delta Segments
    per Second down. But that's a common graphics lcd issue being looked
    into right now.
    
    I need assistance in understanding how the new divided pins files fit
    together because my previous attempts at trying to get it to work
    appropriately didn't seem successful. This originally came from trying
    to find out how to swap the XYZ Min and Max Endstop pins in the Azteeg
    X3 Pro. It only comes with one set of connectors and they're Min
    Endstops. My previous experience didn't turn out well trying to tell the
    firmware to home to the Min Endstops so the best solution I found was to
    swap the pins in the firmware. If I'm missing a conflict with a setup
    other than delta please let me know, but it makes sense in my setup.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ea4bf96003..68cd201359 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -584,6 +584,12 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // http://reprap.org/wiki/MaKr3d_MaKrPanel
 //#define MAKRPANEL
 
+// The Panucatt Devices Viki 2.0 and mini Viki with Graphic LCD
+// http://panucatt.com
+// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+//#define VIKI2
+//#define miniVIKI
+
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
@@ -617,6 +623,22 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
  #define DEFAULT_LCD_CONTRAST 17
 #endif
 
+#if defined(miniVIKI) || defined(VIKI2)
+ #define ULTRA_LCD  //general LCD support, also 16x2
+ #define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
+ #define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
+ 
+  #ifdef miniVIKI
+   #define DEFAULT_LCD_CONTRAST 95
+  #else
+   #define DEFAULT_LCD_CONTRAST 40
+  #endif
+  
+ #define ENCODER_PULSES_PER_STEP 4
+ #define ENCODER_STEPS_PER_MENU_ITEM 1
+#endif
+
+
 #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
  #define DOGLCD
  #define U8GLIB_ST7920

commit 697ee2dc502eb9e9dda8600a57ed21d7db621547
Author: Natealus <natealus@hotmail.com>
Date:   Sun Feb 8 01:05:05 2015 -0700

    Compiling errors with 4 Extruders defined
    
    Here were a few changes that I had to make/add lines for the 4th hotend.
    A compiling problem in the Temperature.cpp and missing lines in
    configuration.h and configuration_adv.h. I added these lines in all of
    the example configs too.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 770c86eb1e..ea4bf96003 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -122,6 +122,7 @@ Here are some standard links for getting your machine calibrated:
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 -1
 #define TEMP_SENSOR_2 0
+#define TEMP_SENSOR_3 0
 #define TEMP_SENSOR_BED 0
 
 // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
@@ -139,6 +140,7 @@ Here are some standard links for getting your machine calibrated:
 #define HEATER_0_MINTEMP 5
 #define HEATER_1_MINTEMP 5
 #define HEATER_2_MINTEMP 5
+#define HEATER_3_MINTEMP 5
 #define BED_MINTEMP 5
 
 // When temperature exceeds max temp, your heater will be switched off.
@@ -147,6 +149,7 @@ Here are some standard links for getting your machine calibrated:
 #define HEATER_0_MAXTEMP 275
 #define HEATER_1_MAXTEMP 275
 #define HEATER_2_MAXTEMP 275
+#define HEATER_3_MAXTEMP 275
 #define BED_MAXTEMP 150
 
 // If your bed has low resistance e.g. .6 ohm and throws the fuse you can duty cycle it to reduce the

commit 33f8580255fbc48dca64c9bdca2dc5ce4d4aa479
Merge: b1dbd765c6 0c24bb6cfc
Author: AnHardt <github@kitelab.de>
Date:   Tue Feb 3 14:45:58 2015 +0100

    Merge branch 'lcd-width' into b-

diff --combined Marlin/Configuration.h
index 613a79d29d,6f8d238b39..770c86eb1e
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -42,8 -42,7 +42,8 @@@ Here are some standard links for gettin
  #define STRING_URL "reprap.org"
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
  #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
 -#define STRING_SPLASH "v" STRING_VERSION " - " STRING_URL // will be shown during bootup
 +#define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1
 +//#define STRING_SPLASH_LINE2 STRING_VERSION_CONFIG_H // will be shown during bootup in line2
  
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@@ -710,7 -709,7 +710,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
    #define SDSUPPORT
    #define ULTRA_LCD
    #ifdef DOGLCD // Change number of lines to match the DOG graphic display
-     #define LCD_WIDTH 20
+     #define LCD_WIDTH 22
      #define LCD_HEIGHT 5
    #else
      #define LCD_WIDTH 20
@@@ -719,7 -718,7 +719,7 @@@
  #else //no panel but just LCD
    #ifdef ULTRA_LCD
    #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
-     #define LCD_WIDTH 20
+     #define LCD_WIDTH 22
      #define LCD_HEIGHT 5
    #else
      #define LCD_WIDTH 16

commit 0c24bb6cfce1b97b28825efb157335de8593ef97
Author: AnHardt <github@kitelab.de>
Date:   Tue Feb 3 14:21:43 2015 +0100

    Adjust LCD_WIDTH to make better use of DOGM LCDs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ceaa72adad..6f8d238b39 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -709,7 +709,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define SDSUPPORT
   #define ULTRA_LCD
   #ifdef DOGLCD // Change number of lines to match the DOG graphic display
-    #define LCD_WIDTH 20
+    #define LCD_WIDTH 22
     #define LCD_HEIGHT 5
   #else
     #define LCD_WIDTH 20
@@ -718,7 +718,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #else //no panel but just LCD
   #ifdef ULTRA_LCD
   #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
-    #define LCD_WIDTH 20
+    #define LCD_WIDTH 22
     #define LCD_HEIGHT 5
   #else
     #define LCD_WIDTH 16

commit 65642592eef1a3a20424c56561c84476befaabc4
Author: AnHardt <github@kitelab.de>
Date:   Tue Feb 3 12:25:36 2015 +0100

    Added dualline version.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 10988be83b..613a79d29d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -42,7 +42,8 @@ Here are some standard links for getting your machine calibrated:
 #define STRING_URL "reprap.org"
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
-#define STRING_SPLASH "v" STRING_VERSION // will be shown during bootup
+#define STRING_SPLASH_LINE1 "v" STRING_VERSION // will be shown during bootup in line 1
+//#define STRING_SPLASH_LINE2 STRING_VERSION_CONFIG_H // will be shown during bootup in line2
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.

commit f9cc1df00b63e1ad524f5f4c14bb5c6321974b1c
Author: AnHardt <github@kitelab.de>
Date:   Tue Feb 3 11:14:27 2015 +0100

    Droped URL from bootsplash.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ceaa72adad..10988be83b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -42,7 +42,7 @@ Here are some standard links for getting your machine calibrated:
 #define STRING_URL "reprap.org"
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
-#define STRING_SPLASH "v" STRING_VERSION " - " STRING_URL // will be shown during bootup
+#define STRING_SPLASH "v" STRING_VERSION // will be shown during bootup
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.

commit b3973ed2242392051c0c8d8eb7948f3ce52a6f71
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Mon Feb 2 22:33:58 2015 -0800

    Fix HD44780 misspelled as HD44870

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 35cb4d49f7..ceaa72adad 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -561,8 +561,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //LCD and SD support
 
 // Character based displays can have different extended charsets.
-#define DISPLAY_CHARSET_HD44870_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
-//#define DISPLAY_CHARSET_HD44870_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
+#define DISPLAY_CHARSET_HD44780_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
+//#define DISPLAY_CHARSET_HD44780_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
 
 //#define ULTRA_LCD  //general LCD support, also 16x2
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit 6d81968db500a32e973a0b0c3557e6522fea7242
Merge: 137ba7b590 5bb3933b21
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Feb 2 21:17:06 2015 -0800

    Merge pull request #1450 from docdawning/Development
    
    Normalized section headers, added some headers, added help URLs for newb...

diff --combined Marlin/Configuration.h
index 1321559049,552fd7133a..35cb4d49f7
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -3,6 -3,20 +3,20 @@@
  
  #include "boards.h"
  
+ //===========================================================================
+ //============================= Getting Started =============================
+ //===========================================================================
+ /*
+ Here are some standard links for getting your machine calibrated:
+  * http://reprap.org/wiki/Calibration 
+  * http://youtu.be/wAL9d7FgInk
+  * http://calculator.josefprusa.cz
+  * http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
+  * http://www.thingiverse.com/thing:5573
+  * https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
+  * http://www.thingiverse.com/thing:298812
+ */
+ 
  // This configuration file contains the basic settings.
  // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
@@@ -67,7 -81,7 +81,7 @@@
  // #define PS_DEFAULT_OFF
  
  //===========================================================================
- //=============================Thermal Settings  ============================
+ //============================= Thermal Settings ============================
  //===========================================================================
  //
  //--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
@@@ -143,7 -157,11 +157,11 @@@
  //#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R
  //#define BED_WATTS (12.0*12.0/1.1)      // P=I^2/R
  
- // PID settings:
+ //===========================================================================
+ //============================= PID Settings ================================
+ //===========================================================================
+ // PID Tuning Guide here: http://reprap.org/wiki/PID_Tuning
+ 
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
  #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
@@@ -177,7 -195,9 +195,9 @@@
  //    #define  DEFAULT_Kd 440
  #endif // PIDTEMP
  
- // Bed Temperature Control
+ //===========================================================================
+ //============================= PID > Bed Temperature Control ===============
+ //===========================================================================
  // Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
  // Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
@@@ -214,7 -234,6 +234,6 @@@
  #endif // PIDTEMPBED
  
  
- 
  //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
  //can be software-disabled for whatever purposes by
  #define PREVENT_DANGEROUS_EXTRUDE
@@@ -224,7 -243,10 +243,10 @@@
  #define EXTRUDE_MINTEMP 170
  #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  
- /*================== Thermal Runaway Protection ==============================
+ //===========================================================================
+ //============================= Thermal Runaway Protection ==================
+ //===========================================================================
+ /*
  This is a feature to protect your printer from burn up in flames if it has
  a thermistor coming off place (this happened to a friend of mine recently and
  motivated me writing this feature).
@@@ -259,11 -281,10 +281,10 @@@ your extruder heater takes 2 minutes t
  // Parameters for the bed heater
  //#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
  //#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
- //===========================================================================
  
  
  //===========================================================================
- //=============================Mechanical Settings===========================
+ //============================= Mechanical Settings =========================
  //===========================================================================
  
  // Uncomment the following line to enable CoreXY kinematics
@@@ -335,7 -356,7 +356,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  #define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  
- // Travel limits after homing
+ // Travel limits after homing (units are in mm)
  #define X_MAX_POS 205
  #define X_MIN_POS 0
  #define Y_MAX_POS 205
@@@ -346,7 -367,11 +367,11 @@@
  #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
+ 
+ 
+ //===========================================================================
  //============================= Bed Auto Leveling ===========================
+ //===========================================================================
  
  //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
  #define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
@@@ -499,9 -524,10 +524,10 @@@
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  #define DEFAULT_EJERK                 5.0    // (mm/sec)
  
- //===========================================================================
- //=============================Additional Features===========================
- //===========================================================================
+ 
+ //=============================================================================
+ //============================= Additional Features ===========================
+ //=============================================================================
  
  // Custom M code points
  #define CUSTOM_M_CODES
@@@ -534,9 -560,10 +560,9 @@@
  
  //LCD and SD support
  
 -// Character based displays can have different extended charsets. If you see strange or missing characters on yours - try an other definition below.
 -#define DISPLAY_CHARSET_HD44870_JAPAN  //  "√§√§√∂√∂√º√º√ü¬∞"
 -//#define DISPLAY_CHARSET_HD44870_WESTERN // with better support for European languages. "√Ñ√§√ñ√∂√ú√º√ü¬∞"
 -//#define DISPLAY_CHARSET_DOGM // for full graphics display "√Ñ√§√ñ√ñ√ú√ú√ü¬∞"
 +// Character based displays can have different extended charsets.
 +#define DISPLAY_CHARSET_HD44870_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
 +//#define DISPLAY_CHARSET_HD44870_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
  
  //#define ULTRA_LCD  //general LCD support, also 16x2
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit 055c4beaf992a16b15d18e74d628a50ddb6d05b1
Author: DocDawning <doc@dawning.ca>
Date:   Sun Feb 1 17:06:38 2015 -0700

    Normalized section headers, added some headers, added help URLs for newbies

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f5c218dc7f..552fd7133a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -3,6 +3,20 @@
 
 #include "boards.h"
 
+//===========================================================================
+//============================= Getting Started =============================
+//===========================================================================
+/*
+Here are some standard links for getting your machine calibrated:
+ * http://reprap.org/wiki/Calibration 
+ * http://youtu.be/wAL9d7FgInk
+ * http://calculator.josefprusa.cz
+ * http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide
+ * http://www.thingiverse.com/thing:5573
+ * https://sites.google.com/site/repraplogphase/calibration-of-your-reprap
+ * http://www.thingiverse.com/thing:298812
+*/
+
 // This configuration file contains the basic settings.
 // Advanced settings can be found in Configuration_adv.h
 // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
@@ -67,7 +81,7 @@
 // #define PS_DEFAULT_OFF
 
 //===========================================================================
-//=============================Thermal Settings  ============================
+//============================= Thermal Settings ============================
 //===========================================================================
 //
 //--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
@@ -143,7 +157,11 @@
 //#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R
 //#define BED_WATTS (12.0*12.0/1.1)      // P=I^2/R
 
-// PID settings:
+//===========================================================================
+//============================= PID Settings ================================
+//===========================================================================
+// PID Tuning Guide here: http://reprap.org/wiki/PID_Tuning
+
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
 #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
@@ -177,7 +195,9 @@
 //    #define  DEFAULT_Kd 440
 #endif // PIDTEMP
 
-// Bed Temperature Control
+//===========================================================================
+//============================= PID > Bed Temperature Control ===============
+//===========================================================================
 // Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 //
 // Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
@@ -214,7 +234,6 @@
 #endif // PIDTEMPBED
 
 
-
 //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
 //can be software-disabled for whatever purposes by
 #define PREVENT_DANGEROUS_EXTRUDE
@@ -224,7 +243,10 @@
 #define EXTRUDE_MINTEMP 170
 #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
-/*================== Thermal Runaway Protection ==============================
+//===========================================================================
+//============================= Thermal Runaway Protection ==================
+//===========================================================================
+/*
 This is a feature to protect your printer from burn up in flames if it has
 a thermistor coming off place (this happened to a friend of mine recently and
 motivated me writing this feature).
@@ -259,11 +281,10 @@ your extruder heater takes 2 minutes to hit the target on heating.
 // Parameters for the bed heater
 //#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
 //#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
-//===========================================================================
 
 
 //===========================================================================
-//=============================Mechanical Settings===========================
+//============================= Mechanical Settings =========================
 //===========================================================================
 
 // Uncomment the following line to enable CoreXY kinematics
@@ -335,7 +356,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
 #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
 
-// Travel limits after homing
+// Travel limits after homing (units are in mm)
 #define X_MAX_POS 205
 #define X_MIN_POS 0
 #define Y_MAX_POS 205
@@ -346,7 +367,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
+
+
+//===========================================================================
 //============================= Bed Auto Leveling ===========================
+//===========================================================================
 
 //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 #define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
@@ -499,9 +524,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
 #define DEFAULT_EJERK                 5.0    // (mm/sec)
 
-//===========================================================================
-//=============================Additional Features===========================
-//===========================================================================
+
+//=============================================================================
+//============================= Additional Features ===========================
+//=============================================================================
 
 // Custom M code points
 #define CUSTOM_M_CODES

commit 26e55471f89af330dfa16b8efc08d7d63cdfd9d1
Author: AnHardt <github@kitelab.de>
Date:   Sun Feb 1 13:46:32 2015 +0100

    Update example configurations.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index edc3dc296f..1321559049 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -535,7 +535,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //LCD and SD support
 
 // Character based displays can have different extended charsets.
-#define DISPLAY_CHARSET_HD44870_JAPAN  //  "√§√§√∂√∂√º√º√ü23¬∞"
+#define DISPLAY_CHARSET_HD44870_JAPAN     // "√§√§√∂√∂√º√º√ü23¬∞"
 //#define DISPLAY_CHARSET_HD44870_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
 
 //#define ULTRA_LCD  //general LCD support, also 16x2

commit 85385be132a8998ff2bd0d3e746db19873db21dc
Author: AnHardt <github@kitelab.de>
Date:   Sun Feb 1 13:33:25 2015 +0100

    Removed now automatic define of DISPLAY_CHARSET_DOGM + improved description.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f5c218dc7f..edc3dc296f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -534,10 +534,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 //LCD and SD support
 
-// Character based displays can have different extended charsets. If you see strange or missing characters on yours - try an other definition below.
-#define DISPLAY_CHARSET_HD44870_JAPAN  //  "√§√§√∂√∂√º√º√ü¬∞"
-//#define DISPLAY_CHARSET_HD44870_WESTERN // with better support for European languages. "√Ñ√§√ñ√∂√ú√º√ü¬∞"
-//#define DISPLAY_CHARSET_DOGM // for full graphics display "√Ñ√§√ñ√ñ√ú√ú√ü¬∞"
+// Character based displays can have different extended charsets.
+#define DISPLAY_CHARSET_HD44870_JAPAN  //  "√§√§√∂√∂√º√º√ü23¬∞"
+//#define DISPLAY_CHARSET_HD44870_WESTERN // "√Ñ√§√ñ√∂√ú√º√ü¬≤¬≥¬∞" if you see a '~' instead of a 'arrow_right' at the right of submenuitems - this is the right one.
 
 //#define ULTRA_LCD  //general LCD support, also 16x2
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)

commit 27c638803ee7a1b7bfc6d6b0c735aac8a32c6161
Author: AnHardt <github@kitelab.de>
Date:   Fri Jan 30 10:28:22 2015 +0100

    Defined three charsets.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3aaa5887ec..f5c218dc7f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -533,6 +533,12 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 
 //LCD and SD support
+
+// Character based displays can have different extended charsets. If you see strange or missing characters on yours - try an other definition below.
+#define DISPLAY_CHARSET_HD44870_JAPAN  //  "√§√§√∂√∂√º√º√ü¬∞"
+//#define DISPLAY_CHARSET_HD44870_WESTERN // with better support for European languages. "√Ñ√§√ñ√∂√ú√º√ü¬∞"
+//#define DISPLAY_CHARSET_DOGM // for full graphics display "√Ñ√§√ñ√ñ√ú√ú√ü¬∞"
+
 //#define ULTRA_LCD  //general LCD support, also 16x2
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console

commit 8c792c7b22bd612c2e8b38ca8b23de936398a14b
Author: AnHardt <andreas@hardtung.de>
Date:   Mon Jan 26 15:40:44 2015 +0100

    Make STRING_VERSION and VERSION_STRING the same

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4e0786199d..3aaa5887ec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -24,11 +24,11 @@
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.
-#define STRING_VERSION "v1.0.2"
+#define STRING_VERSION "1.0.2"
 #define STRING_URL "reprap.org"
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
-#define STRING_SPLASH STRING_VERSION " - " STRING_URL // will be shown during bootup
+#define STRING_SPLASH "v" STRING_VERSION " - " STRING_URL // will be shown during bootup
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.

commit 53f971095d5631f2706519426ab53a60797be07b
Author: daid <daid303@gmail.com>
Date:   Fri Jan 16 16:48:22 2015 +0100

    Revert "Reduce PROGMEM warnings"

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f0b180bf84..4e0786199d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -791,5 +791,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 
 #include "Configuration_adv.h"
+#include "thermistortables.h"
 
 #endif //__CONFIGURATION_H

commit ab074dac179ea6b03ec7f2a161719e3d84f1b37e
Merge: d4a665694a bf2c923db5
Author: Bo Herrmannsen <bo.herrmannsen@gmail.com>
Date:   Tue Jan 13 12:10:37 2015 +0100

    Merge pull request #1344 from grob6000/independent_pid
    
    Independent PID parameters for each extruder

diff --combined Marlin/Configuration.h
index c8ad44e4d2,4e0786199d..f0b180bf84
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -152,6 -152,8 +152,8 @@@
    //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
+   //#define PID_PARAMS_PER_EXTRUDER // Uses separate PID parameters for each extruder (useful for mismatched extruders)
+                                     // Set/get with gcode: M301 E[extruder number, 0-2]
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
@@@ -789,5 -791,6 +791,5 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  
  
  #include "Configuration_adv.h"
 -#include "thermistortables.h"
  
  #endif //__CONFIGURATION_H

commit d4a665694a5ba1effb0d9e527c21419c5d19a1a7
Merge: b6623a0d49 cd55a93a13
Author: Bo Herrmannsen <bo.herrmannsen@gmail.com>
Date:   Tue Jan 13 11:26:50 2015 +0100

    Merge pull request #1350 from odewdney/Development
    
    Reduce PROGMEM warnings

diff --combined Marlin/Configuration.h
index dfc1965e6e,8c560834ee..c8ad44e4d2
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -24,11 -24,8 +24,11 @@@
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
 +#define STRING_VERSION "v1.0.2"
 +#define STRING_URL "reprap.org"
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
  #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
 +#define STRING_SPLASH STRING_VERSION " - " STRING_URL // will be shown during bootup
  
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@@ -151,7 -148,6 +151,7 @@@
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
 +  //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
@@@ -438,20 -434,20 +438,20 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  
    #ifdef AUTO_BED_LEVELING_GRID	// Check if Probe_Offset * Grid Points is greater than Probing Range
      #if X_PROBE_OFFSET_FROM_EXTRUDER < 0
 -      #if (-(X_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
 +      #if (-(X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
  	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
  	  #endif
  	#else
 -      #if ((X_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
 +      #if ((X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
  	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
  	  #endif
  	#endif
      #if Y_PROBE_OFFSET_FROM_EXTRUDER < 0
 -      #if (-(Y_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
 +      #if (-(Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
  	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
  	  #endif
  	#else
 -      #if ((Y_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
 +      #if ((Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
  	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
  	  #endif
  	#endif
@@@ -568,7 -564,7 +568,7 @@@
  
  // The Elefu RA Board Control Panel
  // http://www.elefu.com/index.php?route=product/product&product_id=53
 -// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 +// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
  //#define RA_CONTROL_PANEL
  
  //automatic expansion
@@@ -789,6 -785,5 +789,5 @@@
  
  
  #include "Configuration_adv.h"
- #include "thermistortables.h"
  
  #endif //__CONFIGURATION_H

commit 23bfe30036b0c87c813f33cbd8b0cfd5802fcaf0
Author: odewdney <oliver.dewdney@lbi.com>
Date:   Sun Jan 11 18:18:32 2015 +0000

    moved include themister to temperature.c

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fe6e371c5c..8c560834ee 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -785,6 +785,5 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 
 #include "Configuration_adv.h"
-#include "thermistortables.h"
 
 #endif //__CONFIGURATION_H

commit bf2c923db57cf8d41a2d163a8ad691fc51d59635
Author: grob6000 <grobinson6000@gmail.com>
Date:   Sun Jan 11 13:50:17 2015 +1100

    Make multiple PID parameters a config option
    
    * Adds config parameter `PID_PARAMS_PER_EXTRUDER` - allows single PID
    parameters to be used where this would be preferable (e.g. dual
    identical extruders)
    * When disabled, will use `float Kp, Ki, Kd, Kc;` as before.
    Preprocessor macros used to switch between.
    * ultralcd.cpp defines extra menus for extra parameters only where
    required
    * M301 reports `e:xx` only if independent pid parameters enabled
    * EEPROM structure still leaves space for 3 extruders worth, when undef
    will save single parameter to all extruder positions, but only read the
    first
    * Switching off saves approx 330 B with no LCD enabled, 2634B with LCD
    (RRD) enabled: this is significant.
    * LCD modifications should be tested.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dfc1965e6e..4e0786199d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -152,6 +152,8 @@
   //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
+  //#define PID_PARAMS_PER_EXTRUDER // Uses separate PID parameters for each extruder (useful for mismatched extruders)
+                                    // Set/get with gcode: M301 E[extruder number, 0-2]
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term

commit 8f0dba7cbf0e4e3dbe51cb8921849d4018558cfd
Author: Steffen Vogel <post@steffenvogel.de>
Date:   Fri Jan 9 18:48:30 2015 +0100

    adding string for bouts splash string to config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9b77f96f4f..dfc1965e6e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -24,8 +24,11 @@
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.
+#define STRING_VERSION "v1.0.2"
+#define STRING_URL "reprap.org"
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
+#define STRING_SPLASH STRING_VERSION " - " STRING_URL // will be shown during bootup
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.

commit 2bbb68be8a42cc0c523a7a20c422a533b8494710
Author: Alex Borro <alexborro@gmail.com>
Date:   Fri Jan 9 10:17:22 2015 -0200

    Fix calculation of BAL grid fitting into the bed
    
    The previous calc was wrong. Between N points there are only N-1 gaps,
    not N.
    
    So changing AUTO_BED_LEVELING_GRID_POINTS to
    (AUTO_BED_LEVELING_GRID_POINTS-1)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index aacd69295e..9b77f96f4f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -435,20 +435,20 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   #ifdef AUTO_BED_LEVELING_GRID	// Check if Probe_Offset * Grid Points is greater than Probing Range
     #if X_PROBE_OFFSET_FROM_EXTRUDER < 0
-      #if (-(X_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
+      #if (-(X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
 	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 	  #endif
 	#else
-      #if ((X_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
+      #if ((X_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
 	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 	  #endif
 	#endif
     #if Y_PROBE_OFFSET_FROM_EXTRUDER < 0
-      #if (-(Y_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
+      #if (-(Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
 	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 	  #endif
 	#else
-      #if ((Y_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
+      #if ((Y_PROBE_OFFSET_FROM_EXTRUDER * (AUTO_BED_LEVELING_GRID_POINTS-1)) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
 	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
 	  #endif
 	#endif

commit 269ec9f87f6a968dafa210a0dc9749f03e75e102
Author: andrewsil1 <andrewsi@microsoft.com>
Date:   Wed Jan 7 12:41:09 2015 -0800

    Fix grammar/typos in new Configuration.h option
    
    (For the SLOW_PWM_HEATERS option)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6a8fd36789..aacd69295e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -148,7 +148,7 @@
 #ifdef PIDTEMP
   //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
-  //#define SLOW_PWM_HEATERS // PWM with very low frequency (circa 0.125Hz=8s) and miminum state time of circa 1s usefoul for heater drived by relay
+  //#define SLOW_PWM_HEATERS // PWM with very low frequency (roughly 0.125Hz=8s) and minimum state time of approximately 1s useful for heaters driven by a relay
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term

commit 5cfe13f24055033806bf6cb7ed043e10d71b6643
Author: Dino Del Favero <dino@mesina.net>
Date:   Tue Jan 6 21:55:08 2015 +0100

    Correct some mistakes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 347e8c0950..6a8fd36789 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -565,7 +565,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 // The Elefu RA Board Control Panel
 // http://www.elefu.com/index.php?route=product/product&product_id=53
-// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
+// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARDUINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 //#define RA_CONTROL_PANEL
 
 //automatic expansion

commit 673033565787032dc6e1c830b7ab2daf5fd69fc2
Author: DinoMesina <dino@mesina.net>
Date:   Tue Jan 6 18:06:02 2015 +0100

    Update Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fe6e371c5c..347e8c0950 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -148,6 +148,7 @@
 #ifdef PIDTEMP
   //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
+  //#define SLOW_PWM_HEATERS // PWM with very low frequency (circa 0.125Hz=8s) and miminum state time of circa 1s usefoul for heater drived by relay
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term

commit 2701dd8a171fe2e3be013ed4f52d1637bbd7e5fd
Author: Lane Roberts <nolatari@vandarin.net>
Date:   Wed Dec 31 12:34:59 2014 -0600

    Due to the fix for #1248, X and Y probe offsets must not be floats.
    
    The compiler does not support comparing float values: "error: floating constant in preprocessor expression"
    The loss in X/Y precision shouldn't matter for Z probes, as most microswitches or inductive sensors are larger than 1mm square anyway.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 980efc5cdf..fe6e371c5c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -392,6 +392,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 
   // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
+  // X and Y offsets must be integers
   #define X_PROBE_OFFSET_FROM_EXTRUDER -25
   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29
   #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35

commit 991a74b75b65e73339364c72d8682d5197b5fed9
Author: Caleb Anderson <robotrising@gmail.com>
Date:   Mon Dec 29 18:03:56 2014 -0700

    Move delta calibration menu to sample delta configuration.
    Turn off by default.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4b768a546b..980efc5cdf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -546,13 +546,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
 
-// Delta calibration menu
-// uncomment to add three points calibration menu option.
-// See http://minow.blogspot.com/index.html#4918805519571907051
-// If needed, adjust the X, Y, Z calibration coordinates
-// in ultralcd.cpp@lcd_delta_calibrate_menu()
-#define DELTA_CALIBRATION_MENU
-
 // The GADGETS3D G3D LCD/SD Controller (blue PCB)
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //#define G3D_PANEL

commit 5b336a4cdb42f6f288054398cb5c966585e01739
Author: Caleb Anderson <robotrising@gmail.com>
Date:   Mon Dec 29 10:13:00 2014 -0700

    Delta calibration menu based on http://minow.blogspot.com/index.html#4918805519571907051
    To test/enable, uncomment the #define DELTA_CALIBRATION_MENU in Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 980efc5cdf..4b768a546b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -546,6 +546,13 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
 
+// Delta calibration menu
+// uncomment to add three points calibration menu option.
+// See http://minow.blogspot.com/index.html#4918805519571907051
+// If needed, adjust the X, Y, Z calibration coordinates
+// in ultralcd.cpp@lcd_delta_calibrate_menu()
+#define DELTA_CALIBRATION_MENU
+
 // The GADGETS3D G3D LCD/SD Controller (blue PCB)
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //#define G3D_PANEL

commit ec33df05540683b769dcdd8d4725440018586495
Author: fmalpartida <fmalpartida@gmail.com>
Date:   Sun Dec 28 19:54:06 2014 +0100

    Merge branch 'SAV-MkI_merge' into Development
    
    Tested for SAV MKI and SAV 3D LCD on lewihe.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 738ed905eb..980efc5cdf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -656,11 +656,13 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // Shift register panels
 // ---------------------
 // 2 wire Non-latching LCD SR from:
-// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
-//#define SR_LCD
-#ifdef SR_LCD
-   #define SR_LCD_2W_NL    // Non latching 2 wire shift register
-   //#define NEWPANEL
+// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
+
+//#define SAV_3DLCD
+#ifdef SAV_3DLCD
+   #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
+   #define NEWPANEL
+   #define ULTIPANEL
 #endif
 
 

commit 3afe66bb0c59f94d551b0ed10dda27e3d8683ec5
Author: alexborro <alexborro@gmail.com>
Date:   Sun Dec 28 13:27:39 2014 -0200

    Fix issues #1248, #1240
    
    - Fixed issue when BAL area probing is shorter than it should be for
    grid probing
    - Warning when BAL activated with Delta Kinematics
    - Fix XY_TRAVEL_SPEED when homing Z axis

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 07478e372b..738ed905eb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -431,6 +431,29 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   #endif
 
+  #ifdef AUTO_BED_LEVELING_GRID	// Check if Probe_Offset * Grid Points is greater than Probing Range
+    #if X_PROBE_OFFSET_FROM_EXTRUDER < 0
+      #if (-(X_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
+	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
+	  #endif
+	#else
+      #if ((X_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (RIGHT_PROBE_BED_POSITION - LEFT_PROBE_BED_POSITION))
+	     #error "The X axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
+	  #endif
+	#endif
+    #if Y_PROBE_OFFSET_FROM_EXTRUDER < 0
+      #if (-(Y_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
+	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
+	  #endif
+	#else
+      #if ((Y_PROBE_OFFSET_FROM_EXTRUDER * AUTO_BED_LEVELING_GRID_POINTS) >= (BACK_PROBE_BED_POSITION - FRONT_PROBE_BED_POSITION))
+	     #error "The Y axis probing range is not enough to fit all the points defined in AUTO_BED_LEVELING_GRID_POINTS"
+	  #endif
+	#endif
+
+	
+  #endif
+  
 #endif // ENABLE_AUTO_BED_LEVELING
 
 

commit cf52c48d19a2efbbd88ba79c3761270e926b64c5
Author: David Forrest <drf@vims.edu>
Date:   Tue Jun 24 17:03:55 2014 -0400

    Configuration.m: Set PID_INTEGRAL_DRIVE_MAX from PID_MAX from BANG_MAX.
    
    Current defaults are all 255.  If it makes sense to reduce them, they should come down together, and
    be in a  PID_INTEGRAL_DRIVE_MAX <= PID_MAX <- BANG_MAX relationship.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b99ec6a29e..07478e372b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -144,13 +144,13 @@
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
 #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
-#define PID_MAX 255 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
+#define PID_MAX BANG_MAX // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
 #ifdef PIDTEMP
   //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
-  #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
+  #define PID_INTEGRAL_DRIVE_MAX PID_MAX  //limit for the integral term
   #define K1 0.95 //smoothing factor within the PID
   #define PID_dT ((OVERSAMPLENR * 10.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 

commit d74aabf259813da773fac4c90a75c99a36035c41
Author: alexborro <alexborro@gmail.com>
Date:   Sun Dec 21 10:06:05 2014 -0200

    Revert "Change Auto_Bed_Leveling to Auto_Bed_Compensation"

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 29032f87a7..b99ec6a29e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -340,12 +340,12 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
-//============================= Bed Auto Compensation ===========================
+//============================= Bed Auto Leveling ===========================
 
-//#define ENABLE_AUTO_BED_COMPENSATION // Delete the comment to enable (remove // at the start of the line)
-#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Compensation is Enabled.
+//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
+#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
 
-#ifdef ENABLE_AUTO_BED_COMPENSATION
+#ifdef ENABLE_AUTO_BED_LEVELING
 
 // There are 2 different ways to pick the X and Y locations to probe:
 
@@ -353,18 +353,18 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //    Probe every point in a rectangular grid
 //    You must specify the rectangle, and the density of sample points
 //    This mode is preferred because there are more measurements.
-//    It used to be called ACCURATE_BED_COMPENSATION but "grid" is more descriptive
+//    It used to be called ACCURATE_BED_LEVELING but "grid" is more descriptive
 
 //  - "3-point" mode
 //    Probe 3 arbitrary points on the bed (that aren't colinear)
 //    You must specify the X & Y coordinates of all 3 points
 
-  #define AUTO_BED_COMPENSATION_GRID
-  // with AUTO_BED_COMPENSATION_GRID, the bed is sampled in a
-  // AUTO_BED_COMPENSATION_GRID_POINTSxAUTO_BED_COMPENSATION_GRID_POINTS grid
+  #define AUTO_BED_LEVELING_GRID
+  // with AUTO_BED_LEVELING_GRID, the bed is sampled in a
+  // AUTO_BED_LEVELING_GRID_POINTSxAUTO_BED_LEVELING_GRID_POINTS grid
   // and least squares solution is calculated
   // Note: this feature occupies 10'206 byte
-  #ifdef AUTO_BED_COMPENSATION_GRID
+  #ifdef AUTO_BED_LEVELING_GRID
 
     // set the rectangle in which to probe
     #define LEFT_PROBE_BED_POSITION 15
@@ -374,10 +374,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
      // set the number of grid points per dimension
      // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
-    #define AUTO_BED_COMPENSATION_GRID_POINTS 2
+    #define AUTO_BED_LEVELING_GRID_POINTS 2
 
 
-  #else  // not AUTO_BED_COMPENSATION_GRID
+  #else  // not AUTO_BED_LEVELING_GRID
     // with no grid, just probe 3 arbitrary points.  A simple cross-product
     // is used to esimate the plane of the print bed
 
@@ -388,7 +388,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
       #define ABL_PROBE_PT_3_X 170
       #define ABL_PROBE_PT_3_Y 20
 
-  #endif // AUTO_BED_COMPENSATION_GRID
+  #endif // AUTO_BED_LEVELING_GRID
 
 
   // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
@@ -414,7 +414,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //  #define PROBE_SERVO_DEACTIVATION_DELAY 300
 
 
-//If you have enabled the Bed Auto Compensation and are using the same Z Probe for Z Homing,
+//If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
 //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 
   #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area.
@@ -431,7 +431,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   #endif
 
-#endif // ENABLE_AUTO_BED_COMPENSATION
+#endif // ENABLE_AUTO_BED_LEVELING
 
 
 // The position of the homing switches

commit 81568c3c6d84673833dc81d0b906e39e66ffb74c
Author: John Davis <ei8htohms@gmail.com>
Date:   Fri Dec 19 17:06:56 2014 -0500

    Update Configuration.h
    
    Changed Auto Bed Level to Auto Bed Compensation

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b99ec6a29e..29032f87a7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -340,12 +340,12 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
-//============================= Bed Auto Leveling ===========================
+//============================= Bed Auto Compensation ===========================
 
-//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
-#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
+//#define ENABLE_AUTO_BED_COMPENSATION // Delete the comment to enable (remove // at the start of the line)
+#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Compensation is Enabled.
 
-#ifdef ENABLE_AUTO_BED_LEVELING
+#ifdef ENABLE_AUTO_BED_COMPENSATION
 
 // There are 2 different ways to pick the X and Y locations to probe:
 
@@ -353,18 +353,18 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //    Probe every point in a rectangular grid
 //    You must specify the rectangle, and the density of sample points
 //    This mode is preferred because there are more measurements.
-//    It used to be called ACCURATE_BED_LEVELING but "grid" is more descriptive
+//    It used to be called ACCURATE_BED_COMPENSATION but "grid" is more descriptive
 
 //  - "3-point" mode
 //    Probe 3 arbitrary points on the bed (that aren't colinear)
 //    You must specify the X & Y coordinates of all 3 points
 
-  #define AUTO_BED_LEVELING_GRID
-  // with AUTO_BED_LEVELING_GRID, the bed is sampled in a
-  // AUTO_BED_LEVELING_GRID_POINTSxAUTO_BED_LEVELING_GRID_POINTS grid
+  #define AUTO_BED_COMPENSATION_GRID
+  // with AUTO_BED_COMPENSATION_GRID, the bed is sampled in a
+  // AUTO_BED_COMPENSATION_GRID_POINTSxAUTO_BED_COMPENSATION_GRID_POINTS grid
   // and least squares solution is calculated
   // Note: this feature occupies 10'206 byte
-  #ifdef AUTO_BED_LEVELING_GRID
+  #ifdef AUTO_BED_COMPENSATION_GRID
 
     // set the rectangle in which to probe
     #define LEFT_PROBE_BED_POSITION 15
@@ -374,10 +374,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
      // set the number of grid points per dimension
      // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
-    #define AUTO_BED_LEVELING_GRID_POINTS 2
+    #define AUTO_BED_COMPENSATION_GRID_POINTS 2
 
 
-  #else  // not AUTO_BED_LEVELING_GRID
+  #else  // not AUTO_BED_COMPENSATION_GRID
     // with no grid, just probe 3 arbitrary points.  A simple cross-product
     // is used to esimate the plane of the print bed
 
@@ -388,7 +388,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
       #define ABL_PROBE_PT_3_X 170
       #define ABL_PROBE_PT_3_Y 20
 
-  #endif // AUTO_BED_LEVELING_GRID
+  #endif // AUTO_BED_COMPENSATION_GRID
 
 
   // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
@@ -414,7 +414,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //  #define PROBE_SERVO_DEACTIVATION_DELAY 300
 
 
-//If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
+//If you have enabled the Bed Auto Compensation and are using the same Z Probe for Z Homing,
 //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 
   #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area.
@@ -431,7 +431,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   #endif
 
-#endif // ENABLE_AUTO_BED_LEVELING
+#endif // ENABLE_AUTO_BED_COMPENSATION
 
 
 // The position of the homing switches

commit 3b1f186c0c8bea53bdd002dfdc91fb10c788f576
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Dec 18 12:07:26 2014 -0800

    Clean up configs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 591ce13332..b99ec6a29e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -38,7 +38,6 @@
 // This enables the serial port associated to the Bluetooth interface
 //#define BTENABLED              // Enable BT interface on AT90USB devices
 
-
 // The following define selects which electronics board you have.
 // Please choose the name from boards.h that matches your setup
 #ifndef MOTHERBOARD

commit f83d0f2a689b325acfc135359c1571edd1b70466
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Dec 18 12:02:36 2014 -0800

    Defines for electronics boards
    
    Added boards.h which contains defines for all the board numbers, plus
    some shorthand macros for less typing.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1fe970a660..591ce13332 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,6 +1,8 @@
 #ifndef CONFIGURATION_H
 #define CONFIGURATION_H
 
+#include "boards.h"
+
 // This configuration file contains the basic settings.
 // Advanced settings can be found in Configuration_adv.h
 // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
@@ -37,53 +39,10 @@
 //#define BTENABLED              // Enable BT interface on AT90USB devices
 
 
-//// The following define selects which electronics board you have. Please choose the one that matches your setup
-// 10 = Gen7 custom (Alfons3 Version) "https://github.com/Alfons3/Generation_7_Electronics"
-// 11 = Gen7 v1.1, v1.2 = 11
-// 12 = Gen7 v1.3
-// 13 = Gen7 v1.4
-// 2  = Cheaptronic v1.0
-// 20 = Sethi 3D_1
-// 3  = MEGA/RAMPS up to 1.2 = 3
-// 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
-// 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
-// 35 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Fan)
-// 36 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Fan)
-// 4  = Duemilanove w/ ATMega328P pin assignment
-// 5  = Gen6
-// 51 = Gen6 deluxe
-// 6  = Sanguinololu < 1.2
-// 62 = Sanguinololu 1.2 and above
-// 63 = Melzi
-// 64 = STB V1.1
-// 65 = Azteeg X1
-// 66 = Melzi with ATmega1284 (MaKr3d version)
-// 67 = Azteeg X3
-// 68 = Azteeg X3 Pro
-// 7  = Ultimaker
-// 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
-// 72 = Ultimainboard 2.x (Uses TEMP_SENSOR 20)
-// 77 = 3Drag Controller
-// 8  = Teensylu
-// 80 = Rumba
-// 81 = Printrboard (AT90USB1286)
-// 82 = Brainwave (AT90USB646)
-// 83 = SAV Mk-I (AT90USB1286)
-// 84 = Teensy++2.0 (AT90USB1286) // CLI compile: DEFINES=AT90USBxx_TEENSYPP_ASSIGNMENTS HARDWARE_MOTHERBOARD=84  make
-// 9  = Gen3+
-// 22 = Gen3 Monolithic Electronics
-// 70 = Megatronics
-// 701= Megatronics v2.0
-// 702= Minitronics v1.0
-// 90 = Alpha OMCA board
-// 91 = Final OMCA board
-// 301= Rambo
-// 21 = Elefu Ra Board (v3)
-// 88 = 5DPrint D8 Driver Board
-// 999 = Leapfrog
-
+// The following define selects which electronics board you have.
+// Please choose the name from boards.h that matches your setup
 #ifndef MOTHERBOARD
-#define MOTHERBOARD 7
+  #define MOTHERBOARD BOARD_ULTIMAKER
 #endif
 
 // Define this to set a custom name for your generic Mendel,

commit 280504e2e097ea33a8927a83c8e5cada6346df83
Merge: 341c7d080d 1c9a70cee9
Author: Bo Herrmannsen <bo.herrmannsen@gmail.com>
Date:   Wed Dec 17 22:28:07 2014 +0100

    Merge pull request #908 from alromh87/Marlin_v1
    
    Support for Gen3 Monolithic electronics

diff --combined Marlin/Configuration.h
index 447cee0958,eaca0fa3ac..1fe970a660
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -12,13 -12,6 +12,13 @@@
  // example_configurations/delta directory.
  //
  
 +//===========================================================================
 +//============================= SCARA Printer ===============================
 +//===========================================================================
 +// For a Delta printer replace the configuration files with the files in the
 +// example_configurations/SCARA directory.
 +//
 +
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
@@@ -30,6 -23,7 +30,6 @@@
  // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
  #define SERIAL_PORT 0
  
 -// This determines the communication speed of the printer
  // This determines the communication speed of the printer
  #define BAUDRATE 250000
  
@@@ -48,7 -42,6 +48,7 @@@
  // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
  // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
  // 35 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Fan)
 +// 36 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Fan)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
@@@ -69,8 -62,8 +69,9 @@@
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
  // 83 = SAV Mk-I (AT90USB1286)
 +// 84 = Teensy++2.0 (AT90USB1286) // CLI compile: DEFINES=AT90USBxx_TEENSYPP_ASSIGNMENTS HARDWARE_MOTHERBOARD=84  make
  // 9  = Gen3+
+ // 22 = Gen3 Monolithic Electronics
  // 70 = Megatronics
  // 701= Megatronics v2.0
  // 702= Minitronics v1.0
@@@ -79,7 -72,6 +80,7 @@@
  // 301= Rambo
  // 21 = Elefu Ra Board (v3)
  // 88 = 5DPrint D8 Driver Board
 +// 999 = Leapfrog
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
@@@ -127,7 -119,6 +128,7 @@@
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
  // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
 +// 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  //
@@@ -193,7 -184,7 +194,7 @@@
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
    #define K1 0.95 //smoothing factor within the PID
 -  #define PID_dT ((OVERSAMPLENR * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 +  #define PID_dT ((OVERSAMPLENR * 10.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
@@@ -259,44 -250,6 +260,44 @@@
  #define EXTRUDE_MINTEMP 170
  #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  
 +/*================== Thermal Runaway Protection ==============================
 +This is a feature to protect your printer from burn up in flames if it has
 +a thermistor coming off place (this happened to a friend of mine recently and
 +motivated me writing this feature).
 +
 +The issue: If a thermistor come off, it will read a lower temperature than actual.
 +The system will turn the heater on forever, burning up the filament and anything
 +else around.
 +
 +After the temperature reaches the target for the first time, this feature will 
 +start measuring for how long the current temperature stays below the target 
 +minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
 +
 +If it stays longer than _PERIOD, it means the thermistor temperature
 +cannot catch up with the target, so something *may be* wrong. Then, to be on the
 +safe side, the system will he halt.
 +
 +Bear in mind the count down will just start AFTER the first time the 
 +thermistor temperature is over the target, so you will have no problem if
 +your extruder heater takes 2 minutes to hit the target on heating.
 +
 +*/
 +// If you want to enable this feature for all your extruder heaters,
 +// uncomment the 2 defines below:
 +
 +// Parameters for all extruder heaters
 +//#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
 +//#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
 +
 +// If you want to enable this feature for your bed heater,
 +// uncomment the 2 defines below:
 +
 +// Parameters for the bed heater
 +//#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
 +//#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
 +//===========================================================================
 +
 +
  //===========================================================================
  //=============================Mechanical Settings===========================
  //===========================================================================
@@@ -352,7 -305,6 +353,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  #define DISABLE_Y false
  #define DISABLE_Z false
  #define DISABLE_E false // For all extruders
 +#define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
  
  #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
  #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
@@@ -384,7 -336,6 +385,7 @@@
  //============================= Bed Auto Leveling ===========================
  
  //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 +#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
  
  #ifdef ENABLE_AUTO_BED_LEVELING
  
@@@ -445,8 -396,6 +446,8 @@@
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
 +  //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
 +  //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
    //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
    //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
@@@ -766,39 -715,6 +767,39 @@@
  //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
  //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
  
 +/**********************************************************************\
 + * Support for a filament diameter sensor
 + * Also allows adjustment of diameter at print time (vs  at slicing)
 + * Single extruder only at this point (extruder 0)
 + * 
 + * Motherboards
 + * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector 
 + * 81 - Printrboard - Uses Analog input 2 on the Exp1 connector (version B,C,D,E)
 + * 301 - Rambo  - uses Analog input 3
 + * Note may require analog pins to be defined for different motherboards
 + **********************************************************************/
 +// Uncomment below to enable
 +//#define FILAMENT_SENSOR
 +
 +#define FILAMENT_SENSOR_EXTRUDER_NUM	0  //The number of the extruder that has the filament sensor (0,1,2)
 +#define MEASUREMENT_DELAY_CM			14  //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 +
 +#define DEFAULT_NOMINAL_FILAMENT_DIA  3.0  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
 +#define MEASURED_UPPER_LIMIT          3.30  //upper limit factor used for sensor reading validation in mm
 +#define MEASURED_LOWER_LIMIT          1.90  //lower limit factor for sensor reading validation in mm
 +#define MAX_MEASUREMENT_DELAY			20  //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 +
 +//defines used in the code
 +#define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially 
 +
 +//When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
 +//#define FILAMENT_LCD_DISPLAY
 +
 +
 +
 +
 +
 +
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  

commit 91d740e12897030f3a3d336ece068d13f3d7dcc5
Merge: 00f279376f 1651ccc0cc
Author: Bo Herrmannsen <bo.herrmannsen@gmail.com>
Date:   Wed Dec 17 20:38:30 2014 +0100

    Merge pull request #1141 from filipmu/Filament-Sensor
    
    Display filament sensor data on a 20x4 LCD or Graphical LCD

diff --combined Marlin/Configuration.h
index 2702024e56,e2cadaa17f..447cee0958
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -773,13 -773,11 +773,13 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
   * 
   * Motherboards
   * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector 
-  * 81 - Printrboard - Uses Analog input 2 on the Aux 2 connector
+  * 81 - Printrboard - Uses Analog input 2 on the Exp1 connector (version B,C,D,E)
   * 301 - Rambo  - uses Analog input 3
   * Note may require analog pins to be defined for different motherboards
   **********************************************************************/
 -#define FILAMENT_SENSOR
 +// Uncomment below to enable
 +//#define FILAMENT_SENSOR
 +
  #define FILAMENT_SENSOR_EXTRUDER_NUM	0  //The number of the extruder that has the filament sensor (0,1,2)
  #define MEASUREMENT_DELAY_CM			14  //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
  
@@@ -791,6 -789,8 +791,8 @@@
  //defines used in the code
  #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially 
  
+ //When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
+ //#define FILAMENT_LCD_DISPLAY
  
  
  

commit d84934d8c5bdb7f8298760ce487da4c9c33bc438
Author: Filip Mulier <filipmulier@q.com>
Date:   Mon Nov 10 21:43:58 2014 -0600

    Display Filament Sensor data on 20x4 LCD
    
    Changes to support displaying the real-time filament width and the
    volume factor on a 20x4 LCD.  The data is displayed on the 4th line.
    First the status message is displayed for 5 seconds, and then the
    filament data is displayed.  The status message can be seen by
    re-selecting the info screen in the menu.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d2aba196d9..e2cadaa17f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -773,7 +773,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
  * 
  * Motherboards
  * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector 
- * 81 - Printrboard - Uses Analog input 2 on the Aux 2 connector
+ * 81 - Printrboard - Uses Analog input 2 on the Exp1 connector (version B,C,D,E)
  * 301 - Rambo  - uses Analog input 3
  * Note may require analog pins to be defined for different motherboards
  **********************************************************************/
@@ -789,6 +789,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //defines used in the code
 #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially 
 
+//When using an LCD, uncomment the line below to display the Filament sensor data on the last line instead of status.  Status will appear for 5 sec.
+//#define FILAMENT_LCD_DISPLAY
 
 
 

commit 5c8107bcdd49162e0a66138d144db28bb432d72c
Author: Filip Mulier <filipmulier@q.com>
Date:   Sun Nov 9 13:26:02 2014 -0600

    Commented out FILAMENT_SENSOR #define
    
    Commented out the FILAMENT_SENSOR define so that it is not enabled by
    default.  Code does not work on all hardware variants.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d2aba196d9..2702024e56 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -777,7 +777,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
  * 301 - Rambo  - uses Analog input 3
  * Note may require analog pins to be defined for different motherboards
  **********************************************************************/
-#define FILAMENT_SENSOR
+// Uncomment below to enable
+//#define FILAMENT_SENSOR
+
 #define FILAMENT_SENSOR_EXTRUDER_NUM	0  //The number of the extruder that has the filament sensor (0,1,2)
 #define MEASUREMENT_DELAY_CM			14  //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 

commit 058e4465313191bf769e00a347ceccb4fbd1112c
Merge: 256c25a843 9bc7aec349
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Oct 11 22:56:01 2014 +0200

    Merge pull request #1037 from filipmu/Filament-Sensor
    
    Support for a filament diameter sensor

diff --combined Marlin/Configuration.h
index 9f9141a8a1,c838d6ceeb..d2aba196d9
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -12,13 -12,6 +12,13 @@@
  // example_configurations/delta directory.
  //
  
 +//===========================================================================
 +//============================= SCARA Printer ===============================
 +//===========================================================================
 +// For a Delta printer replace the configuration files with the files in the
 +// example_configurations/SCARA directory.
 +//
 +
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
@@@ -30,6 -23,7 +30,6 @@@
  // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
  #define SERIAL_PORT 0
  
 -// This determines the communication speed of the printer
  // This determines the communication speed of the printer
  #define BAUDRATE 250000
  
@@@ -48,7 -42,6 +48,7 @@@
  // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
  // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
  // 35 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Fan)
 +// 36 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Fan)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
@@@ -79,7 -72,6 +79,7 @@@
  // 301= Rambo
  // 21 = Elefu Ra Board (v3)
  // 88 = 5DPrint D8 Driver Board
 +// 999 = Leapfrog
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
@@@ -127,7 -119,6 +127,7 @@@
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
  // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
 +// 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  //
@@@ -141,6 -132,7 +141,6 @@@
  // 1010 is Pt1000 with 1k pullup (non standard)
  // 147 is Pt100 with 4k7 pullup
  // 110 is Pt100 with 1k pullup (non standard)
 -// 70 is 500C thermistor for Pico hot end
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
@@@ -193,7 -185,7 +193,7 @@@
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
    #define K1 0.95 //smoothing factor within the PID
-   #define PID_dT ((OVERSAMPLENR * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
+   #define PID_dT ((OVERSAMPLENR * 10.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
@@@ -384,7 -376,6 +384,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  //============================= Bed Auto Leveling ===========================
  
  //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 +#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
  
  #ifdef ENABLE_AUTO_BED_LEVELING
  
@@@ -445,8 -436,6 +445,8 @@@
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
 +  //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
 +  //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
    //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
    //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
@@@ -766,6 -755,35 +766,35 @@@
  //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
  //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
  
+ /**********************************************************************\
+  * Support for a filament diameter sensor
+  * Also allows adjustment of diameter at print time (vs  at slicing)
+  * Single extruder only at this point (extruder 0)
+  * 
+  * Motherboards
+  * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector 
+  * 81 - Printrboard - Uses Analog input 2 on the Aux 2 connector
+  * 301 - Rambo  - uses Analog input 3
+  * Note may require analog pins to be defined for different motherboards
+  **********************************************************************/
+ #define FILAMENT_SENSOR
+ #define FILAMENT_SENSOR_EXTRUDER_NUM	0  //The number of the extruder that has the filament sensor (0,1,2)
+ #define MEASUREMENT_DELAY_CM			14  //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
+ 
+ #define DEFAULT_NOMINAL_FILAMENT_DIA  3.0  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
+ #define MEASURED_UPPER_LIMIT          3.30  //upper limit factor used for sensor reading validation in mm
+ #define MEASURED_LOWER_LIMIT          1.90  //lower limit factor for sensor reading validation in mm
+ #define MAX_MEASUREMENT_DELAY			20  //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
+ 
+ //defines used in the code
+ #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  

commit aaaf8fe8dd24cd3899eecce9489447d702d0ab40
Merge: b360306881 40ba644bb4
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Oct 6 13:41:38 2014 +0200

    Merge pull request #1068 from darkjavi/Marlin_v1
    
    Added profile for RAMPS with 2 extruders and 1 fan, no heated bed

diff --combined Marlin/Configuration.h
index c6e9a2ad0a,86a262f670..9f9141a8a1
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -30,6 -30,7 +30,6 @@@
  // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
  #define SERIAL_PORT 0
  
 -// This determines the communication speed of the printer
  // This determines the communication speed of the printer
  #define BAUDRATE 250000
  
@@@ -48,6 -49,7 +48,7 @@@
  // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
  // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
  // 35 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Fan)
+ // 36 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Fan)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
@@@ -126,7 -128,6 +127,7 @@@
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
  // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
 +// 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  //

commit ce85515428f44f4f10893a762b0e025e72286660
Merge: 764921bdbf a664763e6f
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Oct 6 13:39:36 2014 +0200

    Merge pull request #1082 from Fourmi/Marlin_v1
    
    Add thermistor table

diff --combined Marlin/Configuration.h
index 0af56f6c59,170a0c2f74..c6e9a2ad0a
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -30,6 -30,7 +30,6 @@@
  // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
  #define SERIAL_PORT 0
  
 -// This determines the communication speed of the printer
  // This determines the communication speed of the printer
  #define BAUDRATE 250000
  
@@@ -126,6 -127,7 +126,7 @@@
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
  // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
+ // 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  //

commit f989bd54355966f1740b386d39fc516ce70af74f
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Sun Oct 5 13:20:53 2014 -0700

    Simple code cleanup. Rename "homeing" to homing.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eb2141a89d..0af56f6c59 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -30,7 +30,6 @@
 // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
 #define SERIAL_PORT 0
 
-// This determines the communication speed of the printer
 // This determines the communication speed of the printer
 #define BAUDRATE 250000
 

commit b5dc228a7a510e964c4637358479b65bc474721f
Author: Fourmi <contact@lacleverte.fr>
Date:   Sat Sep 27 09:02:58 2014 +0200

    Update configuration.h
    
    Add another comment for thermistor 13 ,use with Hotend "Simple ONE & All In ONE"

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 89f2d6d75a..170a0c2f74 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -127,7 +127,7 @@
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
 // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
-// 12 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
+// 13 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
 // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 //

commit 3cbb2f56c6417cdda8ff093b831878868dc01ef3
Author: Fourmi <contact@lacleverte.fr>
Date:   Fri Sep 26 22:01:06 2014 +0200

    Update configuration.h
    
    Add another comment on configuration.h for the value of thermistor.
    I make a pull request on thermistortables.h with my thermistor (12),but y see there is a comment on configuration with number 12 but it's not present on thermistortables.h ?
    
    Thx

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eb2141a89d..89f2d6d75a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -127,6 +127,7 @@
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
 // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
+// 12 is 100k Hisens 3950  1% up to 300¬∞C for hotend "Simple ONE " & "Hotend "All In ONE" 
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
 // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 //

commit 40ba644bb4c7e073f0e082f28f6d982654fe0d42
Author: Javi <darkjavi@gmail.com>
Date:   Sat Sep 6 02:53:36 2014 +0200

    Added profile for RAMPS with 2 extruders and 1 fan.
            modified:   Marlin/Configuration.h
            modified:   Marlin/pins.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eb2141a89d..86a262f670 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -49,6 +49,7 @@
 // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
 // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
 // 35 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Fan)
+// 36 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Fan)
 // 4  = Duemilanove w/ ATMega328P pin assignment
 // 5  = Gen6
 // 51 = Gen6 deluxe

commit fe3a09bbcfe2866752df01394fbfcb117f1dc80c
Author: Filip Mulier <filipmulier@q.com>
Date:   Mon Sep 1 06:26:19 2014 -0500

    Correct analog sampling time for additional A to D sample
    
    Adjusted the  #define PID_dT to reflect 10 A to D sample steps, vs
    original 8.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c877eec90a..c838d6ceeb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -185,7 +185,7 @@
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
   #define K1 0.95 //smoothing factor within the PID
-  #define PID_dT ((OVERSAMPLENR * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
+  #define PID_dT ((OVERSAMPLENR * 10.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 
 // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker

commit 018b68a5c47994847794a726c778e1ec0694fccb
Merge: dde61d8886 ad3b770c1a
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Thu Aug 28 16:32:52 2014 +0200

    Merge pull request #976 from cocktailyogi/SCARA_by_Yogi
    
    Implemented SCARA-Maths

diff --combined Marlin/Configuration.h
index bebabc38aa,4ecd0c6d2f..eb2141a89d
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -12,6 -12,13 +12,13 @@@
  // example_configurations/delta directory.
  //
  
+ //===========================================================================
+ //============================= SCARA Printer ===============================
+ //===========================================================================
+ // For a Delta printer replace the configuration files with the files in the
+ // example_configurations/SCARA directory.
+ //
+ 
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
@@@ -72,7 -79,6 +79,7 @@@
  // 301= Rambo
  // 21 = Elefu Ra Board (v3)
  // 88 = 5DPrint D8 Driver Board
 +// 999 = Leapfrog
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
@@@ -133,7 -139,6 +140,6 @@@
  // 1010 is Pt1000 with 1k pullup (non standard)
  // 147 is Pt100 with 4k7 pullup
  // 110 is Pt100 with 1k pullup (non standard)
- // 70 is 500C thermistor for Pico hot end
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
@@@ -377,7 -382,6 +383,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  //============================= Bed Auto Leveling ===========================
  
  //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 +#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
  
  #ifdef ENABLE_AUTO_BED_LEVELING
  
@@@ -438,8 -442,6 +444,8 @@@
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
 +  //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
 +  //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
    //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
    //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.

commit 0fbfb1bf826a03709bfe7fedd1bdb4c5d49393eb
Merge: 8340ca6e05 32a6451ad8
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Thu Aug 28 16:27:52 2014 +0200

    Merge pull request #991 from bonm014/patch-1
    
    Leapfrog controller board support

diff --combined Marlin/Configuration.h
index d01186b612,7f228b55c2..bebabc38aa
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -72,6 -72,7 +72,7 @@@
  // 301= Rambo
  // 21 = Elefu Ra Board (v3)
  // 88 = 5DPrint D8 Driver Board
+ // 999 = Leapfrog
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
@@@ -376,7 -377,6 +377,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  //============================= Bed Auto Leveling ===========================
  
  //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 +#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
  
  #ifdef ENABLE_AUTO_BED_LEVELING
  
@@@ -437,8 -437,6 +438,8 @@@
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
 +  //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
 +  //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
    //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
    //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.

commit 68dd5e635ec26cf96dd330de3909a703e7bbdd9f
Merge: 25069ed4e9 e7707aedbc
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Thu Aug 28 16:15:54 2014 +0200

    Merge pull request #1024 from oliasmage/Marlin_v1
    
    Adding Z Probe via sled mounted endstop

diff --combined Marlin/Configuration.h
index 070d31c6d4,d2b7ecfe8d..d01186b612
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -376,7 -376,6 +376,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  //============================= Bed Auto Leveling ===========================
  
  //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 +#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
  
  #ifdef ENABLE_AUTO_BED_LEVELING
  
@@@ -437,6 -436,8 +437,8 @@@
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
+   //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
+   //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
  
    //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
    //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.

commit e3c88a5120eed5eb334fe15352e450c433d73e97
Author: Filip Mulier <filipmulier@q.com>
Date:   Sat Aug 16 07:08:09 2014 -0500

    Filament sensor changes to config file
    
    Update the config file for improvements and clarifying what diameter to
    use in the slicer software.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 45c6ea4864..c877eec90a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -770,14 +770,13 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define FILAMENT_SENSOR_EXTRUDER_NUM	0  //The number of the extruder that has the filament sensor (0,1,2)
 #define MEASUREMENT_DELAY_CM			14  //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
 
-#define DEFAULT_NOMINAL_FILAMENT_DIA  3.0  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm).  Used for sensor reading validation
+#define DEFAULT_NOMINAL_FILAMENT_DIA  3.0  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm) - this is then used in the slicer software.  Used for sensor reading validation
 #define MEASURED_UPPER_LIMIT          3.30  //upper limit factor used for sensor reading validation in mm
 #define MEASURED_LOWER_LIMIT          1.90  //lower limit factor for sensor reading validation in mm
 #define MAX_MEASUREMENT_DELAY			20  //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
 
 //defines used in the code
 #define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially 
-#define STANDARD_DIA					1.12837915  //The diameter of filament that has a cross sectional area of 1 square mm.  This dia should be used in the slicer software settings
 
 
 

commit 0adbc79571e7aef39378b1c0c59b5cbaa5b1a3a3
Author: Roxy-3DPrintBoard <Roxanne.Rae.Neufeld@gmail.com>
Date:   Sun Aug 10 10:18:54 2014 -0500

    Fix Default Configuration so Auto Bed Leveling is off
    
    This snapshot has the Auto Bed Leveling turned off because most Marlin
    users do not have that feature.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b35a402dbc..070d31c6d4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -375,8 +375,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 //============================= Bed Auto Leveling ===========================
 
-#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
-#define Z_PROBE_REPEATABILITY_TEST  // Delete the comment to enable (remove // at the start of the line)
+//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
+#define Z_PROBE_REPEATABILITY_TEST  // If not commented out, Z-Probe Repeatability test will be included if Auto Bed Leveling is Enabled.
 
 #ifdef ENABLE_AUTO_BED_LEVELING
 

commit 009186558314b942b0dd1b968eca6a777337b3e1
Author: Roxy-3DPrintBoard <Roxanne.Rae.Neufeld@gmail.com>
Date:   Sat Aug 9 15:37:23 2014 -0500

    Z_PROBE_REPEATABILITY test
    
    Z_PROBE_REPEATABILITY test for Auto Bed Leveling.
    Implemented as M48 with extra user specified options.
    Full support at
    http://3dprintboard.com/showthread.php?2802-Auto_Bed_Leveling-Z-Probe-Repeatability-code

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 46d6b96dd1..b35a402dbc 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -375,7 +375,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 //============================= Bed Auto Leveling ===========================
 
-//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
+#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
+#define Z_PROBE_REPEATABILITY_TEST  // Delete the comment to enable (remove // at the start of the line)
 
 #ifdef ENABLE_AUTO_BED_LEVELING
 

commit 85649a4549bc0a3613f675149997210ad5ab26da
Author: Filip Mulier <filipmulier@q.com>
Date:   Wed Aug 6 19:30:57 2014 -0500

    Real-time filament diameter measurement and control
    
    This feature allows the printer to read the filament diameter
    automatically and adjust the printer in real time.  Added code to read
    an analog voltage that represents a filament diameter measurement.  This
    measurement is delayed in a ring buffer to compensate for sensors that
    are a distance away from the extruder.  The measurement is used to
    adjust the volumetric_multiplier for the extruder.  Some additional g
    codes (M404, M405, M406, M407) are used to set parameters and turn
    on/off the control. g code M221 is updated.  Pins for RAMPS1.4, RAMBO,
    and Printrboard are identified for analog input.  The configuration file
    is updated with relevant user parameters.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 46d6b96dd1..45c6ea4864 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -755,6 +755,36 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
 //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
 
+/**********************************************************************\
+ * Support for a filament diameter sensor
+ * Also allows adjustment of diameter at print time (vs  at slicing)
+ * Single extruder only at this point (extruder 0)
+ * 
+ * Motherboards
+ * 34 - RAMPS1.4 - uses Analog input 5 on the AUX2 connector 
+ * 81 - Printrboard - Uses Analog input 2 on the Aux 2 connector
+ * 301 - Rambo  - uses Analog input 3
+ * Note may require analog pins to be defined for different motherboards
+ **********************************************************************/
+#define FILAMENT_SENSOR
+#define FILAMENT_SENSOR_EXTRUDER_NUM	0  //The number of the extruder that has the filament sensor (0,1,2)
+#define MEASUREMENT_DELAY_CM			14  //measurement delay in cm.  This is the distance from filament sensor to middle of barrel
+
+#define DEFAULT_NOMINAL_FILAMENT_DIA  3.0  //Enter the diameter (in mm) of the filament generally used (3.0 mm or 1.75 mm).  Used for sensor reading validation
+#define MEASURED_UPPER_LIMIT          3.30  //upper limit factor used for sensor reading validation in mm
+#define MEASURED_LOWER_LIMIT          1.90  //lower limit factor for sensor reading validation in mm
+#define MAX_MEASUREMENT_DELAY			20  //delay buffer size in bytes (1 byte = 1cm)- limits maximum measurement delay allowable (must be larger than MEASUREMENT_DELAY_CM  and lower number saves RAM)
+
+//defines used in the code
+#define DEFAULT_MEASURED_FILAMENT_DIA  DEFAULT_NOMINAL_FILAMENT_DIA  //set measured to nominal initially 
+#define STANDARD_DIA					1.12837915  //The diameter of filament that has a cross sectional area of 1 square mm.  This dia should be used in the slicer software settings
+
+
+
+
+
+
+
 #include "Configuration_adv.h"
 #include "thermistortables.h"
 

commit e7707aedbc5ec9c5ccb1962a8ba22fa89ebf8095
Author: Charles Bell <cbell@Chucks-iMac-3.local>
Date:   Mon Aug 4 10:18:25 2014 -0400

    Commented out new #defines in Configuration.h.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 61199a0af6..d2b7ecfe8d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -436,8 +436,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
   #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
 
-  #define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
-  #define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
+  //#define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
+  //#define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
   //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
   //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.

commit 0a8dc0e96b0f96c3ab9c511ef633bbc45872af5d
Author: Charles Bell <cbell@Chucks-iMac-3.local>
Date:   Mon Aug 4 10:07:43 2014 -0400

    Added documentation to the README.md for the sled Z probe option. CAB

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 46d6b96dd1..61199a0af6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -436,6 +436,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
   #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
 
+  #define Z_PROBE_SLED // turn on if you have a z-probe mounted on a sled like those designed by Charles Bell
+  #define SLED_DOCKING_OFFSET 5 // the extra distance the X axis must travel to pickup the sled. 0 should be fine but you can push it further if you'd like.
 
   //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
   //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.

commit 2f4a20257c9b43dd76a7b3776dbdd0365960703a
Merge: f0cab611db 1bd0dd04e3
Author: cocktailyogi <cocktail_yogi@web.de>
Date:   Sun Jul 20 13:49:26 2014 +0200

    imported last Marlin changes

diff --combined Marlin/Configuration.h
index 2d81336cb4,46d6b96dd1..4ecd0c6d2f
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -12,13 -12,6 +12,13 @@@
  // example_configurations/delta directory.
  //
  
 +//===========================================================================
 +//============================= SCARA Printer ===============================
 +//===========================================================================
 +// For a Delta printer replace the configuration files with the files in the
 +// example_configurations/SCARA directory.
 +//
 +
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
@@@ -139,6 -132,7 +139,6 @@@
  // 1010 is Pt1000 with 1k pullup (non standard)
  // 147 is Pt100 with 4k7 pullup
  // 110 is Pt100 with 1k pullup (non standard)
 -// 70 is 500C thermistor for Pico hot end
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
@@@ -257,6 -251,44 +257,44 @@@
  #define EXTRUDE_MINTEMP 170
  #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  
+ /*================== Thermal Runaway Protection ==============================
+ This is a feature to protect your printer from burn up in flames if it has
+ a thermistor coming off place (this happened to a friend of mine recently and
+ motivated me writing this feature).
+ 
+ The issue: If a thermistor come off, it will read a lower temperature than actual.
+ The system will turn the heater on forever, burning up the filament and anything
+ else around.
+ 
+ After the temperature reaches the target for the first time, this feature will 
+ start measuring for how long the current temperature stays below the target 
+ minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
+ 
+ If it stays longer than _PERIOD, it means the thermistor temperature
+ cannot catch up with the target, so something *may be* wrong. Then, to be on the
+ safe side, the system will he halt.
+ 
+ Bear in mind the count down will just start AFTER the first time the 
+ thermistor temperature is over the target, so you will have no problem if
+ your extruder heater takes 2 minutes to hit the target on heating.
+ 
+ */
+ // If you want to enable this feature for all your extruder heaters,
+ // uncomment the 2 defines below:
+ 
+ // Parameters for all extruder heaters
+ //#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
+ //#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
+ 
+ // If you want to enable this feature for your bed heater,
+ // uncomment the 2 defines below:
+ 
+ // Parameters for the bed heater
+ //#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
+ //#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
+ //===========================================================================
+ 
+ 
  //===========================================================================
  //=============================Mechanical Settings===========================
  //===========================================================================

commit 50b4e86f75c5168336ca75186d2bb1878ad72179
Author: alexborro <alexborro@gmail.com>
Date:   Mon Jun 30 15:22:37 2014 -0300

    Add "Thermal Runaway Protection" feature
    
    This is a feature to protect your printer from burn up in flames if it
    has a thermistor coming off place (this happened to a friend of mine
    recently and motivated me writing this feature).
    
    The issue: If a thermistor come off, it will read a lower temperature
    than actual. The system will turn the heater on forever, burning up the
    filament and anything
    else around.
    
    After the temperature reaches the target for the first time, this
    feature will start measuring for how long the current temperature stays
    below the target minus _HYSTERESIS (set_temperature -
    THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
    
    If it stays longer than _PERIOD, it means the thermistor temperature
    cannot catch up with the target, so something *may be* wrong. Then, to
    be on the safe side, the system will he halt.
    
    Bear in mind the count down will just start AFTER the first time the
    thermistor temperature is over the target, so you will have no problem
    if your extruder heater takes 2 minutes to hit the target on heating.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 66bf69052d..46d6b96dd1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -251,6 +251,44 @@
 #define EXTRUDE_MINTEMP 170
 #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
+/*================== Thermal Runaway Protection ==============================
+This is a feature to protect your printer from burn up in flames if it has
+a thermistor coming off place (this happened to a friend of mine recently and
+motivated me writing this feature).
+
+The issue: If a thermistor come off, it will read a lower temperature than actual.
+The system will turn the heater on forever, burning up the filament and anything
+else around.
+
+After the temperature reaches the target for the first time, this feature will 
+start measuring for how long the current temperature stays below the target 
+minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
+
+If it stays longer than _PERIOD, it means the thermistor temperature
+cannot catch up with the target, so something *may be* wrong. Then, to be on the
+safe side, the system will he halt.
+
+Bear in mind the count down will just start AFTER the first time the 
+thermistor temperature is over the target, so you will have no problem if
+your extruder heater takes 2 minutes to hit the target on heating.
+
+*/
+// If you want to enable this feature for all your extruder heaters,
+// uncomment the 2 defines below:
+
+// Parameters for all extruder heaters
+//#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
+//#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
+
+// If you want to enable this feature for your bed heater,
+// uncomment the 2 defines below:
+
+// Parameters for the bed heater
+//#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
+//#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
+//===========================================================================
+
+
 //===========================================================================
 //=============================Mechanical Settings===========================
 //===========================================================================

commit b5417be1096feca9af4f8564bca8b81ceb06c21f
Author: bonm014 <mkdebont@zonnet.nl>
Date:   Thu Jul 3 21:03:22 2014 +0200

    Update Configuration.h
    
    Leapfrog added to the board list

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 46d6b96dd1..7f228b55c2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -72,6 +72,7 @@
 // 301= Rambo
 // 21 = Elefu Ra Board (v3)
 // 88 = 5DPrint D8 Driver Board
+// 999 = Leapfrog
 
 #ifndef MOTHERBOARD
 #define MOTHERBOARD 7

commit 43c298a7a9674bade1395a75fe54667cdb22fce4
Author: alexborro <alexborro@gmail.com>
Date:   Mon Jun 30 15:22:37 2014 -0300

    Add "Thermal Runaway Protection" feature
    
    This is a feature to protect your printer from burn up in flames if it
    has a thermistor coming off place (this happened to a friend of mine
    recently and motivated me writing this feature).
    
    The issue: If a thermistor come off, it will read a lower temperature
    than actual. The system will turn the heater on forever, burning up the
    filament and anything
    else around.
    
    After the temperature reaches the target for the first time, this
    feature will start measuring for how long the current temperature stays
    below the target minus _HYSTERESIS (set_temperature -
    THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
    
    If it stays longer than _PERIOD, it means the thermistor temperature
    cannot catch up with the target, so something *may be* wrong. Then, to
    be on the safe side, the system will he halt.
    
    Bear in mind the count down will just start AFTER the first time the
    thermistor temperature is over the target, so you will have no problem
    if your extruder heater takes 2 minutes to hit the target on heating.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 66bf69052d..46d6b96dd1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -251,6 +251,44 @@
 #define EXTRUDE_MINTEMP 170
 #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
+/*================== Thermal Runaway Protection ==============================
+This is a feature to protect your printer from burn up in flames if it has
+a thermistor coming off place (this happened to a friend of mine recently and
+motivated me writing this feature).
+
+The issue: If a thermistor come off, it will read a lower temperature than actual.
+The system will turn the heater on forever, burning up the filament and anything
+else around.
+
+After the temperature reaches the target for the first time, this feature will 
+start measuring for how long the current temperature stays below the target 
+minus _HYSTERESIS (set_temperature - THERMAL_RUNAWAY_PROTECTION_HYSTERESIS).
+
+If it stays longer than _PERIOD, it means the thermistor temperature
+cannot catch up with the target, so something *may be* wrong. Then, to be on the
+safe side, the system will he halt.
+
+Bear in mind the count down will just start AFTER the first time the 
+thermistor temperature is over the target, so you will have no problem if
+your extruder heater takes 2 minutes to hit the target on heating.
+
+*/
+// If you want to enable this feature for all your extruder heaters,
+// uncomment the 2 defines below:
+
+// Parameters for all extruder heaters
+//#define THERMAL_RUNAWAY_PROTECTION_PERIOD 40 //in seconds
+//#define THERMAL_RUNAWAY_PROTECTION_HYSTERESIS 4 // in degree Celsius
+
+// If you want to enable this feature for your bed heater,
+// uncomment the 2 defines below:
+
+// Parameters for the bed heater
+//#define THERMAL_RUNAWAY_PROTECTION_BED_PERIOD 20 //in seconds
+//#define THERMAL_RUNAWAY_PROTECTION_BED_HYSTERESIS 2 // in degree Celsius
+//===========================================================================
+
+
 //===========================================================================
 //=============================Mechanical Settings===========================
 //===========================================================================

commit 512f2a313600b3f0e3c48dfcc4ea9972e8b196a9
Author: cocktailyogi <cocktail_yogi@web.de>
Date:   Mon Jun 23 17:09:57 2014 +0200

    restore Branch from Backup
    
    sorry for that

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 66bf69052d..2d81336cb4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -12,6 +12,13 @@
 // example_configurations/delta directory.
 //
 
+//===========================================================================
+//============================= SCARA Printer ===============================
+//===========================================================================
+// For a Delta printer replace the configuration files with the files in the
+// example_configurations/SCARA directory.
+//
+
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.
@@ -132,7 +139,6 @@
 // 1010 is Pt1000 with 1k pullup (non standard)
 // 147 is Pt100 with 4k7 pullup
 // 110 is Pt100 with 1k pullup (non standard)
-// 70 is 500C thermistor for Pico hot end
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 -1

commit 6e6e4e214323c42f949ed86a67551f136fe41365
Author: Greg Tan <greg@gregtan.com>
Date:   Sun Jun 8 09:35:04 2014 +0800

    Added thermistor table for the 500C thermistor shipped with the Pico hot end.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1355a7ab9f..66bf69052d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -132,6 +132,7 @@
 // 1010 is Pt1000 with 1k pullup (non standard)
 // 147 is Pt100 with 4k7 pullup
 // 110 is Pt100 with 1k pullup (non standard)
+// 70 is 500C thermistor for Pico hot end
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 -1

commit 8a32c5395bb51e06819716d02d3e57c44655f917
Author: Dim3nsioneer <Dim3nsioneer@gmx.ch>
Date:   Mon Jun 2 14:07:02 2014 +0200

    renaming the disable inactive extruder feature

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5ee06d7108..1355a7ab9f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -305,7 +305,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define DISABLE_Y false
 #define DISABLE_Z false
 #define DISABLE_E false // For all extruders
-#define DISABLE_UNSELECTED_E true //disable only not selected extruders and keep selected extruder active
+#define DISABLE_INACTIVE_EXTRUDER true //disable only inactive extruders and keep active extruder enabled
 
 #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false

commit 29e7639933e29feaf58bc657e80c47e88716b02b
Author: Dim3nsioneer <Dim3nsioneer@gmx.ch>
Date:   Mon Jun 2 08:13:09 2014 +0200

    Add switch unused feeder(s) off
    
    Having the non-active feeder motors powered on all the time is not
    necessary. A feature to deactivate the unused feeder motors has been
    implemented. The feature is enabled on default but can be switched off
    in the configuration.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 537ff7a295..5ee06d7108 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -305,6 +305,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define DISABLE_Y false
 #define DISABLE_Z false
 #define DISABLE_E false // For all extruders
+#define DISABLE_UNSELECTED_E true //disable only not selected extruders and keep selected extruder active
 
 #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false

commit 09b84faa00485a2299e09146825af137743635de
Author: David Forrest <drf@vims.edu>
Date:   Fri Jan 10 15:23:30 2014 -0500

    Configuration.h, pins.h: Add MOTHERBOARD 84 for Teensy++2.0

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4570e34e2c..537ff7a295 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -62,6 +62,7 @@
 // 81 = Printrboard (AT90USB1286)
 // 82 = Brainwave (AT90USB646)
 // 83 = SAV Mk-I (AT90USB1286)
+// 84 = Teensy++2.0 (AT90USB1286) // CLI compile: DEFINES=AT90USBxx_TEENSYPP_ASSIGNMENTS HARDWARE_MOTHERBOARD=84  make
 // 9  = Gen3+
 // 70 = Megatronics
 // 701= Megatronics v2.0

commit 1c9a70cee928bb5012c5dd2ec594b0f99ada8b3e
Author: Alejandro Romero <alromh87@gmail.com>
Date:   Tue May 6 19:24:20 2014 -0500

    Support for Gen3 Monolithic electronics
    
    Techzone Monotronics support, ignoring the tip manager and using fan connector as on Sprinter FW
    TODO: Add support for tipmanager

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4570e34e2c..eaca0fa3ac 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -63,6 +63,7 @@
 // 82 = Brainwave (AT90USB646)
 // 83 = SAV Mk-I (AT90USB1286)
 // 9  = Gen3+
+// 22 = Gen3 Monolithic Electronics
 // 70 = Megatronics
 // 701= Megatronics v2.0
 // 702= Minitronics v1.0

commit 2acd3792fcce55fa8aab9bfe6efca85b3d001738
Merge: 8b4c4aa5c3 ce76843dc3
Author: daid <daid303@gmail.com>
Date:   Thu May 1 12:03:47 2014 +0200

    Merge branch 'Marlin_v1' of github.com:ErikZalm/Marlin into Marlin_v1

diff --combined Marlin/Configuration.h
index ea083945ee,b293284d89..4570e34e2c
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -70,6 -70,7 +70,7 @@@
  // 91 = Final OMCA board
  // 301= Rambo
  // 21 = Elefu Ra Board (v3)
+ // 88 = 5DPrint D8 Driver Board
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
@@@ -115,8 -116,10 +116,10 @@@
  // 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
+ // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
+ // 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
- // 60 is 100k Maker's Tool Works Kapton Bed Thermistor
+ // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
@@@ -459,6 -462,15 +462,15 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  //=============================Additional Features===========================
  //===========================================================================
  
+ // Custom M code points
+ #define CUSTOM_M_CODES
+ #ifdef CUSTOM_M_CODES
+   #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
+   #define Z_PROBE_OFFSET_RANGE_MIN -15
+   #define Z_PROBE_OFFSET_RANGE_MAX -5
+ #endif
+ 
+ 
  // EEPROM
  // The microcontroller can store settings in the EEPROM, e.g. max velocity...
  // M500 - stores parameters in EEPROM
@@@ -484,7 -496,6 +496,7 @@@
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 +//#define SD_CHECK_AND_RETRY // Use CRC checks and retries on the SD communication
  //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
  //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
  //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.

commit 8b4c4aa5c3b37da0c28e3edd9bf618febb980f0b
Author: daid <daid303@gmail.com>
Date:   Thu May 1 12:03:41 2014 +0200

    Add feature to check&retry CRC read errors on SD.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e18c98a437..ea083945ee 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -484,6 +484,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
+//#define SD_CHECK_AND_RETRY // Use CRC checks and retries on the SD communication
 //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
 //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.

commit da6b536182dc31632cff09e54468e6bfbbdef858
Author: Cameron Lai <cameron.lai@makible.com>
Date:   Thu Apr 24 16:49:42 2014 +0800

    Add 5DPrint D8 Driver Board info and temperature table for Makibox hot bed

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f169f8e419..b293284d89 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -70,6 +70,7 @@
 // 91 = Final OMCA board
 // 301= Rambo
 // 21 = Elefu Ra Board (v3)
+// 88 = 5DPrint D8 Driver Board
 
 #ifndef MOTHERBOARD
 #define MOTHERBOARD 7
@@ -116,6 +117,7 @@
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 // 11 is 100k beta 3950 1% thermistor (4.7k pullup)
+// 12 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup) (calibrated for Makibox hot bed)
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
 // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 //

commit 3161740df9b952f627fd9ad1e132e7eaf723fc0e
Author: Nutz95 <hexman@free.fr>
Date:   Sun Apr 13 17:03:20 2014 +0200

    This table is made for thermistor 3950 (can be found on ebay for cheap)
    it's caracteristics are :
    
    R25‚ÑÉ ;100KŒ©¬±1%
    
    B Value(R25/50‚ÑÉ)Ôºö3990K 1%
    Dissipation Factor(mW/‚ÑÉ)Ôºö1.1~1.6 In still Air
    Thermal Time Constant(S)Ôºö10~17 In Still Air
    Operating temperature rangeÔºö  (-50~+260¬∞C)
    DimensionÔºö  1.8mm Dia X4.1mm
    Lead Length  Ôºö30mm
    
    This table was found on the following blogs:
    http://cae2100.wordpress.com/2014/03/08/beta3950-thermistor-table-for-marlin/
    
    and
    
    http://microfabricator.com/articles/view/id/531ad7e59aad9d3131000000/beta-3950-thermistor-table-for-marlin

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 32ce5b7dbb..f169f8e419 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -115,6 +115,7 @@
 // 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
+// 11 is 100k beta 3950 1% thermistor (4.7k pullup)
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
 // 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 //

commit d3f305332a37fc830cbfd9d8bb9a09c793b526e0
Author: Gabe Rosenhouse <gabe@missionst.com>
Date:   Mon Feb 24 10:06:12 2014 -0800

    Allowable range now includes default value

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a98e2d9fc1..32ce5b7dbb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -463,8 +463,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define CUSTOM_M_CODES
 #ifdef CUSTOM_M_CODES
   #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
-  #define Z_PROBE_OFFSET_RANGE_MIN -2
-  #define Z_PROBE_OFFSET_RANGE_MAX 0
+  #define Z_PROBE_OFFSET_RANGE_MIN -15
+  #define Z_PROBE_OFFSET_RANGE_MAX -5
 #endif
 
 

commit b0aeac117f301223903bc90c391000f43c690e96
Author: Gabe Rosenhouse <gabe@missionst.com>
Date:   Wed Feb 19 14:59:10 2014 -0800

    Adjustable Z probe offset, via custom M-code

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 714bb3e634..a98e2d9fc1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -459,6 +459,15 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //=============================Additional Features===========================
 //===========================================================================
 
+// Custom M code points
+#define CUSTOM_M_CODES
+#ifdef CUSTOM_M_CODES
+  #define CUSTOM_M_CODE_SET_Z_PROBE_OFFSET 851
+  #define Z_PROBE_OFFSET_RANGE_MIN -2
+  #define Z_PROBE_OFFSET_RANGE_MAX 0
+#endif
+
+
 // EEPROM
 // The microcontroller can store settings in the EEPROM, e.g. max velocity...
 // M500 - stores parameters in EEPROM

commit b0093a15134c1fd28a862d7489a1fb759cf4e670
Author: David Forrest <drf@vims.edu>
Date:   Wed Mar 26 23:41:10 2014 -0400

    thermistortables.h: Add comments that table 60 uses beta=3950.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e18c98a437..714bb3e634 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -116,7 +116,7 @@
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
-// 60 is 100k Maker's Tool Works Kapton Bed Thermistor
+// 60 is 100k Maker's Tool Works Kapton Bed Thermistor beta=3950
 //
 //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
 //                          (but gives greater accuracy and more stable PID)

commit 174b8d99d5a6524a2173ff699f7b2acc1c74d5d0
Author: Gabe Rosenhouse <gabe@missionst.com>
Date:   Wed Feb 19 21:12:39 2014 -0800

    Simplify 3-point probing using new code only

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3261998792..e18c98a437 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -335,50 +335,49 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 #ifdef ENABLE_AUTO_BED_LEVELING
 
-// There are 3 different ways to pick the X and Y locations to probe:
-// 1. Basic 3-point probe at left-back, left-front, and right-front corners of a rectangle
-// 2. Probe all points of a 2D lattice, defined by a rectangle and ACCURATE_BED_LEVELING_POINTS
-// 3. 3-point probe at 3 arbitrary points that don't form a line.
-
-// To enable mode 1:
-//   - #define ENABLE_AUTO_BED_LEVELING
-//   - Set the XXXX_PROBE_BED_POSITION values below
-//   - Don't define AUTO_BED_LEVELING_ANY_POINTS or ACCURATE_BED_LEVELING
-
-// To enable mode 2:
-//  - #define ENABLE_AUTO_BED_LEVELING
-//  - Set the XXXX_PROBE_BED_POSITION values below
-//  - #define ACCURATE_BED_LEVELING
-//  - Set the ACCURATE_BED_LEVELING_POINTS to your desired density
-
-// To enable mode 3:
-//  - #define ENABLE_AUTO_BED_LEVELING
-//  - #define AUTO_BED_LEVELING_ANY_POINTS
-//  - Set the ABL_PROBE_PT_XXXX values below
-//  - Comment out (undefine) ACCURATE_BED_LEVELING since that is incompatible
-
-
-
-// Mode 3: Enable auto bed leveling at any 3 points that aren't colinear
-// #define AUTO_BED_LEVELING_ANY_POINTS
-#ifdef AUTO_BED_LEVELING_ANY_POINTS
-  #define ABL_PROBE_PT_1_X 15
-  #define ABL_PROBE_PT_1_Y 15
-  #define ABL_PROBE_PT_2_X 25
-  #define ABL_PROBE_PT_2_Y 75
-  #define ABL_PROBE_PT_3_X 125
-  #define ABL_PROBE_PT_3_Y 25
-#else // not AUTO_BED_LEVELING_ANY_POINTS
-
-  // Modes 1 & 2:
-  //   For mode 1, probing happens at left-back, left-front, and right-front corners
-  //   For mode 2, probing happens at lattice points within this rectangle (see ACCURATE_BED_LEVELING_POINTS)
-  #define LEFT_PROBE_BED_POSITION 15
-  #define RIGHT_PROBE_BED_POSITION 170
-  #define BACK_PROBE_BED_POSITION 180
-  #define FRONT_PROBE_BED_POSITION 20
+// There are 2 different ways to pick the X and Y locations to probe:
+
+//  - "grid" mode
+//    Probe every point in a rectangular grid
+//    You must specify the rectangle, and the density of sample points
+//    This mode is preferred because there are more measurements.
+//    It used to be called ACCURATE_BED_LEVELING but "grid" is more descriptive
+
+//  - "3-point" mode
+//    Probe 3 arbitrary points on the bed (that aren't colinear)
+//    You must specify the X & Y coordinates of all 3 points
+
+  #define AUTO_BED_LEVELING_GRID
+  // with AUTO_BED_LEVELING_GRID, the bed is sampled in a
+  // AUTO_BED_LEVELING_GRID_POINTSxAUTO_BED_LEVELING_GRID_POINTS grid
+  // and least squares solution is calculated
+  // Note: this feature occupies 10'206 byte
+  #ifdef AUTO_BED_LEVELING_GRID
+
+    // set the rectangle in which to probe
+    #define LEFT_PROBE_BED_POSITION 15
+    #define RIGHT_PROBE_BED_POSITION 170
+    #define BACK_PROBE_BED_POSITION 180
+    #define FRONT_PROBE_BED_POSITION 20
+
+     // set the number of grid points per dimension
+     // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
+    #define AUTO_BED_LEVELING_GRID_POINTS 2
+
+
+  #else  // not AUTO_BED_LEVELING_GRID
+    // with no grid, just probe 3 arbitrary points.  A simple cross-product
+    // is used to esimate the plane of the print bed
+
+      #define ABL_PROBE_PT_1_X 15
+      #define ABL_PROBE_PT_1_Y 180
+      #define ABL_PROBE_PT_2_X 15
+      #define ABL_PROBE_PT_2_Y 20
+      #define ABL_PROBE_PT_3_X 170
+      #define ABL_PROBE_PT_3_Y 20
+
+  #endif // AUTO_BED_LEVELING_GRID
 
-#endif
 
   // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
   #define X_PROBE_OFFSET_FROM_EXTRUDER -25
@@ -418,19 +417,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   #endif
 
-  // with accurate bed leveling, the bed is sampled in a ACCURATE_BED_LEVELING_POINTSxACCURATE_BED_LEVELING_POINTS grid and least squares solution is calculated
-  // Note: this feature occupies 10'206 byte
-  #define ACCURATE_BED_LEVELING
-  // Mode 2 only
-  #ifdef ACCURATE_BED_LEVELING
-    #ifdef AUTO_BED_LEVELING_ANY_POINTS
-      #error AUTO_BED_LEVELING_ANY_POINTS is incompatible with ACCURATE_BED_LEVELING
-    #endif
-     // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
-    #define ACCURATE_BED_LEVELING_POINTS 2
-  #endif
-
-#endif
+#endif // ENABLE_AUTO_BED_LEVELING
 
 
 // The position of the homing switches

commit 3b718b816c6d89e1a8d739a92689a8805c76be0d
Author: Gabe Rosenhouse <gabe@missionst.com>
Date:   Wed Feb 19 14:04:37 2014 -0800

    better documentation

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 839bc3482e..3261998792 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -335,21 +335,44 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 #ifdef ENABLE_AUTO_BED_LEVELING
 
-// Enable auto bed leveling at any 3 points that aren't colinear
-#define AUTO_BED_LEVELING_ANY_POINTS
+// There are 3 different ways to pick the X and Y locations to probe:
+// 1. Basic 3-point probe at left-back, left-front, and right-front corners of a rectangle
+// 2. Probe all points of a 2D lattice, defined by a rectangle and ACCURATE_BED_LEVELING_POINTS
+// 3. 3-point probe at 3 arbitrary points that don't form a line.
 
-#ifdef AUTO_BED_LEVELING_ANY_POINTS
-  #define ABL_PROBE_PT_1_X -11
-  #define ABL_PROBE_PT_1_Y -15
-  #define ABL_PROBE_PT_2_X -11
-  #define ABL_PROBE_PT_2_Y 75
-  #define ABL_PROBE_PT_3_X 121
-  #define ABL_PROBE_PT_3_Y -15
+// To enable mode 1:
+//   - #define ENABLE_AUTO_BED_LEVELING
+//   - Set the XXXX_PROBE_BED_POSITION values below
+//   - Don't define AUTO_BED_LEVELING_ANY_POINTS or ACCURATE_BED_LEVELING
+
+// To enable mode 2:
+//  - #define ENABLE_AUTO_BED_LEVELING
+//  - Set the XXXX_PROBE_BED_POSITION values below
+//  - #define ACCURATE_BED_LEVELING
+//  - Set the ACCURATE_BED_LEVELING_POINTS to your desired density
+
+// To enable mode 3:
+//  - #define ENABLE_AUTO_BED_LEVELING
+//  - #define AUTO_BED_LEVELING_ANY_POINTS
+//  - Set the ABL_PROBE_PT_XXXX values below
+//  - Comment out (undefine) ACCURATE_BED_LEVELING since that is incompatible
 
 
+
+// Mode 3: Enable auto bed leveling at any 3 points that aren't colinear
+// #define AUTO_BED_LEVELING_ANY_POINTS
+#ifdef AUTO_BED_LEVELING_ANY_POINTS
+  #define ABL_PROBE_PT_1_X 15
+  #define ABL_PROBE_PT_1_Y 15
+  #define ABL_PROBE_PT_2_X 25
+  #define ABL_PROBE_PT_2_Y 75
+  #define ABL_PROBE_PT_3_X 125
+  #define ABL_PROBE_PT_3_Y 25
 #else // not AUTO_BED_LEVELING_ANY_POINTS
 
-  // these are the positions on the bed to do the probing
+  // Modes 1 & 2:
+  //   For mode 1, probing happens at left-back, left-front, and right-front corners
+  //   For mode 2, probing happens at lattice points within this rectangle (see ACCURATE_BED_LEVELING_POINTS)
   #define LEFT_PROBE_BED_POSITION 15
   #define RIGHT_PROBE_BED_POSITION 170
   #define BACK_PROBE_BED_POSITION 180
@@ -398,8 +421,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   // with accurate bed leveling, the bed is sampled in a ACCURATE_BED_LEVELING_POINTSxACCURATE_BED_LEVELING_POINTS grid and least squares solution is calculated
   // Note: this feature occupies 10'206 byte
   #define ACCURATE_BED_LEVELING
-
+  // Mode 2 only
   #ifdef ACCURATE_BED_LEVELING
+    #ifdef AUTO_BED_LEVELING_ANY_POINTS
+      #error AUTO_BED_LEVELING_ANY_POINTS is incompatible with ACCURATE_BED_LEVELING
+    #endif
      // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
     #define ACCURATE_BED_LEVELING_POINTS 2
   #endif

commit 34fd59c3704b830985721d2694706e9d903c9b4a
Author: Gabe Rosenhouse <gabe@missionst.com>
Date:   Sat Feb 15 18:06:51 2014 -0800

    ABL at any points

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c9f3558d41..839bc3482e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -335,12 +335,28 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 #ifdef ENABLE_AUTO_BED_LEVELING
 
+// Enable auto bed leveling at any 3 points that aren't colinear
+#define AUTO_BED_LEVELING_ANY_POINTS
+
+#ifdef AUTO_BED_LEVELING_ANY_POINTS
+  #define ABL_PROBE_PT_1_X -11
+  #define ABL_PROBE_PT_1_Y -15
+  #define ABL_PROBE_PT_2_X -11
+  #define ABL_PROBE_PT_2_Y 75
+  #define ABL_PROBE_PT_3_X 121
+  #define ABL_PROBE_PT_3_Y -15
+
+
+#else // not AUTO_BED_LEVELING_ANY_POINTS
+
   // these are the positions on the bed to do the probing
   #define LEFT_PROBE_BED_POSITION 15
   #define RIGHT_PROBE_BED_POSITION 170
   #define BACK_PROBE_BED_POSITION 180
   #define FRONT_PROBE_BED_POSITION 20
 
+#endif
+
   // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
   #define X_PROBE_OFFSET_FROM_EXTRUDER -25
   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29

commit 3f455889d06f74509c108fee9c48c5d5b28d2f8e
Merge: 4ddedb3b27 08263ae66e
Author: nothinman <martin@lukasik.name>
Date:   Mon Feb 17 11:30:01 2014 +0000

    Merge pull request #769 from Cylindric3D/typofixes_1
    
    Various typo fixes - only in comments, no code changes.

diff --combined Marlin/Configuration.h
index bf7f38d2dd,752028ec15..c9f3558d41
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -8,7 -8,7 +8,7 @@@
  //===========================================================================
  //============================= DELTA Printer ===============================
  //===========================================================================
- // For a Delta printer rplace the configuration files wilth the files in the
+ // For a Delta printer replace the configuration files with the files in the
  // example_configurations/delta directory.
  //
  
@@@ -68,7 -68,7 +68,7 @@@
  // 702= Minitronics v1.0
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
- // 301 = Rambo
+ // 301= Rambo
  // 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
@@@ -91,7 -91,7 +91,7 @@@
  
  #define POWER_SUPPLY 1
  
- // Define this to have the electronics keep the powersupply off on startup. If you don't know what this is leave it.
+ // Define this to have the electronics keep the power supply off on startup. If you don't know what this is leave it.
  // #define PS_DEFAULT_OFF
  
  //===========================================================================
@@@ -106,7 -106,7 +106,7 @@@
  // 0 is not used
  // 1 is 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
  // 2 is 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
- // 3 is mendel-parts thermistor (4.7k pullup)
+ // 3 is Mendel-parts thermistor (4.7k pullup)
  // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
  // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
  // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
@@@ -116,18 -116,13 +116,18 @@@
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  // 20 is the PT100 circuit found in the Ultimainboard V2.x
- // 60 is 100k Maker's Tool Works Kapton Bed Thermister
+ // 60 is 100k Maker's Tool Works Kapton Bed Thermistor
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
  // 51 is 100k thermistor - EPCOS (1k pullup)
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
 +//
 +// 1047 is Pt1000 with 4k7 pullup
 +// 1010 is Pt1000 with 1k pullup (non standard)
 +// 147 is Pt100 with 4k7 pullup
 +// 110 is Pt100 with 1k pullup (non standard)
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
@@@ -182,13 -177,13 +182,13 @@@
    #define K1 0.95 //smoothing factor within the PID
    #define PID_dT ((OVERSAMPLENR * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
- // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
+ // If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
      #define  DEFAULT_Kp 22.2
      #define  DEFAULT_Ki 1.08
      #define  DEFAULT_Kd 114
  
- // Makergear
+ // MakerGear
  //    #define  DEFAULT_Kp 7.0
  //    #define  DEFAULT_Ki 0.1
  //    #define  DEFAULT_Kd 12
@@@ -257,7 -252,7 +257,7 @@@
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
  
  #ifndef ENDSTOPPULLUPS
-   // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
+   // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
    // #define ENDSTOPPULLUP_XMAX
    // #define ENDSTOPPULLUP_YMAX
    // #define ENDSTOPPULLUP_ZMAX
@@@ -341,7 -336,7 +341,7 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
    #define BACK_PROBE_BED_POSITION 180
    #define FRONT_PROBE_BED_POSITION 20
  
-   // these are the offsets to the prob relative to the extruder tip (Hotend - Probe)
+   // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
    #define X_PROBE_OFFSET_FROM_EXTRUDER -25
    #define Y_PROBE_OFFSET_FROM_EXTRUDER -29
    #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35
@@@ -362,7 -357,7 +362,7 @@@
  //  #define PROBE_SERVO_DEACTIVATION_DELAY 300
  
  
- //If you have enabled the Bed Auto Levelling and are using the same Z Probe for Z Homing,
+ //If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
  //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
  
    #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area.
@@@ -396,7 -391,7 +396,7 @@@
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
  //Manual homing switch locations:
- // For deltabots this means top and center of the cartesian print volume.
+ // For deltabots this means top and center of the Cartesian print volume.
  #define MANUAL_X_HOME_POS 0
  #define MANUAL_Y_HOME_POS 0
  #define MANUAL_Z_HOME_POS 0
@@@ -410,7 -405,7 +410,7 @@@
  
  #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
- #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+ #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
@@@ -431,11 -426,11 +431,11 @@@
  //===========================================================================
  
  // EEPROM
- // the microcontroller can store settings in the EEPROM, e.g. max velocity...
- // M500 - stores paramters in EEPROM
+ // The microcontroller can store settings in the EEPROM, e.g. max velocity...
+ // M500 - stores parameters in EEPROM
  // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
- //define this to enable eeprom support
+ //define this to enable EEPROM support
  //#define EEPROM_SETTINGS
  //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
  // please keep turned on if you can.
@@@ -451,14 -446,14 +451,14 @@@
  #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
  
  //LCD and SD support
- //#define ULTRA_LCD  //general lcd support, also 16x2
+ //#define ULTRA_LCD  //general LCD support, also 16x2
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
  //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
- //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
- //#define ULTIPANEL  //the ultipanel as on thingiverse
+ //#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
+ //#define ULTIPANEL  //the UltiPanel as on Thingiverse
  //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
  //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
  
@@@ -583,7 -578,7 +583,7 @@@
  // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
  //#define SR_LCD
  #ifdef SR_LCD
-    #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
+    #define SR_LCD_2W_NL    // Non latching 2 wire shift register
     //#define NEWPANEL
  #endif
  
@@@ -599,7 -594,7 +599,7 @@@
      #define LCD_WIDTH 20
      #define LCD_HEIGHT 4
    #endif
- #else //no panel but just lcd
+ #else //no panel but just LCD
    #ifdef ULTRA_LCD
    #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
      #define LCD_WIDTH 20
@@@ -621,8 -616,8 +621,8 @@@
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
- // Temperature status leds that display the hotend and bet temperature.
- // If alle hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
+ // Temperature status LEDs that display the hotend and bet temperature.
+ // If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
  // Otherwise the RED led is on. There is 1C hysteresis.
  //#define TEMP_STAT_LEDS
  

commit d4ba23bc284e023a82dafee34378ee4bfd7157db
Merge: bbb424bd2f 477b6fa1df
Author: nothinman <martin@lukasik.name>
Date:   Mon Feb 17 11:27:05 2014 +0000

    Merge pull request #770 from josefpavlik/Marlin_v1
    
    Marlin v1

diff --combined Marlin/Configuration.h
index 6a2c43ba3c,5d235bc459..bf7f38d2dd
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -52,10 -52,8 +52,10 @@@
  // 65 = Azteeg X1
  // 66 = Melzi with ATmega1284 (MaKr3d version)
  // 67 = Azteeg X3
 +// 68 = Azteeg X3 Pro
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 +// 72 = Ultimainboard 2.x (Uses TEMP_SENSOR 20)
  // 77 = 3Drag Controller
  // 8  = Teensylu
  // 80 = Rumba
@@@ -115,7 -113,6 +115,7 @@@
  // 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 +// 20 is the PT100 circuit found in the Ultimainboard V2.x
  // 60 is 100k Maker's Tool Works Kapton Bed Thermister
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
@@@ -123,6 -120,11 +123,11 @@@
  // 51 is 100k thermistor - EPCOS (1k pullup)
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
+ //
+ // 1047 is Pt1000 with 4k7 pullup
+ // 1010 is Pt1000 with 1k pullup (non standard)
+ // 147 is Pt100 with 4k7 pullup
+ // 110 is Pt100 with 1k pullup (non standard)
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
@@@ -159,10 -161,6 +164,10 @@@
  // HEATER_BED_DUTY_CYCLE_DIVIDER intervals.
  //#define HEATER_BED_DUTY_CYCLE_DIVIDER 4
  
 +// If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS
 +//#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R
 +//#define BED_WATTS (12.0*12.0/1.1)      // P=I^2/R
 +
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
@@@ -175,7 -173,7 +180,7 @@@
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
    #define K1 0.95 //smoothing factor within the PID
 -  #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 +  #define PID_dT ((OVERSAMPLENR * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
@@@ -377,12 -375,12 +382,12 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
    // with accurate bed leveling, the bed is sampled in a ACCURATE_BED_LEVELING_POINTSxACCURATE_BED_LEVELING_POINTS grid and least squares solution is calculated
    // Note: this feature occupies 10'206 byte
    #define ACCURATE_BED_LEVELING
 -  
 +
    #ifdef ACCURATE_BED_LEVELING
       // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
      #define ACCURATE_BED_LEVELING_POINTS 2
    #endif
 -  
 +
  #endif
  
  
@@@ -454,8 -452,6 +459,8 @@@
  //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
 +//#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
 +//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
  
  // The MaKr3d Makr-Panel with graphic controller and SD support
  // http://reprap.org/wiki/MaKr3d_MaKrPanel
@@@ -541,21 -537,6 +546,21 @@@
    #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
    #define NEWPANEL
    #define ULTIPANEL
 +
 +  #ifndef ENCODER_PULSES_PER_STEP
 +	#define ENCODER_PULSES_PER_STEP 4
 +  #endif
 +
 +  #ifndef ENCODER_STEPS_PER_MENU_ITEM
 +	#define ENCODER_STEPS_PER_MENU_ITEM 1
 +  #endif
 +
 +
 +  #ifdef LCD_USE_I2C_BUZZER
 +	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
 +	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
 +  #endif
 +
  #endif
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs

commit ab0d3c4fb3c408fcb91e97ee5eb2417129cbb5d0
Author: Mark Hanford <mark@hanfordonline.co.uk>
Date:   Fri Feb 14 11:48:24 2014 +0000

    Various typo fixes - only in comments, no code changes.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6a2c43ba3c..752028ec15 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -8,7 +8,7 @@
 //===========================================================================
 //============================= DELTA Printer ===============================
 //===========================================================================
-// For a Delta printer rplace the configuration files wilth the files in the
+// For a Delta printer replace the configuration files with the files in the
 // example_configurations/delta directory.
 //
 
@@ -68,7 +68,7 @@
 // 702= Minitronics v1.0
 // 90 = Alpha OMCA board
 // 91 = Final OMCA board
-// 301 = Rambo
+// 301= Rambo
 // 21 = Elefu Ra Board (v3)
 
 #ifndef MOTHERBOARD
@@ -91,7 +91,7 @@
 
 #define POWER_SUPPLY 1
 
-// Define this to have the electronics keep the powersupply off on startup. If you don't know what this is leave it.
+// Define this to have the electronics keep the power supply off on startup. If you don't know what this is leave it.
 // #define PS_DEFAULT_OFF
 
 //===========================================================================
@@ -106,7 +106,7 @@
 // 0 is not used
 // 1 is 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
 // 2 is 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
-// 3 is mendel-parts thermistor (4.7k pullup)
+// 3 is Mendel-parts thermistor (4.7k pullup)
 // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
 // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
 // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
@@ -116,7 +116,7 @@
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 // 20 is the PT100 circuit found in the Ultimainboard V2.x
-// 60 is 100k Maker's Tool Works Kapton Bed Thermister
+// 60 is 100k Maker's Tool Works Kapton Bed Thermistor
 //
 //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
 //                          (but gives greater accuracy and more stable PID)
@@ -177,13 +177,13 @@
   #define K1 0.95 //smoothing factor within the PID
   #define PID_dT ((OVERSAMPLENR * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 
-// If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
+// If you are using a pre-configured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker
     #define  DEFAULT_Kp 22.2
     #define  DEFAULT_Ki 1.08
     #define  DEFAULT_Kd 114
 
-// Makergear
+// MakerGear
 //    #define  DEFAULT_Kp 7.0
 //    #define  DEFAULT_Ki 0.1
 //    #define  DEFAULT_Kd 12
@@ -252,7 +252,7 @@
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
 #ifndef ENDSTOPPULLUPS
-  // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
+  // fine endstop settings: Individual pullups. will be ignored if ENDSTOPPULLUPS is defined
   // #define ENDSTOPPULLUP_XMAX
   // #define ENDSTOPPULLUP_YMAX
   // #define ENDSTOPPULLUP_ZMAX
@@ -336,7 +336,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define BACK_PROBE_BED_POSITION 180
   #define FRONT_PROBE_BED_POSITION 20
 
-  // these are the offsets to the prob relative to the extruder tip (Hotend - Probe)
+  // these are the offsets to the probe relative to the extruder tip (Hotend - Probe)
   #define X_PROBE_OFFSET_FROM_EXTRUDER -25
   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29
   #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35
@@ -357,7 +357,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //  #define PROBE_SERVO_DEACTIVATION_DELAY 300
 
 
-//If you have enabled the Bed Auto Levelling and are using the same Z Probe for Z Homing,
+//If you have enabled the Bed Auto Leveling and are using the same Z Probe for Z Homing,
 //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 
   #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area.
@@ -391,7 +391,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
 
 //Manual homing switch locations:
-// For deltabots this means top and center of the cartesian print volume.
+// For deltabots this means top and center of the Cartesian print volume.
 #define MANUAL_X_HOME_POS 0
 #define MANUAL_Y_HOME_POS 0
 #define MANUAL_Z_HOME_POS 0
@@ -405,7 +405,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
-#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
@@ -426,11 +426,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //===========================================================================
 
 // EEPROM
-// the microcontroller can store settings in the EEPROM, e.g. max velocity...
-// M500 - stores paramters in EEPROM
+// The microcontroller can store settings in the EEPROM, e.g. max velocity...
+// M500 - stores parameters in EEPROM
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
-//define this to enable eeprom support
+//define this to enable EEPROM support
 //#define EEPROM_SETTINGS
 //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
 // please keep turned on if you can.
@@ -446,14 +446,14 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 
 //LCD and SD support
-//#define ULTRA_LCD  //general lcd support, also 16x2
+//#define ULTRA_LCD  //general LCD support, also 16x2
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
-//#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
-//#define ULTIPANEL  //the ultipanel as on thingiverse
+//#define ULTIMAKERCONTROLLER //as available from the Ultimaker online store.
+//#define ULTIPANEL  //the UltiPanel as on Thingiverse
 //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
 //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
 
@@ -578,7 +578,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
 //#define SR_LCD
 #ifdef SR_LCD
-   #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
+   #define SR_LCD_2W_NL    // Non latching 2 wire shift register
    //#define NEWPANEL
 #endif
 
@@ -594,7 +594,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
     #define LCD_WIDTH 20
     #define LCD_HEIGHT 4
   #endif
-#else //no panel but just lcd
+#else //no panel but just LCD
   #ifdef ULTRA_LCD
   #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
     #define LCD_WIDTH 20
@@ -616,8 +616,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 
-// Temperature status leds that display the hotend and bet temperature.
-// If alle hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
+// Temperature status LEDs that display the hotend and bet temperature.
+// If all hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
 // Otherwise the RED led is on. There is 1C hysteresis.
 //#define TEMP_STAT_LEDS
 

commit 831fc2a95257d58cddd458d19e57065745fd4024
Author: Josef Pavlik <josef@pavlik.it>
Date:   Fri Feb 14 12:15:31 2014 +0100

    Pt100 and Pt1000 temperature sensors handling

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 33a1c3a160..5d235bc459 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -120,6 +120,11 @@
 // 51 is 100k thermistor - EPCOS (1k pullup)
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
+//
+// 1047 is Pt1000 with 4k7 pullup
+// 1010 is Pt1000 with 1k pullup (non standard)
+// 147 is Pt100 with 4k7 pullup
+// 110 is Pt100 with 1k pullup (non standard)
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 -1

commit 71bb3a81334e2948caa4fade4b61f28aec0d60f9
Author: daid <daid303@gmail.com>
Date:   Thu Feb 13 10:53:46 2014 +0100

    Add comments for Ultimainboard 2.0 configuration.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 696b4ca9d6..6a2c43ba3c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -55,6 +55,7 @@
 // 68 = Azteeg X3 Pro
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
+// 72 = Ultimainboard 2.x (Uses TEMP_SENSOR 20)
 // 77 = 3Drag Controller
 // 8  = Teensylu
 // 80 = Rumba
@@ -114,6 +115,7 @@
 // 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
+// 20 is the PT100 circuit found in the Ultimainboard V2.x
 // 60 is 100k Maker's Tool Works Kapton Bed Thermister
 //
 //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k

commit b819fc53caf66bd4610dc05301c8b9fbe39ced98
Author: Jim Morris <morris@wolfman.com>
Date:   Wed Feb 5 01:47:12 2014 -0800

    Add Azteeg X3 Pro as motherboard 68
    Add digipot i2c control for MCP4451
    Allow M907 to set i2c digipot currents in amps
    Fix Makefile to allow Azteeg motherboards
    Fix Makefile to allow Wire libraries only
    Add beeper pin for Azteeg X3 Pro

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8d39bd95d1..696b4ca9d6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -52,6 +52,7 @@
 // 65 = Azteeg X1
 // 66 = Melzi with ATmega1284 (MaKr3d version)
 // 67 = Azteeg X3
+// 68 = Azteeg X3 Pro
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 // 77 = 3Drag Controller
@@ -156,8 +157,8 @@
 // HEATER_BED_DUTY_CYCLE_DIVIDER intervals.
 //#define HEATER_BED_DUTY_CYCLE_DIVIDER 4
 
-// If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS 
-//#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R 
+// If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS
+//#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R
 //#define BED_WATTS (12.0*12.0/1.1)      // P=I^2/R
 
 // PID settings:
@@ -374,12 +375,12 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   // with accurate bed leveling, the bed is sampled in a ACCURATE_BED_LEVELING_POINTSxACCURATE_BED_LEVELING_POINTS grid and least squares solution is calculated
   // Note: this feature occupies 10'206 byte
   #define ACCURATE_BED_LEVELING
-  
+
   #ifdef ACCURATE_BED_LEVELING
      // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
     #define ACCURATE_BED_LEVELING_POINTS 2
   #endif
-  
+
 #endif
 
 
@@ -538,21 +539,21 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
   #define NEWPANEL
   #define ULTIPANEL
-  
+
   #ifndef ENCODER_PULSES_PER_STEP
 	#define ENCODER_PULSES_PER_STEP 4
-  #endif 
+  #endif
 
   #ifndef ENCODER_STEPS_PER_MENU_ITEM
 	#define ENCODER_STEPS_PER_MENU_ITEM 1
-  #endif 
-  
-  
+  #endif
+
+
   #ifdef LCD_USE_I2C_BUZZER
 	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
 	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
   #endif
-  
+
 #endif
 
 // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs

commit e1ae7952ebff25094196f93baa6b53c2c12193f7
Merge: 1cc9212c05 c2b3e88787
Author: ErikZalm <erik@vdzalm.eu>
Date:   Mon Feb 3 12:33:10 2014 -0800

    Merge pull request #743 from Opticalworm/Marlin_v1
    
    Improved support for panelolu2 encoder and buzzer

diff --combined Marlin/Configuration.h
index fe03e03186,1dd76d4116..8d39bd95d1
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -156,10 -156,6 +156,10 @@@
  // HEATER_BED_DUTY_CYCLE_DIVIDER intervals.
  //#define HEATER_BED_DUTY_CYCLE_DIVIDER 4
  
 +// If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS 
 +//#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R 
 +//#define BED_WATTS (12.0*12.0/1.1)      // P=I^2/R
 +
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
@@@ -451,6 -447,8 +451,8 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
+ //#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
+ //#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
  
  // The MaKr3d Makr-Panel with graphic controller and SD support
  // http://reprap.org/wiki/MaKr3d_MaKrPanel
@@@ -536,6 -534,21 +538,21 @@@
    #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
    #define NEWPANEL
    #define ULTIPANEL
+   
+   #ifndef ENCODER_PULSES_PER_STEP
+ 	#define ENCODER_PULSES_PER_STEP 4
+   #endif 
+ 
+   #ifndef ENCODER_STEPS_PER_MENU_ITEM
+ 	#define ENCODER_STEPS_PER_MENU_ITEM 1
+   #endif 
+   
+   
+   #ifdef LCD_USE_I2C_BUZZER
+ 	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
+ 	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
+   #endif
+   
  #endif
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs

commit a5f53f0cf31fe8650ea25e274ee6b206ff01d930
Author: David Forrest <drf@vims.edu>
Date:   Mon Feb 3 14:46:09 2014 -0500

    Heater wattage reporting for M105 using EXTRUDER_WATTS and BED_WATTS

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1da62fc2ad..fe03e03186 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -156,6 +156,10 @@
 // HEATER_BED_DUTY_CYCLE_DIVIDER intervals.
 //#define HEATER_BED_DUTY_CYCLE_DIVIDER 4
 
+// If you want the M105 heater power reported in watts, define the BED_WATTS, and (shared for all extruders) EXTRUDER_WATTS 
+//#define EXTRUDER_WATTS (12.0*12.0/6.7) //  P=I^2/R 
+//#define BED_WATTS (12.0*12.0/1.1)      // P=I^2/R
+
 // PID settings:
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP

commit 8d162e5bd75ef221dc79a5cf79f9db3185345591
Author: Ronald <ronald.a.sousa@googlemail.com>
Date:   Mon Feb 3 07:45:03 2014 +0000

    Improved support for panelolu2 encoder and buzzer
    
    I added #define for LCD_FEEDBACK_FREQUENCY_HZ and
    LCD_FEEDBACK_FREQUENCY_DURATION_MS  which is used to alter the default
    buzzer sound.
    
    When selecting Panelolu2 in configuration.h:
    - it automatically sets the correct ENCODER_PULSES_PER_STEP and
    ENCODER_STEPS_PER_MENU_ITEM.
    - if LCD_USE_I2C_BUZZER is defined it will also set the default
    LCD_FEEDBACK_FREQUENCY_HZ and LCD_FEEDBACK_FREQUENCY_DURATION_MS
    
    When selecting the sanguinololu 1284p the following is true:
    - its now enables  LARGE_FLASH
    - It enables the gcode M300 when the panelolu2 LCD_USE_I2C_BUZZER is
    defined

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1da62fc2ad..1dd76d4116 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -447,6 +447,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse
+//#define LCD_FEEDBACK_FREQUENCY_HZ 1000	// this is the tone frequency the buzzer plays when on UI feedback. ie Screen Click
+//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100 // the duration the buzzer plays the UI feedback sound. ie Screen Click
 
 // The MaKr3d Makr-Panel with graphic controller and SD support
 // http://reprap.org/wiki/MaKr3d_MaKrPanel
@@ -532,6 +534,21 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
   #define NEWPANEL
   #define ULTIPANEL
+  
+  #ifndef ENCODER_PULSES_PER_STEP
+	#define ENCODER_PULSES_PER_STEP 4
+  #endif 
+
+  #ifndef ENCODER_STEPS_PER_MENU_ITEM
+	#define ENCODER_STEPS_PER_MENU_ITEM 1
+  #endif 
+  
+  
+  #ifdef LCD_USE_I2C_BUZZER
+	#define LCD_FEEDBACK_FREQUENCY_HZ 1000
+	#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100
+  #endif
+  
 #endif
 
 // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs

commit 76cf07c3f75708316f128f52d904115358cb8b23
Author: David Forrest <drf@vims.edu>
Date:   Tue Jan 21 23:25:51 2014 -0500

    Configuration.h: Use OVERSAMPLENR in dT_PID definition.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 33a1c3a160..1da62fc2ad 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -168,7 +168,7 @@
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
   #define K1 0.95 //smoothing factor within the PID
-  #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
+  #define PID_dT ((OVERSAMPLENR * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker

commit 6ae7f7870d8ff09d99fdf7ed1dc64a6f727020ce
Merge: da2a6f9a31 8f195844dd
Author: fsantini <francesco.santini@gmail.com>
Date:   Mon Dec 23 12:20:32 2013 +0100

    Merge branch 'Marlin_v1' of https://github.com/ErikZalm/Marlin into ErikZalm
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/Marlin_main.cpp

diff --combined Marlin/Configuration.h
index 8cb0a141c3,b4acbac946..33a1c3a160
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -8,9 -8,9 +8,9 @@@
  //===========================================================================
  //============================= DELTA Printer ===============================
  //===========================================================================
- // For a Delta printer rplace the configuration files wilth the files in the 
+ // For a Delta printer rplace the configuration files wilth the files in the
  // example_configurations/delta directory.
- // 
+ //
  
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
@@@ -36,7 -36,8 +36,8 @@@
  // 11 = Gen7 v1.1, v1.2 = 11
  // 12 = Gen7 v1.3
  // 13 = Gen7 v1.4
- // 20 = Sethi 3D_1 
+ // 2  = Cheaptronic v1.0
+ // 20 = Sethi 3D_1
  // 3  = MEGA/RAMPS up to 1.2 = 3
  // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
  // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
@@@ -335,9 -336,9 +336,9 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  
    #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
                                          // Be sure you have this distance over your Z_MAX_POS in case
-     
+ 
    #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min
-   
+ 
    #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
    #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
  
@@@ -346,35 -347,26 +347,35 @@@
    //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
    // You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
  
- //  #define PROBE_SERVO_DEACTIVATION_DELAY 300  
+ //  #define PROBE_SERVO_DEACTIVATION_DELAY 300
  
  
- //If you have enabled the Bed Auto Levelling and are using the same Z Probe for Z Homing, 
+ //If you have enabled the Bed Auto Levelling and are using the same Z Probe for Z Homing,
  //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
  
-   #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area. 
+   #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area.
                            // When defined, it will:
                            // - Allow Z homing only after X and Y homing AND stepper drivers still enabled
                            // - If stepper drivers timeout, it will need X and Y homing again before Z homing
                            // - Position the probe in a defined XY point before Z Homing when homing all axis (G28)
                            // - Block Z homing only when the probe is outside bed area.
-   
+ 
    #ifdef Z_SAFE_HOMING
-     
+ 
      #define Z_SAFE_HOMING_X_POINT (X_MAX_LENGTH/2)    // X point for Z homing when homing all axis (G28)
      #define Z_SAFE_HOMING_Y_POINT (Y_MAX_LENGTH/2)    // Y point for Z homing when homing all axis (G28)
-     
+ 
    #endif
-   
+ 
 +  // with accurate bed leveling, the bed is sampled in a ACCURATE_BED_LEVELING_POINTSxACCURATE_BED_LEVELING_POINTS grid and least squares solution is calculated
 +  // Note: this feature occupies 10'206 byte
 +  #define ACCURATE_BED_LEVELING
 +  
 +  #ifdef ACCURATE_BED_LEVELING
 +     // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
 +    #define ACCURATE_BED_LEVELING_POINTS 2
 +  #endif
 +  
  #endif
  
  
@@@ -443,6 -435,7 +444,7 @@@
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
+ //#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
  
@@@ -549,7 -542,7 +551,7 @@@
  // Shift register panels
  // ---------------------
  // 2 wire Non-latching LCD SR from:
- // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
+ // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
  //#define SR_LCD
  #ifdef SR_LCD
     #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister

commit e5d3044801a5c248386380fca188f56ebbea45c5
Author: - <->
Date:   Sun Dec 8 21:34:56 2013 +0100

    Added posibility to set ENCODER_STEPS_PER_MENU_ITEM in Configuration.h like ENCODER_PULSES_PER_STEP as it depends on it for usability

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d5b7621a1f..b4acbac946 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -8,9 +8,9 @@
 //===========================================================================
 //============================= DELTA Printer ===============================
 //===========================================================================
-// For a Delta printer rplace the configuration files wilth the files in the 
+// For a Delta printer rplace the configuration files wilth the files in the
 // example_configurations/delta directory.
-// 
+//
 
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
@@ -37,7 +37,7 @@
 // 12 = Gen7 v1.3
 // 13 = Gen7 v1.4
 // 2  = Cheaptronic v1.0
-// 20 = Sethi 3D_1 
+// 20 = Sethi 3D_1
 // 3  = MEGA/RAMPS up to 1.2 = 3
 // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
 // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
@@ -336,9 +336,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
   #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
                                         // Be sure you have this distance over your Z_MAX_POS in case
-    
+
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min
-  
+
   #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
   #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
 
@@ -347,26 +347,26 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
   // You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
 
-//  #define PROBE_SERVO_DEACTIVATION_DELAY 300  
+//  #define PROBE_SERVO_DEACTIVATION_DELAY 300
 
 
-//If you have enabled the Bed Auto Levelling and are using the same Z Probe for Z Homing, 
+//If you have enabled the Bed Auto Levelling and are using the same Z Probe for Z Homing,
 //it is highly recommended you let this Z_SAFE_HOMING enabled!!!
 
-  #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area. 
+  #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area.
                           // When defined, it will:
                           // - Allow Z homing only after X and Y homing AND stepper drivers still enabled
                           // - If stepper drivers timeout, it will need X and Y homing again before Z homing
                           // - Position the probe in a defined XY point before Z Homing when homing all axis (G28)
                           // - Block Z homing only when the probe is outside bed area.
-  
+
   #ifdef Z_SAFE_HOMING
-    
+
     #define Z_SAFE_HOMING_X_POINT (X_MAX_LENGTH/2)    // X point for Z homing when homing all axis (G28)
     #define Z_SAFE_HOMING_Y_POINT (Y_MAX_LENGTH/2)    // Y point for Z homing when homing all axis (G28)
-    
+
   #endif
-  
+
 #endif
 
 
@@ -435,6 +435,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 //#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
+//#define ENCODER_STEPS_PER_MENU_ITEM 5 // Set according to ENCODER_PULSES_PER_STEP or your liking
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse
 
@@ -541,7 +542,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // Shift register panels
 // ---------------------
 // 2 wire Non-latching LCD SR from:
-// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
+// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection
 //#define SR_LCD
 #ifdef SR_LCD
    #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister

commit e8786bf110b940f145e9789c09d2284118c0b5d5
Author: Michal Dyntar <forrestg@seznam.cz>
Date:   Sat Dec 7 13:29:47 2013 +0100

    Added support for Cheaptronic v1 electronic

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c5b96b280b..d5b7621a1f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -36,6 +36,7 @@
 // 11 = Gen7 v1.1, v1.2 = 11
 // 12 = Gen7 v1.3
 // 13 = Gen7 v1.4
+// 2  = Cheaptronic v1.0
 // 20 = Sethi 3D_1 
 // 3  = MEGA/RAMPS up to 1.2 = 3
 // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)

commit cc2925b70527728009a863c976017f0eeb42fe9b
Author: fsantini <francesco.santini@gmail.com>
Date:   Fri Dec 6 21:46:25 2013 +0100

    Implemented a least squares fit of the bed equation for auto bed leveling.
    
    The code for the LSQ solver (qr_solve) is copyrighted by John Burkardt and released under LGPL here:
    http://people.sc.fsu.edu/~%20jburkardt/c_src/qr_solve/qr_solve.html
    (see qr_solve.cpp for further copyright information)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c5b96b280b..8cb0a141c3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -366,6 +366,15 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
     
   #endif
   
+  // with accurate bed leveling, the bed is sampled in a ACCURATE_BED_LEVELING_POINTSxACCURATE_BED_LEVELING_POINTS grid and least squares solution is calculated
+  // Note: this feature occupies 10'206 byte
+  #define ACCURATE_BED_LEVELING
+  
+  #ifdef ACCURATE_BED_LEVELING
+     // I wouldn't see a reason to go above 3 (=9 probing points on the bed)
+    #define ACCURATE_BED_LEVELING_POINTS 2
+  #endif
+  
 #endif
 
 

commit b33375d438aa300bd705eb0d2fb16dd8e287221a
Author: Alex Borro <alexborro@gmail.com>
Date:   Wed Nov 27 22:37:35 2013 -0200

    Z Axis Safe Homing when using Z Probe
    
    Recommended for those who are using the Z Probe for Z Homing (as
    Z-Endstop)
    
    This feature has two changes:
    
    1) Allow user to choose where the Z Probe will touch the bed when homing
    all axis together (G28) by setting below defines:
    
    Z_SAFE_HOMING_X_POINT
    Z_SAFE_HOMING_Y_POINT
    
    2) Prevents the user to perform Z Axis Homing when the Z Probe is
    outsite bed.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 14afa75ea3..c5b96b280b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -305,6 +305,17 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
 #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
 
+// Travel limits after homing
+#define X_MAX_POS 205
+#define X_MIN_POS 0
+#define Y_MAX_POS 205
+#define Y_MIN_POS 0
+#define Z_MAX_POS 200
+#define Z_MIN_POS 0
+
+#define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
+#define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
+#define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 //============================= Bed Auto Leveling ===========================
 
 //#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
@@ -336,20 +347,27 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   // You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
 
 //  #define PROBE_SERVO_DEACTIVATION_DELAY 300  
+
+
+//If you have enabled the Bed Auto Levelling and are using the same Z Probe for Z Homing, 
+//it is highly recommended you let this Z_SAFE_HOMING enabled!!!
+
+  #define Z_SAFE_HOMING   // This feature is meant to avoid Z homing with probe outside the bed area. 
+                          // When defined, it will:
+                          // - Allow Z homing only after X and Y homing AND stepper drivers still enabled
+                          // - If stepper drivers timeout, it will need X and Y homing again before Z homing
+                          // - Position the probe in a defined XY point before Z Homing when homing all axis (G28)
+                          // - Block Z homing only when the probe is outside bed area.
+  
+  #ifdef Z_SAFE_HOMING
+    
+    #define Z_SAFE_HOMING_X_POINT (X_MAX_LENGTH/2)    // X point for Z homing when homing all axis (G28)
+    #define Z_SAFE_HOMING_Y_POINT (Y_MAX_LENGTH/2)    // Y point for Z homing when homing all axis (G28)
+    
+  #endif
   
 #endif
 
-// Travel limits after homing
-#define X_MAX_POS 205
-#define X_MIN_POS 0
-#define Y_MAX_POS 205
-#define Y_MIN_POS 0
-#define Z_MAX_POS 200
-#define Z_MIN_POS 0
-
-#define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
-#define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
-#define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 
 // The position of the homing switches
 //#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used

commit 48a185d0044336eb71663f9271d9e9f7f4515120
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Nov 10 16:36:37 2013 +0100

    Fixed compile errors from bad commits.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7380b134e0..14afa75ea3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -69,7 +69,7 @@
 // 21 = Elefu Ra Board (v3)
 
 #ifndef MOTHERBOARD
-//#define MOTHERBOARD 7
+#define MOTHERBOARD 7
 #endif
 
 // Define this to set a custom name for your generic Mendel,

commit 59b96e323eaefe1930acc1582cd9443b0174b430
Merge: 2433ee6fc8 7b556d2e96
Author: ErikZalm <erik@vdzalm.eu>
Date:   Sun Nov 10 07:26:08 2013 -0800

    Merge pull request #640 from fmalpartida/SAV-MkI
    
    Added support for BT on AT90USB devices, corrected LCD bug, added new board and LCD

diff --combined Marlin/Configuration.h
index cb5d5a9c7f,129cf74778..7380b134e0
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -23,9 -23,13 +23,13 @@@
  // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
  #define SERIAL_PORT 0
  
+ // This determines the communication speed of the printer
  // This determines the communication speed of the printer
  #define BAUDRATE 250000
- //#define BAUDRATE 115200
+ 
+ // This enables the serial port associated to the Bluetooth interface
+ //#define BTENABLED              // Enable BT interface on AT90USB devices
+ 
  
  //// The following define selects which electronics board you have. Please choose the one that matches your setup
  // 10 = Gen7 custom (Alfons3 Version) "https://github.com/Alfons3/Generation_7_Electronics"
@@@ -54,6 -58,7 +58,7 @@@
  // 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
+ // 83 = SAV Mk-I (AT90USB1286)
  // 9  = Gen3+
  // 70 = Megatronics
  // 701= Megatronics v2.0
@@@ -64,16 -69,12 +69,16 @@@
  // 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
- #define MOTHERBOARD 7
+ //#define MOTHERBOARD 7
  #endif
  
  // Define this to set a custom name for your generic Mendel,
  // #define CUSTOM_MENDEL_NAME "This Mendel"
  
 +// Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
 +// You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)
 +// #define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
 +
  // This defines the number of extruders
  #define EXTRUDERS 1
  
@@@ -83,9 -84,6 +88,9 @@@
  
  #define POWER_SUPPLY 1
  
 +// Define this to have the electronics keep the powersupply off on startup. If you don't know what this is leave it.
 +// #define PS_DEFAULT_OFF
 +
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -100,7 -98,7 +105,7 @@@
  // 2 is 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
  // 3 is mendel-parts thermistor (4.7k pullup)
  // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
 -// 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
 +// 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
  // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
  // 71 is 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
@@@ -113,7 -111,7 +118,7 @@@
  //                          (but gives greater accuracy and more stable PID)
  // 51 is 100k thermistor - EPCOS (1k pullup)
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 -// 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
 +// 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 -1
@@@ -514,6 -512,17 +519,17 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
    #define ULTIPANEL
  #endif
  
+ // Shift register panels
+ // ---------------------
+ // 2 wire Non-latching LCD SR from:
+ // https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
+ //#define SR_LCD
+ #ifdef SR_LCD
+    #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
+    //#define NEWPANEL
+ #endif
+ 
+ 
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT

commit 7b556d2e96b3ac9504c74951b9e795c5dd1fa91b
Author: fmalpartida <fmalpartida@gmail.com>
Date:   Sun Nov 3 19:57:06 2013 +0100

    Added BT support on AT90USB devices
    
    Added AT90USB device BT connectivity support using second UART.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 39032f1fb0..129cf74778 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -22,20 +22,13 @@
 // This allows the connection of wireless adapters (for instance) to non-default port pins.
 // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
 #define SERIAL_PORT 0
-//#define SERIAL_PORT 1  // Define serial port 1 for bluetooth configuration in AT90USB configurations
 
 // This determines the communication speed of the printer
 // This determines the communication speed of the printer
 #define BAUDRATE 250000
 
 // This enables the serial port associated to the Bluetooth interface
-//#define BTENABLED              // Enable BT interface
-
-
-// SERIAL_PORT selects which serial port should be used for communication with the host.
-// This allows the connection of wireless adapters (for instance) to non-default port pins.
-// Serial port 0 is still used by the Arduino bootloader regardless of this setting.
-#define SERIAL_PORT 0
+//#define BTENABLED              // Enable BT interface on AT90USB devices
 
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
@@ -76,8 +69,7 @@
 // 21 = Elefu Ra Board (v3)
 
 #ifndef MOTHERBOARD
-//[FMC]#define MOTHERBOARD 7
-#define MOTHERBOARD 83
+//#define MOTHERBOARD 7
 #endif
 
 // Define this to set a custom name for your generic Mendel,
@@ -522,6 +514,8 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 // Shift register panels
 // ---------------------
+// 2 wire Non-latching LCD SR from:
+// https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/schematics#!shiftregister-connection 
 //#define SR_LCD
 #ifdef SR_LCD
    #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister

commit a5e8575829ef6fb7db37ba921627c7d76d8e0bc3
Author: Kaz Walker <kaz.walker@doopli.co>
Date:   Fri Nov 1 14:51:50 2013 -0600

    Add UUID support to M115 responses.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d6164a9047..cb5d5a9c7f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -70,6 +70,10 @@
 // Define this to set a custom name for your generic Mendel,
 // #define CUSTOM_MENDEL_NAME "This Mendel"
 
+// Define this to set a unique identifier for this printer, (Used by some programs to differentiate between machines)
+// You can use an online service to generate a random UUID. (eg http://www.uuidgenerator.net/version4)
+// #define MACHINE_UUID "00000000-0000-0000-0000-000000000000"
+
 // This defines the number of extruders
 #define EXTRUDERS 1
 
@@ -96,7 +100,7 @@
 // 2 is 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
 // 3 is mendel-parts thermistor (4.7k pullup)
 // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
-// 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
+// 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (4.7k pullup)
 // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
 // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
 // 71 is 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
@@ -109,7 +113,7 @@
 //                          (but gives greater accuracy and more stable PID)
 // 51 is 100k thermistor - EPCOS (1k pullup)
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
-// 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
+// 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan & J-Head) (1k pullup)
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 -1

commit b5a964fcc54ecfe8badeae120282037a7692852e
Author: fmalpartida <fmalpartida@gmail.com>
Date:   Wed Oct 30 11:45:32 2013 +0100

    Initial SAV MkI (RepRap CloneWars board) integration.
    
    Included support for BT dongle on AT90USB boards.
    Added LCD Shift Register LCD control
    Included support for RepRap Clone Wars project board (SAV MKI).

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8496a8b24b..39032f1fb0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -22,10 +22,21 @@
 // This allows the connection of wireless adapters (for instance) to non-default port pins.
 // Serial port 0 is still used by the Arduino bootloader regardless of this setting.
 #define SERIAL_PORT 0
+//#define SERIAL_PORT 1  // Define serial port 1 for bluetooth configuration in AT90USB configurations
 
+// This determines the communication speed of the printer
 // This determines the communication speed of the printer
 #define BAUDRATE 250000
-//#define BAUDRATE 115200
+
+// This enables the serial port associated to the Bluetooth interface
+//#define BTENABLED              // Enable BT interface
+
+
+// SERIAL_PORT selects which serial port should be used for communication with the host.
+// This allows the connection of wireless adapters (for instance) to non-default port pins.
+// Serial port 0 is still used by the Arduino bootloader regardless of this setting.
+#define SERIAL_PORT 0
+
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
 // 10 = Gen7 custom (Alfons3 Version) "https://github.com/Alfons3/Generation_7_Electronics"
@@ -54,6 +65,7 @@
 // 80 = Rumba
 // 81 = Printrboard (AT90USB1286)
 // 82 = Brainwave (AT90USB646)
+// 83 = SAV Mk-I (AT90USB1286)
 // 9  = Gen3+
 // 70 = Megatronics
 // 701= Megatronics v2.0
@@ -64,7 +76,8 @@
 // 21 = Elefu Ra Board (v3)
 
 #ifndef MOTHERBOARD
-#define MOTHERBOARD 7
+//[FMC]#define MOTHERBOARD 7
+#define MOTHERBOARD 83
 #endif
 
 // Define this to set a custom name for your generic Mendel,
@@ -507,6 +520,15 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define ULTIPANEL
 #endif
 
+// Shift register panels
+// ---------------------
+//#define SR_LCD
+#ifdef SR_LCD
+   #define SR_LCD_2W_NL    // Non latching 2 wire shiftregister
+   //#define NEWPANEL
+#endif
+
+
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit f9412031725192c2a7c1b7709d72f01bf76b765e
Author: dumle29 <dumle29@gmail.com>
Date:   Tue Oct 29 18:44:56 2013 +0100

    PS_ON configurable boot state
    
    Allows the user to select wheter or not the PSU should be turned on or
    kept in standby when marlin boots

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8496a8b24b..d6164a9047 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -79,6 +79,9 @@
 
 #define POWER_SUPPLY 1
 
+// Define this to have the electronics keep the powersupply off on startup. If you don't know what this is leave it.
+// #define PS_DEFAULT_OFF
+
 //===========================================================================
 //=============================Thermal Settings  ============================
 //===========================================================================

commit 8a08cca0f2c16d6863bacefa41966cee17ee5b26
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Oct 20 12:12:35 2013 +0200

    Added temperature status less.
    Hopefully fixed viky button handling without braking other boards

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 974709ff44..8496a8b24b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -540,6 +540,11 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 
+// Temperature status leds that display the hotend and bet temperature.
+// If alle hotends and bed temperature and temperature setpoint are < 54C then the BLUE led is on.
+// Otherwise the RED led is on. There is 1C hysteresis.
+//#define TEMP_STAT_LEDS
+
 // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
 // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
 // is too low, you should also increment SOFT_PWM_SCALE.

commit 6a803ba9c5377152cd5b4162bed09ab1240c9bdc
Merge: 6f85a8c7aa 97b0da0c2e
Author: ErikZalm <erik@vdzalm.eu>
Date:   Sun Oct 20 00:51:35 2013 -0700

    Merge pull request #590 from timkoster/Marlin_v1
    
    Added BlinkM support over i2c

diff --combined Marlin/Configuration.h
index 459640fbc3,d3168b5450..974709ff44
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -5,13 -5,6 +5,13 @@@
  // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
 +//===========================================================================
 +//============================= DELTA Printer ===============================
 +//===========================================================================
 +// For a Delta printer rplace the configuration files wilth the files in the 
 +// example_configurations/delta directory.
 +// 
 +
  // User-specified version info of this build to display in [Pronterface, etc] terminal window during
  // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
  // build by the user have been successfully uploaded into firmware.
@@@ -32,7 -25,6 +32,7 @@@
  // 11 = Gen7 v1.1, v1.2 = 11
  // 12 = Gen7 v1.3
  // 13 = Gen7 v1.4
 +// 20 = Sethi 3D_1 
  // 3  = MEGA/RAMPS up to 1.2 = 3
  // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
  // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
@@@ -46,7 -38,6 +46,7 @@@
  // 64 = STB V1.1
  // 65 = Azteeg X1
  // 66 = Melzi with ATmega1284 (MaKr3d version)
 +// 67 = Azteeg X3
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
  // 77 = 3Drag Controller
@@@ -79,6 -70,46 +79,6 @@@
  
  #define POWER_SUPPLY 1
  
 -
 -//===========================================================================
 -//============================== Delta Settings =============================
 -//===========================================================================
 -// Enable DELTA kinematics
 -//#define DELTA
 -
 -// Make delta curves from many straight lines (linear interpolation).
 -// This is a trade-off between visible corners (not enough segments)
 -// and processor overload (too many expensive sqrt calls).
 -#define DELTA_SEGMENTS_PER_SECOND 200
 -
 -// Center-to-center distance of the holes in the diagonal push rods.
 -#define DELTA_DIAGONAL_ROD 250.0 // mm
 -
 -// Horizontal offset from middle of printer to smooth rod center.
 -#define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
 -
 -// Horizontal offset of the universal joints on the end effector.
 -#define DELTA_EFFECTOR_OFFSET 33.0 // mm
 -
 -// Horizontal offset of the universal joints on the carriages.
 -#define DELTA_CARRIAGE_OFFSET 18.0 // mm
 -
 -// Effective horizontal distance bridged by diagonal push rods.
 -#define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
 -
 -// Effective X/Y positions of the three vertical towers.
 -#define SIN_60 0.8660254037844386
 -#define COS_60 0.5
 -#define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
 -#define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
 -#define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
 -#define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
 -#define DELTA_TOWER3_X 0.0 // back middle tower
 -#define DELTA_TOWER3_Y DELTA_RADIUS
 -
 -// Diagonal rod squared
 -#define DELTA_DIAGONAL_ROD_2 pow(DELTA_DIAGONAL_ROD,2)
 -
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -292,41 -323,6 +292,41 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  
  #define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
  #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
 +
 +//============================= Bed Auto Leveling ===========================
 +
 +//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
 +
 +#ifdef ENABLE_AUTO_BED_LEVELING
 +
 +  // these are the positions on the bed to do the probing
 +  #define LEFT_PROBE_BED_POSITION 15
 +  #define RIGHT_PROBE_BED_POSITION 170
 +  #define BACK_PROBE_BED_POSITION 180
 +  #define FRONT_PROBE_BED_POSITION 20
 +
 +  // these are the offsets to the prob relative to the extruder tip (Hotend - Probe)
 +  #define X_PROBE_OFFSET_FROM_EXTRUDER -25
 +  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29
 +  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35
 +
 +  #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
 +                                        // Be sure you have this distance over your Z_MAX_POS in case
 +    
 +  #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min
 +  
 +  #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
 +  #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
 +
 +
 +  //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
 +  //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
 +  // You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
 +
 +//  #define PROBE_SERVO_DEACTIVATION_DELAY 300  
 +  
 +#endif
 +
  // Travel limits after homing
  #define X_MAX_POS 205
  #define X_MIN_POS 0
@@@ -403,7 -399,7 +403,7 @@@
  //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 -
 +//#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
  
@@@ -561,6 -557,9 +561,9 @@@
  // Support for the BariCUDA Paste Extruder.
  //#define BARICUDA
  
+ //define BlinkM/CyzRgb Support
+ //#define BLINKM
+ 
  /*********************************************************************\
  * R/C SERVO support
  * Sponsored by TrinityLabs, Reworked by codexmas

commit 6f85a8c7aa95474c653e326a3727e252d280d057
Author: Alex Borro <alexborro@gmail.com>
Date:   Sat Oct 12 17:28:11 2013 -0300

    Bed auto Leveling change: Raise Z before homing
    
    - Added "Z_RAISE_BEFORE_HOMING" for raising Z the defined distance
    before homing. This is useful to avoid Z-Probe collision when hotend is
    near bed.
    
    - Fixed the issue of Z not going bellow Z_PROBE_OFFSET when
    "min_software_endstops" is true.
    Now the Z_PROBE_OFFSET is not set in Z_MIN_POS, it is added after
    homing.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 502ebd4389..459640fbc3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -309,7 +309,10 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
   #define X_PROBE_OFFSET_FROM_EXTRUDER -25
   #define Y_PROBE_OFFSET_FROM_EXTRUDER -29
   #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35
-  
+
+  #define Z_RAISE_BEFORE_HOMING 4       // (in mm) Raise Z before homing (G28) for Probe Clearance.
+                                        // Be sure you have this distance over your Z_MAX_POS in case
+    
   #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min
   
   #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
@@ -330,12 +333,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 #define Y_MAX_POS 205
 #define Y_MIN_POS 0
 #define Z_MAX_POS 200
-
-#ifndef ENABLE_AUTO_BED_LEVELING
 #define Z_MIN_POS 0
-#else
-#define Z_MIN_POS (-1*Z_PROBE_OFFSET_FROM_EXTRUDER)  //With Auto Bed Leveling, the Z_MIN MUST have the same distance as Z_PROBE
-#endif
 
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)

commit 253dfc4bc139d9cfc170ce0c829716e81c81bbe8
Author: Alex Borro <alexborro@gmail.com>
Date:   Sun Sep 29 13:20:06 2013 -0300

    Bed Auto Leveling feature
    
    Check the Readme for instruction how to enable and configure the feature

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fe22331d0a..502ebd4389 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -292,13 +292,50 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 
 #define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
 #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
+
+//============================= Bed Auto Leveling ===========================
+
+//#define ENABLE_AUTO_BED_LEVELING // Delete the comment to enable (remove // at the start of the line)
+
+#ifdef ENABLE_AUTO_BED_LEVELING
+
+  // these are the positions on the bed to do the probing
+  #define LEFT_PROBE_BED_POSITION 15
+  #define RIGHT_PROBE_BED_POSITION 170
+  #define BACK_PROBE_BED_POSITION 180
+  #define FRONT_PROBE_BED_POSITION 20
+
+  // these are the offsets to the prob relative to the extruder tip (Hotend - Probe)
+  #define X_PROBE_OFFSET_FROM_EXTRUDER -25
+  #define Y_PROBE_OFFSET_FROM_EXTRUDER -29
+  #define Z_PROBE_OFFSET_FROM_EXTRUDER -12.35
+  
+  #define XY_TRAVEL_SPEED 8000         // X and Y axis travel speed between probes, in mm/min
+  
+  #define Z_RAISE_BEFORE_PROBING 15    //How much the extruder will be raised before traveling to the first probing point.
+  #define Z_RAISE_BETWEEN_PROBINGS 5  //How much the extruder will be raised when traveling from between next probing points
+
+
+  //If defined, the Probe servo will be turned on only during movement and then turned off to avoid jerk
+  //The value is the delay to turn the servo off after powered on - depends on the servo speed; 300ms is good value, but you can try lower it.
+  // You MUST HAVE the SERVO_ENDSTOPS defined to use here a value higher than zero otherwise your code will not compile.
+
+//  #define PROBE_SERVO_DEACTIVATION_DELAY 300  
+  
+#endif
+
 // Travel limits after homing
 #define X_MAX_POS 205
 #define X_MIN_POS 0
 #define Y_MAX_POS 205
 #define Y_MIN_POS 0
 #define Z_MAX_POS 200
+
+#ifndef ENABLE_AUTO_BED_LEVELING
 #define Z_MIN_POS 0
+#else
+#define Z_MIN_POS (-1*Z_PROBE_OFFSET_FROM_EXTRUDER)  //With Auto Bed Leveling, the Z_MIN MUST have the same distance as Z_PROBE
+#endif
 
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
 #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)

commit 57173739a16c5bcb7b1e420f1a0ed4c60c3608f6
Author: phq1910 <phq1910@terra.com.br>
Date:   Thu Sep 26 11:29:44 2013 -0300

    Update Configuration.h
    
    Include CPU Sethi 3D

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 54c448721c..fe22331d0a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -32,6 +32,7 @@
 // 11 = Gen7 v1.1, v1.2 = 11
 // 12 = Gen7 v1.3
 // 13 = Gen7 v1.4
+// 20 = Sethi 3D_1 
 // 3  = MEGA/RAMPS up to 1.2 = 3
 // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
 // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)

commit 0dca49a7c07721904922394f38ebaa8094c0aa45
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Tue Sep 24 17:31:16 2013 +0200

    Added Azteeg X3 board.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a65462fcb3..54c448721c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -45,6 +45,7 @@
 // 64 = STB V1.1
 // 65 = Azteeg X1
 // 66 = Melzi with ATmega1284 (MaKr3d version)
+// 67 = Azteeg X3
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 // 77 = 3Drag Controller

commit d8c2c810b49d43ecba84b3226c20a62900b34df9
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Sep 23 23:29:46 2013 +0200

    Added info to the delta configuration files in the configuration.h file

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3927b16424..a65462fcb3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -5,6 +5,13 @@
 // Advanced settings can be found in Configuration_adv.h
 // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
 
+//===========================================================================
+//============================= DELTA Printer ===============================
+//===========================================================================
+// For a Delta printer rplace the configuration files wilth the files in the 
+// example_configurations/delta directory.
+// 
+
 // User-specified version info of this build to display in [Pronterface, etc] terminal window during
 // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 // build by the user have been successfully uploaded into firmware.

commit 9bc88f8bab9cd0c444c8a6248e2ad486125f4713
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Sep 23 23:25:11 2013 +0200

    Placed optional ENCODER_PULSES_PER_STEP in the configuration.h file

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ef7a359e47..3927b16424 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -359,7 +359,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
-
+//#define ENCODER_PULSES_PER_STEP 1 // Increase if you have a high resolution encoder
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse
 

commit 61db046b3285c56dea66e658d9b8530debaf63a1
Author: Tim Koster <timkoster7@gmail.com>
Date:   Fri Sep 20 10:57:42 2013 +0300

    Added #ifdef BLINKM around new code. Also refined BlinkM.h.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 195331252f..d3168b5450 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -558,7 +558,7 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 //#define BARICUDA
 
 //define BlinkM/CyzRgb Support
-//#define BlinkM
+//#define BLINKM
 
 /*********************************************************************\
 * R/C SERVO support

commit 3626b5ad8b7b3f73547383faa8887e2afa4ca3bb
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Sep 14 13:50:09 2013 +0200

    Removed Delta from the default config file.
    Changed EEPROM CHITCHAT behavior. M503 is always enabled.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9ff27f5b00..ef7a359e47 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -70,46 +70,6 @@
 
 #define POWER_SUPPLY 1
 
-
-//===========================================================================
-//============================== Delta Settings =============================
-//===========================================================================
-// Enable DELTA kinematics
-//#define DELTA
-
-// Make delta curves from many straight lines (linear interpolation).
-// This is a trade-off between visible corners (not enough segments)
-// and processor overload (too many expensive sqrt calls).
-#define DELTA_SEGMENTS_PER_SECOND 200
-
-// Center-to-center distance of the holes in the diagonal push rods.
-#define DELTA_DIAGONAL_ROD 250.0 // mm
-
-// Horizontal offset from middle of printer to smooth rod center.
-#define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
-
-// Horizontal offset of the universal joints on the end effector.
-#define DELTA_EFFECTOR_OFFSET 33.0 // mm
-
-// Horizontal offset of the universal joints on the carriages.
-#define DELTA_CARRIAGE_OFFSET 18.0 // mm
-
-// Effective horizontal distance bridged by diagonal push rods.
-#define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
-
-// Effective X/Y positions of the three vertical towers.
-#define SIN_60 0.8660254037844386
-#define COS_60 0.5
-#define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
-#define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
-#define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
-#define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
-#define DELTA_TOWER3_X 0.0 // back middle tower
-#define DELTA_TOWER3_Y DELTA_RADIUS
-
-// Diagonal rod squared
-#define DELTA_DIAGONAL_ROD_2 pow(DELTA_DIAGONAL_ROD,2)
-
 //===========================================================================
 //=============================Thermal Settings  ============================
 //===========================================================================

commit 88dfeefca3c47158e634998c2ed96a21a6b04f50
Author: Tim Koster <timkoster7@gmail.com>
Date:   Tue Sep 10 12:32:21 2013 +0300

    Define BlinkM default disabled

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 33b96f5b33..195331252f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -533,9 +533,6 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 # endif
 #endif
 
-// define BlinkM Support
-#define BlinkM
-
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 

commit 5350faf2a24399815b4e14fe689dbf0a10fc721d
Merge: 7016cc9511 3b315b3da0
Author: Tim Koster <timkoster7@gmail.com>
Date:   Tue Sep 10 12:27:26 2013 +0300

    Merge https://github.com/timkoster/MarlinBlinkM into Marlin_v1

diff --combined Marlin/Configuration.h
index 195331252f,67760abe3b..33b96f5b33
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -533,6 -533,9 +533,9 @@@ const bool Z_MAX_ENDSTOP_INVERTING = tr
  # endif
  #endif
  
+ // define BlinkM Support
+ #define BlinkM
+ 
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
@@@ -557,9 -560,6 +560,9 @@@
  // Support for the BariCUDA Paste Extruder.
  //#define BARICUDA
  
 +//define BlinkM/CyzRgb Support
 +//#define BlinkM
 +
  /*********************************************************************\
  * R/C SERVO support
  * Sponsored by TrinityLabs, Reworked by codexmas

commit 7016cc951186d876e7812cbeb945f5d27b125fb7
Author: Tim Koster <timkoster7@gmail.com>
Date:   Tue Sep 10 12:18:29 2013 +0300

    Added BlinkM support over i2c

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9ff27f5b00..195331252f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -557,6 +557,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 // Support for the BariCUDA Paste Extruder.
 //#define BARICUDA
 
+//define BlinkM/CyzRgb Support
+//#define BlinkM
+
 /*********************************************************************\
 * R/C SERVO support
 * Sponsored by TrinityLabs, Reworked by codexmas

commit 3b315b3da0464efd39e1f5a379eaeba601c4871f
Author: Tim Koster <timkoster7@gmail.com>
Date:   Fri Sep 6 22:25:39 2013 +0300

    Added BlinkM support over i2c

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9ff27f5b00..67760abe3b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -533,6 +533,9 @@ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of
 # endif
 #endif
 
+// define BlinkM Support
+#define BlinkM
+
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 

commit a54fe2d73c04918cca9d86ff1119cc9d89d69dcc
Merge: 394ed08f88 7ea63d08df
Author: Nicolas Rossi <nixouille@gmail.com>
Date:   Sat Aug 3 13:05:56 2013 +0200

    Merge branch 'Marlin_v1' of https://github.com/ErikZalm/Marlin.git into Marlin_v1
    
    Conflicts:
            Marlin/Marlin_main.cpp

diff --combined Marlin/Configuration.h
index 9f6065f26e,bf2018674f..9ff27f5b00
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -107,9 -107,6 +107,9 @@@
  #define DELTA_TOWER3_X 0.0 // back middle tower
  #define DELTA_TOWER3_Y DELTA_RADIUS
  
 +// Diagonal rod squared
 +#define DELTA_DIAGONAL_ROD_2 pow(DELTA_DIAGONAL_ROD,2)
 +
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -127,7 -124,6 +127,7 @@@
  // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
  // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
 +// 71 is 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
  // 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
@@@ -145,7 -141,7 +145,7 @@@
  #define TEMP_SENSOR_BED 0
  
  // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
- //#define TEMP_SENSOR_1_AS_REDUNDANT 
+ //#define TEMP_SENSOR_1_AS_REDUNDANT
  #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
  
  // Actual temperature must be close to target for this long before M109 returns success
@@@ -282,9 -278,12 +282,12 @@@
  #endif
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
- const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
- const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool X_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+ const bool Y_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+ const bool Z_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+ const bool X_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+ const bool Y_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+ const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
  //#define DISABLE_MAX_ENDSTOPS
  //#define DISABLE_MIN_ENDSTOPS
  
@@@ -383,7 -382,7 +386,7 @@@
  //#define EEPROM_CHITCHAT
  
  // Preheat Constants
- #define PLA_PREHEAT_HOTEND_TEMP 180 
+ #define PLA_PREHEAT_HOTEND_TEMP 180
  #define PLA_PREHEAT_HPB_TEMP 70
  #define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
  
@@@ -468,7 -467,7 +471,7 @@@
    #define LCD_I2C_TYPE_PCF8575
    #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
    #define NEWPANEL
-   #define ULTIPANEL 
+   #define ULTIPANEL
  #endif
  
  // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
@@@ -477,13 -476,13 +480,13 @@@
    // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
    // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
    // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
-   // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
-   //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
+   // Note: The PANELOLU2 encoder click input can either be directly connected to a pin
+   //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
    #define LCD_I2C_TYPE_MCP23017
    #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
    #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
    #define NEWPANEL
-   #define ULTIPANEL 
+   #define ULTIPANEL
  #endif
  
  // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
@@@ -493,11 -492,11 +496,11 @@@
    // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
    // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
    //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
-   #define LCD_I2C_TYPE_MCP23017 
+   #define LCD_I2C_TYPE_MCP23017
    #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
    #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
    #define NEWPANEL
-   #define ULTIPANEL 
+   #define ULTIPANEL
  #endif
  
  #ifdef ULTIPANEL
@@@ -569,10 -568,10 +572,10 @@@
  //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
  
  // Servo Endstops
- // 
+ //
  // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
  // Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
- // 
+ //
  //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
  //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
  

commit 2ca983568d5cc658ba00ec0b92d5fd31455c0364
Author: hg42@gmx.net <hg42@gmx.net>
Date:   Thu Aug 1 15:06:39 2013 +0200

    separate INVERTING for MIN and MAX endstops (6 #defines instead of 3)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index db02b1d5f6..bf2018674f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -141,7 +141,7 @@
 #define TEMP_SENSOR_BED 0
 
 // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
-//#define TEMP_SENSOR_1_AS_REDUNDANT 
+//#define TEMP_SENSOR_1_AS_REDUNDANT
 #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 
 // Actual temperature must be close to target for this long before M109 returns success
@@ -278,9 +278,12 @@
 #endif
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
-const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
-const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+const bool X_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+const bool Y_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+const bool Z_MIN_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+const bool X_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+const bool Y_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
+const bool Z_MAX_ENDSTOP_INVERTING = true; // set to true to invert the logic of the endstop.
 //#define DISABLE_MAX_ENDSTOPS
 //#define DISABLE_MIN_ENDSTOPS
 
@@ -379,7 +382,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define EEPROM_CHITCHAT
 
 // Preheat Constants
-#define PLA_PREHEAT_HOTEND_TEMP 180 
+#define PLA_PREHEAT_HOTEND_TEMP 180
 #define PLA_PREHEAT_HPB_TEMP 70
 #define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 
@@ -464,7 +467,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #define LCD_I2C_TYPE_PCF8575
   #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
   #define NEWPANEL
-  #define ULTIPANEL 
+  #define ULTIPANEL
 #endif
 
 // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
@@ -473,13 +476,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
   // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
-  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
-  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
+  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin
+  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1).
   #define LCD_I2C_TYPE_MCP23017
   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
   #define NEWPANEL
-  #define ULTIPANEL 
+  #define ULTIPANEL
 #endif
 
 // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
@@ -489,11 +492,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
   // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
   //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
-  #define LCD_I2C_TYPE_MCP23017 
+  #define LCD_I2C_TYPE_MCP23017
   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
   #define NEWPANEL
-  #define ULTIPANEL 
+  #define ULTIPANEL
 #endif
 
 #ifdef ULTIPANEL
@@ -565,10 +568,10 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 
 // Servo Endstops
-// 
+//
 // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
 // Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
-// 
+//
 //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
 //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
 

commit 9bf1cf1b22aa53b6b441854a6b17c0d58b470993
Author: Nicolas Rossi <nixouille@gmail.com>
Date:   Tue Jul 30 14:09:21 2013 +0200

    Pre-calculate diagonal rod length squared

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 158214a648..9f6065f26e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -107,6 +107,9 @@
 #define DELTA_TOWER3_X 0.0 // back middle tower
 #define DELTA_TOWER3_Y DELTA_RADIUS
 
+// Diagonal rod squared
+#define DELTA_DIAGONAL_ROD_2 pow(DELTA_DIAGONAL_ROD,2)
+
 //===========================================================================
 //=============================Thermal Settings  ============================
 //===========================================================================

commit 4623e78ce0739437301b8e9944dbc761cad1f246
Author: Nicolas Rossi <nixouille@gmail.com>
Date:   Tue Jul 30 14:01:41 2013 +0200

    Added Honeywell thermistor 135-104LAF-J01

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index db02b1d5f6..158214a648 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -124,6 +124,7 @@
 // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
 // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
 // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
+// 71 is 100k Honeywell thermistor 135-104LAF-J01 (4.7k pullup)
 // 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)

commit 34da3a0a3ff8998d149be645f8081af7ea0e0981
Merge: 2daa85918e a105e10075
Author: Guillaume Seguin <guillaume@segu.in>
Date:   Tue Jul 23 21:46:41 2013 +0200

    Merge github.com:ErikZalm/Marlin into Marlin_v1
    
    Conflicts:
            Marlin/language.h

diff --combined Marlin/Configuration.h
index 78df462b33,54d64cf915..db02b1d5f6
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -28,7 -28,6 +28,7 @@@
  // 3  = MEGA/RAMPS up to 1.2 = 3
  // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
  // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
 +// 35 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Fan)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
@@@ -37,6 -36,7 +37,7 @@@
  // 63 = Melzi
  // 64 = STB V1.1
  // 65 = Azteeg X1
+ // 66 = Melzi with ATmega1284 (MaKr3d version)
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
  // 77 = 3Drag Controller
@@@ -126,6 -126,7 +127,7 @@@
  // 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
+ // 60 is 100k Maker's Tool Works Kapton Bed Thermister
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
@@@ -258,12 -259,12 +260,12 @@@
  
  #ifndef ENDSTOPPULLUPS
    // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
-   #define ENDSTOPPULLUP_XMAX
-   #define ENDSTOPPULLUP_YMAX
-   #define ENDSTOPPULLUP_ZMAX
-   #define ENDSTOPPULLUP_XMIN
-   #define ENDSTOPPULLUP_YMIN
-   //#define ENDSTOPPULLUP_ZMIN
+   // #define ENDSTOPPULLUP_XMAX
+   // #define ENDSTOPPULLUP_YMAX
+   // #define ENDSTOPPULLUP_ZMAX
+   // #define ENDSTOPPULLUP_XMIN
+   // #define ENDSTOPPULLUP_YMIN
+   // #define ENDSTOPPULLUP_ZMIN
  #endif
  
  #ifdef ENDSTOPPULLUPS
@@@ -394,6 -395,10 +396,10 @@@ const bool Z_ENDSTOPS_INVERTING = true
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
  
+ // The MaKr3d Makr-Panel with graphic controller and SD support
+ // http://reprap.org/wiki/MaKr3d_MaKrPanel
+ //#define MAKRPANEL
+ 
  // The RepRapDiscount Smart Controller (white PCB)
  // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
  //#define REPRAP_DISCOUNT_SMART_CONTROLLER
@@@ -419,6 -424,14 +425,14 @@@
  //#define RA_CONTROL_PANEL
  
  //automatic expansion
+ #if defined (MAKRPANEL)
+  #define DOGLCD
+  #define SDSUPPORT
+  #define ULTIPANEL
+  #define NEWPANEL
+  #define DEFAULT_LCD_CONTRAST 17
+ #endif
+ 
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
   #define U8GLIB_ST7920
@@@ -505,6 -518,13 +519,13 @@@
    #endif
  #endif
  
+ // default LCD contrast for dogm-like LCD displays
+ #ifdef DOGLCD
+ # ifndef DEFAULT_LCD_CONTRAST
+ #  define DEFAULT_LCD_CONTRAST 32
+ # endif
+ #endif
+ 
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  

commit c4a20779516619048311e503699020d5cd73e029
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jul 14 21:10:24 2013 +0200

    M109 and M190 now wait when cooling down if R is used instead of S.
    M109 S180 waits only when heating.
    M109 R180 also waits when cooling.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 402233a2e6..54d64cf915 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -259,12 +259,12 @@
 
 #ifndef ENDSTOPPULLUPS
   // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
-  #define ENDSTOPPULLUP_XMAX
-  #define ENDSTOPPULLUP_YMAX
-  #define ENDSTOPPULLUP_ZMAX
-  #define ENDSTOPPULLUP_XMIN
-  #define ENDSTOPPULLUP_YMIN
-  //#define ENDSTOPPULLUP_ZMIN
+  // #define ENDSTOPPULLUP_XMAX
+  // #define ENDSTOPPULLUP_YMAX
+  // #define ENDSTOPPULLUP_ZMAX
+  // #define ENDSTOPPULLUP_XMIN
+  // #define ENDSTOPPULLUP_YMIN
+  // #define ENDSTOPPULLUP_ZMIN
 #endif
 
 #ifdef ENDSTOPPULLUPS

commit 6397b3339cd0c17b1137d9a7ee141add8cea2594
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jul 14 15:49:03 2013 +0200

    restored configuration.h defaults

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 33e0d33767..402233a2e6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -17,7 +17,8 @@
 #define SERIAL_PORT 0
 
 // This determines the communication speed of the printer
-#define BAUDRATE 115200
+#define BAUDRATE 250000
+//#define BAUDRATE 115200
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
 // 10 = Gen7 custom (Alfons3 Version) "https://github.com/Alfons3/Generation_7_Electronics"
@@ -371,10 +372,10 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable eeprom support
-#define EEPROM_SETTINGS
+//#define EEPROM_SETTINGS
 //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
 // please keep turned on if you can.
-#define EEPROM_CHITCHAT
+//#define EEPROM_CHITCHAT
 
 // Preheat Constants
 #define PLA_PREHEAT_HOTEND_TEMP 180 

commit e509cdbeb020a5d47ede81ead6767c9a747adbe6
Author: Michael Mayer <Michael.Mayer@makr3d.de>
Date:   Sun Jul 14 15:28:26 2013 +0700

    added contrast control function for gLCDs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 987dbf8e83..33e0d33767 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -517,6 +517,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #endif
 #endif
 
+// default LCD contrast for dogm-like LCD displays
+#ifdef DOGLCD
+# ifndef DEFAULT_LCD_CONTRAST
+#  define DEFAULT_LCD_CONTRAST 32
+# endif
+#endif
+
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 

commit 99b7e926e7704d74c0a0ea9f4112bc04e5b730e4
Author: Michael Mayer <Michael.Mayer@makr3d.de>
Date:   Sun Jul 14 15:17:55 2013 +0700

    added MaKr3d Melzi board

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 50b74a5fec..987dbf8e83 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -17,8 +17,7 @@
 #define SERIAL_PORT 0
 
 // This determines the communication speed of the printer
-#define BAUDRATE 250000
-//#define BAUDRATE 115200
+#define BAUDRATE 115200
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
 // 10 = Gen7 custom (Alfons3 Version) "https://github.com/Alfons3/Generation_7_Electronics"
@@ -36,6 +35,7 @@
 // 63 = Melzi
 // 64 = STB V1.1
 // 65 = Azteeg X1
+// 66 = Melzi with ATmega1284 (MaKr3d version)
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 // 77 = 3Drag Controller
@@ -371,10 +371,10 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable eeprom support
-//#define EEPROM_SETTINGS
+#define EEPROM_SETTINGS
 //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
 // please keep turned on if you can.
-//#define EEPROM_CHITCHAT
+#define EEPROM_CHITCHAT
 
 // Preheat Constants
 #define PLA_PREHEAT_HOTEND_TEMP 180 
@@ -394,6 +394,10 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse
 
+// The MaKr3d Makr-Panel with graphic controller and SD support
+// http://reprap.org/wiki/MaKr3d_MaKrPanel
+//#define MAKRPANEL
+
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
@@ -419,6 +423,14 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define RA_CONTROL_PANEL
 
 //automatic expansion
+#if defined (MAKRPANEL)
+ #define DOGLCD
+ #define SDSUPPORT
+ #define ULTIPANEL
+ #define NEWPANEL
+ #define DEFAULT_LCD_CONTRAST 17
+#endif
+
 #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
  #define DOGLCD
  #define U8GLIB_ST7920

commit ecf3ab5de457df5d73141ecd8a98cc528cccc3b4
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Thu Jun 27 23:25:51 2013 +0200

    Added thermistor 60 to configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 98b69b1ae5..50b74a5fec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -125,6 +125,7 @@
 // 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
+// 60 is 100k Maker's Tool Works Kapton Bed Thermister
 //
 //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
 //                          (but gives greater accuracy and more stable PID)

commit 2daa85918ef297105bea73d006446339587eee8e
Merge: aba67e2449 2015989f84
Author: Nicolas Rossi <nixouille@gmail.com>
Date:   Thu Jun 20 23:59:56 2013 +0200

    Merge branch 'Marlin_v1' of https://github.com/ErikZalm/Marlin.git into Marlin_v1
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/Marlin_main.cpp
            Marlin/language.h
            Marlin/pins.h
            Marlin/ultralcd.cpp

diff --combined Marlin/Configuration.h
index 819ae30b98,98b69b1ae5..78df462b33
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -1,15 -1,15 +1,15 @@@
  #ifndef CONFIGURATION_H
  #define CONFIGURATION_H
  
- // This configurtion file contains the basic settings.
- // Advanced settings can be found in Configuration_adv.h 
+ // This configuration file contains the basic settings.
+ // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
- //User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
- //Implementation of an idea by Prof Braino to inform user that any changes made
- //to this build by the user have been successfully uploaded into firmware.
+ // User-specified version info of this build to display in [Pronterface, etc] terminal window during
+ // startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
+ // build by the user have been successfully uploaded into firmware.
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
- #define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
+ #define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
  
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@@ -26,36 -26,85 +26,86 @@@
  // 12 = Gen7 v1.3
  // 13 = Gen7 v1.4
  // 3  = MEGA/RAMPS up to 1.2 = 3
- // 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
- // 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
- // 35 = RAMPS 1.3 (Power outputs: Extruder, Fan, Fan)
+ // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
+ // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
++// 35 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Fan)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
  // 6  = Sanguinololu < 1.2
  // 62 = Sanguinololu 1.2 and above
  // 63 = Melzi
+ // 64 = STB V1.1
+ // 65 = Azteeg X1
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
+ // 77 = 3Drag Controller
  // 8  = Teensylu
+ // 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
  // 70 = Megatronics
+ // 701= Megatronics v2.0
+ // 702= Minitronics v1.0
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
  // 301 = Rambo
+ // 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
  #endif
  
+ // Define this to set a custom name for your generic Mendel,
+ // #define CUSTOM_MENDEL_NAME "This Mendel"
+ 
+ // This defines the number of extruders
+ #define EXTRUDERS 1
+ 
  //// The following define selects which power supply you have. Please choose the one that matches your setup
  // 1 = ATX
  // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
  
  #define POWER_SUPPLY 1
  
+ 
+ //===========================================================================
+ //============================== Delta Settings =============================
+ //===========================================================================
+ // Enable DELTA kinematics
+ //#define DELTA
+ 
+ // Make delta curves from many straight lines (linear interpolation).
+ // This is a trade-off between visible corners (not enough segments)
+ // and processor overload (too many expensive sqrt calls).
+ #define DELTA_SEGMENTS_PER_SECOND 200
+ 
+ // Center-to-center distance of the holes in the diagonal push rods.
+ #define DELTA_DIAGONAL_ROD 250.0 // mm
+ 
+ // Horizontal offset from middle of printer to smooth rod center.
+ #define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
+ 
+ // Horizontal offset of the universal joints on the end effector.
+ #define DELTA_EFFECTOR_OFFSET 33.0 // mm
+ 
+ // Horizontal offset of the universal joints on the carriages.
+ #define DELTA_CARRIAGE_OFFSET 18.0 // mm
+ 
+ // Effective horizontal distance bridged by diagonal push rods.
+ #define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
+ 
+ // Effective X/Y positions of the three vertical towers.
+ #define SIN_60 0.8660254037844386
+ #define COS_60 0.5
+ #define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
+ #define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
+ #define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
+ #define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
+ #define DELTA_TOWER3_X 0.0 // back middle tower
+ #define DELTA_TOWER3_Y DELTA_RADIUS
+ 
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -77,24 -126,28 +127,28 @@@
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  //
- //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
+ //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
  // 51 is 100k thermistor - EPCOS (1k pullup)
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
  
  #define TEMP_SENSOR_0 -1
- #define TEMP_SENSOR_1 0
+ #define TEMP_SENSOR_1 -1
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_BED 0
  
+ // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
+ //#define TEMP_SENSOR_1_AS_REDUNDANT 
+ #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
+ 
  // Actual temperature must be close to target for this long before M109 returns success
- #define TEMP_RESIDENCY_TIME 10	// (seconds)
+ #define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
- #define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
+ #define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
- // to check that the wiring to the thermistor is not broken. 
+ // to check that the wiring to the thermistor is not broken.
  // Otherwise this would lead to the heater being powered on all the time.
  #define HEATER_0_MINTEMP 5
  #define HEATER_1_MINTEMP 5
@@@ -117,56 -170,57 +171,57 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
- #define PID_MAX 256 // limits current to nozzle; 256=full current
+ #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
+ #define PID_MAX 255 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
  #ifdef PIDTEMP
-   //#define PID_DEBUG // Sends debug data to the serial port. 
+   //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
-   #define K1 0.95 //smoothing factor withing the PID
+   #define K1 0.95 //smoothing factor within the PID
    #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
      #define  DEFAULT_Kp 22.2
-     #define  DEFAULT_Ki 1.08  
-     #define  DEFAULT_Kd 114  
+     #define  DEFAULT_Ki 1.08
+     #define  DEFAULT_Kd 114
  
  // Makergear
  //    #define  DEFAULT_Kp 7.0
- //    #define  DEFAULT_Ki 0.1  
- //    #define  DEFAULT_Kd 12  
+ //    #define  DEFAULT_Ki 0.1
+ //    #define  DEFAULT_Kd 12
  
- // Mendel Parts V9 on 12V    
+ // Mendel Parts V9 on 12V
  //    #define  DEFAULT_Kp 63.0
  //    #define  DEFAULT_Ki 2.25
  //    #define  DEFAULT_Kd 440
  #endif // PIDTEMP
  
  // Bed Temperature Control
- // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
+ // Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
- // uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
+ // Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
  // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
- // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
- // If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
+ // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
+ // If your configuration is significantly different than this and you don't understand the issues involved, you probably
  // shouldn't use bed PID until someone else verifies your hardware works.
  // If this is enabled, find your own PID constants below.
  //#define PIDTEMPBED
  //
  //#define BED_LIMIT_SWITCHING
  
- // This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
+ // This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
  // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
- // setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+ // setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
- #define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
+ #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
- //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
+ //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
      #define  DEFAULT_bedKp 10.00
      #define  DEFAULT_bedKi .023
      #define  DEFAULT_bedKd 305.4
@@@ -198,11 -252,11 +253,11 @@@
  // Uncomment the following line to enable CoreXY kinematics
  // #define COREXY
  
- // corse Endstop Settings
+ // coarse Endstop Settings
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
  
  #ifndef ENDSTOPPULLUPS
-   // fine Enstop settings: Individual Pullups. will be ignord if ENDSTOPPULLUPS is defined
+   // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
    #define ENDSTOPPULLUP_XMAX
    #define ENDSTOPPULLUP_YMAX
    #define ENDSTOPPULLUP_ZMAX
@@@ -221,10 -275,16 +276,16 @@@
  #endif
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+ const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
+ //#define DISABLE_MIN_ENDSTOPS
+ 
+ // Disable max endstops for compatibility with endstop checking routine
+ #if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)
+   #define DISABLE_MAX_ENDSTOPS
+ #endif
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -251,8 -311,8 +312,8 @@@
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
  
- #define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
- #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
+ #define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
+ #define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  // Travel limits after homing
  #define X_MAX_POS 205
  #define X_MIN_POS 0
@@@ -270,24 -330,32 +331,32 @@@
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
  //Manual homing switch locations:
+ // For deltabots this means top and center of the cartesian print volume.
  #define MANUAL_X_HOME_POS 0
  #define MANUAL_Y_HOME_POS 0
  #define MANUAL_Z_HOME_POS 0
+ //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
  #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
- // default settings 
+ // default settings
  
- #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
- #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
+ #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
+ #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
- #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
- #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+ #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
+ #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
  
- // 
+ // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
+ // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
+ // For the other hotends it is their distance from the extruder 0 hotend.
+ // #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+ // #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+ 
+ // The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  #define DEFAULT_EJERK                 5.0    // (mm/sec)
@@@ -299,7 -367,7 +368,7 @@@
  // EEPROM
  // the microcontroller can store settings in the EEPROM, e.g. max velocity...
  // M500 - stores paramters in EEPROM
- // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
+ // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable eeprom support
  //#define EEPROM_SETTINGS
@@@ -307,9 -375,20 +376,20 @@@
  // please keep turned on if you can.
  //#define EEPROM_CHITCHAT
  
+ // Preheat Constants
+ #define PLA_PREHEAT_HOTEND_TEMP 180 
+ #define PLA_PREHEAT_HPB_TEMP 70
+ #define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ 
+ #define ABS_PREHEAT_HOTEND_TEMP 240
+ #define ABS_PREHEAT_HPB_TEMP 100
+ #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ 
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
+ //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
+ //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
@@@ -322,39 -401,123 +402,123 @@@
  // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
  //#define G3D_PANEL
  
+ // The RepRapDiscount FULL GRAPHIC Smart Controller (quadratic white PCB)
+ // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
+ //
+ // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+ //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+ 
+ // The RepRapWorld REPRAPWORLD_KEYPAD v1.1
+ // http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+ //#define REPRAPWORLD_KEYPAD
+ //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
+ 
+ // The Elefu RA Board Control Panel
+ // http://www.elefu.com/index.php?route=product/product&product_id=53
+ // REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
+ //#define RA_CONTROL_PANEL
+ 
  //automatic expansion
+ #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
+  #define DOGLCD
+  #define U8GLIB_ST7920
+  #define REPRAP_DISCOUNT_SMART_CONTROLLER
+ #endif
+ 
  #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
   #define ULTIPANEL
   #define NEWPANEL
- #endif 
+ #endif
  
- // Preheat Constants
- #define PLA_PREHEAT_HOTEND_TEMP 180 
- #define PLA_PREHEAT_HPB_TEMP 70
- #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+ #if defined(REPRAPWORLD_KEYPAD)
+   #define NEWPANEL
+   #define ULTIPANEL
+ #endif
+ #if defined(RA_CONTROL_PANEL)
+  #define ULTIPANEL
+  #define NEWPANEL
+  #define LCD_I2C_TYPE_PCA8574
+  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+ #endif
  
- #define ABS_PREHEAT_HOTEND_TEMP 240
- #define ABS_PREHEAT_HPB_TEMP 100
- #define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+ //I2C PANELS
  
+ //#define LCD_I2C_SAINSMART_YWROBOT
+ #ifdef LCD_I2C_SAINSMART_YWROBOT
+   // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
+   // Make sure it is placed in the Arduino libraries directory.
+   #define LCD_I2C_TYPE_PCF8575
+   #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
+ 
+ // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
+ //#define LCD_I2C_PANELOLU2
+ #ifdef LCD_I2C_PANELOLU2
+   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+   // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
+   // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
+   //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
+   #define LCD_I2C_TYPE_MCP23017
+   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
+ 
+ // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+ //#define LCD_I2C_VIKI
+ #ifdef LCD_I2C_VIKI
+   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+   // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
+   //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
+   #define LCD_I2C_TYPE_MCP23017 
+   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
  
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
-   #define LCD_WIDTH 20
-   #define LCD_HEIGHT 4
-   
- #else //no panel but just lcd 
+   #ifdef DOGLCD // Change number of lines to match the DOG graphic display
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 5
+   #else
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 4
+   #endif
+ #else //no panel but just lcd
    #ifdef ULTRA_LCD
+   #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 5
+   #else
      #define LCD_WIDTH 16
-     #define LCD_HEIGHT 2    
+     #define LCD_HEIGHT 2
+   #endif
    #endif
  #endif
  
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
+ // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
+ // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
+ // is too low, you should also increment SOFT_PWM_SCALE.
+ //#define FAN_SOFT_PWM
+ 
+ // Incrementing this by 1 will double the software PWM frequency,
+ // affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
+ // However, control resolution will be halved for each increment;
+ // at zero value, there are 128 effective control positions.
+ #define SOFT_PWM_SCALE 0
+ 
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
@@@ -362,6 -525,31 +526,31 @@@
  // SF send wrong arc g-codes when using Arc Point as fillet procedure
  //#define SF_ARC_FIX
  
+ // Support for the BariCUDA Paste Extruder.
+ //#define BARICUDA
+ 
+ /*********************************************************************\
+ * R/C SERVO support
+ * Sponsored by TrinityLabs, Reworked by codexmas
+ **********************************************************************/
+ 
+ // Number of servos
+ //
+ // If you select a configuration below, this will receive a default value and does not need to be set manually
+ // set it manually if you have more servos than extruders and wish to manually control some
+ // leaving it undefined or defining as 0 will disable the servo subsystem
+ // If unsure, leave commented / disabled
+ //
+ //#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
+ 
+ // Servo Endstops
+ // 
+ // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
+ // Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
+ // 
+ //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
+ //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
+ 
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  

commit 2015989f84918810be615deb57ad3baf9f66c203
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Tue Jun 18 19:20:26 2013 +0200

    Added DISABLE_MIN_ENDSTOPS

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f8fe2f128e..98b69b1ae5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -279,6 +279,7 @@ const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
 const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
 //#define DISABLE_MAX_ENDSTOPS
+//#define DISABLE_MIN_ENDSTOPS
 
 // Disable max endstops for compatibility with endstop checking routine
 #if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)

commit 648d45cfb2e399ec5581308e06def9ea6dacccf9
Author: Christian Inci <chris.pcguy.inci@gmail.com>
Date:   Sun Jun 16 23:35:33 2013 +0200

    Fix Pin Description Typo
    
    Reverse 'Bed' and 'Fan' at the RAMPS 33 Description.
    
    Signed-off-by: Christian Inci <chris.pcguy.inci@gmail.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 99d90a48d0..f8fe2f128e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -26,7 +26,7 @@
 // 12 = Gen7 v1.3
 // 13 = Gen7 v1.4
 // 3  = MEGA/RAMPS up to 1.2 = 3
-// 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Bed, Fan)
+// 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Fan, Bed)
 // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
 // 4  = Duemilanove w/ ATMega328P pin assignment
 // 5  = Gen6

commit 02dee80fa58cd35efb95e89e98320c0a5efb4580
Author: lajos <panka.nospam@gmail.com>
Date:   Sat Jun 15 16:58:17 2013 -0400

    added Azteeg X1 motherboard

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ef0d4e59ba..99d90a48d0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,6 +35,7 @@
 // 62 = Sanguinololu 1.2 and above
 // 63 = Melzi
 // 64 = STB V1.1
+// 65 = Azteeg X1
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 // 77 = 3Drag Controller

commit e34c9981abd4ba8d5bbfa7959a6ee71dac9f22da
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Tue Jun 11 22:33:58 2013 +0200

    Delta disabled by default

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 43032a37d2..ef0d4e59ba 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -72,7 +72,7 @@
 //============================== Delta Settings =============================
 //===========================================================================
 // Enable DELTA kinematics
-#define DELTA
+//#define DELTA
 
 // Make delta curves from many straight lines (linear interpolation).
 // This is a trade-off between visible corners (not enough segments)

commit 7ad12be763c842b4bf8e1a1da955ee3ac26f167d
Merge: 408169aef4 28ada096e2
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jun 9 23:10:41 2013 +0200

    Merge branch 'Marlin_v1' of https://github.com/codexmas/Marlin into codexmas-Marlin_v1
    
    Conflicts:
            Marlin/Configuration.h
            README.md

diff --combined Marlin/Configuration.h
index daea78c1e8,ffe16297a4..43032a37d2
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -1,15 -1,15 +1,15 @@@
  #ifndef CONFIGURATION_H
  #define CONFIGURATION_H
  
 -// This configurtion file contains the basic settings.
 +// This configuration file contains the basic settings.
  // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
 -//User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
 -//Implementation of an idea by Prof Braino to inform user that any changes made
 -//to this build by the user have been successfully uploaded into firmware.
 +// User-specified version info of this build to display in [Pronterface, etc] terminal window during
 +// startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 +// build by the user have been successfully uploaded into firmware.
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 -#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
 +#define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
  
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@@ -37,73 -37,26 +37,73 @@@
  // 64 = STB V1.1
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 +// 77 = 3Drag Controller
  // 8  = Teensylu
  // 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
  // 70 = Megatronics
 +// 701= Megatronics v2.0
 +// 702= Minitronics v1.0
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
  // 301 = Rambo
 +// 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
  #endif
  
 +// Define this to set a custom name for your generic Mendel,
 +// #define CUSTOM_MENDEL_NAME "This Mendel"
 +
 +// This defines the number of extruders
 +#define EXTRUDERS 1
 +
  //// The following define selects which power supply you have. Please choose the one that matches your setup
  // 1 = ATX
  // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
  
  #define POWER_SUPPLY 1
  
 +
 +//===========================================================================
 +//============================== Delta Settings =============================
 +//===========================================================================
 +// Enable DELTA kinematics
 +#define DELTA
 +
 +// Make delta curves from many straight lines (linear interpolation).
 +// This is a trade-off between visible corners (not enough segments)
 +// and processor overload (too many expensive sqrt calls).
 +#define DELTA_SEGMENTS_PER_SECOND 200
 +
 +// Center-to-center distance of the holes in the diagonal push rods.
 +#define DELTA_DIAGONAL_ROD 250.0 // mm
 +
 +// Horizontal offset from middle of printer to smooth rod center.
 +#define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
 +
 +// Horizontal offset of the universal joints on the end effector.
 +#define DELTA_EFFECTOR_OFFSET 33.0 // mm
 +
 +// Horizontal offset of the universal joints on the carriages.
 +#define DELTA_CARRIAGE_OFFSET 18.0 // mm
 +
 +// Effective horizontal distance bridged by diagonal push rods.
 +#define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
 +
 +// Effective X/Y positions of the three vertical towers.
 +#define SIN_60 0.8660254037844386
 +#define COS_60 0.5
 +#define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
 +#define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
 +#define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
 +#define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
 +#define DELTA_TOWER3_X 0.0 // back middle tower
 +#define DELTA_TOWER3_Y DELTA_RADIUS
 +
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -132,18 -85,14 +132,18 @@@
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
  
  #define TEMP_SENSOR_0 -1
 -#define TEMP_SENSOR_1 0
 +#define TEMP_SENSOR_1 -1
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_BED 0
  
 +// This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
 +//#define TEMP_SENSOR_1_AS_REDUNDANT 
 +#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 +
  // Actual temperature must be close to target for this long before M109 returns success
 -#define TEMP_RESIDENCY_TIME 10	// (seconds)
 +#define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 -#define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
 +#define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
  // to check that the wiring to the thermistor is not broken.
@@@ -169,15 -118,15 +169,15 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
 -#define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
 -#define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
 +#define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
 +#define PID_MAX 255 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
 -  #define K1 0.95 //smoothing factor withing the PID
 +  #define K1 0.95 //smoothing factor within the PID
    #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
@@@ -198,28 -147,28 +198,28 @@@
  #endif // PIDTEMP
  
  // Bed Temperature Control
 -// Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 +// Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
 -// uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder.
 +// Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
  // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
  // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
 -// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly
 +// If your configuration is significantly different than this and you don't understand the issues involved, you probably
  // shouldn't use bed PID until someone else verifies your hardware works.
  // If this is enabled, find your own PID constants below.
  //#define PIDTEMPBED
  //
  //#define BED_LIMIT_SWITCHING
  
 -// This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
 +// This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
  // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
 -// setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
 +// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
 -#define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
 +#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 -//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggresive factor of .15 (vs .1, 1, 10)
 +//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
      #define  DEFAULT_bedKp 10.00
      #define  DEFAULT_bedKi .023
      #define  DEFAULT_bedKd 305.4
@@@ -251,11 -200,11 +251,11 @@@
  // Uncomment the following line to enable CoreXY kinematics
  // #define COREXY
  
 -// corse Endstop Settings
 +// coarse Endstop Settings
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
  
  #ifndef ENDSTOPPULLUPS
 -  // fine Enstop settings: Individual Pullups. will be ignord if ENDSTOPPULLUPS is defined
 +  // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
    #define ENDSTOPPULLUP_XMAX
    #define ENDSTOPPULLUP_YMAX
    #define ENDSTOPPULLUP_ZMAX
@@@ -279,11 -228,6 +279,11 @@@ const bool Y_ENDSTOPS_INVERTING = true
  const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
 +// Disable max endstops for compatibility with endstop checking routine
 +#if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)
 +  #define DISABLE_MAX_ENDSTOPS
 +#endif
 +
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
@@@ -309,8 -253,8 +309,8 @@@
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
  
 -#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 -#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 +#define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
 +#define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  // Travel limits after homing
  #define X_MAX_POS 205
  #define X_MIN_POS 0
@@@ -328,11 -272,9 +328,11 @@@
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
  //Manual homing switch locations:
 +// For deltabots this means top and center of the cartesian print volume.
  #define MANUAL_X_HOME_POS 0
  #define MANUAL_Y_HOME_POS 0
  #define MANUAL_Z_HOME_POS 0
 +//#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -340,12 -282,12 +340,12 @@@
  
  // default settings
  
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 -#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 +#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@@ -353,7 -295,7 +353,7 @@@
  // #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
  // #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
  
 -// The speed change that does not require acceleration (i.e. the software might assume it can be done instanteneously)
 +// The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  #define DEFAULT_EJERK                 5.0    // (mm/sec)
@@@ -373,18 -315,9 +373,18 @@@
  // please keep turned on if you can.
  //#define EEPROM_CHITCHAT
  
 +// Preheat Constants
 +#define PLA_PREHEAT_HOTEND_TEMP 180 
 +#define PLA_PREHEAT_HPB_TEMP 70
 +#define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +
 +#define ABS_PREHEAT_HOTEND_TEMP 240
 +#define ABS_PREHEAT_HPB_TEMP 100
 +#define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
 -//#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 +//#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
@@@ -410,11 -343,6 +410,11 @@@
  //#define REPRAPWORLD_KEYPAD
  //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
  
 +// The Elefu RA Board Control Panel
 +// http://www.elefu.com/index.php?route=product/product&product_id=53
 +// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 +//#define RA_CONTROL_PANEL
 +
  //automatic expansion
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
@@@ -431,91 -359,43 +431,91 @@@
    #define NEWPANEL
    #define ULTIPANEL
  #endif
 +#if defined(RA_CONTROL_PANEL)
 + #define ULTIPANEL
 + #define NEWPANEL
 + #define LCD_I2C_TYPE_PCA8574
 + #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +#endif
  
 -// Preheat Constants
 -#define PLA_PREHEAT_HOTEND_TEMP 180
 -#define PLA_PREHEAT_HPB_TEMP 70
 -#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +//I2C PANELS
  
 -#define ABS_PREHEAT_HOTEND_TEMP 240
 -#define ABS_PREHEAT_HPB_TEMP 100
 -#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +//#define LCD_I2C_SAINSMART_YWROBOT
 +#ifdef LCD_I2C_SAINSMART_YWROBOT
 +  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
 +  // Make sure it is placed in the Arduino libraries directory.
 +  #define LCD_I2C_TYPE_PCF8575
 +  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
 +
 +// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 +//#define LCD_I2C_PANELOLU2
 +#ifdef LCD_I2C_PANELOLU2
 +  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 +  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 +  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
 +  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
 +  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
 +  #define LCD_I2C_TYPE_MCP23017
 +  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 +  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
  
 +// Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 +//#define LCD_I2C_VIKI
 +#ifdef LCD_I2C_VIKI
 +  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 +  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 +  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
 +  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
 +  #define LCD_I2C_TYPE_MCP23017 
 +  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 +  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
  
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
 -	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
 -		#define LCD_WIDTH 20
 -		#define LCD_HEIGHT 5
 -	#else
 -		#define LCD_WIDTH 20
 -		#define LCD_HEIGHT 4
 -	#endif
 +  #ifdef DOGLCD // Change number of lines to match the DOG graphic display
 +    #define LCD_WIDTH 20
 +    #define LCD_HEIGHT 5
 +  #else
 +    #define LCD_WIDTH 20
 +    #define LCD_HEIGHT 4
 +  #endif
  #else //no panel but just lcd
    #ifdef ULTRA_LCD
 -	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
 -		#define LCD_WIDTH 20
 -		#define LCD_HEIGHT 5
 -	#else
 -		#define LCD_WIDTH 16
 -		#define LCD_HEIGHT 2
 -	#endif
 +  #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
 +    #define LCD_WIDTH 20
 +    #define LCD_HEIGHT 5
 +  #else
 +    #define LCD_WIDTH 16
 +    #define LCD_HEIGHT 2
 +  #endif
    #endif
  #endif
  
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
 +// Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
 +// which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
 +// is too low, you should also increment SOFT_PWM_SCALE.
 +//#define FAN_SOFT_PWM
 +
 +// Incrementing this by 1 will double the software PWM frequency,
 +// affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
 +// However, control resolution will be halved for each increment;
 +// at zero value, there are 128 effective control positions.
 +#define SOFT_PWM_SCALE 0
 +
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
@@@ -527,29 -407,11 +527,26 @@@
  //#define BARICUDA
  
  /*********************************************************************\
- *
  * R/C SERVO support
- *
  * Sponsored by TrinityLabs, Reworked by codexmas
- *
  **********************************************************************/
 -// Number of servos, on RAMPS power to servo pins needs vcc pin jumpered to 5v pin or external supply.
 -//#define NUM_SERVOS 3 // Indexing starts at 0 for M280 command
 +
 +// Number of servos
 +//
 +// If you select a configuration below, this will receive a default value and does not need to be set manually
 +// set it manually if you have more servos than extruders and wish to manually control some
 +// leaving it undefined or defining as 0 will disable the servo subsystem
 +// If unsure, leave commented / disabled
 +//
- //#define NUM_SERVOS 3 // Servo index starts with 0
++//#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command
 +
 +// Servo Endstops
 +// 
 +// This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
 +// Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
 +// 
 +//#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
 +//#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
  
  #include "Configuration_adv.h"
  #include "thermistortables.h"

commit 408169aef4cd898f9238d50ff8d24d971c8dd84a
Merge: bd96d22bfb 15b1b896e8
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jun 9 22:57:40 2013 +0200

    Merge branch 'Marlin_v1' of https://github.com/BorisLandoni/Marlin into BorisLandoni-Marlin_v1
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/language.h
            Marlin/pins.h

diff --combined Marlin/Configuration.h
index 6f71b855d9,3394888cae..daea78c1e8
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -1,15 -1,15 +1,15 @@@
  #ifndef CONFIGURATION_H
  #define CONFIGURATION_H
  
 -// This configurtion file contains the basic settings.
 +// This configuration file contains the basic settings.
  // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
 -//User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
 -//Implementation of an idea by Prof Braino to inform user that any changes made
 -//to this build by the user have been successfully uploaded into firmware.
 +// User-specified version info of this build to display in [Pronterface, etc] terminal window during
 +// startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 +// build by the user have been successfully uploaded into firmware.
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 -#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
 +#define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
  
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@@ -37,6 -37,7 +37,7 @@@
  // 64 = STB V1.1
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
+ // 77 = 3Drag Controller
  // 8  = Teensylu
  // 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
@@@ -48,15 -49,11 +49,15 @@@
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
  // 301 = Rambo
 +// 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
 -#define MOTHERBOARD 77
 +#define MOTHERBOARD 7
  #endif
  
 +// Define this to set a custom name for your generic Mendel,
 +// #define CUSTOM_MENDEL_NAME "This Mendel"
 +
  // This defines the number of extruders
  #define EXTRUDERS 1
  
@@@ -66,43 -63,6 +67,43 @@@
  
  #define POWER_SUPPLY 1
  
 +
 +//===========================================================================
 +//============================== Delta Settings =============================
 +//===========================================================================
 +// Enable DELTA kinematics
 +#define DELTA
 +
 +// Make delta curves from many straight lines (linear interpolation).
 +// This is a trade-off between visible corners (not enough segments)
 +// and processor overload (too many expensive sqrt calls).
 +#define DELTA_SEGMENTS_PER_SECOND 200
 +
 +// Center-to-center distance of the holes in the diagonal push rods.
 +#define DELTA_DIAGONAL_ROD 250.0 // mm
 +
 +// Horizontal offset from middle of printer to smooth rod center.
 +#define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
 +
 +// Horizontal offset of the universal joints on the end effector.
 +#define DELTA_EFFECTOR_OFFSET 33.0 // mm
 +
 +// Horizontal offset of the universal joints on the carriages.
 +#define DELTA_CARRIAGE_OFFSET 18.0 // mm
 +
 +// Effective horizontal distance bridged by diagonal push rods.
 +#define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
 +
 +// Effective X/Y positions of the three vertical towers.
 +#define SIN_60 0.8660254037844386
 +#define COS_60 0.5
 +#define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
 +#define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
 +#define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
 +#define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
 +#define DELTA_TOWER3_X 0.0 // back middle tower
 +#define DELTA_TOWER3_Y DELTA_RADIUS
 +
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -142,7 -102,7 +143,7 @@@
  // Actual temperature must be close to target for this long before M109 returns success
  #define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 -#define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
 +#define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
  // to check that the wiring to the thermistor is not broken.
@@@ -168,15 -128,15 +169,15 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
 -#define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
 -#define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
 +#define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
 +#define PID_MAX 255 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
 -  #define K1 0.95 //smoothing factor withing the PID
 +  #define K1 0.95 //smoothing factor within the PID
    #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
@@@ -197,28 -157,28 +198,28 @@@
  #endif // PIDTEMP
  
  // Bed Temperature Control
 -// Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 +// Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
 -// uncomment this to enable PID on the bed.   It uses the same frequency PWM as the extruder.
 +// Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
  // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
  // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
 -// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly
 +// If your configuration is significantly different than this and you don't understand the issues involved, you probably
  // shouldn't use bed PID until someone else verifies your hardware works.
  // If this is enabled, find your own PID constants below.
  //#define PIDTEMPBED
  //
  //#define BED_LIMIT_SWITCHING
  
 -// This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
 +// This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
  // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
 -// setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
 +// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
 -#define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
 +#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 -//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
 +//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
      #define  DEFAULT_bedKp 10.00
      #define  DEFAULT_bedKi .023
      #define  DEFAULT_bedKd 305.4
@@@ -250,11 -210,11 +251,11 @@@
  // Uncomment the following line to enable CoreXY kinematics
  // #define COREXY
  
 -// corse Endstop Settings
 +// coarse Endstop Settings
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
  
  #ifndef ENDSTOPPULLUPS
 -  // fine Enstop settings: Individual Pullups. will be ignord if ENDSTOPPULLUPS is defined
 +  // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
    #define ENDSTOPPULLUP_XMAX
    #define ENDSTOPPULLUP_YMAX
    #define ENDSTOPPULLUP_ZMAX
@@@ -278,11 -238,6 +279,11 @@@ const bool Y_ENDSTOPS_INVERTING = true
  const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
 +// Disable max endstops for compatibility with endstop checking routine
 +#if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)
 +  #define DISABLE_MAX_ENDSTOPS
 +#endif
 +
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
@@@ -308,8 -263,8 +309,8 @@@
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
  
 -#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 -#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 +#define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
 +#define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  // Travel limits after homing
  #define X_MAX_POS 205
  #define X_MIN_POS 0
@@@ -327,11 -282,9 +328,11 @@@
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
  //Manual homing switch locations:
 +// For deltabots this means top and center of the cartesian print volume.
  #define MANUAL_X_HOME_POS 0
  #define MANUAL_Y_HOME_POS 0
  #define MANUAL_Z_HOME_POS 0
 +//#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -339,12 -292,12 +340,12 @@@
  
  // default settings
  
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
 -#define DEFAULT_ACCELERATION          1000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 -#define DEFAULT_RETRACT_ACCELERATION  1000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 +#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 +#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@@ -352,7 -305,7 +353,7 @@@
  // #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
  // #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
  
 -// The speed change that does not require acceleration (i.e. the software might assume it can be done instanteneously)
 +// The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  #define DEFAULT_EJERK                 5.0    // (mm/sec)
@@@ -409,11 -362,6 +410,11 @@@
  //#define REPRAPWORLD_KEYPAD
  //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
  
 +// The Elefu RA Board Control Panel
 +// http://www.elefu.com/index.php?route=product/product&product_id=53
 +// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 +//#define RA_CONTROL_PANEL
 +
  //automatic expansion
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
@@@ -430,12 -378,6 +431,12 @@@
    #define NEWPANEL
    #define ULTIPANEL
  #endif
 +#if defined(RA_CONTROL_PANEL)
 + #define ULTIPANEL
 + #define NEWPANEL
 + #define LCD_I2C_TYPE_PCA8574
 + #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +#endif
  
  //I2C PANELS
  
@@@ -504,17 -446,6 +505,17 @@@
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
 +// Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
 +// which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
 +// is too low, you should also increment SOFT_PWM_SCALE.
 +//#define FAN_SOFT_PWM
 +
 +// Incrementing this by 1 will double the software PWM frequency,
 +// affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
 +// However, control resolution will be halved for each increment;
 +// at zero value, there are 128 effective control positions.
 +#define SOFT_PWM_SCALE 0
 +
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
@@@ -540,15 -471,7 +541,15 @@@
  // leaving it undefined or defining as 0 will disable the servo subsystem
  // If unsure, leave commented / disabled
  //
 -// #define NUM_SERVOS 3
 +//#define NUM_SERVOS 3 // Servo index starts with 0
 +
 +// Servo Endstops
 +// 
 +// This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
 +// Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
 +// 
 +//#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
 +//#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
  
  #include "Configuration_adv.h"
  #include "thermistortables.h"

commit bd96d22bfb116cf6199cad2cf8a3278f81572a42
Merge: 5dabc95409 73f21cd5d6
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jun 9 22:26:47 2013 +0200

    Merge branch 'Marlin_v1' into thinkyhead
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/Configuration_adv.h
            Marlin/Marlin.h
            Marlin/Marlin_main.cpp
            Marlin/Servo.cpp
            Marlin/language.h
            Marlin/pins.h
            Marlin/planner.cpp
            Marlin/ultralcd_implementation_hitachi_HD44780.h
            README.md

diff --combined Marlin/Configuration.h
index 3d5cf2ef6b,c630b0f785..6f71b855d9
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -1,15 -1,15 +1,15 @@@
  #ifndef CONFIGURATION_H
  #define CONFIGURATION_H
  
 -// This configurtion file contains the basic settings.
 +// This configuration file contains the basic settings.
  // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
 -//User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
 -//Implementation of an idea by Prof Braino to inform user that any changes made
 -//to this build by the user have been successfully uploaded into firmware.
 +// User-specified version info of this build to display in [Pronterface, etc] terminal window during
 +// startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
 +// build by the user have been successfully uploaded into firmware.
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 -#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
 +#define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
  
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@@ -48,14 -48,12 +48,15 @@@
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
  // 301 = Rambo
+ // 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
  #endif
  
 +// Define this to set a custom name for your generic Mendel,
 +// #define CUSTOM_MENDEL_NAME "This Mendel"
 +
  // This defines the number of extruders
  #define EXTRUDERS 1
  
@@@ -65,6 -63,43 +66,43 @@@
  
  #define POWER_SUPPLY 1
  
+ 
+ //===========================================================================
+ //============================== Delta Settings =============================
+ //===========================================================================
+ // Enable DELTA kinematics
+ #define DELTA
+ 
+ // Make delta curves from many straight lines (linear interpolation).
+ // This is a trade-off between visible corners (not enough segments)
+ // and processor overload (too many expensive sqrt calls).
+ #define DELTA_SEGMENTS_PER_SECOND 200
+ 
+ // Center-to-center distance of the holes in the diagonal push rods.
+ #define DELTA_DIAGONAL_ROD 250.0 // mm
+ 
+ // Horizontal offset from middle of printer to smooth rod center.
+ #define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
+ 
+ // Horizontal offset of the universal joints on the end effector.
+ #define DELTA_EFFECTOR_OFFSET 33.0 // mm
+ 
+ // Horizontal offset of the universal joints on the carriages.
+ #define DELTA_CARRIAGE_OFFSET 18.0 // mm
+ 
+ // Effective horizontal distance bridged by diagonal push rods.
+ #define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
+ 
+ // Effective X/Y positions of the three vertical towers.
+ #define SIN_60 0.8660254037844386
+ #define COS_60 0.5
+ #define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
+ #define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
+ #define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
+ #define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
+ #define DELTA_TOWER3_X 0.0 // back middle tower
+ #define DELTA_TOWER3_Y DELTA_RADIUS
+ 
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -104,7 -139,7 +142,7 @@@
  // Actual temperature must be close to target for this long before M109 returns success
  #define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 -#define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
 +#define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
  // to check that the wiring to the thermistor is not broken.
@@@ -130,15 -165,15 +168,15 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
- #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
- #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
+ #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
+ #define PID_MAX 255 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
 -  #define K1 0.95 //smoothing factor withing the PID
 +  #define K1 0.95 //smoothing factor within the PID
    #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
@@@ -159,28 -194,28 +197,28 @@@
  #endif // PIDTEMP
  
  // Bed Temperature Control
 -// Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 +// Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
 -// uncomment this to enable PID on the bed.   It uses the same frequency PWM as the extruder.
 +// Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
  // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
  // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
 -// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly
 +// If your configuration is significantly different than this and you don't understand the issues involved, you probably
  // shouldn't use bed PID until someone else verifies your hardware works.
  // If this is enabled, find your own PID constants below.
  //#define PIDTEMPBED
  //
  //#define BED_LIMIT_SWITCHING
  
 -// This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
 +// This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
  // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
- // setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+ // setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
- #define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
+ #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 -//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
 +//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
      #define  DEFAULT_bedKp 10.00
      #define  DEFAULT_bedKi .023
      #define  DEFAULT_bedKd 305.4
@@@ -212,11 -247,11 +250,11 @@@
  // Uncomment the following line to enable CoreXY kinematics
  // #define COREXY
  
 -// corse Endstop Settings
 +// coarse Endstop Settings
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
  
  #ifndef ENDSTOPPULLUPS
 -  // fine Enstop settings: Individual Pullups. will be ignord if ENDSTOPPULLUPS is defined
 +  // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
    #define ENDSTOPPULLUP_XMAX
    #define ENDSTOPPULLUP_YMAX
    #define ENDSTOPPULLUP_ZMAX
@@@ -240,6 -275,11 +278,11 @@@ const bool Y_ENDSTOPS_INVERTING = true
  const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
+ // Disable max endstops for compatibility with endstop checking routine
+ #if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)
+   #define DISABLE_MAX_ENDSTOPS
+ #endif
+ 
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
@@@ -265,8 -305,8 +308,8 @@@
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
  
 -#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 -#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 +#define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
 +#define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
  // Travel limits after homing
  #define X_MAX_POS 205
  #define X_MIN_POS 0
@@@ -284,9 -324,11 +327,11 @@@
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
  //Manual homing switch locations:
+ // For deltabots this means top and center of the cartesian print volume.
  #define MANUAL_X_HOME_POS 0
  #define MANUAL_Y_HOME_POS 0
  #define MANUAL_Z_HOME_POS 0
+ //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -294,12 -336,12 +339,12 @@@
  
  // default settings
  
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 -#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 +#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
  // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@@ -307,7 -349,7 +352,7 @@@
  // #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
  // #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
  
 -// The speed change that does not require acceleration (i.e. the software might assume it can be done instanteneously)
 +// The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  #define DEFAULT_EJERK                 5.0    // (mm/sec)
@@@ -364,6 -406,11 +409,11 @@@
  //#define REPRAPWORLD_KEYPAD
  //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
  
+ // The Elefu RA Board Control Panel
+ // http://www.elefu.com/index.php?route=product/product&product_id=53
+ // REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
+ //#define RA_CONTROL_PANEL
+ 
  //automatic expansion
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
@@@ -380,6 -427,12 +430,12 @@@
    #define NEWPANEL
    #define ULTIPANEL
  #endif
+ #if defined(RA_CONTROL_PANEL)
+  #define ULTIPANEL
+  #define NEWPANEL
+  #define LCD_I2C_TYPE_PCA8574
+  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+ #endif
  
  //I2C PANELS
  
@@@ -448,6 -501,17 +504,17 @@@
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
+ // Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
+ // which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
+ // is too low, you should also increment SOFT_PWM_SCALE.
+ //#define FAN_SOFT_PWM
+ 
+ // Incrementing this by 1 will double the software PWM frequency,
+ // affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
+ // However, control resolution will be halved for each increment;
+ // at zero value, there are 128 effective control positions.
+ #define SOFT_PWM_SCALE 0
+ 
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
@@@ -473,7 -537,15 +540,15 @@@
  // leaving it undefined or defining as 0 will disable the servo subsystem
  // If unsure, leave commented / disabled
  //
- // #define NUM_SERVOS 3
+ //#define NUM_SERVOS 3 // Servo index starts with 0
+ 
+ // Servo Endstops
+ // 
+ // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
+ // Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
+ // 
+ //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
+ //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
  
  #include "Configuration_adv.h"
  #include "thermistortables.h"

commit 6f4a6e531ce806cd2643767b955bac492efa9404
Merge: ff6fa09ecf 01edf22a10
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jun 9 13:55:18 2013 +0200

    Merge branch 'deltabot' into Marlin_v1

diff --combined Marlin/Configuration.h
index d507832292,0ad5639366..c630b0f785
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -63,6 -63,43 +63,43 @@@
  
  #define POWER_SUPPLY 1
  
+ 
+ //===========================================================================
+ //============================== Delta Settings =============================
+ //===========================================================================
+ // Enable DELTA kinematics
+ #define DELTA
+ 
+ // Make delta curves from many straight lines (linear interpolation).
+ // This is a trade-off between visible corners (not enough segments)
+ // and processor overload (too many expensive sqrt calls).
+ #define DELTA_SEGMENTS_PER_SECOND 200
+ 
+ // Center-to-center distance of the holes in the diagonal push rods.
+ #define DELTA_DIAGONAL_ROD 250.0 // mm
+ 
+ // Horizontal offset from middle of printer to smooth rod center.
+ #define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
+ 
+ // Horizontal offset of the universal joints on the end effector.
+ #define DELTA_EFFECTOR_OFFSET 33.0 // mm
+ 
+ // Horizontal offset of the universal joints on the carriages.
+ #define DELTA_CARRIAGE_OFFSET 18.0 // mm
+ 
+ // Effective horizontal distance bridged by diagonal push rods.
+ #define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
+ 
+ // Effective X/Y positions of the three vertical towers.
+ #define SIN_60 0.8660254037844386
+ #define COS_60 0.5
+ #define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
+ #define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
+ #define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
+ #define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
+ #define DELTA_TOWER3_X 0.0 // back middle tower
+ #define DELTA_TOWER3_Y DELTA_RADIUS
+ 
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -128,8 -165,8 +165,8 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
- #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
- #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
+ #define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
+ #define PID_MAX 255 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
@@@ -172,9 -209,9 +209,9 @@@
  
  // This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
  // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
- // setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+ // setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
- #define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
+ #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
@@@ -238,11 -275,6 +275,11 @@@ const bool Y_ENDSTOPS_INVERTING = true
  const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
 +// Disable max endstops for compatibility with endstop checking routine
 +#if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)
 +  #define DISABLE_MAX_ENDSTOPS
 +#endif
 +
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
@@@ -287,9 -319,11 +324,11 @@@
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
  //Manual homing switch locations:
+ // For deltabots this means top and center of the cartesian print volume.
  #define MANUAL_X_HOME_POS 0
  #define MANUAL_Y_HOME_POS 0
  #define MANUAL_Z_HOME_POS 0
+ //#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -462,17 -496,6 +501,17 @@@
  // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
  //#define FAST_PWM_FAN
  
 +// Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
 +// which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
 +// is too low, you should also increment SOFT_PWM_SCALE.
 +//#define FAN_SOFT_PWM
 +
 +// Incrementing this by 1 will double the software PWM frequency,
 +// affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
 +// However, control resolution will be halved for each increment;
 +// at zero value, there are 128 effective control positions.
 +#define SOFT_PWM_SCALE 0
 +
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23

commit ff6fa09ecf188272761f8d4a08df9749a70c1d7e
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jun 9 13:10:06 2013 +0200

    Moved corexy implementation from stepper to planner
    (Thanks iquizzle)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2daeef4d80..d507832292 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -238,6 +238,11 @@ const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
 //#define DISABLE_MAX_ENDSTOPS
 
+// Disable max endstops for compatibility with endstop checking routine
+#if defined(COREXY) && !defined(DISABLE_MAX_ENDSTOPS)
+  #define DISABLE_MAX_ENDSTOPS
+#endif
+
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
 #define Y_ENABLE_ON 0

commit c8dcc7c208d7285c5f7e44b51d2a185a5f87e035
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jun 9 12:52:49 2013 +0200

    Allow increasing the software PWM frequency.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2c1b8546df..2daeef4d80 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -457,6 +457,17 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 
+// Use software PWM to drive the fan, as for the heaters. This uses a very low frequency
+// which is not ass annoying as with the hardware PWM. On the other hand, if this frequency
+// is too low, you should also increment SOFT_PWM_SCALE.
+//#define FAN_SOFT_PWM
+
+// Incrementing this by 1 will double the software PWM frequency,
+// affecting heaters, and the fan if FAN_SOFT_PWM is enabled.
+// However, control resolution will be halved for each increment;
+// at zero value, there are 128 effective control positions.
+#define SOFT_PWM_SCALE 0
+
 // M240  Triggers a camera by emulating a Canon RC-1 Remote
 // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
 // #define PHOTOGRAPH_PIN     23

commit 373f3ecab3ea9cb18d83d1899e7ff33cd515b0eb
Merge: e36d31a3b7 9e7b5056a0
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Jun 9 00:51:58 2013 +0200

    Merge branch 'deltabot' of https://github.com/jcrocholl/Marlin into deltabot
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/Marlin_main.cpp
            Marlin/pins.h

diff --combined Marlin/Configuration.h
index 2c1b8546df,f66db708b2..0ad5639366
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -2,14 -2,14 +2,14 @@@
  #define CONFIGURATION_H
  
  // This configurtion file contains the basic settings.
 -// Advanced settings can be found in Configuration_adv.h 
 +// Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
  //User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
  //Implementation of an idea by Prof Braino to inform user that any changes made
  //to this build by the user have been successfully uploaded into firmware.
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 -#define STRING_CONFIG_H_AUTHOR "(jcrocholl, deltabot)" //Who made the changes.
 +#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
  
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@@ -26,43 -26,63 +26,80 @@@
  // 12 = Gen7 v1.3
  // 13 = Gen7 v1.4
  // 3  = MEGA/RAMPS up to 1.2 = 3
 -// 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
 -// 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
 +// 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Bed, Fan)
 +// 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
  // 6  = Sanguinololu < 1.2
  // 62 = Sanguinololu 1.2 and above
  // 63 = Melzi
 +// 64 = STB V1.1
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
  // 8  = Teensylu
 +// 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
  // 70 = Megatronics
 +// 701= Megatronics v2.0
 +// 702= Minitronics v1.0
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
  // 301 = Rambo
 +// 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
 -#define MOTHERBOARD 33
 +#define MOTHERBOARD 7
  #endif
  
 +// This defines the number of extruders
 +#define EXTRUDERS 1
 +
 +//// The following define selects which power supply you have. Please choose the one that matches your setup
 +// 1 = ATX
 +// 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
 +
 +#define POWER_SUPPLY 1
 +
++
+ //===========================================================================
+ //============================== Delta Settings =============================
+ //===========================================================================
++// Enable DELTA kinematics
++#define DELTA
+ 
+ // Make delta curves from many straight lines (linear interpolation).
+ // This is a trade-off between visible corners (not enough segments)
+ // and processor overload (too many expensive sqrt calls).
+ #define DELTA_SEGMENTS_PER_SECOND 200
+ 
+ // Center-to-center distance of the holes in the diagonal push rods.
+ #define DELTA_DIAGONAL_ROD 250.0 // mm
+ 
+ // Horizontal offset from middle of printer to smooth rod center.
+ #define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
+ 
+ // Horizontal offset of the universal joints on the end effector.
+ #define DELTA_EFFECTOR_OFFSET 33.0 // mm
+ 
+ // Horizontal offset of the universal joints on the carriages.
+ #define DELTA_CARRIAGE_OFFSET 18.0 // mm
+ 
+ // Effective horizontal distance bridged by diagonal push rods.
+ #define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
+ 
+ // Effective X/Y positions of the three vertical towers.
+ #define SIN_60 0.8660254037844386
+ #define COS_60 0.5
+ #define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
+ #define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
+ #define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
+ #define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
+ #define DELTA_TOWER3_X 0.0 // back middle tower
+ #define DELTA_TOWER3_Y DELTA_RADIUS
+ 
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
@@@ -80,32 -100,25 +117,32 @@@
  // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
  // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
 +// 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 +// 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 +// 10 is 100k RS thermistor 198-961 (4.7k pullup)
  //
 -//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
 +//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
  // 51 is 100k thermistor - EPCOS (1k pullup)
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
  
 -#define TEMP_SENSOR_0 1
 -#define TEMP_SENSOR_1 0
 +#define TEMP_SENSOR_0 -1
 +#define TEMP_SENSOR_1 -1
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_BED 0
  
 +// This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
 +//#define TEMP_SENSOR_1_AS_REDUNDANT 
 +#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 +
  // Actual temperature must be close to target for this long before M109 returns success
 -#define TEMP_RESIDENCY_TIME 10	// (seconds)
 +#define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
  #define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
 -// to check that the wiring to the thermistor is not broken. 
 +// to check that the wiring to the thermistor is not broken.
  // Otherwise this would lead to the heater being powered on all the time.
  #define HEATER_0_MINTEMP 5
  #define HEATER_1_MINTEMP 5
@@@ -128,10 -141,9 +165,10 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
- #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
- #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
 -#define PID_MAX 255 // limits current to nozzle; 255=full current
++#define BANG_MAX 255 // limits current to nozzle while in bang-bang mode; 255=full current
++#define PID_MAX 255 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current
  #ifdef PIDTEMP
 -  //#define PID_DEBUG // Sends debug data to the serial port. 
 +  //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
@@@ -142,15 -154,15 +179,15 @@@
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
      #define  DEFAULT_Kp 22.2
 -    #define  DEFAULT_Ki 1.08  
 -    #define  DEFAULT_Kd 114  
 +    #define  DEFAULT_Ki 1.08
 +    #define  DEFAULT_Kd 114
  
  // Makergear
  //    #define  DEFAULT_Kp 7.0
 -//    #define  DEFAULT_Ki 0.1  
 -//    #define  DEFAULT_Kd 12  
 +//    #define  DEFAULT_Ki 0.1
 +//    #define  DEFAULT_Kd 12
  
 -// Mendel Parts V9 on 12V    
 +// Mendel Parts V9 on 12V
  //    #define  DEFAULT_Kp 63.0
  //    #define  DEFAULT_Ki 2.25
  //    #define  DEFAULT_Kd 440
@@@ -159,11 -171,11 +196,11 @@@
  // Bed Temperature Control
  // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
 -// uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
 +// uncomment this to enable PID on the bed.   It uses the same frequency PWM as the extruder.
  // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
 -// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
 -// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
 +// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
 +// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly
  // shouldn't use bed PID until someone else verifies your hardware works.
  // If this is enabled, find your own PID constants below.
  //#define PIDTEMPBED
@@@ -172,9 -184,9 +209,9 @@@
  
  // This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
  // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
- // setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+ // setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
- #define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
+ #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
  
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
@@@ -233,9 -245,9 +270,9 @@@
  #endif
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 -const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
 -const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
 -const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
 +const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
 +const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
 +const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@@ -250,27 -262,27 +287,27 @@@
  #define DISABLE_Z false
  #define DISABLE_E false // For all extruders
  
 -#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 +#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
  #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 -#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 +#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
  #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 -#define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 +#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
  #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
 -#define X_HOME_DIR 1
 -#define Y_HOME_DIR 1
 -#define Z_HOME_DIR 1
 -
 -#define min_software_endstops true //If true, axis won't move to coordinates less than *_MIN_POS.
 -#define max_software_endstops true //If true, axis won't move to coordinates greater than *_MAX_POS.
 -
 -#define X_MAX_POS 90
 -#define X_MIN_POS -90
 -#define Y_MAX_POS 90
 -#define Y_MIN_POS -90
 -#define Z_MAX_POS MANUAL_Z_HOME_POS
 +#define X_HOME_DIR -1
 +#define Y_HOME_DIR -1
 +#define Z_HOME_DIR -1
 +
 +#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 +#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 +// Travel limits after homing
 +#define X_MAX_POS 205
 +#define X_MIN_POS 0
 +#define Y_MAX_POS 205
 +#define Y_MIN_POS 0
 +#define Z_MAX_POS 200
  #define Z_MIN_POS 0
  
  #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
@@@ -278,37 -290,32 +315,39 @@@
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
  // The position of the homing switches
 -#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
 +//#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
  //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
 -// Manual homing switch locations:
 +//Manual homing switch locations:
+ // For deltabots this means top and center of the cartesian print volume.
  #define MANUAL_X_HOME_POS 0
  #define MANUAL_Y_HOME_POS 0
 -#define MANUAL_Z_HOME_POS 402  // Distance between nozzle and print surface after homing.
 +#define MANUAL_Z_HOME_POS 0
++//#define MANUAL_Z_HOME_POS 402 // For delta: Distance between nozzle and print surface after homing.
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 -#define HOMING_FEEDRATE {100*60, 100*60, 100*60, 0}  // set the homing speeds (mm/min)
 +#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
 -// default settings 
 +// default settings
  
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 40, 100}
 -#define DEFAULT_MAX_FEEDRATE          {300, 300, 300, 300}  // (mm/sec)
 -#define DEFAULT_MAX_ACCELERATION      {9000, 9000, 9000, 9000}    // X, Y, Z, E maximum start speed for accelerated moves.
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
 +#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
 +#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
 -#define DEFAULT_ACCELERATION          3000   // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 +#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
 -// 
 -#define DEFAULT_XYJERK                20.0   // (mm/sec)
 -#define DEFAULT_ZJERK                 20.0   // (mm/sec)
 -#define DEFAULT_EJERK                 20.0   // (mm/sec)
 +// Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 +// The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
 +// For the other hotends it is their distance from the extruder 0 hotend.
 +// #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
 +// #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
 +
 +// The speed change that does not require acceleration (i.e. the software might assume it can be done instanteneously)
 +#define DEFAULT_XYJERK                20.0    // (mm/sec)
 +#define DEFAULT_ZJERK                 0.4     // (mm/sec)
 +#define DEFAULT_EJERK                 5.0    // (mm/sec)
  
  //===========================================================================
  //=============================Additional Features===========================
@@@ -317,7 -324,7 +356,7 @@@
  // EEPROM
  // the microcontroller can store settings in the EEPROM, e.g. max velocity...
  // M500 - stores paramters in EEPROM
 -// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
 +// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable eeprom support
  //#define EEPROM_SETTINGS
@@@ -325,132 -332,45 +364,132 @@@
  // please keep turned on if you can.
  //#define EEPROM_CHITCHAT
  
 +// Preheat Constants
 +#define PLA_PREHEAT_HOTEND_TEMP 180 
 +#define PLA_PREHEAT_HPB_TEMP 70
 +#define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +
 +#define ABS_PREHEAT_HOTEND_TEMP 240
 +#define ABS_PREHEAT_HPB_TEMP 100
 +#define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
 +//#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 +//#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
  
 -// The RepRapDiscount Smart Controller
 +// The RepRapDiscount Smart Controller (white PCB)
  // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
  //#define REPRAP_DISCOUNT_SMART_CONTROLLER
  
 +// The GADGETS3D G3D LCD/SD Controller (blue PCB)
 +// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 +//#define G3D_PANEL
 +
 +// The RepRapDiscount FULL GRAPHIC Smart Controller (quadratic white PCB)
 +// http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 +//
 +// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 +//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 +
 +// The RepRapWorld REPRAPWORLD_KEYPAD v1.1
 +// http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
 +//#define REPRAPWORLD_KEYPAD
 +//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
 +
 +// The Elefu RA Board Control Panel
 +// http://www.elefu.com/index.php?route=product/product&product_id=53
 +// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 +//#define RA_CONTROL_PANEL
  
  //automatic expansion
 -#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER)
 +#if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
 + #define DOGLCD
 + #define U8GLIB_ST7920
 + #define REPRAP_DISCOUNT_SMART_CONTROLLER
 +#endif
 +
 +#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
   #define ULTIPANEL
   #define NEWPANEL
 -#endif 
 +#endif
  
 -// Preheat Constants
 -#define PLA_PREHEAT_HOTEND_TEMP 180 
 -#define PLA_PREHEAT_HPB_TEMP 70
 -#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +#if defined(REPRAPWORLD_KEYPAD)
 +  #define NEWPANEL
 +  #define ULTIPANEL
 +#endif
 +#if defined(RA_CONTROL_PANEL)
 + #define ULTIPANEL
 + #define NEWPANEL
 + #define LCD_I2C_TYPE_PCA8574
 + #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +#endif
  
 -#define ABS_PREHEAT_HOTEND_TEMP 240
 -#define ABS_PREHEAT_HPB_TEMP 100
 -#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +//I2C PANELS
 +
 +//#define LCD_I2C_SAINSMART_YWROBOT
 +#ifdef LCD_I2C_SAINSMART_YWROBOT
 +  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
 +  // Make sure it is placed in the Arduino libraries directory.
 +  #define LCD_I2C_TYPE_PCF8575
 +  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
 +
 +// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 +//#define LCD_I2C_PANELOLU2
 +#ifdef LCD_I2C_PANELOLU2
 +  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 +  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 +  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
 +  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
 +  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
 +  #define LCD_I2C_TYPE_MCP23017
 +  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 +  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
  
 +// Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 +//#define LCD_I2C_VIKI
 +#ifdef LCD_I2C_VIKI
 +  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 +  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 +  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
 +  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
 +  #define LCD_I2C_TYPE_MCP23017 
 +  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 +  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
  
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
 -  #define LCD_WIDTH 20
 -  #define LCD_HEIGHT 4
 -  
 -#else //no panel but just lcd 
 +  #ifdef DOGLCD // Change number of lines to match the DOG graphic display
 +    #define LCD_WIDTH 20
 +    #define LCD_HEIGHT 5
 +  #else
 +    #define LCD_WIDTH 20
 +    #define LCD_HEIGHT 4
 +  #endif
 +#else //no panel but just lcd
    #ifdef ULTRA_LCD
 +  #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
 +    #define LCD_WIDTH 20
 +    #define LCD_HEIGHT 5
 +  #else
      #define LCD_WIDTH 16
 -    #define LCD_HEIGHT 2    
 +    #define LCD_HEIGHT 2
 +  #endif
    #endif
  #endif
  
@@@ -464,34 -384,6 +503,34 @@@
  // SF send wrong arc g-codes when using Arc Point as fillet procedure
  //#define SF_ARC_FIX
  
 +// Support for the BariCUDA Paste Extruder.
 +//#define BARICUDA
 +
 +/*********************************************************************\
 +*
 +* R/C SERVO support
 +*
 +* Sponsored by TrinityLabs, Reworked by codexmas
 +*
 +**********************************************************************/
 +
 +// Number of servos
 +//
 +// If you select a configuration below, this will receive a default value and does not need to be set manually
 +// set it manually if you have more servos than extruders and wish to manually control some
 +// leaving it undefined or defining as 0 will disable the servo subsystem
 +// If unsure, leave commented / disabled
 +//
 +//#define NUM_SERVOS 3 // Servo index starts with 0
 +
 +// Servo Endstops
 +// 
 +// This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
 +// Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
 +// 
 +//#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
 +//#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
 +
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  

commit 6a81291c570c356dc0a4154d75efc204cf9f6b04
Merge: 4b19c8552e 3dea417c25
Author: kiyoshigawa <tim.w.anderson@gmail.com>
Date:   Sat Jun 8 08:48:18 2013 -0600

    Merge branch 'Marlin_v1' of https://github.com/ErikZalm/Marlin into Marlin_v1
    
    This should fix issues with pull request 467, I hope.
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/Marlin.pde
            Marlin/ultralcd_implementation_hitachi_HD44780.h

diff --combined Marlin/Configuration.h
index 056f3f0bcc,80961d4cbf..2c1b8546df
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -2,7 -2,7 +2,7 @@@
  #define CONFIGURATION_H
  
  // This configurtion file contains the basic settings.
- // Advanced settings can be found in Configuration_adv.h 
+ // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
  //User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
@@@ -43,15 -43,19 +43,20 @@@
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
  // 70 = Megatronics
+ // 701= Megatronics v2.0
+ // 702= Minitronics v1.0
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
  // 301 = Rambo
 +// 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
  #define MOTHERBOARD 7
  #endif
  
+ // This defines the number of extruders
+ #define EXTRUDERS 1
+ 
  //// The following define selects which power supply you have. Please choose the one that matches your setup
  // 1 = ATX
  // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@@ -79,24 -83,28 +84,28 @@@
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  //
- //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
+ //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
  // 51 is 100k thermistor - EPCOS (1k pullup)
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
  
  #define TEMP_SENSOR_0 -1
- #define TEMP_SENSOR_1 0
+ #define TEMP_SENSOR_1 -1
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_BED 0
  
+ // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
+ //#define TEMP_SENSOR_1_AS_REDUNDANT 
+ #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
+ 
  // Actual temperature must be close to target for this long before M109 returns success
- #define TEMP_RESIDENCY_TIME 10	// (seconds)
+ #define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
  #define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
- // to check that the wiring to the thermistor is not broken. 
+ // to check that the wiring to the thermistor is not broken.
  // Otherwise this would lead to the heater being powered on all the time.
  #define HEATER_0_MINTEMP 5
  #define HEATER_1_MINTEMP 5
@@@ -122,7 -130,7 +131,7 @@@
  #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
  #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
  #ifdef PIDTEMP
-   //#define PID_DEBUG // Sends debug data to the serial port. 
+   //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
@@@ -133,15 -141,15 +142,15 @@@
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
      #define  DEFAULT_Kp 22.2
-     #define  DEFAULT_Ki 1.08  
-     #define  DEFAULT_Kd 114  
+     #define  DEFAULT_Ki 1.08
+     #define  DEFAULT_Kd 114
  
  // Makergear
  //    #define  DEFAULT_Kp 7.0
- //    #define  DEFAULT_Ki 0.1  
- //    #define  DEFAULT_Kd 12  
+ //    #define  DEFAULT_Ki 0.1
+ //    #define  DEFAULT_Kd 12
  
- // Mendel Parts V9 on 12V    
+ // Mendel Parts V9 on 12V
  //    #define  DEFAULT_Kp 63.0
  //    #define  DEFAULT_Ki 2.25
  //    #define  DEFAULT_Kd 440
@@@ -150,11 -158,11 +159,11 @@@
  // Bed Temperature Control
  // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
- // uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
+ // uncomment this to enable PID on the bed.   It uses the same frequency PWM as the extruder.
  // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
- // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
- // If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
+ // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
+ // If your configuration is significantly different than this and you don't understand the issues involved, you proabaly
  // shouldn't use bed PID until someone else verifies your hardware works.
  // If this is enabled, find your own PID constants below.
  //#define PIDTEMPBED
@@@ -224,9 -232,9 +233,9 @@@
  #endif
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+ const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@@ -281,13 -289,13 +290,13 @@@
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
  #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
- // default settings 
+ // default settings
  
  #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
- #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+ #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
@@@ -308,7 -316,7 +317,7 @@@
  // EEPROM
  // the microcontroller can store settings in the EEPROM, e.g. max velocity...
  // M500 - stores paramters in EEPROM
- // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
+ // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable eeprom support
  //#define EEPROM_SETTINGS
@@@ -316,9 -324,18 +325,18 @@@
  // please keep turned on if you can.
  //#define EEPROM_CHITCHAT
  
+ // Preheat Constants
+ #define PLA_PREHEAT_HOTEND_TEMP 180 
+ #define PLA_PREHEAT_HPB_TEMP 70
+ #define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ 
+ #define ABS_PREHEAT_HOTEND_TEMP 240
+ #define ABS_PREHEAT_HPB_TEMP 100
+ #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ 
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
- //#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
+ //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
@@@ -339,11 -356,11 +357,16 @@@
  // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
  //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
  
+ // The RepRapWorld REPRAPWORLD_KEYPAD v1.1
+ // http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+ //#define REPRAPWORLD_KEYPAD
+ //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
+ 
 +// The Elefu RA Board Control Panel
 +// http://www.elefu.com/index.php?route=product/product&product_id=53
 +// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 +//#define RA_CONTROL_PANEL
 +
  //automatic expansion
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
@@@ -356,43 -373,72 +379,78 @@@
   #define NEWPANEL
  #endif
  
+ #if defined(REPRAPWORLD_KEYPAD)
+   #define NEWPANEL
+   #define ULTIPANEL
+ #endif
 +#if defined(RA_CONTROL_PANEL)
 + #define ULTIPANEL
 + #define NEWPANEL
 + #define LCD_I2C_TYPE_PCA8574
 + #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +#endif
  
- // Preheat Constants
- #define PLA_PREHEAT_HOTEND_TEMP 180 
- #define PLA_PREHEAT_HPB_TEMP 70
- #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+ //I2C PANELS
  
- #define ABS_PREHEAT_HOTEND_TEMP 240
- #define ABS_PREHEAT_HPB_TEMP 100
- #define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+ //#define LCD_I2C_SAINSMART_YWROBOT
+ #ifdef LCD_I2C_SAINSMART_YWROBOT
+   // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
+   // Make sure it is placed in the Arduino libraries directory.
+   #define LCD_I2C_TYPE_PCF8575
+   #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
  
+ // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
+ //#define LCD_I2C_PANELOLU2
+ #ifdef LCD_I2C_PANELOLU2
+   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+   // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
+   // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
+   //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
+   #define LCD_I2C_TYPE_MCP23017
+   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
+ 
+ // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+ //#define LCD_I2C_VIKI
+ #ifdef LCD_I2C_VIKI
+   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+   // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
+   //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
+   #define LCD_I2C_TYPE_MCP23017 
+   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
  
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
- 	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
- 		#define LCD_WIDTH 20
- 		#define LCD_HEIGHT 5
- 	#else
- 		#define LCD_WIDTH 20
- 		#define LCD_HEIGHT 4
- 	#endif
- #else //no panel but just lcd 
+   #ifdef DOGLCD // Change number of lines to match the DOG graphic display
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 5
+   #else
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 4
+   #endif
+ #else //no panel but just lcd
    #ifdef ULTRA_LCD
- 	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
- 		#define LCD_WIDTH 20
- 		#define LCD_HEIGHT 5
- 	#else
- 		#define LCD_WIDTH 16
- 		#define LCD_HEIGHT 2
- 	#endif    
+   #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 5
+   #else
+     #define LCD_WIDTH 16
+     #define LCD_HEIGHT 2
+   #endif
    #endif
  #endif
  
@@@ -406,6 -452,34 +464,34 @@@
  // SF send wrong arc g-codes when using Arc Point as fillet procedure
  //#define SF_ARC_FIX
  
+ // Support for the BariCUDA Paste Extruder.
+ //#define BARICUDA
+ 
+ /*********************************************************************\
+ *
+ * R/C SERVO support
+ *
+ * Sponsored by TrinityLabs, Reworked by codexmas
+ *
+ **********************************************************************/
+ 
+ // Number of servos
+ //
+ // If you select a configuration below, this will receive a default value and does not need to be set manually
+ // set it manually if you have more servos than extruders and wish to manually control some
+ // leaving it undefined or defining as 0 will disable the servo subsystem
+ // If unsure, leave commented / disabled
+ //
+ //#define NUM_SERVOS 3 // Servo index starts with 0
+ 
+ // Servo Endstops
+ // 
+ // This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
+ // Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
+ // 
+ //#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
+ //#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
+ 
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  

commit c1cb5977eeb1c59c87479146c6aa27847ccce96e
Author: BorisLandoni <boris.landoni@gmail.com>
Date:   Sat Jun 8 14:37:39 2013 +0200

    Update Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 59f677b9f5..3394888cae 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -9,7 +9,7 @@
 //Implementation of an idea by Prof Braino to inform user that any changes made
 //to this build by the user have been successfully uploaded into firmware.
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
--#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
+#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.

commit 8a5bd8a8088d7083030ebf6c016e577ccaac543e
Author: BorisLandoni <boris.landoni@gmail.com>
Date:   Sat Jun 8 14:37:17 2013 +0200

    Update Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f09316808d..59f677b9f5 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -9,7 +9,7 @@
 //Implementation of an idea by Prof Braino to inform user that any changes made
 //to this build by the user have been successfully uploaded into firmware.
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
-#define STRING_CONFIG_H_AUTHOR "(Boris Landoni)" //Who made the changes.
+-#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@ -90,7 +90,7 @@
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
 
-#define TEMP_SENSOR_0 5
+#define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 -1
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_BED 0
@@ -141,9 +141,9 @@
 
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker
-//    #define  DEFAULT_Kp 22.2
-//    #define  DEFAULT_Ki 1.08
-//    #define  DEFAULT_Kd 114
+    #define  DEFAULT_Kp 22.2
+    #define  DEFAULT_Ki 1.08
+    #define  DEFAULT_Kd 114
 
 // Makergear
 //    #define  DEFAULT_Kp 7.0
@@ -151,9 +151,9 @@
 //    #define  DEFAULT_Kd 12
 
 // Mendel Parts V9 on 12V
-    #define  DEFAULT_Kp 63.0
-    #define  DEFAULT_Ki 2.25
-    #define  DEFAULT_Kd 440
+//    #define  DEFAULT_Kp 63.0
+//    #define  DEFAULT_Ki 2.25
+//    #define  DEFAULT_Kd 440
 #endif // PIDTEMP
 
 // Bed Temperature Control
@@ -224,18 +224,18 @@
 #endif
 
 #ifdef ENDSTOPPULLUPS
-//  #define ENDSTOPPULLUP_XMAX
-//  #define ENDSTOPPULLUP_YMAX
-//  #define ENDSTOPPULLUP_ZMAX
+  #define ENDSTOPPULLUP_XMAX
+  #define ENDSTOPPULLUP_YMAX
+  #define ENDSTOPPULLUP_ZMAX
   #define ENDSTOPPULLUP_XMIN
   #define ENDSTOPPULLUP_YMIN
   #define ENDSTOPPULLUP_ZMIN
 #endif
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
-const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
-const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
+const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
 //#define DISABLE_MAX_ENDSTOPS
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@ -247,15 +247,15 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 // Disables axis when it's not being used.
 #define DISABLE_X false
 #define DISABLE_Y false
-#define DISABLE_Z true
+#define DISABLE_Z false
 #define DISABLE_E false // For all extruders
 
-#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
+#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR false     // for Mendel set to false, for Orca set to true
-#define INVERT_E0_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E1_DIR true    // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E2_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
+#define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -266,11 +266,11 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 // Travel limits after homing
-#define X_MAX_POS 200
+#define X_MAX_POS 205
 #define X_MIN_POS 0
-#define Y_MAX_POS 200
+#define Y_MAX_POS 205
 #define Y_MIN_POS 0
-#define Z_MAX_POS 220
+#define Z_MAX_POS 200
 #define Z_MIN_POS 0
 
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
@@ -292,8 +292,8 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 
 // default settings
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {64.25,64.25,2560,600}  // default steps per unit for ultimaker
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 500}    // (mm/sec)
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          1000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
@@ -320,7 +320,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable eeprom support
-#define EEPROM_SETTINGS
+//#define EEPROM_SETTINGS
 //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
 // please keep turned on if you can.
 //#define EEPROM_CHITCHAT
@@ -340,7 +340,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 
-#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
+//#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse
 
 // The RepRapDiscount Smart Controller (white PCB)

commit 6588933c04783b09432aa7bf57dcc33d02f77844
Author: BorisLandoni <boris.landoni@gmail.com>
Date:   Fri Jun 7 18:36:16 2013 +0300

    Update Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0c8dd5500a..f09316808d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -9,7 +9,7 @@
 //Implementation of an idea by Prof Braino to inform user that any changes made
 //to this build by the user have been successfully uploaded into firmware.
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
-#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
+#define STRING_CONFIG_H_AUTHOR "(Boris Landoni)" //Who made the changes.
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@ -37,6 +37,7 @@
 // 64 = STB V1.1
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
+// 77 = 3Drag Controller
 // 8  = Teensylu
 // 80 = Rumba
 // 81 = Printrboard (AT90USB1286)
@@ -50,7 +51,7 @@
 // 301 = Rambo
 
 #ifndef MOTHERBOARD
-#define MOTHERBOARD 7
+#define MOTHERBOARD 77
 #endif
 
 // This defines the number of extruders
@@ -89,7 +90,7 @@
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
 
-#define TEMP_SENSOR_0 -1
+#define TEMP_SENSOR_0 5
 #define TEMP_SENSOR_1 -1
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_BED 0
@@ -140,9 +141,9 @@
 
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker
-    #define  DEFAULT_Kp 22.2
-    #define  DEFAULT_Ki 1.08
-    #define  DEFAULT_Kd 114
+//    #define  DEFAULT_Kp 22.2
+//    #define  DEFAULT_Ki 1.08
+//    #define  DEFAULT_Kd 114
 
 // Makergear
 //    #define  DEFAULT_Kp 7.0
@@ -150,9 +151,9 @@
 //    #define  DEFAULT_Kd 12
 
 // Mendel Parts V9 on 12V
-//    #define  DEFAULT_Kp 63.0
-//    #define  DEFAULT_Ki 2.25
-//    #define  DEFAULT_Kd 440
+    #define  DEFAULT_Kp 63.0
+    #define  DEFAULT_Ki 2.25
+    #define  DEFAULT_Kd 440
 #endif // PIDTEMP
 
 // Bed Temperature Control
@@ -223,18 +224,18 @@
 #endif
 
 #ifdef ENDSTOPPULLUPS
-  #define ENDSTOPPULLUP_XMAX
-  #define ENDSTOPPULLUP_YMAX
-  #define ENDSTOPPULLUP_ZMAX
+//  #define ENDSTOPPULLUP_XMAX
+//  #define ENDSTOPPULLUP_YMAX
+//  #define ENDSTOPPULLUP_ZMAX
   #define ENDSTOPPULLUP_XMIN
   #define ENDSTOPPULLUP_YMIN
   #define ENDSTOPPULLUP_ZMIN
 #endif
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
-const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
-const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
+const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
+const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
 //#define DISABLE_MAX_ENDSTOPS
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@ -246,15 +247,15 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // Disables axis when it's not being used.
 #define DISABLE_X false
 #define DISABLE_Y false
-#define DISABLE_Z false
+#define DISABLE_Z true
 #define DISABLE_E false // For all extruders
 
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
-#define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_Z_DIR false     // for Mendel set to false, for Orca set to true
+#define INVERT_E0_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E1_DIR true    // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E2_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -265,11 +266,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 // Travel limits after homing
-#define X_MAX_POS 205
+#define X_MAX_POS 200
 #define X_MIN_POS 0
-#define Y_MAX_POS 205
+#define Y_MAX_POS 200
 #define Y_MIN_POS 0
-#define Z_MAX_POS 200
+#define Z_MAX_POS 220
 #define Z_MIN_POS 0
 
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
@@ -291,12 +292,12 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // default settings
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {64.25,64.25,2560,600}  // default steps per unit for ultimaker
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 500}    // (mm/sec)
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
-#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+#define DEFAULT_ACCELERATION          1000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
+#define DEFAULT_RETRACT_ACCELERATION  1000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
@@ -319,7 +320,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable eeprom support
-//#define EEPROM_SETTINGS
+#define EEPROM_SETTINGS
 //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
 // please keep turned on if you can.
 //#define EEPROM_CHITCHAT
@@ -339,7 +340,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 
-//#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
+#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse
 
 // The RepRapDiscount Smart Controller (white PCB)

commit 5dabc95409b0cb011a3cc3d84772c43e39973808
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu Jun 6 15:49:25 2013 -0700

    Apply all changes from latest Marlin_V1
    
    Diffed and merged, preserving my updates

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1cb7ea2de2..3d5cf2ef6b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -43,6 +43,8 @@
 // 82 = Brainwave (AT90USB646)
 // 9  = Gen3+
 // 70 = Megatronics
+// 701= Megatronics v2.0
+// 702= Minitronics v1.0
 // 90 = Alpha OMCA board
 // 91 = Final OMCA board
 // 301 = Rambo
@@ -54,6 +56,9 @@
 // Define this to set a custom name for your generic Mendel,
 // #define CUSTOM_MENDEL_NAME "This Mendel"
 
+// This defines the number of extruders
+#define EXTRUDERS 1
+
 //// The following define selects which power supply you have. Please choose the one that matches your setup
 // 1 = ATX
 // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@ -81,24 +86,28 @@
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 //
-//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
+//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
 //                          (but gives greater accuracy and more stable PID)
 // 51 is 100k thermistor - EPCOS (1k pullup)
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
 
 #define TEMP_SENSOR_0 -1
-#define TEMP_SENSOR_1 0
+#define TEMP_SENSOR_1 -1
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_BED 0
 
+// This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
+//#define TEMP_SENSOR_1_AS_REDUNDANT 
+#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
+
 // Actual temperature must be close to target for this long before M109 returns success
-#define TEMP_RESIDENCY_TIME 10	// (seconds)
+#define TEMP_RESIDENCY_TIME 10  // (seconds)
 #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 #define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
 
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
-// to check that the wiring to the thermistor is not broken. 
+// to check that the wiring to the thermistor is not broken.
 // Otherwise this would lead to the heater being powered on all the time.
 #define HEATER_0_MINTEMP 5
 #define HEATER_1_MINTEMP 5
@@ -124,7 +133,7 @@
 #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
 #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
 #ifdef PIDTEMP
-  //#define PID_DEBUG // Sends debug data to the serial port. 
+  //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
@@ -135,15 +144,15 @@
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker
     #define  DEFAULT_Kp 22.2
-    #define  DEFAULT_Ki 1.08  
-    #define  DEFAULT_Kd 114  
+    #define  DEFAULT_Ki 1.08
+    #define  DEFAULT_Kd 114
 
 // Makergear
 //    #define  DEFAULT_Kp 7.0
-//    #define  DEFAULT_Ki 0.1  
-//    #define  DEFAULT_Kd 12  
+//    #define  DEFAULT_Ki 0.1
+//    #define  DEFAULT_Kd 12
 
-// Mendel Parts V9 on 12V    
+// Mendel Parts V9 on 12V
 //    #define  DEFAULT_Kp 63.0
 //    #define  DEFAULT_Ki 2.25
 //    #define  DEFAULT_Kd 440
@@ -155,8 +164,8 @@
 // Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
 // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
 // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
-// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
-// If your configuration is significantly different than this and you don't understand the issues involved, you probably 
+// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
+// If your configuration is significantly different than this and you don't understand the issues involved, you probably
 // shouldn't use bed PID until someone else verifies your hardware works.
 // If this is enabled, find your own PID constants below.
 //#define PIDTEMPBED
@@ -226,9 +235,9 @@
 #endif
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
 //#define DISABLE_MAX_ENDSTOPS
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@ -283,13 +292,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
-// default settings 
+// default settings
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for Ultimaker
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)    
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for Ultimaker
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
 
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
@@ -310,7 +319,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // EEPROM
 // the microcontroller can store settings in the EEPROM, e.g. max velocity...
 // M500 - stores paramters in EEPROM
-// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
+// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable eeprom support
 //#define EEPROM_SETTINGS
@@ -318,9 +327,18 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // please keep turned on if you can.
 //#define EEPROM_CHITCHAT
 
+// Preheat Constants
+#define PLA_PREHEAT_HOTEND_TEMP 180 
+#define PLA_PREHEAT_HPB_TEMP 70
+#define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+
+#define ABS_PREHEAT_HOTEND_TEMP 240
+#define ABS_PREHEAT_HPB_TEMP 100
+#define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
-//#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
+//#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 
@@ -341,6 +359,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
+// The RepRapWorld REPRAPWORLD_KEYPAD v1.1
+// http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+//#define REPRAPWORLD_KEYPAD
+//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
+
 //automatic expansion
 #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
  #define DOGLCD
@@ -351,38 +374,74 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
  #define ULTIPANEL
  #define NEWPANEL
-#endif 
+#endif
 
-// Preheat Constants
-#define PLA_PREHEAT_HOTEND_TEMP 180 
-#define PLA_PREHEAT_HPB_TEMP 70
-#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+#if defined(REPRAPWORLD_KEYPAD)
+  #define NEWPANEL
+  #define ULTIPANEL
+#endif
 
-#define ABS_PREHEAT_HOTEND_TEMP 240
-#define ABS_PREHEAT_HPB_TEMP 100
-#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+//I2C PANELS
+
+//#define LCD_I2C_SAINSMART_YWROBOT
+#ifdef LCD_I2C_SAINSMART_YWROBOT
+  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
+  // Make sure it is placed in the Arduino libraries directory.
+  #define LCD_I2C_TYPE_PCF8575
+  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+  #define NEWPANEL
+  #define ULTIPANEL 
+#endif
 
+// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
+//#define LCD_I2C_PANELOLU2
+#ifdef LCD_I2C_PANELOLU2
+  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
+  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
+  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
+  #define LCD_I2C_TYPE_MCP23017
+  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
+  #define NEWPANEL
+  #define ULTIPANEL 
+#endif
+
+// Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+//#define LCD_I2C_VIKI
+#ifdef LCD_I2C_VIKI
+  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
+  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
+  #define LCD_I2C_TYPE_MCP23017 
+  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
+  #define NEWPANEL
+  #define ULTIPANEL 
+#endif
 
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT
   #define ULTRA_LCD
-	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
-		#define LCD_WIDTH 20
-		#define LCD_HEIGHT 5
-	#else
-		#define LCD_WIDTH 20
-		#define LCD_HEIGHT 4
-	#endif
-#else //no panel but just lcd 
+  #ifdef DOGLCD // Change number of lines to match the DOG graphic display
+    #define LCD_WIDTH 20
+    #define LCD_HEIGHT 5
+  #else
+    #define LCD_WIDTH 20
+    #define LCD_HEIGHT 4
+  #endif
+#else //no panel but just lcd
   #ifdef ULTRA_LCD
-	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
-		#define LCD_WIDTH 20
-		#define LCD_HEIGHT 5
-	#else
-		#define LCD_WIDTH 16
-		#define LCD_HEIGHT 2
-	#endif    
+  #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
+    #define LCD_WIDTH 20
+    #define LCD_HEIGHT 5
+  #else
+    #define LCD_WIDTH 16
+    #define LCD_HEIGHT 2
+  #endif
   #endif
 #endif
 
@@ -396,6 +455,26 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // SF send wrong arc g-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX
 
+// Support for the BariCUDA Paste Extruder.
+//#define BARICUDA
+
+/*********************************************************************\
+*
+* R/C SERVO support
+*
+* Sponsored by TrinityLabs, Reworked by codexmas
+*
+**********************************************************************/
+
+// Number of servos
+//
+// If you select a configuration below, this will receive a default value and does not need to be set manually
+// set it manually if you have more servos than extruders and wish to manually control some
+// leaving it undefined or defining as 0 will disable the servo subsystem
+// If unsure, leave commented / disabled
+//
+// #define NUM_SERVOS 3
+
 #include "Configuration_adv.h"
 #include "thermistortables.h"
 

commit f4f30c9d6458b9851142f0d0b2f37acbff0d155a
Author: Gord Christmas <codexmas@gmail.com>
Date:   Thu Jun 6 07:36:52 2013 -0700

    Added servo actuated enstop coding to allow G28 command to engage and retract a servo to specified angles.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0c8dd5500a..80961d4cbf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -470,7 +470,15 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // leaving it undefined or defining as 0 will disable the servo subsystem
 // If unsure, leave commented / disabled
 //
-// #define NUM_SERVOS 3
+//#define NUM_SERVOS 3 // Servo index starts with 0
+
+// Servo Endstops
+// 
+// This allows for servo actuated endstops, primary usage is for the Z Axis to eliminate calibration or bed height changes.
+// Use M206 command to correct for switch height offset to actual nozzle height. Store that setting with M500.
+// 
+//#define SERVO_ENDSTOPS {-1, -1, 0} // Servo index for X, Y, Z. Disable with -1
+//#define SERVO_ENDSTOP_ANGLES {0,0, 0,0, 70,0} // X,Y,Z Axis Extend and Retract angles
 
 #include "Configuration_adv.h"
 #include "thermistortables.h"

commit 79374f0b938402fa64cdb747478f052ff72277d9
Merge: 1520de0093 5090c56651
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Wed Jun 5 17:44:48 2013 +0200

    Merge branch 'reisnyderb' of https://github.com/ErikZalm/Marlin into Marlin_v1

diff --combined Marlin/Configuration.h
index d23fd6ac92,319a079426..0c8dd5500a
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -43,8 -43,6 +43,8 @@@
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
  // 70 = Megatronics
 +// 701= Megatronics v2.0
 +// 702= Minitronics v1.0
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
  // 301 = Rambo
@@@ -90,10 -88,14 +90,14 @@@
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
  
  #define TEMP_SENSOR_0 -1
- #define TEMP_SENSOR_1 0
+ #define TEMP_SENSOR_1 -1
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_BED 0
  
+ // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
+ //#define TEMP_SENSOR_1_AS_REDUNDANT 
+ #define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
+ 
  // Actual temperature must be close to target for this long before M109 returns success
  #define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one

commit 4b19c8552e0137fc671cacec961553107d9e32ad
Merge: 594193c908 6752cb2d9c
Author: kiyoshigawa <tim.w.anderson@gmail.com>
Date:   Tue Jun 4 12:01:55 2013 -0600

    Fixing changed Configuration.h settings to be default values per ErikZalm Request.

diff --combined Marlin/Configuration.h
index aeb9ef16ec,94bacabc39..056f3f0bcc
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -26,19 -26,17 +26,19 @@@
  // 12 = Gen7 v1.3
  // 13 = Gen7 v1.4
  // 3  = MEGA/RAMPS up to 1.2 = 3
 -// 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
 -// 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
 +// 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Bed, Fan)
 +// 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
  // 6  = Sanguinololu < 1.2
  // 62 = Sanguinololu 1.2 and above
  // 63 = Melzi
 +// 64 = STB V1.1
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
  // 8  = Teensylu
 +// 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
@@@ -46,17 -44,12 +46,17 @@@
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
  // 301 = Rambo
 +// 21 = Elefu Ra Board (v3)
  
  #ifndef MOTHERBOARD
- #define MOTHERBOARD 21
 -#define MOTHERBOARD 34
++#define MOTHERBOARD 7
  #endif
  
 +//// The following define selects which power supply you have. Please choose the one that matches your setup
 +// 1 = ATX
 +// 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
  
 +#define POWER_SUPPLY 1
  
  //===========================================================================
  //=============================Thermal Settings  ============================
@@@ -75,9 -68,6 +75,9 @@@
  // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
  // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
 +// 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 +// 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 +// 10 is 100k RS thermistor 198-961 (4.7k pullup)
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
  //                          (but gives greater accuracy and more stable PID)
@@@ -85,10 -75,10 +85,10 @@@
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
  
- #define TEMP_SENSOR_0 1
+ #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
- #define TEMP_SENSOR_BED 1
+ #define TEMP_SENSOR_BED 0
  
  // Actual temperature must be close to target for this long before M109 returns success
  #define TEMP_RESIDENCY_TIME 10	// (seconds)
@@@ -119,8 -109,7 +119,8 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
 -#define PID_MAX 255 // limits current to nozzle; 255=full current
 +#define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
 +#define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port. 
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
@@@ -147,6 -136,17 +147,6 @@@
  //    #define  DEFAULT_Kd 440
  #endif // PIDTEMP
  
 -// PID parameters for 2nd extruder
 -    #define DEFAULT_Kp_E1 22.2
 -    #define DEFAULT_Ki_E1 1.08
 -    #define DEFAULT_Kd_E1 114
 -
 -
 -// PID parameters for 3th extruder
 -//    #define DEFAULT_Kp_E2 22.2
 -//    #define DEFAULT_Ki_E2 1.08
 -//    #define DEFAULT_Kd_E2 114
 -
  // Bed Temperature Control
  // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
@@@ -163,9 -163,9 +163,9 @@@
  
  // This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
  // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
 -// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
 +// setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
 -#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
 +#define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
  
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
@@@ -283,20 -283,14 +283,20 @@@ const bool Z_ENDSTOPS_INVERTING = true
  
  // default settings 
  
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
 -#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
 +#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
 -// 
 +// Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 +// The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
 +// For the other hotends it is their distance from the extruder 0 hotend.
 +// #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
 +// #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
 +
 +// The speed change that does not require acceleration (i.e. the software might assume it can be done instanteneously)
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  #define DEFAULT_EJERK                 5.0    // (mm/sec)
@@@ -318,50 -312,21 +318,50 @@@
  
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
 +//#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 +//#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
  
 -// The RepRapDiscount Smart Controller
 +// The RepRapDiscount Smart Controller (white PCB)
  // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
  //#define REPRAP_DISCOUNT_SMART_CONTROLLER
  
 +// The GADGETS3D G3D LCD/SD Controller (blue PCB)
 +// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 +//#define G3D_PANEL
 +
 +// The RepRapDiscount FULL GRAPHIC Smart Controller (quadratic white PCB)
 +// http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
 +//
 +// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 +//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 +
 +// The Elefu RA Board Control Panel
 +// http://www.elefu.com/index.php?route=product/product&product_id=53
 +// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
 +//#define RA_CONTROL_PANEL
  
  //automatic expansion
 -#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER)
 +#if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
 + #define DOGLCD
 + #define U8GLIB_ST7920
 + #define REPRAP_DISCOUNT_SMART_CONTROLLER
 +#endif
 +
 +#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
   #define ULTIPANEL
   #define NEWPANEL
 -#endif 
 +#endif
 +
 +#if defined(RA_CONTROL_PANEL)
 + #define ULTIPANEL
 + #define NEWPANEL
 + #define LCD_I2C_TYPE_PCA8574
 + #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +#endif
  
  // Preheat Constants
  #define PLA_PREHEAT_HOTEND_TEMP 180 
@@@ -377,22 -342,13 +377,22 @@@
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
 -  #define LCD_WIDTH 20
 -  #define LCD_HEIGHT 4
 -  
 +	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
 +		#define LCD_WIDTH 20
 +		#define LCD_HEIGHT 5
 +	#else
 +		#define LCD_WIDTH 20
 +		#define LCD_HEIGHT 4
 +	#endif
  #else //no panel but just lcd 
    #ifdef ULTRA_LCD
 -    #define LCD_WIDTH 16
 -    #define LCD_HEIGHT 2    
 +	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
 +		#define LCD_WIDTH 20
 +		#define LCD_HEIGHT 5
 +	#else
 +		#define LCD_WIDTH 16
 +		#define LCD_HEIGHT 2
 +	#endif    
    #endif
  #endif
  

commit 5090c56651bf18ea45a7453f5fccfe6a09d13062
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Wed May 29 19:29:30 2013 +0200

    More redundant temp sensor changes. (After testing and debugging by reifsnderb)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9b2979eab6..319a079426 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -93,8 +93,8 @@
 #define TEMP_SENSOR_BED 0
 
 // This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
-#define TEMP_SENSOR_1_AS_REDUNDANT 
-#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 5
+//#define TEMP_SENSOR_1_AS_REDUNDANT 
+#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10
 
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 10  // (seconds)

commit b78fa6bb709f39fa28b7360efc0df2ed38d05902
Author: Gatulibu <badsource@gmx.net>
Date:   Tue May 28 14:03:31 2013 +0200

    Added support for Megatronics v2.0 and Minitronics v1.0
    
    merged from code downloaded from reprapworld.com

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 923d0ef04d..d23fd6ac92 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -43,6 +43,8 @@
 // 82 = Brainwave (AT90USB646)
 // 9  = Gen3+
 // 70 = Megatronics
+// 701= Megatronics v2.0
+// 702= Minitronics v1.0
 // 90 = Alpha OMCA board
 // 91 = Final OMCA board
 // 301 = Rambo

commit 9be61cdc02eca3bf0498d5a6d4c9b058bb617f3c
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun May 26 17:57:49 2013 +0200

    Added redundant temp sensor

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 923d0ef04d..9b2979eab6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -88,10 +88,14 @@
 // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
 
 #define TEMP_SENSOR_0 -1
-#define TEMP_SENSOR_1 0
+#define TEMP_SENSOR_1 -1
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_BED 0
 
+// This makes temp sensor 1 a redundant sensor for sensor 0. If the temperatures difference between these sensors is to high the print will be aborted.
+#define TEMP_SENSOR_1_AS_REDUNDANT 
+#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 5
+
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 10  // (seconds)
 #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one

commit e2ff536b0316bd701ce5712fdbd7e3a69efdffff
Author: Alexander Kasimir <alexander@kasimir.at>
Date:   Wed May 22 16:02:03 2013 +0300

    Fixed typo in Comment

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ca72ae2b57..923d0ef04d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -152,7 +152,7 @@
 // Bed Temperature Control
 // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 //
-// uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder.
+// uncomment this to enable PID on the bed.   It uses the same frequency PWM as the extruder.
 // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
 // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
 // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.

commit 0d4a9444c4be98f30ec2747f792b6aea1b1c6f9c
Merge: 289c02eda4 86cce025f4
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Sun May 19 08:50:58 2013 +1000

    Merge remote-tracking branch 'upstream/Marlin_v1' into Marlin_v1

diff --combined Marlin/Configuration.h
index b1f875e056,6a2ebe6b59..ca72ae2b57
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -2,7 -2,7 +2,7 @@@
  #define CONFIGURATION_H
  
  // This configurtion file contains the basic settings.
- // Advanced settings can be found in Configuration_adv.h 
+ // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
  //User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
@@@ -51,9 -51,6 +51,9 @@@
  #define MOTHERBOARD 7
  #endif
  
 +// This defines the number of extruders
 +#define EXTRUDERS 1
 +
  //// The following define selects which power supply you have. Please choose the one that matches your setup
  // 1 = ATX
  // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@@ -81,7 -78,7 +81,7 @@@
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  //
- //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
+ //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
  // 51 is 100k thermistor - EPCOS (1k pullup)
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
@@@ -93,12 -90,12 +93,12 @@@
  #define TEMP_SENSOR_BED 0
  
  // Actual temperature must be close to target for this long before M109 returns success
- #define TEMP_RESIDENCY_TIME 10	// (seconds)
+ #define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
  #define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
- // to check that the wiring to the thermistor is not broken. 
+ // to check that the wiring to the thermistor is not broken.
  // Otherwise this would lead to the heater being powered on all the time.
  #define HEATER_0_MINTEMP 5
  #define HEATER_1_MINTEMP 5
@@@ -124,7 -121,7 +124,7 @@@
  #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
  #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
  #ifdef PIDTEMP
-   //#define PID_DEBUG // Sends debug data to the serial port. 
+   //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
@@@ -135,15 -132,15 +135,15 @@@
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
      #define  DEFAULT_Kp 22.2
-     #define  DEFAULT_Ki 1.08  
-     #define  DEFAULT_Kd 114  
+     #define  DEFAULT_Ki 1.08
+     #define  DEFAULT_Kd 114
  
  // Makergear
  //    #define  DEFAULT_Kp 7.0
- //    #define  DEFAULT_Ki 0.1  
- //    #define  DEFAULT_Kd 12  
+ //    #define  DEFAULT_Ki 0.1
+ //    #define  DEFAULT_Kd 12
  
- // Mendel Parts V9 on 12V    
+ // Mendel Parts V9 on 12V
  //    #define  DEFAULT_Kp 63.0
  //    #define  DEFAULT_Ki 2.25
  //    #define  DEFAULT_Kd 440
@@@ -152,11 -149,11 +152,11 @@@
  // Bed Temperature Control
  // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
- // uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
+ // uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder.
  // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
- // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
- // If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
+ // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
+ // If your configuration is significantly different than this and you don't understand the issues involved, you proabaly
  // shouldn't use bed PID until someone else verifies your hardware works.
  // If this is enabled, find your own PID constants below.
  //#define PIDTEMPBED
@@@ -226,9 -223,9 +226,9 @@@
  #endif
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+ const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@@ -283,13 -280,13 +283,13 @@@
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
  #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
- // default settings 
+ // default settings
  
- #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
- #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)    
+ #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
+ #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
- #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+ #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
@@@ -310,7 -307,7 +310,7 @@@
  // EEPROM
  // the microcontroller can store settings in the EEPROM, e.g. max velocity...
  // M500 - stores paramters in EEPROM
- // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
+ // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable eeprom support
  //#define EEPROM_SETTINGS
@@@ -318,9 -315,18 +318,18 @@@
  // please keep turned on if you can.
  //#define EEPROM_CHITCHAT
  
+ // Preheat Constants
+ #define PLA_PREHEAT_HOTEND_TEMP 180 
+ #define PLA_PREHEAT_HPB_TEMP 70
+ #define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ 
+ #define ABS_PREHEAT_HOTEND_TEMP 240
+ #define ABS_PREHEAT_HPB_TEMP 100
+ #define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
+ 
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
- //#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
+ //#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
@@@ -341,6 -347,11 +350,11 @@@
  // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
  //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
  
+ // The RepRapWorld REPRAPWORLD_KEYPAD v1.1
+ // http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+ //#define REPRAPWORLD_KEYPAD
+ //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
+ 
  //automatic expansion
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
@@@ -351,38 -362,74 +365,74 @@@
  #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
   #define ULTIPANEL
   #define NEWPANEL
- #endif 
+ #endif
  
- // Preheat Constants
- #define PLA_PREHEAT_HOTEND_TEMP 180 
- #define PLA_PREHEAT_HPB_TEMP 70
- #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+ #if defined(REPRAPWORLD_KEYPAD)
+   #define NEWPANEL
+   #define ULTIPANEL
+ #endif
  
- #define ABS_PREHEAT_HOTEND_TEMP 240
- #define ABS_PREHEAT_HPB_TEMP 100
- #define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+ //I2C PANELS
+ 
+ //#define LCD_I2C_SAINSMART_YWROBOT
+ #ifdef LCD_I2C_SAINSMART_YWROBOT
+   // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
+   // Make sure it is placed in the Arduino libraries directory.
+   #define LCD_I2C_TYPE_PCF8575
+   #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
  
+ // PANELOLU2 LCD with status LEDs, separate encoder and click inputs
+ //#define LCD_I2C_PANELOLU2
+ #ifdef LCD_I2C_PANELOLU2
+   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+   // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
+   // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
+   //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
+   #define LCD_I2C_TYPE_MCP23017
+   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
+ 
+ // Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+ //#define LCD_I2C_VIKI
+ #ifdef LCD_I2C_VIKI
+   // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+   // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+   // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
+   //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
+   #define LCD_I2C_TYPE_MCP23017 
+   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
+   #define NEWPANEL
+   #define ULTIPANEL 
+ #endif
  
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
- 	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
- 		#define LCD_WIDTH 20
- 		#define LCD_HEIGHT 5
- 	#else
- 		#define LCD_WIDTH 20
- 		#define LCD_HEIGHT 4
- 	#endif
- #else //no panel but just lcd 
+   #ifdef DOGLCD // Change number of lines to match the DOG graphic display
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 5
+   #else
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 4
+   #endif
+ #else //no panel but just lcd
    #ifdef ULTRA_LCD
- 	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
- 		#define LCD_WIDTH 20
- 		#define LCD_HEIGHT 5
- 	#else
- 		#define LCD_WIDTH 16
- 		#define LCD_HEIGHT 2
- 	#endif    
+   #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
+     #define LCD_WIDTH 20
+     #define LCD_HEIGHT 5
+   #else
+     #define LCD_WIDTH 16
+     #define LCD_HEIGHT 2
+   #endif
    #endif
  #endif
  
@@@ -396,6 -443,26 +446,26 @@@
  // SF send wrong arc g-codes when using Arc Point as fillet procedure
  //#define SF_ARC_FIX
  
+ // Support for the BariCUDA Paste Extruder.
+ //#define BARICUDA
+ 
+ /*********************************************************************\
+ *
+ * R/C SERVO support
+ *
+ * Sponsored by TrinityLabs, Reworked by codexmas
+ *
+ **********************************************************************/
+ 
+ // Number of servos
+ //
+ // If you select a configuration below, this will receive a default value and does not need to be set manually
+ // set it manually if you have more servos than extruders and wish to manually control some
+ // leaving it undefined or defining as 0 will disable the servo subsystem
+ // If unsure, leave commented / disabled
+ //
+ // #define NUM_SERVOS 3
+ 
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  

commit 28ada096e2759dc8bfc617fe1296f9a5c0c3d757
Author: Gord Christmas <codexmas@gmail.com>
Date:   Sat May 18 06:01:58 2013 -0700

    Adding servo documentation

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e22c83cae0..ffe16297a4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -168,7 +168,7 @@
 
 #ifdef PIDTEMPBED
 //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
+//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggresive factor of .15 (vs .1, 1, 10)
     #define  DEFAULT_bedKp 10.00
     #define  DEFAULT_bedKi .023
     #define  DEFAULT_bedKd 305.4
@@ -407,21 +407,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define BARICUDA
 
 /*********************************************************************\
-*
 * R/C SERVO support
-*
 * Sponsored by TrinityLabs, Reworked by codexmas
-*
 **********************************************************************/
-
-// Number of servos
-//
-// If you select a configuration below, this will receive a default value and does not need to be set manually
-// set it manually if you have more servos than extruders and wish to manually control some
-// leaving it undefined or defining as 0 will disable the servo subsystem
-// If unsure, leave commented / disabled
-//
-// #define NUM_SERVOS 3
+// Number of servos, on RAMPS power to servo pins needs vcc pin jumpered to 5v pin or external supply.
+//#define NUM_SERVOS 3 // Indexing starts at 0 for M280 command
 
 #include "Configuration_adv.h"
 #include "thermistortables.h"

commit dfa549f268a70c03cc86af5d6fadb26a8051bad5
Merge: 015d0594b0 64360164ad
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Sat May 18 21:59:39 2013 +1000

    Merge remote-tracking branch 'upstream/Marlin_v1' into Marlin_v1

diff --combined Marlin/Configuration.h
index f56dd4ee8f,e22c83cae0..6a2ebe6b59
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -2,7 -2,7 +2,7 @@@
  #define CONFIGURATION_H
  
  // This configurtion file contains the basic settings.
- // Advanced settings can be found in Configuration_adv.h 
+ // Advanced settings can be found in Configuration_adv.h
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
  //User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
@@@ -78,7 -78,7 +78,7 @@@
  // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
  // 10 is 100k RS thermistor 198-961 (4.7k pullup)
  //
- //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
+ //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
  //                          (but gives greater accuracy and more stable PID)
  // 51 is 100k thermistor - EPCOS (1k pullup)
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
@@@ -90,12 -90,12 +90,12 @@@
  #define TEMP_SENSOR_BED 0
  
  // Actual temperature must be close to target for this long before M109 returns success
--#define TEMP_RESIDENCY_TIME 10	// (seconds)
++#define TEMP_RESIDENCY_TIME 10  // (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
  #define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
- // to check that the wiring to the thermistor is not broken. 
+ // to check that the wiring to the thermistor is not broken.
  // Otherwise this would lead to the heater being powered on all the time.
  #define HEATER_0_MINTEMP 5
  #define HEATER_1_MINTEMP 5
@@@ -121,7 -121,7 +121,7 @@@
  #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
  #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
  #ifdef PIDTEMP
-   //#define PID_DEBUG // Sends debug data to the serial port. 
+   //#define PID_DEBUG // Sends debug data to the serial port.
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                    // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
@@@ -132,15 -132,15 +132,15 @@@
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
      #define  DEFAULT_Kp 22.2
-     #define  DEFAULT_Ki 1.08  
-     #define  DEFAULT_Kd 114  
+     #define  DEFAULT_Ki 1.08
+     #define  DEFAULT_Kd 114
  
  // Makergear
  //    #define  DEFAULT_Kp 7.0
- //    #define  DEFAULT_Ki 0.1  
- //    #define  DEFAULT_Kd 12  
+ //    #define  DEFAULT_Ki 0.1
+ //    #define  DEFAULT_Kd 12
  
- // Mendel Parts V9 on 12V    
+ // Mendel Parts V9 on 12V
  //    #define  DEFAULT_Kp 63.0
  //    #define  DEFAULT_Ki 2.25
  //    #define  DEFAULT_Kd 440
@@@ -149,11 -149,11 +149,11 @@@
  // Bed Temperature Control
  // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
  //
- // uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
+ // uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder.
  // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
  // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
- // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
- // If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
+ // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
+ // If your configuration is significantly different than this and you don't understand the issues involved, you proabaly
  // shouldn't use bed PID until someone else verifies your hardware works.
  // If this is enabled, find your own PID constants below.
  //#define PIDTEMPBED
@@@ -223,9 -223,9 +223,9 @@@
  #endif
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+ const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@@ -280,13 -280,13 +280,13 @@@
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
  #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
- // default settings 
+ // default settings
  
- #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
- #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)    
+ #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
+ #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
- #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+ #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
  // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
@@@ -307,7 -307,7 +307,7 @@@
  // EEPROM
  // the microcontroller can store settings in the EEPROM, e.g. max velocity...
  // M500 - stores paramters in EEPROM
- // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
+ // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable eeprom support
  //#define EEPROM_SETTINGS
@@@ -315,18 -315,9 +315,18 @@@
  // please keep turned on if you can.
  //#define EEPROM_CHITCHAT
  
 +// Preheat Constants
 +#define PLA_PREHEAT_HOTEND_TEMP 180 
 +#define PLA_PREHEAT_HPB_TEMP 70
- #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
++#define PLA_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +
 +#define ABS_PREHEAT_HOTEND_TEMP 240
 +#define ABS_PREHEAT_HPB_TEMP 100
- #define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
++#define ABS_PREHEAT_FAN_SPEED 255   // Insert Value between 0 and 255
 +
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
--//#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
++//#define DOGLCD  // Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
@@@ -347,6 -338,11 +347,11 @@@
  // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
  //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
  
+ // The RepRapWorld REPRAPWORLD_KEYPAD v1.1
+ // http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+ //#define REPRAPWORLD_KEYPAD
+ //#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
+ 
  //automatic expansion
  #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
   #define DOGLCD
@@@ -357,69 -353,43 +362,74 @@@
  #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
   #define ULTIPANEL
   #define NEWPANEL
- #endif 
+ #endif
+ 
+ #if defined(REPRAPWORLD_KEYPAD)
+   #define NEWPANEL
+   #define ULTIPANEL
+ #endif
  
 -// Preheat Constants
 -#define PLA_PREHEAT_HOTEND_TEMP 180
 -#define PLA_PREHEAT_HPB_TEMP 70
 -#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +//I2C PANELS
  
 -#define ABS_PREHEAT_HOTEND_TEMP 240
 -#define ABS_PREHEAT_HPB_TEMP 100
 -#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +//#define LCD_I2C_SAINSMART_YWROBOT
 +#ifdef LCD_I2C_SAINSMART_YWROBOT
 +  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
 +  // Make sure it is placed in the Arduino libraries directory.
 +  #define LCD_I2C_TYPE_PCF8575
 +  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
  
 +// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 +//#define LCD_I2C_PANELOLU2
 +#ifdef LCD_I2C_PANELOLU2
 +  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 +  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 +  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
 +  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
 +  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
 +  #define LCD_I2C_TYPE_MCP23017
 +  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 +  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
 +
 +// Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 +//#define LCD_I2C_VIKI
 +#ifdef LCD_I2C_VIKI
 +  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 +  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 +  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
 +  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
 +  #define LCD_I2C_TYPE_MCP23017 
 +  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 +  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
  
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
--	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
--		#define LCD_WIDTH 20
--		#define LCD_HEIGHT 5
--	#else
--		#define LCD_WIDTH 20
--		#define LCD_HEIGHT 4
--	#endif
- #else //no panel but just lcd 
++  #ifdef DOGLCD // Change number of lines to match the DOG graphic display
++    #define LCD_WIDTH 20
++    #define LCD_HEIGHT 5
++  #else
++    #define LCD_WIDTH 20
++    #define LCD_HEIGHT 4
++  #endif
+ #else //no panel but just lcd
    #ifdef ULTRA_LCD
--	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
--		#define LCD_WIDTH 20
--		#define LCD_HEIGHT 5
--	#else
--		#define LCD_WIDTH 16
--		#define LCD_HEIGHT 2
- 	#endif    
 -	#endif
++  #ifdef DOGLCD // Change number of lines to match the 128x64 graphics display
++    #define LCD_WIDTH 20
++    #define LCD_HEIGHT 5
++  #else
++    #define LCD_WIDTH 16
++    #define LCD_HEIGHT 2
++  #endif
    #endif
  #endif
  
@@@ -433,6 -403,26 +443,26 @@@
  // SF send wrong arc g-codes when using Arc Point as fillet procedure
  //#define SF_ARC_FIX
  
+ // Support for the BariCUDA Paste Extruder.
+ //#define BARICUDA
+ 
+ /*********************************************************************\
+ *
+ * R/C SERVO support
+ *
+ * Sponsored by TrinityLabs, Reworked by codexmas
+ *
+ **********************************************************************/
+ 
+ // Number of servos
+ //
+ // If you select a configuration below, this will receive a default value and does not need to be set manually
+ // set it manually if you have more servos than extruders and wish to manually control some
+ // leaving it undefined or defining as 0 will disable the servo subsystem
+ // If unsure, leave commented / disabled
+ //
+ // #define NUM_SERVOS 3
+ 
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  

commit dc59f07d240119f3031dc905b21232f581f3e11b
Author: Gord Christmas <codexmas@gmail.com>
Date:   Thu May 16 07:03:01 2013 -0700

    First attempt at refactoring of original servo code. Only adding servo support as a start to keep things simple.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3405dfbffe..e22c83cae0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -2,7 +2,7 @@
 #define CONFIGURATION_H
 
 // This configurtion file contains the basic settings.
-// Advanced settings can be found in Configuration_adv.h 
+// Advanced settings can be found in Configuration_adv.h
 // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
 
 //User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
@@ -78,7 +78,7 @@
 // 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 // 10 is 100k RS thermistor 198-961 (4.7k pullup)
 //
-//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
+//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k
 //                          (but gives greater accuracy and more stable PID)
 // 51 is 100k thermistor - EPCOS (1k pullup)
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
@@ -95,7 +95,7 @@
 #define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
 
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
-// to check that the wiring to the thermistor is not broken. 
+// to check that the wiring to the thermistor is not broken.
 // Otherwise this would lead to the heater being powered on all the time.
 #define HEATER_0_MINTEMP 5
 #define HEATER_1_MINTEMP 5
@@ -121,7 +121,7 @@
 #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
 #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
 #ifdef PIDTEMP
-  //#define PID_DEBUG // Sends debug data to the serial port. 
+  //#define PID_DEBUG // Sends debug data to the serial port.
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
@@ -132,15 +132,15 @@
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker
     #define  DEFAULT_Kp 22.2
-    #define  DEFAULT_Ki 1.08  
-    #define  DEFAULT_Kd 114  
+    #define  DEFAULT_Ki 1.08
+    #define  DEFAULT_Kd 114
 
 // Makergear
 //    #define  DEFAULT_Kp 7.0
-//    #define  DEFAULT_Ki 0.1  
-//    #define  DEFAULT_Kd 12  
+//    #define  DEFAULT_Ki 0.1
+//    #define  DEFAULT_Kd 12
 
-// Mendel Parts V9 on 12V    
+// Mendel Parts V9 on 12V
 //    #define  DEFAULT_Kp 63.0
 //    #define  DEFAULT_Ki 2.25
 //    #define  DEFAULT_Kd 440
@@ -149,11 +149,11 @@
 // Bed Temperature Control
 // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 //
-// uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
+// uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder.
 // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
 // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
-// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
-// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
+// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater.
+// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly
 // shouldn't use bed PID until someone else verifies your hardware works.
 // If this is enabled, find your own PID constants below.
 //#define PIDTEMPBED
@@ -223,9 +223,9 @@
 #endif
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
+const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops.
 //#define DISABLE_MAX_ENDSTOPS
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@ -280,13 +280,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
-// default settings 
+// default settings
 
 #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
@@ -307,7 +307,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // EEPROM
 // the microcontroller can store settings in the EEPROM, e.g. max velocity...
 // M500 - stores paramters in EEPROM
-// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
+// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable eeprom support
 //#define EEPROM_SETTINGS
@@ -353,7 +353,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
  #define ULTIPANEL
  #define NEWPANEL
-#endif 
+#endif
 
 #if defined(REPRAPWORLD_KEYPAD)
   #define NEWPANEL
@@ -361,7 +361,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #endif
 
 // Preheat Constants
-#define PLA_PREHEAT_HOTEND_TEMP 180 
+#define PLA_PREHEAT_HOTEND_TEMP 180
 #define PLA_PREHEAT_HPB_TEMP 70
 #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 
@@ -381,7 +381,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 		#define LCD_WIDTH 20
 		#define LCD_HEIGHT 4
 	#endif
-#else //no panel but just lcd 
+#else //no panel but just lcd
   #ifdef ULTRA_LCD
 	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
 		#define LCD_WIDTH 20
@@ -389,7 +389,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 	#else
 		#define LCD_WIDTH 16
 		#define LCD_HEIGHT 2
-	#endif    
+	#endif
   #endif
 #endif
 
@@ -406,6 +406,23 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // Support for the BariCUDA Paste Extruder.
 //#define BARICUDA
 
+/*********************************************************************\
+*
+* R/C SERVO support
+*
+* Sponsored by TrinityLabs, Reworked by codexmas
+*
+**********************************************************************/
+
+// Number of servos
+//
+// If you select a configuration below, this will receive a default value and does not need to be set manually
+// set it manually if you have more servos than extruders and wish to manually control some
+// leaving it undefined or defining as 0 will disable the servo subsystem
+// If unsure, leave commented / disabled
+//
+// #define NUM_SERVOS 3
+
 #include "Configuration_adv.h"
 #include "thermistortables.h"
 

commit bd2cd4903e5daedcfebc06b90e7c0e2cf05e5eaa
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Tue May 14 23:56:32 2013 +0200

    Added #ifdef BARICUDA around the BariCUDA changes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 83944ab032..3405dfbffe 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -403,6 +403,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // SF send wrong arc g-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX
 
+// Support for the BariCUDA Paste Extruder.
+//#define BARICUDA
+
 #include "Configuration_adv.h"
 #include "thermistortables.h"
 

commit 2739c26c4f15e7b0c4b936165371dd8c579df241
Author: gregor <gregor.binder@gmx.net>
Date:   Fri May 10 22:20:02 2013 +0200

    changes:
    - changed the variables from keypad to reprapworld_keypad
    - added a missing ifdef check

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 693e66a716..83944ab032 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -338,10 +338,10 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
-// The RepRapWorld Keypad v1.1
+// The RepRapWorld REPRAPWORLD_KEYPAD v1.1
 // http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
-//#define KEYPAD
-//#define KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
+//#define REPRAPWORLD_KEYPAD
+//#define REPRAPWORLD_KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
 
 //automatic expansion
 #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
@@ -355,7 +355,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
  #define NEWPANEL
 #endif 
 
-#if defined(KEYPAD)
+#if defined(REPRAPWORLD_KEYPAD)
   #define NEWPANEL
   #define ULTIPANEL
 #endif

commit 6fb9573157bc95df20e7649e32f0d9d1edec5a9a
Author: gregor <gregor.binder@gmx.net>
Date:   Fri May 10 21:57:17 2013 +0200

    added support for the reprapworld keypad

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eed4abc81f..693e66a716 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -338,6 +338,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
+// The RepRapWorld Keypad v1.1
+// http://reprapworld.com/?products_details&products_id=202&cPath=1591_1626
+//#define KEYPAD
+//#define KEYPAD_MOVE_STEP 10.0 // how much should be moved when a key is pressed, eg 10.0 means 10mm per click
+
 //automatic expansion
 #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
  #define DOGLCD
@@ -350,6 +355,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
  #define NEWPANEL
 #endif 
 
+#if defined(KEYPAD)
+  #define NEWPANEL
+  #define ULTIPANEL
+#endif
+
 // Preheat Constants
 #define PLA_PREHEAT_HOTEND_TEMP 180 
 #define PLA_PREHEAT_HPB_TEMP 70

commit 1fa61c297ef340c08a87dbcb5dd2abfc52ab747a
Author: Tim Anderson <timanderson@elefu.com>
Date:   Mon May 6 23:23:54 2013 -0600

    Turning off Control Panel by Default and Updating the link to the LiquidCrystal_I2C library to avoid confusion.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9f91b4d38f..aeb9ef16ec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -341,12 +341,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // The Elefu RA Board Control Panel
 // http://www.elefu.com/index.php?route=product/product&product_id=53
-// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: http://hmario.home.xs4all.nl/arduino/LiquidCrystal_I2C/LiquidCrystal_I2C.zip
-#define RA_CONTROL_PANEL
-
-// The Elefu TLC5947 RGB Lighting Module
-// Uncomment to enable TLC5947 Lighting Modules.
-//#define RA_DISCO
+// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: https://github.com/kiyoshigawa/LiquidCrystal_I2C
+//#define RA_CONTROL_PANEL
 
 //automatic expansion
 #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)

commit b27a59f41ecdad900bcdffa955a4f55814bec13e
Author: kiyoshigawa <tim.w.anderson@gmail.com>
Date:   Mon May 6 08:44:38 2013 -0600

    Added support for Elefu RA Board and Elefu Control Panel

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eed4abc81f..9f91b4d38f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -46,9 +46,10 @@
 // 90 = Alpha OMCA board
 // 91 = Final OMCA board
 // 301 = Rambo
+// 21 = Elefu Ra Board (v3)
 
 #ifndef MOTHERBOARD
-#define MOTHERBOARD 7
+#define MOTHERBOARD 21
 #endif
 
 //// The following define selects which power supply you have. Please choose the one that matches your setup
@@ -84,10 +85,10 @@
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
 
-#define TEMP_SENSOR_0 -1
+#define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0
-#define TEMP_SENSOR_BED 0
+#define TEMP_SENSOR_BED 1
 
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 10	// (seconds)
@@ -338,6 +339,15 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
 //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
 
+// The Elefu RA Board Control Panel
+// http://www.elefu.com/index.php?route=product/product&product_id=53
+// REMEMBER TO INSTALL LiquidCrystal_I2C.h in your ARUDINO library folder: http://hmario.home.xs4all.nl/arduino/LiquidCrystal_I2C/LiquidCrystal_I2C.zip
+#define RA_CONTROL_PANEL
+
+// The Elefu TLC5947 RGB Lighting Module
+// Uncomment to enable TLC5947 Lighting Modules.
+//#define RA_DISCO
+
 //automatic expansion
 #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
  #define DOGLCD
@@ -348,7 +358,14 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
  #define ULTIPANEL
  #define NEWPANEL
-#endif 
+#endif
+
+#if defined(RA_CONTROL_PANEL)
+ #define ULTIPANEL
+ #define NEWPANEL
+ #define LCD_I2C_TYPE_PCA8574
+ #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+#endif
 
 // Preheat Constants
 #define PLA_PREHEAT_HOTEND_TEMP 180 

commit 0ef54f2f85609fbdad384ac6111899a385ea5f6e
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu May 2 09:55:15 2013 -0700

    Make M303 silent when "S0" is sent
    
    If S is left out perhaps it should be silent, but check the spec for
    this M code.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d710e37567..1cb7ea2de2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -298,7 +298,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
 // #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
 
-// The speed change that does not require acceleration (i.e. the software might assume it can be done instanteneously)
+// The speed change that does not require acceleration (i.e. the software might assume it can be done instantaneously)
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
 #define DEFAULT_EJERK                 5.0    // (mm/sec)

commit a200521eab03a43bb213f1ec17191f5fc531ff5a
Author: Scott Lahteine <sourcetree@thinkyhead.com>
Date:   Thu May 2 09:22:58 2013 -0700

    Added CUSTOM_MENDEL_NAME option to Configuration.h and language.h
    
    Also cosmetic comment changes and spelling corrections in printed
    messages

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9b07d14b6a..d710e37567 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,15 +1,15 @@
 #ifndef CONFIGURATION_H
 #define CONFIGURATION_H
 
-// This configurtion file contains the basic settings.
-// Advanced settings can be found in Configuration_adv.h 
+// This configuration file contains the basic settings.
+// Advanced settings can be found in Configuration_adv.h
 // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
 
-//User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
-//Implementation of an idea by Prof Braino to inform user that any changes made
-//to this build by the user have been successfully uploaded into firmware.
+// User-specified version info of this build to display in [Pronterface, etc] terminal window during
+// startup. Implementation of an idea by Prof Braino to inform user that any changes made to this
+// build by the user have been successfully uploaded into firmware.
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
-#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
+#define STRING_CONFIG_H_AUTHOR "(none, default config)" // Who made the changes.
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@ -51,6 +51,9 @@
 #define MOTHERBOARD 7
 #endif
 
+// Define this to set a custom name for your generic Mendel,
+// #define CUSTOM_MENDEL_NAME "This Mendel"
+
 //// The following define selects which power supply you have. Please choose the one that matches your setup
 // 1 = ATX
 // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@ -92,7 +95,7 @@
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 10	// (seconds)
 #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
-#define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
+#define TEMP_WINDOW     1       // (degC) Window around target to start the residency timer x degC early.
 
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
 // to check that the wiring to the thermistor is not broken. 
@@ -126,7 +129,7 @@
   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
-  #define K1 0.95 //smoothing factor withing the PID
+  #define K1 0.95 //smoothing factor within the PID
   #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
@@ -147,20 +150,20 @@
 #endif // PIDTEMP
 
 // Bed Temperature Control
-// Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
+// Select PID or bang-bang with PIDTEMPBED. If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 //
-// uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
+// Uncomment this to enable PID on the bed. It uses the same frequency PWM as the extruder.
 // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
 // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
 // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
-// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
+// If your configuration is significantly different than this and you don't understand the issues involved, you probably 
 // shouldn't use bed PID until someone else verifies your hardware works.
 // If this is enabled, find your own PID constants below.
 //#define PIDTEMPBED
 //
 //#define BED_LIMIT_SWITCHING
 
-// This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
+// This sets the max power delivered to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
 // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
 // setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
 // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
@@ -168,7 +171,7 @@
 
 #ifdef PIDTEMPBED
 //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
-//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
+//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)
     #define  DEFAULT_bedKp 10.00
     #define  DEFAULT_bedKi .023
     #define  DEFAULT_bedKd 305.4
@@ -200,11 +203,11 @@
 // Uncomment the following line to enable CoreXY kinematics
 // #define COREXY
 
-// corse Endstop Settings
+// coarse Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
 #ifndef ENDSTOPPULLUPS
-  // fine Enstop settings: Individual Pullups. will be ignord if ENDSTOPPULLUPS is defined
+  // fine Enstop settings: Individual Pullups. will be ignored if ENDSTOPPULLUPS is defined
   #define ENDSTOPPULLUP_XMAX
   #define ENDSTOPPULLUP_YMAX
   #define ENDSTOPPULLUP_ZMAX
@@ -253,8 +256,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
 
-#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
-#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define min_software_endstops true // If true, axis won't move to coordinates less than HOME_POS.
+#define max_software_endstops true  // If true, axis won't move to coordinates greater than the defined lengths below.
 // Travel limits after homing
 #define X_MAX_POS 205
 #define X_MIN_POS 0
@@ -282,12 +285,12 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for Ultimaker
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
-#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for retracts
 
 // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
 // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).

commit 1a397825f9eed334e809725ee5fb103bf39643c9
Author: Martin Renold <martinxyz@gmx.ch>
Date:   Wed May 1 08:18:45 2013 +0200

    fix DEFAULT_AXIS_STEPS_PER_UNIT minor Z rounding error

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9b07d14b6a..eed4abc81f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -282,8 +282,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)    
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200.0*8/3,760*1.1}  // default steps per unit for ultimaker
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 

commit c3cdaceab3e5d5555f673773cdcbedc47f6b5e6e
Merge: 1daf2f3256 4f96ad5621
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Mon Apr 29 22:13:55 2013 +1000

    Merge remote-tracking branch 'upstream/Marlin_v1' into Marlin_v1

diff --combined Marlin/Configuration.h
index 27922bf717,9b07d14b6a..b1f875e056
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -26,17 -26,19 +26,19 @@@
  // 12 = Gen7 v1.3
  // 13 = Gen7 v1.4
  // 3  = MEGA/RAMPS up to 1.2 = 3
- // 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
- // 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
+ // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Bed, Fan)
+ // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
  // 6  = Sanguinololu < 1.2
  // 62 = Sanguinololu 1.2 and above
  // 63 = Melzi
+ // 64 = STB V1.1
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
  // 8  = Teensylu
+ // 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
@@@ -49,9 -51,6 +51,9 @@@
  #define MOTHERBOARD 7
  #endif
  
 +// This defines the number of extruders
 +#define EXTRUDERS 1
 +
  //// The following define selects which power supply you have. Please choose the one that matches your setup
  // 1 = ATX
  // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@@ -119,7 -118,8 +121,8 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
- #define PID_MAX 256 // limits current to nozzle; 256=full current
+ #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
+ #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port. 
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
@@@ -283,7 -283,7 +286,7 @@@ const bool Z_ENDSTOPS_INVERTING = true
  // default settings 
  
  #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
- #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
+ #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)    
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
@@@ -317,7 -317,9 +320,9 @@@
  
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
+ //#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
+ //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
@@@ -330,7 -332,19 +335,19 @@@
  // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
  //#define G3D_PANEL
  
+ // The RepRapDiscount FULL GRAPHIC Smart Controller (quadratic white PCB)
+ // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
+ //
+ // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+ //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+ 
  //automatic expansion
+ #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
+  #define DOGLCD
+  #define U8GLIB_ST7920
+  #define REPRAP_DISCOUNT_SMART_CONTROLLER
+ #endif
+ 
  #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
   #define ULTIPANEL
   #define NEWPANEL
@@@ -350,13 -364,22 +367,22 @@@
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
-   #define LCD_WIDTH 20
-   #define LCD_HEIGHT 4
-   
+ 	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
+ 		#define LCD_WIDTH 20
+ 		#define LCD_HEIGHT 5
+ 	#else
+ 		#define LCD_WIDTH 20
+ 		#define LCD_HEIGHT 4
+ 	#endif
  #else //no panel but just lcd 
    #ifdef ULTRA_LCD
-     #define LCD_WIDTH 16
-     #define LCD_HEIGHT 2    
+ 	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
+ 		#define LCD_WIDTH 20
+ 		#define LCD_HEIGHT 5
+ 	#else
+ 		#define LCD_WIDTH 16
+ 		#define LCD_HEIGHT 2
+ 	#endif    
    #endif
  #endif
  

commit 788d62bcc47a97b8c35dcffd1616525d419397e1
Merge: 9322c408c6 4f96ad5621
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Mon Apr 29 21:13:46 2013 +1000

    Merge remote-tracking branch 'upstream/Marlin_v1' into Marlin_v1
    
    Conflicts:
            Marlin/Marlin.pde
            Marlin/ultralcd.cpp
            Marlin/ultralcd_implementation_hitachi_HD44780.h

diff --combined Marlin/Configuration.h
index 71f0ca4557,9b07d14b6a..f56dd4ee8f
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -26,17 -26,19 +26,19 @@@
  // 12 = Gen7 v1.3
  // 13 = Gen7 v1.4
  // 3  = MEGA/RAMPS up to 1.2 = 3
- // 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
- // 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
+ // 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Bed, Fan)
+ // 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
  // 4  = Duemilanove w/ ATMega328P pin assignment
  // 5  = Gen6
  // 51 = Gen6 deluxe
  // 6  = Sanguinololu < 1.2
  // 62 = Sanguinololu 1.2 and above
  // 63 = Melzi
+ // 64 = STB V1.1
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
  // 8  = Teensylu
+ // 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
@@@ -116,7 -118,8 +118,8 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
- #define PID_MAX 256 // limits current to nozzle; 256=full current
+ #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
+ #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port. 
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
@@@ -280,13 -283,19 +283,19 @@@ const bool Z_ENDSTOPS_INVERTING = true
  // default settings 
  
  #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
- #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
+ #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)    
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
- // 
+ // Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
+ // The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
+ // For the other hotends it is their distance from the extruder 0 hotend.
+ // #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+ // #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+ 
+ // The speed change that does not require acceleration (i.e. the software might assume it can be done instanteneously)
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  #define DEFAULT_EJERK                 5.0    // (mm/sec)
@@@ -306,18 -315,11 +315,20 @@@
  // please keep turned on if you can.
  //#define EEPROM_CHITCHAT
  
 +// Preheat Constants
 +#define PLA_PREHEAT_HOTEND_TEMP 180 
 +#define PLA_PREHEAT_HPB_TEMP 70
 +#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +
 +#define ABS_PREHEAT_HOTEND_TEMP 240
 +#define ABS_PREHEAT_HPB_TEMP 100
 +#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
+ //#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
+ //#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
  
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
@@@ -330,64 -332,54 +341,85 @@@
  // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
  //#define G3D_PANEL
  
+ // The RepRapDiscount FULL GRAPHIC Smart Controller (quadratic white PCB)
+ // http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
+ //
+ // ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+ //#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+ 
  //automatic expansion
+ #if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
+  #define DOGLCD
+  #define U8GLIB_ST7920
+  #define REPRAP_DISCOUNT_SMART_CONTROLLER
+ #endif
+ 
  #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
   #define ULTIPANEL
   #define NEWPANEL
  #endif 
  
 -// Preheat Constants
 -#define PLA_PREHEAT_HOTEND_TEMP 180 
 -#define PLA_PREHEAT_HPB_TEMP 70
 -#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +//I2C PANELS
  
 -#define ABS_PREHEAT_HOTEND_TEMP 240
 -#define ABS_PREHEAT_HPB_TEMP 100
 -#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +//#define LCD_I2C_SAINSMART_YWROBOT
 +#ifdef LCD_I2C_SAINSMART_YWROBOT
 +  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
 +  // Make sure it is placed in the Arduino libraries directory.
 +  #define LCD_I2C_TYPE_PCF8575
 +  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
  
 +// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 +//#define LCD_I2C_PANELOLU2
 +#ifdef LCD_I2C_PANELOLU2
 +  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 +  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 +  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
 +  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
 +  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
 +  #define LCD_I2C_TYPE_MCP23017
 +  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 +  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
 +
 +// Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 +//#define LCD_I2C_VIKI
 +#ifdef LCD_I2C_VIKI
 +  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
 +  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
 +  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
 +  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
 +  #define LCD_I2C_TYPE_MCP23017 
 +  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
 +  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
 +  #define NEWPANEL
 +  #define ULTIPANEL 
 +#endif
  
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
-   #define LCD_WIDTH 20
-   #define LCD_HEIGHT 4
-   
+ 	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
+ 		#define LCD_WIDTH 20
+ 		#define LCD_HEIGHT 5
+ 	#else
+ 		#define LCD_WIDTH 20
+ 		#define LCD_HEIGHT 4
+ 	#endif
  #else //no panel but just lcd 
    #ifdef ULTRA_LCD
-     #define LCD_WIDTH 16
-     #define LCD_HEIGHT 2    
+ 	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
+ 		#define LCD_WIDTH 20
+ 		#define LCD_HEIGHT 5
+ 	#else
+ 		#define LCD_WIDTH 16
+ 		#define LCD_HEIGHT 2
+ 	#endif    
    #endif
  #endif
  

commit d71f1e9bf64cfc5b80b8f9eac5ae433d7a5b138e
Author: Lukasz Stefanowicz <l.s.stefanowicz@gmail.com>
Date:   Wed Apr 24 10:50:57 2013 +0200

    Add (as an option) slower SD transfer mode

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 12814fbe30..9b07d14b6a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -319,6 +319,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
+//#define SDSLOW // Use slower SD transfer mode (not normally needed - uncomment if you're getting volume init error)
 
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse

commit 13596e872238ba7ab2f072df2b056c2e6940bda6
Author: MaikStohn <git@stohn.de>
Date:   Tue Apr 16 14:21:39 2013 +0200

    Added RepRapDiscount FULL GRAPHIC Smart Controller

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index dd9975734b..12814fbe30 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -331,7 +331,19 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //#define G3D_PANEL
 
+// The RepRapDiscount FULL GRAPHIC Smart Controller (quadratic white PCB)
+// http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller
+//
+// ==> REMEMBER TO INSTALL U8glib to your ARDUINO library folder: http://code.google.com/p/u8glib/wiki/u8glib
+//#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER
+
 //automatic expansion
+#if defined (REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
+ #define DOGLCD
+ #define U8GLIB_ST7920
+ #define REPRAP_DISCOUNT_SMART_CONTROLLER
+#endif
+
 #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
  #define ULTIPANEL
  #define NEWPANEL

commit c80a78bb704604e568a9931f2d6f1c80c2395e35
Author: daid303 <daid303@gmail.com>
Date:   Fri Apr 12 13:54:38 2013 +0200

    Lower the default max E feedrate a bit. With the stepper fix this is much to high.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index be00ae5312..dd9975734b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -283,7 +283,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // default settings 
 
 #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 25}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 

commit 7a5c474d91435de2368219958bd15982ba27a672
Author: ErikZalm <erik@vdzalm.eu>
Date:   Thu Mar 28 21:27:50 2013 +0100

    Update Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 15518f2de3..be00ae5312 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -26,8 +26,8 @@
 // 12 = Gen7 v1.3
 // 13 = Gen7 v1.4
 // 3  = MEGA/RAMPS up to 1.2 = 3
-// 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
-// 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
+// 33 = RAMPS 1.3 / 1.4 (Power outputs: Extruder, Bed, Fan)
+// 34 = RAMPS 1.3 / 1.4 (Power outputs: Extruder0, Extruder1, Bed)
 // 4  = Duemilanove w/ ATMega328P pin assignment
 // 5  = Gen6
 // 51 = Gen6 deluxe

commit 9fb8bd56854b49864ea44406d1b1ff213f843375
Merge: aa816ee81c fd5b7e0cec
Author: ErikZalm <erik@vdzalm.eu>
Date:   Mon Mar 25 13:11:34 2013 -0700

    Merge pull request #433 from whosawhatsis/bang-mode
    
    Separate PID_MAX from BANG_MAX

diff --combined Marlin/Configuration.h
index 54929bac3d,6019200884..15518f2de3
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -38,7 -38,6 +38,7 @@@
  // 7  = Ultimaker
  // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
  // 8  = Teensylu
 +// 80 = Rumba
  // 81 = Printrboard (AT90USB1286)
  // 82 = Brainwave (AT90USB646)
  // 9  = Gen3+
@@@ -118,7 -117,8 +118,8 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
- #define PID_MAX 256 // limits current to nozzle; 256=full current
+ #define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
+ #define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port. 
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX

commit 9322c408c68bc7c5edd88bf674f9f85fa0d2ffc5
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Sun Mar 24 18:19:58 2013 +1100

    Updated for LiquidTWI2 library version 1.2.3
    
    The new version of the library means that PANELOLU no longer needs to be
    defined in LiquidTWI.h (the library file can be used as is) and the new
    version of the library also enables the buzzer on the Panucatt VIKI
    panel.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ba20c6c04b..71f0ca4557 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -348,11 +348,12 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #define ULTIPANEL 
 #endif
 
-//PANELOLU2 LCD with status LEDs, separate encoder and click inputs
+// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 //#define LCD_I2C_PANELOLU2
 #ifdef LCD_I2C_PANELOLU2
-  // This uses the LiquidTWI2 library ( https://github.com/lincomatic/LiquidTWI2 )
-  // Make sure it is placed in the Arduino or Sketchbook libraries directory.
+  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
+  // (v1.2.3 no longer requires you to define PANELOLU in the LiquidTWI2.h library header file)
   // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
   //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
   #define LCD_I2C_TYPE_MCP23017
@@ -362,15 +363,16 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #define ULTIPANEL 
 #endif
 
-//Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+// Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 //#define LCD_I2C_VIKI
 #ifdef LCD_I2C_VIKI
-  // This uses the LiquidTWI2 library ( https://github.com/lincomatic/LiquidTWI2 )
-  // Make sure it is placed in the Arduino or Sketchbook libraries directory.
+  // This uses the LiquidTWI2 library v1.2.3 or later ( https://github.com/lincomatic/LiquidTWI2 )
+  // Make sure the LiquidTWI2 directory is placed in the Arduino or Sketchbook libraries subdirectory.
   // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
   //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
   #define LCD_I2C_TYPE_MCP23017 
   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD (requires LiquidTWI2 v1.2.3 or later)
   #define NEWPANEL
   #define ULTIPANEL 
 #endif

commit fd5b7e0cec6f03a744876ebd48b0845072fc3564
Author: whosawhatsis <whosawhatsis@gmail.com>
Date:   Fri Mar 22 18:16:26 2013 -0700

    Separate PID_MAX from BANG_MAX
    
    This allows PID_FUNCTIONAL_RANGE to use a maximum duty cycle higher
    than PID_MAX. This is useful for powerful heaters to heat quickly in
    bang-bang mode, but use a lower duty cycle that is easier to stabilize
    in PID mode.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8031272db6..6019200884 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -117,7 +117,8 @@
 // PID settings:
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
-#define PID_MAX 256 // limits current to nozzle; 256=full current
+#define BANG_MAX 256 // limits current to nozzle while in bang-bang mode; 256=full current
+#define PID_MAX 256 // limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 256=full current
 #ifdef PIDTEMP
   //#define PID_DEBUG // Sends debug data to the serial port. 
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX

commit 72419f69a91b13faab3c62dd62a918a6f5e3fc23
Author: blddk <michael.andresen@gmail.com>
Date:   Fri Mar 22 18:41:54 2013 +0100

    Added rumba

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8031272db6..54929bac3d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -38,6 +38,7 @@
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 // 8  = Teensylu
+// 80 = Rumba
 // 81 = Printrboard (AT90USB1286)
 // 82 = Brainwave (AT90USB646)
 // 9  = Gen3+

commit aba67e244922d8c71e26a215c06752c36743ae37
Author: Nicolas Rossi <nixouille@gmail.com>
Date:   Tue Mar 5 15:51:24 2013 +0100

    No bed config for RAMPS
    
    The motherboard 35 is a config without bed with this pins setting :
    D8 Extruder
    D9 Fan
    D10 Controller Fan

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d1027a0fe..819ae30b98 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -28,6 +28,7 @@
 // 3  = MEGA/RAMPS up to 1.2 = 3
 // 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
 // 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
+// 35 = RAMPS 1.3 (Power outputs: Extruder, Fan, Fan)
 // 4  = Duemilanove w/ ATMega328P pin assignment
 // 5  = Gen6
 // 51 = Gen6 deluxe
@@ -316,9 +317,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
-
-// The GADGETS3D G3D LCD/SD Controller (blue PCB)
-// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+
+// The GADGETS3D G3D LCD/SD Controller (blue PCB)
+// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //#define G3D_PANEL
 
 //automatic expansion

commit 7bad72359c5f2c78096810fffbf809bb8c30b58b
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Sun Mar 3 18:47:50 2013 +1100

    Support encoder click on PANELOLU2 being read through I2C
    
    This change also handles the case where the pause/stop/restart button on
    the VIKI is not used. Make LCD I2C buzz sound the same as the normal
    buzz (300ms is too long for quick feedback).

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 492a32361b..ba20c6c04b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -351,8 +351,10 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 //#define LCD_I2C_PANELOLU2
 #ifdef LCD_I2C_PANELOLU2
-  // This uses the LiquidTWI2 library ( https://github.com/lincomatic/LiquidTWI2 ).
-  // Make sure it is placed in the Arduino libraries directory.
+  // This uses the LiquidTWI2 library ( https://github.com/lincomatic/LiquidTWI2 )
+  // Make sure it is placed in the Arduino or Sketchbook libraries directory.
+  // Note: The PANELOLU2 encoder click input can either be directly connected to a pin 
+  //       (if BTN_ENC defined to != -1) or read through I2C (when BTN_ENC == -1). 
   #define LCD_I2C_TYPE_MCP23017
   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
   #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
@@ -360,11 +362,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #define ULTIPANEL 
 #endif
 
-//VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+//Panucatt VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 //#define LCD_I2C_VIKI
 #ifdef LCD_I2C_VIKI
-  // This uses the LiquidTWI2 library (https://github.com/lincomatic/LiquidTWI2).
-  // Make sure it is placed in the Arduino libraries directory.
+  // This uses the LiquidTWI2 library ( https://github.com/lincomatic/LiquidTWI2 )
+  // Make sure it is placed in the Arduino or Sketchbook libraries directory.
+  // Note: The pause/stop/resume LCD button pin should be connected to the Arduino
+  //       BTN_ENC pin (or set BTN_ENC to -1 if not used)
   #define LCD_I2C_TYPE_MCP23017 
   #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
   #define NEWPANEL

commit 1daf2f325668385a6ea527c770e8f6e663d2a425
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Sat Mar 2 16:14:19 2013 +1100

    Number of extruders is not an advanced configuration - it is a basic property.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ba908b06e..27922bf717 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -49,6 +49,9 @@
 #define MOTHERBOARD 7
 #endif
 
+// This defines the number of extruders
+#define EXTRUDERS 1
+
 //// The following define selects which power supply you have. Please choose the one that matches your setup
 // 1 = ATX
 // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
@@ -322,9 +325,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
-
-// The GADGETS3D G3D LCD/SD Controller (blue PCB)
-// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+
+// The GADGETS3D G3D LCD/SD Controller (blue PCB)
+// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //#define G3D_PANEL
 
 //automatic expansion

commit b2c1c64fb104906886c17c44fda5e8906b4a9258
Author: Dirk Eichel <eichel@bytelink.de>
Date:   Fri Mar 1 17:39:54 2013 +0100

    Add Motherboard variant 64 - STB V1.1
    
    Definition for the graphic LCD are already in it, they will not harm the
    configuration as they are only defined constants

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ba908b06e..8031272db6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -34,6 +34,7 @@
 // 6  = Sanguinololu < 1.2
 // 62 = Sanguinololu 1.2 and above
 // 63 = Melzi
+// 64 = STB V1.1
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 // 8  = Teensylu
@@ -314,6 +315,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
+//#define DOGLCD	// Support for SPI LCD 128x64 (Controller ST7565R graphic Display Family)
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
@@ -322,9 +324,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
-
-// The GADGETS3D G3D LCD/SD Controller (blue PCB)
-// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+
+// The GADGETS3D G3D LCD/SD Controller (blue PCB)
+// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //#define G3D_PANEL
 
 //automatic expansion
@@ -347,13 +349,22 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT
   #define ULTRA_LCD
-  #define LCD_WIDTH 20
-  #define LCD_HEIGHT 4
-  
+	#ifdef DOGLCD	// Change number of lines to match the DOG graphic display
+		#define LCD_WIDTH 20
+		#define LCD_HEIGHT 5
+	#else
+		#define LCD_WIDTH 20
+		#define LCD_HEIGHT 4
+	#endif
 #else //no panel but just lcd 
   #ifdef ULTRA_LCD
-    #define LCD_WIDTH 16
-    #define LCD_HEIGHT 2    
+	#ifdef DOGLCD	// Change number of lines to match the 128x64 graphics display
+		#define LCD_WIDTH 20
+		#define LCD_HEIGHT 5
+	#else
+		#define LCD_WIDTH 16
+		#define LCD_HEIGHT 2
+	#endif    
   #endif
 #endif
 

commit 6beb42cdf65971aeca93868305ed93ae6ed732eb
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Fri Mar 1 01:17:07 2013 +1100

    Attempt to address Bernhard's comments
    
    Refactor configuration to try to make items clearer (what defines a
    panel vs what is user changeable).

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2cc80dd30c..492a32361b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -336,44 +336,39 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
  #define NEWPANEL
 #endif 
 
-// I2C PANELS
+//I2C PANELS
 
 //#define LCD_I2C_SAINSMART_YWROBOT
 #ifdef LCD_I2C_SAINSMART_YWROBOT
   // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
   // Make sure it is placed in the Arduino libraries directory.
   #define LCD_I2C_TYPE_PCF8575
-  #define LCD_I2C
-  #define ULTIPANEL
-  #define NEWPANEL
   #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+  #define NEWPANEL
+  #define ULTIPANEL 
 #endif
 
-// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
+//PANELOLU2 LCD with status LEDs, separate encoder and click inputs
 //#define LCD_I2C_PANELOLU2
 #ifdef LCD_I2C_PANELOLU2
   // This uses the LiquidTWI2 library ( https://github.com/lincomatic/LiquidTWI2 ).
   // Make sure it is placed in the Arduino libraries directory.
   #define LCD_I2C_TYPE_MCP23017
-  #define LCD_I2C
-  #define ULTIPANEL
+  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
+  #define LCD_USE_I2C_BUZZER //comment out to disable buzzer on LCD
   #define NEWPANEL
-  #define LCD_I2C_ADDRESS 0x20
-  #define LCD_HAS_I2C_BUZZ //comment out to disable buzzer on LCD
-  #define LCD_HAS_STATUS_INDICATORS  
+  #define ULTIPANEL 
 #endif
 
-// VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+//VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
 //#define LCD_I2C_VIKI
 #ifdef LCD_I2C_VIKI
   // This uses the LiquidTWI2 library (https://github.com/lincomatic/LiquidTWI2).
   // Make sure it is placed in the Arduino libraries directory.
-  #define LCD_I2C_TYPE_MCP23017
-  #define LCD_I2C
-  #define ULTIPANEL
+  #define LCD_I2C_TYPE_MCP23017 
+  #define LCD_I2C_ADDRESS 0x20 // I2C Address of the port expander
   #define NEWPANEL
-  #define LCD_I2C_ADDRESS 0x20
-  #define LCD_HAS_STATUS_INDICATORS  
+  #define ULTIPANEL 
 #endif
 
 #ifdef ULTIPANEL

commit 839bef6d5d436055c6cef051b6b32a84bd18d05a
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Thu Feb 28 02:32:20 2013 +1100

    Fix Configuration.h file to not define LCDs be default.
    
    Also fix compile time check in Marlin.pde

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e88515b5ec..2cc80dd30c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -320,7 +320,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
-#define ULTIPANEL  //the ultipanel as on thingiverse
+//#define ULTIPANEL  //the ultipanel as on thingiverse
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
@@ -338,11 +338,12 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // I2C PANELS
 
-#define LCD_I2C_SAINSMART_YWROBOT
+//#define LCD_I2C_SAINSMART_YWROBOT
 #ifdef LCD_I2C_SAINSMART_YWROBOT
   // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
   // Make sure it is placed in the Arduino libraries directory.
   #define LCD_I2C_TYPE_PCF8575
+  #define LCD_I2C
   #define ULTIPANEL
   #define NEWPANEL
   #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
@@ -354,6 +355,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   // This uses the LiquidTWI2 library ( https://github.com/lincomatic/LiquidTWI2 ).
   // Make sure it is placed in the Arduino libraries directory.
   #define LCD_I2C_TYPE_MCP23017
+  #define LCD_I2C
   #define ULTIPANEL
   #define NEWPANEL
   #define LCD_I2C_ADDRESS 0x20
@@ -367,6 +369,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   // This uses the LiquidTWI2 library (https://github.com/lincomatic/LiquidTWI2).
   // Make sure it is placed in the Arduino libraries directory.
   #define LCD_I2C_TYPE_MCP23017
+  #define LCD_I2C
   #define ULTIPANEL
   #define NEWPANEL
   #define LCD_I2C_ADDRESS 0x20

commit 1292d735baa8106996d7c2b545e0f4470624375d
Author: Robert F-C <rfairliecuninghame@yahoo.com>
Date:   Thu Feb 28 02:04:51 2013 +1100

    Converge all I2C LCD branches (PANELOLU2, VIKI & PCF8575)
    
    This includes refactoring the buttons code to remove a large amount of
    non-pin dependent duplication from pins.h.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d47b24cc46..e88515b5ec 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -306,12 +306,21 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // please keep turned on if you can.
 //#define EEPROM_CHITCHAT
 
+// Preheat Constants
+#define PLA_PREHEAT_HOTEND_TEMP 180 
+#define PLA_PREHEAT_HPB_TEMP 70
+#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+
+#define ABS_PREHEAT_HOTEND_TEMP 240
+#define ABS_PREHEAT_HPB_TEMP 100
+#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
-//#define ULTIPANEL  //the ultipanel as on thingiverse
+#define ULTIPANEL  //the ultipanel as on thingiverse
 
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
@@ -327,15 +336,42 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
  #define NEWPANEL
 #endif 
 
-// Preheat Constants
-#define PLA_PREHEAT_HOTEND_TEMP 180 
-#define PLA_PREHEAT_HPB_TEMP 70
-#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+// I2C PANELS
 
-#define ABS_PREHEAT_HOTEND_TEMP 240
-#define ABS_PREHEAT_HPB_TEMP 100
-#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+#define LCD_I2C_SAINSMART_YWROBOT
+#ifdef LCD_I2C_SAINSMART_YWROBOT
+  // This uses the LiquidCrystal_I2C library ( https://bitbucket.org/fmalpartida/new-liquidcrystal/wiki/Home )
+  // Make sure it is placed in the Arduino libraries directory.
+  #define LCD_I2C_TYPE_PCF8575
+  #define ULTIPANEL
+  #define NEWPANEL
+  #define LCD_I2C_ADDRESS 0x27   // I2C Address of the port expander
+#endif
 
+// PANELOLU2 LCD with status LEDs, separate encoder and click inputs
+//#define LCD_I2C_PANELOLU2
+#ifdef LCD_I2C_PANELOLU2
+  // This uses the LiquidTWI2 library ( https://github.com/lincomatic/LiquidTWI2 ).
+  // Make sure it is placed in the Arduino libraries directory.
+  #define LCD_I2C_TYPE_MCP23017
+  #define ULTIPANEL
+  #define NEWPANEL
+  #define LCD_I2C_ADDRESS 0x20
+  #define LCD_HAS_I2C_BUZZ //comment out to disable buzzer on LCD
+  #define LCD_HAS_STATUS_INDICATORS  
+#endif
+
+// VIKI LCD with status LEDs, integrated click & L/R/U/P buttons, separate encoder inputs
+//#define LCD_I2C_VIKI
+#ifdef LCD_I2C_VIKI
+  // This uses the LiquidTWI2 library (https://github.com/lincomatic/LiquidTWI2).
+  // Make sure it is placed in the Arduino libraries directory.
+  #define LCD_I2C_TYPE_MCP23017
+  #define ULTIPANEL
+  #define NEWPANEL
+  #define LCD_I2C_ADDRESS 0x20
+  #define LCD_HAS_STATUS_INDICATORS  
+#endif
 
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
@@ -351,15 +387,6 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #endif
 #endif
 
-//The LCD is attached via an I2C port expander.
-//#define LCD_I2C
-#ifdef LCD_I2C
-  // Port Expander Type - 0=PCF8574 sainsmart/ywrobot
-  #define LCD_I2C_TYPE 0
-  // I2C Address of the port expander
-  #define LCD_I2C_ADDRESS 0x27
-#endif
-
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 

commit 67710df9f3ac7921502f0444f4cc5621fbd645ce
Author: MendelMax <mendelmax@hacman-pc1.hacman>
Date:   Tue Feb 26 22:22:12 2013 +0000

    Made i2c mode wok with the hardware I am able to test (ywrobot  / sainsmart i2c LCD 2004)
    
    Removed incorrect LiquidCrystal_I2C Library

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index bd0ac931fb..d47b24cc46 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -354,10 +354,10 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //The LCD is attached via an I2C port expander.
 //#define LCD_I2C
 #ifdef LCD_I2C
-  // Port Expander Type - 0=PCF8574 or 1=MCP23008
+  // Port Expander Type - 0=PCF8574 sainsmart/ywrobot
   #define LCD_I2C_TYPE 0
   // I2C Address of the port expander
-  #define LCD_I2C_ADDRESS 0x20
+  #define LCD_I2C_ADDRESS 0x27
 #endif
 
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino

commit 2b567d1df55b9762f79736df7c9eb9f64e22cc73
Author: Bob Clough <bob@clough.me>
Date:   Mon Feb 25 14:22:14 2013 +0000

    Added I2C port expander support to HD44780

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 75dcc3cc4f..bd0ac931fb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -354,8 +354,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //The LCD is attached via an I2C port expander.
 //#define LCD_I2C
 #ifdef LCD_I2C
-  // Port Expander Type - PCF8574 or MCP23008
-  #define LCD_I2C_TYPE PCF8574
+  // Port Expander Type - 0=PCF8574 or 1=MCP23008
+  #define LCD_I2C_TYPE 0
   // I2C Address of the port expander
   #define LCD_I2C_ADDRESS 0x20
 #endif

commit 06272f463d523a914a972e9b5ec1ef687c3f41c7
Author: Bob Clough <bob@clough.me>
Date:   Mon Feb 25 14:14:46 2013 +0000

    Added Config variables for activating I2C LCDs and setting type and address

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d1027a0fe..75dcc3cc4f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -316,9 +316,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
-
-// The GADGETS3D G3D LCD/SD Controller (blue PCB)
-// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+
+// The GADGETS3D G3D LCD/SD Controller (blue PCB)
+// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
 //#define G3D_PANEL
 
 //automatic expansion
@@ -351,6 +351,15 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #endif
 #endif
 
+//The LCD is attached via an I2C port expander.
+//#define LCD_I2C
+#ifdef LCD_I2C
+  // Port Expander Type - PCF8574 or MCP23008
+  #define LCD_I2C_TYPE PCF8574
+  // I2C Address of the port expander
+  #define LCD_I2C_ADDRESS 0x20
+#endif
+
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
 //#define FAST_PWM_FAN
 

commit 70871715e46770637623d2ab9488694c5e63f434
Author: Denis B <den_at_okob_net>
Date:   Mon Feb 4 23:05:45 2013 -0500

    Added support for extruder offset handling
    
    The extruder offset can be specified in the configuration
    file or adjusted on the fly using the "M218 T# X# Y#" command.
    The EEPROM support is not yet merged in.
    The "T#" command can take option "F#" that specifies the feedrate
    at which the printing head should be re-positioned. If not
    specified the re-positioning move is not preformed immediately,
    but the coordinates are adjusted for the printer to properly
    position the head when the next movement happens.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9d1027a0fe..0ba908b06e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -286,7 +286,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
-// 
+// Offset of the extruders (uncomment if using more than one and relying on firmware to position when changing).
+// The offset has to be X=0, Y=0 for the extruder 0 hotend (default extruder).
+// For the other hotends it is their distance from the extruder 0 hotend.
+// #define EXTRUDER_OFFSET_X {0.0, 20.00} // (in mm) for each extruder, offset of the hotend on the X axis
+// #define EXTRUDER_OFFSET_Y {0.0, 5.00}  // (in mm) for each extruder, offset of the hotend on the Y axis
+
+// The speed change that does not require acceleration (i.e. the software might assume it can be done instanteneously)
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
 #define DEFAULT_EJERK                 5.0    // (mm/sec)

commit 9ecb267b631c51bb3f6c19c1bf796a00530735cd
Merge: 3cf59f6f9a c1730e2b08
Author: Daniele Sdei <danielesdei@madefree.eu>
Date:   Mon Jan 14 15:47:40 2013 +0100

    Merge remote-tracking branch 'upstream/Marlin_v1' into Marlin_v1

diff --combined Marlin/Configuration.h
index db3aed73f1,15495dff8c..9d1027a0fe
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -49,7 -49,11 +49,11 @@@
  #define MOTHERBOARD 7
  #endif
  
+ //// The following define selects which power supply you have. Please choose the one that matches your setup
+ // 1 = ATX
+ // 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
  
+ #define POWER_SUPPLY 1
  
  //===========================================================================
  //=============================Thermal Settings  ============================
@@@ -68,9 -72,6 +72,9 @@@
  // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
  // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
  // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
 +// 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
 +// 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
 +// 10 is 100k RS thermistor 198-961 (4.7k pullup)
  //
  //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
  //                          (but gives greater accuracy and more stable PID)
@@@ -112,7 -113,7 +116,7 @@@
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
- #define PID_MAX 255 // limits current to nozzle; 255=full current
+ #define PID_MAX 256 // limits current to nozzle; 256=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port. 
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
@@@ -155,9 -156,9 +159,9 @@@
  
  // This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
  // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
- // setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+ // setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
  // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
- #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
+ #define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
  
  #ifdef PIDTEMPBED
  //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
@@@ -309,13 -310,16 +313,16 @@@ const bool Z_ENDSTOPS_INVERTING = true
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
  
- // The RepRapDiscount Smart Controller
+ // The RepRapDiscount Smart Controller (white PCB)
  // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
  //#define REPRAP_DISCOUNT_SMART_CONTROLLER
- 
+ 
+ // The GADGETS3D G3D LCD/SD Controller (blue PCB)
+ // http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+ //#define G3D_PANEL
  
  //automatic expansion
- #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER)
+ #if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
   #define ULTIPANEL
   #define NEWPANEL
  #endif 

commit 3cf59f6f9a5015c549941e9bef792ffa6dd4c6dd
Author: Daniele Sdei <danielesdei@madefree.eu>
Date:   Sun Dec 30 12:09:38 2012 +0100

    add RepRapPro Huxley thermistor tables

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d7d35d2400..db3aed73f1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -68,6 +68,9 @@
 // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
 // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
 // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
+// 8 is 100k 0603 SMD Vishay NTCS0603E3104FXT (4.7k pullup)
+// 9 is 100k GE Sensing AL03006-58.2K-97-G1 (4.7k pullup)
+// 10 is 100k RS thermistor 198-961 (4.7k pullup)
 //
 //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
 //                          (but gives greater accuracy and more stable PID)

commit bbe7d3d0fe010a93f9142ff1d72cb7fd4f525356
Author: daid303 <daid303@gmail.com>
Date:   Tue Jan 8 17:09:57 2013 +0100

    Fixed #312

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1d2a481116..15495dff8c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -310,13 +310,16 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse
 
-// The RepRapDiscount Smart Controller
+// The RepRapDiscount Smart Controller (white PCB)
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 //#define REPRAP_DISCOUNT_SMART_CONTROLLER
-
+
+// The GADGETS3D G3D LCD/SD Controller (blue PCB)
+// http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel
+//#define G3D_PANEL
 
 //automatic expansion
-#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER)
+#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER) || defined(G3D_PANEL)
  #define ULTIPANEL
  #define NEWPANEL
 #endif 

commit 8b88e3b386e04491183c7ad6f64b33a51faba688
Author: daid303 <daid303@gmail.com>
Date:   Tue Jan 8 12:14:55 2013 +0100

    Fixed #345, Fixed #267.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5bad2d583a..1d2a481116 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -113,7 +113,7 @@
 // PID settings:
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
-#define PID_MAX 255 // limits current to nozzle; 255=full current
+#define PID_MAX 256 // limits current to nozzle; 256=full current
 #ifdef PIDTEMP
   //#define PID_DEBUG // Sends debug data to the serial port. 
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
@@ -156,9 +156,9 @@
 
 // This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
 // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
-// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+// setting this to anything other than 256 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
 // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
-#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
+#define MAX_BED_POWER 256 // limits duty cycle to bed; 256=full current
 
 #ifdef PIDTEMPBED
 //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)

commit f3c1fc70a90223012571ded15257ce43f34d906c
Author: Nicolas Rossi <nixouille@gmail.com>
Date:   Mon Jan 7 14:33:30 2013 +0100

    Power signal control definitions for ATX and others

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d7d35d2400..5bad2d583a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -49,7 +49,11 @@
 #define MOTHERBOARD 7
 #endif
 
+//// The following define selects which power supply you have. Please choose the one that matches your setup
+// 1 = ATX
+// 2 = X-Box 360 203Watts (the blue wire connected to PS_ON and the red wire to VCC)
 
+#define POWER_SUPPLY 1
 
 //===========================================================================
 //=============================Thermal Settings  ============================

commit 6752cb2d9ce085ed1df760475adac46a959009c4
Author: Erik vd Zalm <erik@vdzalm.eu>
Date:   Sun Jan 6 14:26:23 2013 +0100

    PID now per extruder. Fixed typo

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 080462d25e..94bacabc39 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -136,6 +136,17 @@
 //    #define  DEFAULT_Kd 440
 #endif // PIDTEMP
 
+// PID parameters for 2nd extruder
+    #define DEFAULT_Kp_E1 22.2
+    #define DEFAULT_Ki_E1 1.08
+    #define DEFAULT_Kd_E1 114
+
+
+// PID parameters for 3th extruder
+//    #define DEFAULT_Kp_E2 22.2
+//    #define DEFAULT_Ki_E2 1.08
+//    #define DEFAULT_Kd_E2 114
+
 // Bed Temperature Control
 // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 //

commit 0ac452e2524df00d4dd97d4dfecd6d346592e4d7
Author: Erik vd Zalm <erik@vdzalm.eu>
Date:   Sun Jan 6 13:37:01 2013 +0100

    Disable is now multi extruder compatible. M84 got a T option.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d7d35d2400..080462d25e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -46,7 +46,7 @@
 // 301 = Rambo
 
 #ifndef MOTHERBOARD
-#define MOTHERBOARD 7
+#define MOTHERBOARD 34
 #endif
 
 

commit 9e7b5056a0a02921d1e31d511b34efc9732e3c88
Author: Johann Rocholl <johann@rocholl.net>
Date:   Fri Dec 28 16:20:10 2012 -0800

    {X,Y,Z}_{MIN,MAX}_POS are actually in Gcode coordinates.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 836ac6f24d..f66db708b2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -275,16 +275,14 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define Y_HOME_DIR 1
 #define Z_HOME_DIR 1
 
-#define min_software_endstops false //If true, axis won't move to coordinates less than HOME_POS.
-#define max_software_endstops false //If true, axis won't move to coordinates greater than the defined lengths below.
-
-// Travel limits after homing
-// For deltabots, the MAX_POS doesn't have to be exact, it will be recalculated from MANUAL_Z_HOME_POS below.
-#define X_MAX_POS 620
-#define X_MIN_POS 0
-#define Y_MAX_POS 620
-#define Y_MIN_POS 0
-#define Z_MAX_POS 620
+#define min_software_endstops true //If true, axis won't move to coordinates less than *_MIN_POS.
+#define max_software_endstops true //If true, axis won't move to coordinates greater than *_MAX_POS.
+
+#define X_MAX_POS 90
+#define X_MIN_POS -90
+#define Y_MAX_POS 90
+#define Y_MIN_POS -90
+#define Z_MAX_POS MANUAL_Z_HOME_POS
 #define Z_MIN_POS 0
 
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)

commit 1c2ecddae42996084860f0ce1fdd5caef1a469ff
Author: Johann Rocholl <johann@rocholl.net>
Date:   Sun Dec 16 12:33:44 2012 -0800

    Fix typo (# missing before define).

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 58ec7117f5..836ac6f24d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -292,7 +292,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 
 // The position of the homing switches
-define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
+#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
 //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
 
 // Manual homing switch locations:

commit 3b2e5027e5bbfcaac6e9ea3f924dda42dc8fef2a
Merge: 931a0052ea b39f5d614a
Author: Johann Rocholl <johann@rocholl.net>
Date:   Sun Dec 16 12:19:24 2012 -0800

    Merged updates from Marlin_v1.

diff --combined Marlin/Configuration.h
index 3035fb763a,d7d35d2400..58ec7117f5
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -9,7 -9,7 +9,7 @@@
  //Implementation of an idea by Prof Braino to inform user that any changes made
  //to this build by the user have been successfully uploaded into firmware.
  #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 -#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
 +#define STRING_CONFIG_H_AUTHOR "(jcrocholl, deltabot)" //Who made the changes.
  
  // SERIAL_PORT selects which serial port should be used for communication with the host.
  // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@@ -43,45 -43,13 +43,45 @@@
  // 70 = Megatronics
  // 90 = Alpha OMCA board
  // 91 = Final OMCA board
- // Rambo = 301
+ // 301 = Rambo
  
  #ifndef MOTHERBOARD
 -#define MOTHERBOARD 7
 +#define MOTHERBOARD 33
  #endif
  
 +//===========================================================================
 +//============================== Delta Settings =============================
 +//===========================================================================
 +
 +// Make delta curves from many straight lines (linear interpolation).
 +// This is a trade-off between visible corners (not enough segments)
 +// and processor overload (too many expensive sqrt calls).
 +#define DELTA_SEGMENTS_PER_SECOND 200
 +
 +// Center-to-center distance of the holes in the diagonal push rods.
 +#define DELTA_DIAGONAL_ROD 250.0 // mm
 +
 +// Horizontal offset from middle of printer to smooth rod center.
 +#define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
  
 +// Horizontal offset of the universal joints on the end effector.
 +#define DELTA_EFFECTOR_OFFSET 33.0 // mm
 +
 +// Horizontal offset of the universal joints on the carriages.
 +#define DELTA_CARRIAGE_OFFSET 18.0 // mm
 +
 +// Effective horizontal distance bridged by diagonal push rods.
 +#define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
 +
 +// Effective X/Y positions of the three vertical towers.
 +#define SIN_60 0.8660254037844386
 +#define COS_60 0.5
 +#define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
 +#define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
 +#define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
 +#define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
 +#define DELTA_TOWER3_X 0.0 // back middle tower
 +#define DELTA_TOWER3_Y DELTA_RADIUS
  
  //===========================================================================
  //=============================Thermal Settings  ============================
@@@ -107,7 -75,7 +107,7 @@@
  // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
  // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
  
 -#define TEMP_SENSOR_0 -1
 +#define TEMP_SENSOR_0 1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_BED 0
@@@ -145,9 -113,11 +145,11 @@@
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port. 
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
+   #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
+                                   // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
    #define K1 0.95 //smoothing factor withing the PID
-   #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the
+   #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
  
  // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
  // Ultimaker
@@@ -243,9 -213,9 +245,9 @@@
  #endif
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 -const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 -const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 -const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 +const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
 +const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
 +const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
  //#define DISABLE_MAX_ENDSTOPS
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@@ -260,29 -230,27 +262,29 @@@
  #define DISABLE_Z false
  #define DISABLE_E false // For all extruders
  
 -#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 +#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
  #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 -#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 +#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
  #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 -#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 +#define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  
  // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
 -#define X_HOME_DIR -1
 -#define Y_HOME_DIR -1
 -#define Z_HOME_DIR -1
 +#define X_HOME_DIR 1
 +#define Y_HOME_DIR 1
 +#define Z_HOME_DIR 1
 +
 +#define min_software_endstops false //If true, axis won't move to coordinates less than HOME_POS.
 +#define max_software_endstops false //If true, axis won't move to coordinates greater than the defined lengths below.
  
 -#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 -#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
  // Travel limits after homing
 -#define X_MAX_POS 205
 +// For deltabots, the MAX_POS doesn't have to be exact, it will be recalculated from MANUAL_Z_HOME_POS below.
 +#define X_MAX_POS 620
  #define X_MIN_POS 0
 -#define Y_MAX_POS 205
 +#define Y_MAX_POS 620
  #define Y_MIN_POS 0
 -#define Z_MAX_POS 200
 +#define Z_MAX_POS 620
  #define Z_MIN_POS 0
  
  #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
@@@ -290,32 -258,31 +292,32 @@@
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
  // The position of the homing switches
- #define MANUAL_HOME_POSITIONS  // If defined, manualy programed locations will be used
- //#define BED_CENTER_AT_0_0  // If defined the center of the bed is defined as (0,0)
 -//#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
++define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
+ //#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
  
 -//Manual homing switch locations:
 +// Manual homing switch locations:
 +// For deltabots this means top and center of the cartesian print volume.
  #define MANUAL_X_HOME_POS 0
  #define MANUAL_Y_HOME_POS 0
 -#define MANUAL_Z_HOME_POS 0
 +#define MANUAL_Z_HOME_POS 402  // Distance between nozzle and print surface after homing.
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 -#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 +#define HOMING_FEEDRATE {100*60, 100*60, 100*60, 0}  // set the homing speeds (mm/min)
  
  // default settings 
  
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
 -#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 -#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 40, 100}
 +#define DEFAULT_MAX_FEEDRATE          {300, 300, 300, 300}  // (mm/sec)
 +#define DEFAULT_MAX_ACCELERATION      {9000, 9000, 9000, 9000}    // X, Y, Z, E maximum start speed for accelerated moves.
  
 -#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 +#define DEFAULT_ACCELERATION          3000   // X, Y, Z and E max acceleration in mm/s^2 for printing moves
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
  // 
 -#define DEFAULT_XYJERK                20.0    // (mm/sec)
 -#define DEFAULT_ZJERK                 0.4     // (mm/sec)
 -#define DEFAULT_EJERK                 5.0    // (mm/sec)
 +#define DEFAULT_XYJERK                20.0   // (mm/sec)
 +#define DEFAULT_ZJERK                 20.0   // (mm/sec)
 +#define DEFAULT_EJERK                 20.0   // (mm/sec)
  
  //===========================================================================
  //=============================Additional Features===========================

commit 55ba90ac195caa11115d74ea267802a6aafb8aea
Author: daid303 <daid303@gmail.com>
Date:   Wed Dec 12 09:08:37 2012 +0100

    Add PID functional range setting. With high powered heaters the current functional range of 10 degrees causes high overshoots as the PID needs to kick in before the temperature hits 10 degrees below target.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9aa2e0d499..d7d35d2400 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -113,9 +113,11 @@
 #ifdef PIDTEMP
   //#define PID_DEBUG // Sends debug data to the serial port. 
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
+  #define PID_FUNCTIONAL_RANGE 10 // If the temperature difference between the target temperature and the actual temperature
+                                  // is more then PID_FUNCTIONAL_RANGE then the PID will be shut off and the heater will be set to min/max.
   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
   #define K1 0.95 //smoothing factor withing the PID
-  #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the
+  #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the temperature routine
 
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker

commit 5ff5cee8cee0edd2f23c4900dada506c72f4e37b
Author: daid303 <daid303@gmail.com>
Date:   Tue Dec 11 14:53:53 2012 +0100

    Fix the sensitive pin definitions, there where analogue numbers in the digital pin list. Also made M42 without a P function on the LED_PIN (which was otherwise a useless pin definition)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 842b060640..9aa2e0d499 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -43,7 +43,7 @@
 // 70 = Megatronics
 // 90 = Alpha OMCA board
 // 91 = Final OMCA board
-// Rambo = 301
+// 301 = Rambo
 
 #ifndef MOTHERBOARD
 #define MOTHERBOARD 7

commit 1f45cb0a5171a00c9b25565720d9f2b1fae3da43
Author: Johann Rocholl <johann@rocholl.net>
Date:   Tue Dec 11 01:54:40 2012 -0800

    Fix typo in MANUAL_HOME_POSITION (plural S missing) and improve comments.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9db8dee5f4..842b060640 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -256,8 +256,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 
 // The position of the homing switches
-//#define MANUAL_HOME_POSITIONS  // If defined, manualy programed locations will be used
-//#define BED_CENTER_AT_0_0  // If defined the center of the bed is defined as (0,0)
+//#define MANUAL_HOME_POSITIONS  // If defined, MANUAL_*_HOME_POS below will be used
+//#define BED_CENTER_AT_0_0  // If defined, the center of the bed is at (X=0, Y=0)
 
 //Manual homing switch locations:
 #define MANUAL_X_HOME_POS 0

commit c430906d3b4e49044494fa6c1ea76ec2354b1100
Author: Johann Rocholl <johann@rocholl.net>
Date:   Mon Dec 10 00:10:56 2012 -0800

    Deltabot settings and configuration adjustments.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9db8dee5f4..3035fb763a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -9,7 +9,7 @@
 //Implementation of an idea by Prof Braino to inform user that any changes made
 //to this build by the user have been successfully uploaded into firmware.
 #define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
-#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
+#define STRING_CONFIG_H_AUTHOR "(jcrocholl, deltabot)" //Who made the changes.
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.
@@ -46,10 +46,42 @@
 // Rambo = 301
 
 #ifndef MOTHERBOARD
-#define MOTHERBOARD 7
+#define MOTHERBOARD 33
 #endif
 
+//===========================================================================
+//============================== Delta Settings =============================
+//===========================================================================
+
+// Make delta curves from many straight lines (linear interpolation).
+// This is a trade-off between visible corners (not enough segments)
+// and processor overload (too many expensive sqrt calls).
+#define DELTA_SEGMENTS_PER_SECOND 200
+
+// Center-to-center distance of the holes in the diagonal push rods.
+#define DELTA_DIAGONAL_ROD 250.0 // mm
+
+// Horizontal offset from middle of printer to smooth rod center.
+#define DELTA_SMOOTH_ROD_OFFSET 175.0 // mm
 
+// Horizontal offset of the universal joints on the end effector.
+#define DELTA_EFFECTOR_OFFSET 33.0 // mm
+
+// Horizontal offset of the universal joints on the carriages.
+#define DELTA_CARRIAGE_OFFSET 18.0 // mm
+
+// Effective horizontal distance bridged by diagonal push rods.
+#define DELTA_RADIUS (DELTA_SMOOTH_ROD_OFFSET-DELTA_EFFECTOR_OFFSET-DELTA_CARRIAGE_OFFSET)
+
+// Effective X/Y positions of the three vertical towers.
+#define SIN_60 0.8660254037844386
+#define COS_60 0.5
+#define DELTA_TOWER1_X -SIN_60*DELTA_RADIUS // front left tower
+#define DELTA_TOWER1_Y -COS_60*DELTA_RADIUS
+#define DELTA_TOWER2_X SIN_60*DELTA_RADIUS // front right tower
+#define DELTA_TOWER2_Y -COS_60*DELTA_RADIUS
+#define DELTA_TOWER3_X 0.0 // back middle tower
+#define DELTA_TOWER3_Y DELTA_RADIUS
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -75,7 +107,7 @@
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
 
-#define TEMP_SENSOR_0 -1
+#define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_BED 0
@@ -211,9 +243,9 @@
 #endif
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
+const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
+const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops.
 //#define DISABLE_MAX_ENDSTOPS
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
@@ -228,27 +260,29 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DISABLE_Z false
 #define DISABLE_E false // For all extruders
 
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
+#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E1_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 // ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
-#define X_HOME_DIR -1
-#define Y_HOME_DIR -1
-#define Z_HOME_DIR -1
+#define X_HOME_DIR 1
+#define Y_HOME_DIR 1
+#define Z_HOME_DIR 1
+
+#define min_software_endstops false //If true, axis won't move to coordinates less than HOME_POS.
+#define max_software_endstops false //If true, axis won't move to coordinates greater than the defined lengths below.
 
-#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
-#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 // Travel limits after homing
-#define X_MAX_POS 205
+// For deltabots, the MAX_POS doesn't have to be exact, it will be recalculated from MANUAL_Z_HOME_POS below.
+#define X_MAX_POS 620
 #define X_MIN_POS 0
-#define Y_MAX_POS 205
+#define Y_MAX_POS 620
 #define Y_MIN_POS 0
-#define Z_MAX_POS 200
+#define Z_MAX_POS 620
 #define Z_MIN_POS 0
 
 #define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
@@ -256,31 +290,32 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 
 // The position of the homing switches
-//#define MANUAL_HOME_POSITIONS  // If defined, manualy programed locations will be used
+#define MANUAL_HOME_POSITIONS  // If defined, manualy programed locations will be used
 //#define BED_CENTER_AT_0_0  // If defined the center of the bed is defined as (0,0)
 
-//Manual homing switch locations:
+// Manual homing switch locations:
+// For deltabots this means top and center of the cartesian print volume.
 #define MANUAL_X_HOME_POS 0
 #define MANUAL_Y_HOME_POS 0
-#define MANUAL_Z_HOME_POS 0
+#define MANUAL_Z_HOME_POS 402  // Distance between nozzle and print surface after homing.
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
+#define HOMING_FEEDRATE {100*60, 100*60, 100*60, 0}  // set the homing speeds (mm/min)
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
-#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 40, 100}
+#define DEFAULT_MAX_FEEDRATE          {300, 300, 300, 300}  // (mm/sec)
+#define DEFAULT_MAX_ACCELERATION      {9000, 9000, 9000, 9000}    // X, Y, Z, E maximum start speed for accelerated moves.
 
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_ACCELERATION          3000   // X, Y, Z and E max acceleration in mm/s^2 for printing moves
 #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
 // 
-#define DEFAULT_XYJERK                20.0    // (mm/sec)
-#define DEFAULT_ZJERK                 0.4     // (mm/sec)
-#define DEFAULT_EJERK                 5.0    // (mm/sec)
+#define DEFAULT_XYJERK                20.0   // (mm/sec)
+#define DEFAULT_ZJERK                 20.0   // (mm/sec)
+#define DEFAULT_EJERK                 20.0   // (mm/sec)
 
 //===========================================================================
 //=============================Additional Features===========================

commit 42e21bb06ed614a5b148329a38fab44724862cd1
Author: Johann Rocholl <johann@rocholl.net>
Date:   Sat Dec 8 10:49:01 2012 -0800

    Add support for Printrboard (from https://github.com/lincomatic/Marlin) and Brainwave (from https://github.com/metrix/Sprinter).

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4aff7fe099..9db8dee5f4 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -37,6 +37,8 @@
 // 7  = Ultimaker
 // 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 // 8  = Teensylu
+// 81 = Printrboard (AT90USB1286)
+// 82 = Brainwave (AT90USB646)
 // 9  = Gen3+
 // 70 = Megatronics
 // 90 = Alpha OMCA board

commit f934d0ef5b4e8e9521312dad4ec9e7e8d74d93e5
Merge: e48dfcc2b3 ca811156a0
Author: Erik vd Zalm <erik@vdzalm.eu>
Date:   Wed Nov 21 20:36:30 2012 +0100

    Merge remote-tracking branch 'tonokip/Marlin_v1' into Marlin_v1
    
    Conflicts:
            Marlin/Configuration.h

diff --combined Marlin/Configuration.h
index 5611082f65,0efa6e8309..4aff7fe099
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -5,45 -5,35 +5,46 @@@
  // Advanced settings can be found in Configuration_adv.h 
  // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
 -//User specified version info of THIS file to display in [Pronterface, etc] terminal window during startup.
 +//User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
  //Implementation of an idea by Prof Braino to inform user that any changes made
 -//to THIS file by the user have been successfully uploaded into firmware.
 -#define STRING_VERSION_CONFIG_H "2012-05-02" //Personal revision number for changes to THIS file.
 -#define STRING_CONFIG_H_AUTHOR "erik" //Who made the changes.
 +//to this build by the user have been successfully uploaded into firmware.
 +#define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
 +#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
 +
 +// SERIAL_PORT selects which serial port should be used for communication with the host.
 +// This allows the connection of wireless adapters (for instance) to non-default port pins.
 +// Serial port 0 is still used by the Arduino bootloader regardless of this setting.
 +#define SERIAL_PORT 0
  
  // This determines the communication speed of the printer
  #define BAUDRATE 250000
  //#define BAUDRATE 115200
  
  //// The following define selects which electronics board you have. Please choose the one that matches your setup
 -// Gen7 custom (Alfons3 Version) = 10 "https://github.com/Alfons3/Generation_7_Electronics"
 -// Gen7 v1.1, v1.2 = 11
 -// Gen7 v1.3 = 12
 -// Gen7 v1.4 = 13
 -// MEGA/RAMPS up to 1.2 = 3
 -// RAMPS 1.3 = 33 (Power outputs: Extruder, Bed, Fan)
 -// RAMPS 1.3 = 34 (Power outputs: Extruder0, Extruder1, Bed)
 -// Gen6 = 5
 -// Gen6 deluxe = 51
 -// Sanguinololu 1.2 and above = 62
 -// Melzi = 63
 -// Ultimaker = 7
 -// Teensylu = 8
 -// Gen3+ =9
 +// 10 = Gen7 custom (Alfons3 Version) "https://github.com/Alfons3/Generation_7_Electronics"
 +// 11 = Gen7 v1.1, v1.2 = 11
 +// 12 = Gen7 v1.3
 +// 13 = Gen7 v1.4
 +// 3  = MEGA/RAMPS up to 1.2 = 3
 +// 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
 +// 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
 +// 4  = Duemilanove w/ ATMega328P pin assignment
 +// 5  = Gen6
 +// 51 = Gen6 deluxe
 +// 6  = Sanguinololu < 1.2
 +// 62 = Sanguinololu 1.2 and above
 +// 63 = Melzi
 +// 7  = Ultimaker
 +// 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
 +// 8  = Teensylu
 +// 9  = Gen3+
 +// 70 = Megatronics
 +// 90 = Alpha OMCA board
 +// 91 = Final OMCA board
+ // Rambo = 301
  
  #ifndef MOTHERBOARD
 -#define MOTHERBOARD 301
 +#define MOTHERBOARD 7
  #endif
  
  
@@@ -109,7 -99,7 +110,7 @@@
  #define PID_MAX 255 // limits current to nozzle; 255=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port. 
 -  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
 +  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
    #define K1 0.95 //smoothing factor withing the PID
    #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the
@@@ -131,44 -121,6 +132,44 @@@
  //    #define  DEFAULT_Kd 440
  #endif // PIDTEMP
  
 +// Bed Temperature Control
 +// Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
 +//
 +// uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
 +// If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
 +// which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
 +// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
 +// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
 +// shouldn't use bed PID until someone else verifies your hardware works.
 +// If this is enabled, find your own PID constants below.
 +//#define PIDTEMPBED
 +//
 +//#define BED_LIMIT_SWITCHING
 +
 +// This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
 +// all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
 +// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
 +// so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
 +#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
 +
 +#ifdef PIDTEMPBED
 +//120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 +//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
 +    #define  DEFAULT_bedKp 10.00
 +    #define  DEFAULT_bedKi .023
 +    #define  DEFAULT_bedKd 305.4
 +
 +//120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 +//from pidautotune
 +//    #define  DEFAULT_bedKp 97.1
 +//    #define  DEFAULT_bedKi 1.41
 +//    #define  DEFAULT_bedKd 1675.16
 +
 +// FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
 +#endif // PIDTEMPBED
 +
 +
 +
  //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
  //can be software-disabled for whatever purposes by
  #define PREVENT_DANGEROUS_EXTRUDE
@@@ -252,14 -204,10 +253,14 @@@ const bool Z_ENDSTOPS_INVERTING = true
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
 -// The position of the homing switches. Use MAX_LENGTH * -0.5 if the center should be 0, 0, 0
 -#define X_HOME_POS 0
 -#define Y_HOME_POS 0
 -#define Z_HOME_POS 0
 +// The position of the homing switches
 +//#define MANUAL_HOME_POSITIONS  // If defined, manualy programed locations will be used
 +//#define BED_CENTER_AT_0_0  // If defined the center of the bed is defined as (0,0)
 +
 +//Manual homing switch locations:
 +#define MANUAL_X_HOME_POS 0
 +#define MANUAL_Y_HOME_POS 0
 +#define MANUAL_Z_HOME_POS 0
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -301,26 -249,12 +302,26 @@@
  //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
  //#define ULTIPANEL  //the ultipanel as on thingiverse
  
 +// The RepRapDiscount Smart Controller
 +// http://reprap.org/wiki/RepRapDiscount_Smart_Controller
 +//#define REPRAP_DISCOUNT_SMART_CONTROLLER
 +
  
 -#ifdef ULTIMAKERCONTROLLER    //automatic expansion
 +//automatic expansion
 +#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER)
   #define ULTIPANEL
   #define NEWPANEL
  #endif 
 - 
 +
 +// Preheat Constants
 +#define PLA_PREHEAT_HOTEND_TEMP 180 
 +#define PLA_PREHEAT_HPB_TEMP 70
 +#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +
 +#define ABS_PREHEAT_HOTEND_TEMP 240
 +#define ABS_PREHEAT_HPB_TEMP 100
 +#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +
  
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
@@@ -329,6 -263,15 +330,6 @@@
    #define LCD_WIDTH 20
    #define LCD_HEIGHT 4
    
 -// Preheat Constants
 -  #define PLA_PREHEAT_HOTEND_TEMP 180 
 -  #define PLA_PREHEAT_HPB_TEMP 70
 -  #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 -
 -  #define ABS_PREHEAT_HOTEND_TEMP 240
 -  #define ABS_PREHEAT_HPB_TEMP 100
 -  #define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 -
  #else //no panel but just lcd 
    #ifdef ULTRA_LCD
      #define LCD_WIDTH 16
@@@ -343,9 -286,6 +344,9 @@@
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
  
 +// SF send wrong arc g-codes when using Arc Point as fillet procedure
 +//#define SF_ARC_FIX
 +
  #include "Configuration_adv.h"
  #include "thermistortables.h"
  

commit 2f771b3979a744ed387c0991447e722beb8716be
Author: Martin Lukasik <mlukasik@yazino.com>
Date:   Mon Nov 12 21:06:59 2012 +0000

    Added automatic build numbering.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 99331a476d..5611082f65 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -5,11 +5,11 @@
 // Advanced settings can be found in Configuration_adv.h 
 // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
 
-//User specified version info of THIS file to display in [Pronterface, etc] terminal window during startup.
+//User specified version info of this build to display in [Pronterface, etc] terminal window during startup.
 //Implementation of an idea by Prof Braino to inform user that any changes made
-//to THIS file by the user have been successfully uploaded into firmware.
-#define STRING_VERSION_CONFIG_H "2012-05-02" //Personal revision number for changes to THIS file.
-#define STRING_CONFIG_H_AUTHOR "erik" //Who made the changes.
+//to this build by the user have been successfully uploaded into firmware.
+#define STRING_VERSION_CONFIG_H __DATE__ " " __TIME__ // build date and time
+#define STRING_CONFIG_H_AUTHOR "(none, default config)" //Who made the changes.
 
 // SERIAL_PORT selects which serial port should be used for communication with the host.
 // This allows the connection of wireless adapters (for instance) to non-default port pins.

commit a27fef87509a83ccf6e95ba8bb36f694d89fef4d
Author: daid303 <daid303@gmail.com>
Date:   Sun Nov 11 11:06:58 2012 +0100

    Store the pre-heat constants outside of the ULTIPANEL define, so we can use them when storing EEPROM in a build without the ULTIPANEL.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 18c5fbf57a..99331a476d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -311,7 +311,16 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
  #define ULTIPANEL
  #define NEWPANEL
 #endif 
- 
+
+// Preheat Constants
+#define PLA_PREHEAT_HOTEND_TEMP 180 
+#define PLA_PREHEAT_HPB_TEMP 70
+#define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+
+#define ABS_PREHEAT_HOTEND_TEMP 240
+#define ABS_PREHEAT_HPB_TEMP 100
+#define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+
 
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
@@ -320,15 +329,6 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #define LCD_WIDTH 20
   #define LCD_HEIGHT 4
   
-// Preheat Constants
-  #define PLA_PREHEAT_HOTEND_TEMP 180 
-  #define PLA_PREHEAT_HPB_TEMP 70
-  #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
-
-  #define ABS_PREHEAT_HOTEND_TEMP 240
-  #define ABS_PREHEAT_HPB_TEMP 100
-  #define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
-
 #else //no panel but just lcd 
   #ifdef ULTRA_LCD
     #define LCD_WIDTH 16

commit ffc69537aa53c660362c8c1842a60856219d69e3
Author: daid303 <daid303@gmail.com>
Date:   Fri Nov 9 09:10:51 2012 +0100

    Update on some comments, make the MOTHERBOARD list complete again.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 54435f6460..18c5fbf57a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -21,21 +21,26 @@
 //#define BAUDRATE 115200
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
-// Gen7 custom (Alfons3 Version) = 10 "https://github.com/Alfons3/Generation_7_Electronics"
-// Gen7 v1.1, v1.2 = 11
-// Gen7 v1.3 = 12
-// Gen7 v1.4 = 13
-// MEGA/RAMPS up to 1.2 = 3
-// RAMPS 1.3 = 33 (Power outputs: Extruder, Bed, Fan)
-// RAMPS 1.3 = 34 (Power outputs: Extruder0, Extruder1, Bed)
-// Gen6 = 5
-// Gen6 deluxe = 51
-// Sanguinololu 1.2 and above = 62
-// Melzi = 63
-// Ultimaker = 7
-// Teensylu = 8
-// Gen3+ =9
-// Megatronics =70
+// 10 = Gen7 custom (Alfons3 Version) "https://github.com/Alfons3/Generation_7_Electronics"
+// 11 = Gen7 v1.1, v1.2 = 11
+// 12 = Gen7 v1.3
+// 13 = Gen7 v1.4
+// 3  = MEGA/RAMPS up to 1.2 = 3
+// 33 = RAMPS 1.3 (Power outputs: Extruder, Bed, Fan)
+// 34 = RAMPS 1.3 (Power outputs: Extruder0, Extruder1, Bed)
+// 4  = Duemilanove w/ ATMega328P pin assignment
+// 5  = Gen6
+// 51 = Gen6 deluxe
+// 6  = Sanguinololu < 1.2
+// 62 = Sanguinololu 1.2 and above
+// 63 = Melzi
+// 7  = Ultimaker
+// 71 = Ultimaker (Older electronics. Pre 1.5.4. This is rare)
+// 8  = Teensylu
+// 9  = Gen3+
+// 70 = Megatronics
+// 90 = Alpha OMCA board
+// 91 = Final OMCA board
 
 #ifndef MOTHERBOARD
 #define MOTHERBOARD 7

commit 46b9988e26d3e876f0d81ae64b4a1773a0b173f9
Author: Jonathan Bastien-Filiatrault <joe@x2a.org>
Date:   Wed Nov 7 16:09:30 2012 -0500

    Search and replace failure.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 742f33d9f0..54435f6460 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -302,7 +302,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 
 //automatic expansion
-#if defined(ULTIMAKERCONTROLLER) || defined(REPRAPDISCOUNTSC)
+#if defined(ULTIMAKERCONTROLLER) || defined(REPRAP_DISCOUNT_SMART_CONTROLLER)
  #define ULTIPANEL
  #define NEWPANEL
 #endif 

commit 36b452c7ac88e360e0c3c7555eaea46dd27271f1
Author: Jonathan Bastien-Filiatrault <joe@x2a.org>
Date:   Wed Nov 7 15:42:18 2012 -0500

    Remove abbrs.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2c6bf39820..742f33d9f0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -298,7 +298,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // The RepRapDiscount Smart Controller
 // http://reprap.org/wiki/RepRapDiscount_Smart_Controller
-//#define REPRAPDISCOUNTSC
+//#define REPRAP_DISCOUNT_SMART_CONTROLLER
 
 
 //automatic expansion

commit 3cbaad9288fd6fe6d010cc3b4039dbffa863e31b
Author: Jonathan Bastien-Filiatrault <joe@x2a.org>
Date:   Tue Nov 6 20:32:13 2012 -0500

    RepRapDiscount Smart Controller pin definitions.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fbce0eef26..2c6bf39820 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -296,8 +296,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
 //#define ULTIPANEL  //the ultipanel as on thingiverse
 
+// The RepRapDiscount Smart Controller
+// http://reprap.org/wiki/RepRapDiscount_Smart_Controller
+//#define REPRAPDISCOUNTSC
 
-#ifdef ULTIMAKERCONTROLLER    //automatic expansion
+
+//automatic expansion
+#if defined(ULTIMAKERCONTROLLER) || defined(REPRAPDISCOUNTSC)
  #define ULTIPANEL
  #define NEWPANEL
 #endif 

commit 65c9a0728f4ea037d28a6bc7d15f041883962129
Author: Robert F-C <rfc@exemail.com.au>
Date:   Mon Nov 5 22:15:07 2012 +1100

    Set default serial port back to 0.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 12f2624621..fbce0eef26 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -11,6 +11,11 @@
 #define STRING_VERSION_CONFIG_H "2012-05-02" //Personal revision number for changes to THIS file.
 #define STRING_CONFIG_H_AUTHOR "erik" //Who made the changes.
 
+// SERIAL_PORT selects which serial port should be used for communication with the host.
+// This allows the connection of wireless adapters (for instance) to non-default port pins.
+// Serial port 0 is still used by the Arduino bootloader regardless of this setting.
+#define SERIAL_PORT 0
+
 // This determines the communication speed of the printer
 #define BAUDRATE 250000
 //#define BAUDRATE 115200
@@ -331,13 +336,6 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // SF send wrong arc g-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX
 
-
-// SERIAL_PORT selects which serial port should be used for communication with the host.
-// This allows the use of wireless adapters (for instance) which are connected to 
-// non-default serial port pins.
-#define SERIAL_PORT 2
-
-
 #include "Configuration_adv.h"
 #include "thermistortables.h"
 

commit ab9d1830245406d46bd6faada7df39ae17fef504
Author: Robert F-C <rfc@exemail.com.au>
Date:   Mon Nov 5 21:34:27 2012 +1100

    Make serial port configurable.
    
    This change makes the choice of serial port configurable so that
    wireless capability can be easily added by connecting Bluetooth modules
    (such as BlueSmirf or JY-MCU) to the expansion port pins.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1d2bb292a0..12f2624621 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -331,6 +331,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // SF send wrong arc g-codes when using Arc Point as fillet procedure
 //#define SF_ARC_FIX
 
+
+// SERIAL_PORT selects which serial port should be used for communication with the host.
+// This allows the use of wireless adapters (for instance) which are connected to 
+// non-default serial port pins.
+#define SERIAL_PORT 2
+
+
 #include "Configuration_adv.h"
 #include "thermistortables.h"
 

commit 326423719f0de85ad1d6e43a481034875b03d323
Author: brupje <brupje@gmail.com>
Date:   Sun Oct 14 14:05:57 2012 +0300

    Add support for Megatronics

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 06eea462b0..1d2bb292a0 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -30,6 +30,7 @@
 // Ultimaker = 7
 // Teensylu = 8
 // Gen3+ =9
+// Megatronics =70
 
 #ifndef MOTHERBOARD
 #define MOTHERBOARD 7

commit 36a746d7d5cd9e26306c871f14fdcf6f59e41b21
Merge: 50daf27e5a d197f8504b
Author: ErikZalm <erik@vdzalm.eu>
Date:   Mon Oct 8 11:15:16 2012 -0700

    Merge pull request #244 from markfinn/pidbed
    
    PID for heated bed

diff --combined Marlin/Configuration.h
index 00ccaa082d,0a1c119446..06eea462b0
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -98,7 -98,7 +98,7 @@@
  #define PID_MAX 255 // limits current to nozzle; 255=full current
  #ifdef PIDTEMP
    //#define PID_DEBUG // Sends debug data to the serial port. 
-   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
    #define K1 0.95 //smoothing factor withing the PID
    #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the
@@@ -120,6 -120,44 +120,44 @@@
  //    #define  DEFAULT_Kd 440
  #endif // PIDTEMP
  
+ // Bed Temperature Control
+ // Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
+ //
+ // uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
+ // If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
+ // which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
+ // This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
+ // If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
+ // shouldn't use bed PID until someone else verifies your hardware works.
+ // If this is enabled, find your own PID constants below.
+ //#define PIDTEMPBED
+ //
+ //#define BED_LIMIT_SWITCHING
+ 
+ // This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
+ // all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
+ // setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+ // so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
+ #define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
+ 
+ #ifdef PIDTEMPBED
+ //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+ //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
+     #define  DEFAULT_bedKp 10.00
+     #define  DEFAULT_bedKi .023
+     #define  DEFAULT_bedKd 305.4
+ 
+ //120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+ //from pidautotune
+ //    #define  DEFAULT_bedKp 97.1
+ //    #define  DEFAULT_bedKi 1.41
+ //    #define  DEFAULT_bedKd 1675.16
+ 
+ // FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
+ #endif // PIDTEMPBED
+ 
+ 
+ 
  //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
  //can be software-disabled for whatever purposes by
  #define PREVENT_DANGEROUS_EXTRUDE
@@@ -203,14 -241,10 +241,14 @@@ const bool Z_ENDSTOPS_INVERTING = true
  #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
  #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
  
 -// The position of the homing switches. Use MAX_LENGTH * -0.5 if the center should be 0, 0, 0
 -#define X_HOME_POS 0
 -#define Y_HOME_POS 0
 -#define Z_HOME_POS 0
 +// The position of the homing switches
 +//#define MANUAL_HOME_POSITIONS  // If defined, manualy programed locations will be used
 +//#define BED_CENTER_AT_0_0  // If defined the center of the bed is defined as (0,0)
 +
 +//Manual homing switch locations:
 +#define MANUAL_X_HOME_POS 0
 +#define MANUAL_Y_HOME_POS 0
 +#define MANUAL_Z_HOME_POS 0
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E

commit 04631d2250c9107c6c2b6e34e7c8523ac669c7aa
Author: Mark Finn <mark@mfinn.net>
Date:   Mon Sep 17 14:17:24 2012 -0500

    cleanup for pull

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2bcfc72833..0a1c119446 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -95,7 +95,6 @@
 // PID settings:
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
-#define PIDTEMPBED
 #define PID_MAX 255 // limits current to nozzle; 255=full current
 #ifdef PIDTEMP
   //#define PID_DEBUG // Sends debug data to the serial port. 
@@ -115,21 +114,49 @@
 //    #define  DEFAULT_Ki 0.1  
 //    #define  DEFAULT_Kd 12  
 
+// Mendel Parts V9 on 12V    
+//    #define  DEFAULT_Kp 63.0
+//    #define  DEFAULT_Ki 2.25
+//    #define  DEFAULT_Kd 440
+#endif // PIDTEMP
+
+// Bed Temperature Control
+// Select PID or bang-bang with PIDTEMPBED.  If bang-bang, BED_LIMIT_SWITCHING will enable hysteresis
+//
+// uncomment this to enable PID on the bed.   It uses the same ferquency PWM as the extruder. 
+// If your PID_dT above is the default, and correct for your hardware/configuration, that means 7.689Hz,
+// which is fine for driving a square wave into a resistive load and does not significantly impact you FET heating.
+// This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. 
+// If your configuration is significantly different than this and you don't understand the issues involved, you proabaly 
+// shouldn't use bed PID until someone else verifies your hardware works.
+// If this is enabled, find your own PID constants below.
+//#define PIDTEMPBED
+//
+//#define BED_LIMIT_SWITCHING
+
+// This sets the max power delived to the bed, and replaces the HEATER_BED_DUTY_CYCLE_DIVIDER option.
+// all forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis)
+// setting this to anything other than 255 enables a form of PWM to the bed just like HEATER_BED_DUTY_CYCLE_DIVIDER did,
+// so you shouldn't use it unless you are OK with PWM on your bed.  (see the comment on enabling PIDTEMPBED)
+#define MAX_BED_POWER 255 // limits duty cycle to bed; 255=full current
+
+#ifdef PIDTEMPBED
+//120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
 //from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
     #define  DEFAULT_bedKp 10.00
     #define  DEFAULT_bedKi .023
     #define  DEFAULT_bedKd 305.4
 
-//mark from pidautotune
+//120v 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)
+//from pidautotune
 //    #define  DEFAULT_bedKp 97.1
 //    #define  DEFAULT_bedKi 1.41
 //    #define  DEFAULT_bedKd 1675.16
 
-// Mendel Parts V9 on 12V    
-//    #define  DEFAULT_Kp 63.0
-//    #define  DEFAULT_Ki 2.25
-//    #define  DEFAULT_Kd 440
-#endif // PIDTEMP
+// FIND YOUR OWN: "M303 E-1 C8 S90" to run autotune on the bed at 90 degreesC for 8 cycles.
+#endif // PIDTEMPBED
+
+
 
 //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
 //can be software-disabled for whatever purposes by

commit c6caa45ae25196dfe658d1cdb2189a9a9ff9f574
Author: ZetaPhoenix <jon.pannell@gmail.com>
Date:   Sat Sep 15 15:25:49 2012 -0700

    Limit Switch locations based on MIN/MAX limits and homing direction
    fixes #246
    Added statements to set the limit switch positions to the maximum travel if homing in the positive direction as well as bed center at (0,0) if defined.
    Relocated code based on feedback.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a9ef23ce34..00ccaa082d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -204,55 +204,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 
 // The position of the homing switches
-// Auto switch code by ZetaPhoenix
-//#define MANUAL_HOME_POSITIONS  //If defined, manualy programed locations will be loaded
-//#define BED_CENTER_AT_0_0
-
-#ifdef MANUAL_HOME_POSITION  //Manual limit switch locations
-  #define X_HOME_POS 0
-  #define Y_HOME_POS 0
-  #define Z_HOME_POS 0
-
-//Set min/max homing switch positions based upon direction and min/max travel limits
-#else
-  //X axis
-  #if X_HOME_DIR == -1
-    #ifdef BED_CENTER_AT_0_0
-      #define X_HOME_POS X_MAX_LENGTH * -0.5
-    #else
-      #define X_HOME_POS X_MIN_POS
-    #endif //BED_CENTER_AT_0_0
-  #else    
-    #ifdef BED_CENTER_AT_0_0
-      #define X_HOME_POS X_MAX_LENGTH * 0.5
-    #else
-      #define X_HOME_POS X_MAX_POS
-    #endif //BED_CENTER_AT_0_0
-  #endif //X_HOME_DIR == -1
-  
-  //Y axis
-  #if Y_HOME_DIR == -1
-    #ifdef BED_CENTER_AT_0_0
-      #define Y_HOME_POS Y_MAX_LENGTH * -0.5
-    #else
-      #define Y_HOME_POS Y_MIN_POS
-    #endif //BED_CENTER_AT_0_0
-  #else    
-    #ifdef BED_CENTER_AT_0_0
-      #define Y_HOME_POS Y_MAX_LENGTH * 0.5
-    #else
-      #define Y_HOME_POS Y_MAX_POS
-    #endif //BED_CENTER_AT_0_0
-  #endif //Y_HOME_DIR == -1
-  
-  // Z axis
-  #if Z_HOME_DIR == -1 //BED_CENTER_AT_0_0 not used
-    #define Z_HOME_POS Z_MIN_POS
-  #else    
-    #define Z_HOME_POS Z_MAX_POS
-  #endif //Z_HOME_DIR == -1
-#endif //End auto min/max positions
+//#define MANUAL_HOME_POSITIONS  // If defined, manualy programed locations will be used
+//#define BED_CENTER_AT_0_0  // If defined the center of the bed is defined as (0,0)
 
+//Manual homing switch locations:
+#define MANUAL_X_HOME_POS 0
+#define MANUAL_Y_HOME_POS 0
+#define MANUAL_Z_HOME_POS 0
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E

commit dc566d654f1cdf8d88c40c0361644d99db110820
Author: ZetaPhoenix <jon.pannell@gmail.com>
Date:   Fri Sep 14 21:48:49 2012 -0700

    fixes #246
    Added statements to set the limit switch positions to the maximum travel if homing in the positive direction as well as bed center at (0,0) if defined.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ec06316f8..a9ef23ce34 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -203,10 +203,56 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
 #define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 
-// The position of the homing switches. Use MAX_LENGTH * -0.5 if the center should be 0, 0, 0
-#define X_HOME_POS 0
-#define Y_HOME_POS 0
-#define Z_HOME_POS 0
+// The position of the homing switches
+// Auto switch code by ZetaPhoenix
+//#define MANUAL_HOME_POSITIONS  //If defined, manualy programed locations will be loaded
+//#define BED_CENTER_AT_0_0
+
+#ifdef MANUAL_HOME_POSITION  //Manual limit switch locations
+  #define X_HOME_POS 0
+  #define Y_HOME_POS 0
+  #define Z_HOME_POS 0
+
+//Set min/max homing switch positions based upon direction and min/max travel limits
+#else
+  //X axis
+  #if X_HOME_DIR == -1
+    #ifdef BED_CENTER_AT_0_0
+      #define X_HOME_POS X_MAX_LENGTH * -0.5
+    #else
+      #define X_HOME_POS X_MIN_POS
+    #endif //BED_CENTER_AT_0_0
+  #else    
+    #ifdef BED_CENTER_AT_0_0
+      #define X_HOME_POS X_MAX_LENGTH * 0.5
+    #else
+      #define X_HOME_POS X_MAX_POS
+    #endif //BED_CENTER_AT_0_0
+  #endif //X_HOME_DIR == -1
+  
+  //Y axis
+  #if Y_HOME_DIR == -1
+    #ifdef BED_CENTER_AT_0_0
+      #define Y_HOME_POS Y_MAX_LENGTH * -0.5
+    #else
+      #define Y_HOME_POS Y_MIN_POS
+    #endif //BED_CENTER_AT_0_0
+  #else    
+    #ifdef BED_CENTER_AT_0_0
+      #define Y_HOME_POS Y_MAX_LENGTH * 0.5
+    #else
+      #define Y_HOME_POS Y_MAX_POS
+    #endif //BED_CENTER_AT_0_0
+  #endif //Y_HOME_DIR == -1
+  
+  // Z axis
+  #if Z_HOME_DIR == -1 //BED_CENTER_AT_0_0 not used
+    #define Z_HOME_POS Z_MIN_POS
+  #else    
+    #define Z_HOME_POS Z_MAX_POS
+  #endif //Z_HOME_DIR == -1
+#endif //End auto min/max positions
+
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E

commit 9698f4ea649ed48ed02df4b8298aafb85d2f6c3d
Author: Mark Finn <mark@mfinn.net>
Date:   Wed Sep 12 21:01:31 2012 -0500

    bed pid
    
    Conflicts:
    
            Marlin/Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0ec06316f8..2bcfc72833 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -95,10 +95,11 @@
 // PID settings:
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
+#define PIDTEMPBED
 #define PID_MAX 255 // limits current to nozzle; 255=full current
 #ifdef PIDTEMP
   //#define PID_DEBUG // Sends debug data to the serial port. 
-  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104/M140 sets the output power from 0 to PID_MAX
   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
   #define K1 0.95 //smoothing factor withing the PID
   #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the
@@ -114,6 +115,16 @@
 //    #define  DEFAULT_Ki 0.1  
 //    #define  DEFAULT_Kd 12  
 
+//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, argressive factor of .15 (vs .1, 1, 10)
+    #define  DEFAULT_bedKp 10.00
+    #define  DEFAULT_bedKi .023
+    #define  DEFAULT_bedKd 305.4
+
+//mark from pidautotune
+//    #define  DEFAULT_bedKp 97.1
+//    #define  DEFAULT_bedKi 1.41
+//    #define  DEFAULT_bedKd 1675.16
+
 // Mendel Parts V9 on 12V    
 //    #define  DEFAULT_Kp 63.0
 //    #define  DEFAULT_Ki 2.25

commit e358a2d7afae323abc7205cef31615a4d6b0258c
Author: Erik vd Zalm <erik@vdzalm.eu>
Date:   Sun Sep 2 01:12:49 2012 +0200

    Added fix for SF Arc Point fillet procedure

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f01af41444..0ec06316f8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -285,6 +285,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
 // #define PHOTOGRAPH_PIN     23
 
+// SF send wrong arc g-codes when using Arc Point as fillet procedure
+//#define SF_ARC_FIX
+
 #include "Configuration_adv.h"
 #include "thermistortables.h"
 

commit 1c1fddc7ac1d80a1eee0d4a2303d9299c0d548e0
Author: tonokip <tonokip@gmail.com>
Date:   Thu Aug 30 00:16:57 2012 -0700

    Added support for the Rambo reprap electronics board. Added Mcodes to set
    motor current and microstepping pins.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f01af41444..0efa6e8309 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -30,9 +30,10 @@
 // Ultimaker = 7
 // Teensylu = 8
 // Gen3+ =9
+// Rambo = 301
 
 #ifndef MOTHERBOARD
-#define MOTHERBOARD 7
+#define MOTHERBOARD 301
 #endif
 
 

commit 5406c533db7a8d799090d09f83d2ee26f5cc2571
Author: Erik vd Zalm <erik@vdzalm.eu>
Date:   Sat Aug 11 15:51:04 2012 +0200

    Disable FAST_PWM by default. On some systems it does not work ok.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3668db4907..f01af41444 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -279,7 +279,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #endif
 
 // Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
-#define FAST_PWM_FAN
+//#define FAST_PWM_FAN
 
 // M240  Triggers a camera by emulating a Canon RC-1 Remote
 // Data from: http://www.doc-diy.net/photo/rc-1_hacked/

commit 6b45e9f1675c304ea941294777f4d008f591f411
Author: Dabble63 <danny.bud@gmail.com>
Date:   Sat Aug 11 09:17:47 2012 +0300

    Add Duty Cycling to the Heater Bed

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1248029eda..3668db4907 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -87,6 +87,10 @@
 #define HEATER_2_MAXTEMP 275
 #define BED_MAXTEMP 150
 
+// If your bed has low resistance e.g. .6 ohm and throws the fuse you can duty cycle it to reduce the
+// average current. The value should be an integer and the heat bed will be turned on for 1 interval of
+// HEATER_BED_DUTY_CYCLE_DIVIDER intervals.
+//#define HEATER_BED_DUTY_CYCLE_DIVIDER 4
 
 // PID settings:
 // Comment the following line to disable PID and enable bang-bang.

commit 538189cc19182f28209912efd353081f18aa76e7
Author: Chris Palmer <nop.head@gmail.com>
Date:   Sat Jun 2 13:17:47 2012 +0100

    Fixed soft limits when the origin is in the middle.
    HOME_POS is now always where the endstop is and can be outside the limits.
    The limits are now defined by MIN_POS and MAX_POS rather than HOME_POS and MAX_LENGTH.
    The Z is axis now homed first if direction is away from the bed.
    
    Saguinololu limit pins change from MIN to MAX according to the homing direction.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2da2478d91..1248029eda 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -187,9 +187,17 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 #define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
-#define X_MAX_LENGTH 205
-#define Y_MAX_LENGTH 205
-#define Z_MAX_LENGTH 200
+// Travel limits after homing
+#define X_MAX_POS 205
+#define X_MIN_POS 0
+#define Y_MAX_POS 205
+#define Y_MIN_POS 0
+#define Z_MAX_POS 200
+#define Z_MIN_POS 0
+
+#define X_MAX_LENGTH (X_MAX_POS - X_MIN_POS)
+#define Y_MAX_LENGTH (Y_MAX_POS - Y_MIN_POS)
+#define Z_MAX_LENGTH (Z_MAX_POS - Z_MIN_POS)
 
 // The position of the homing switches. Use MAX_LENGTH * -0.5 if the center should be 0, 0, 0
 #define X_HOME_POS 0

commit ea2c19f978e59ba0cbc6ee5b2e7975949b099802
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Jul 14 14:21:53 2012 +0200

    Added CoreXY support (Thanks Ilan Moyer)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b9bf13e33a..2da2478d91 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,9 +35,7 @@
 #define MOTHERBOARD 7
 #endif
 
-/// Comment out the following line to enable normal kinematics
 
-#define COREXY
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -131,6 +129,9 @@
 //=============================Mechanical Settings===========================
 //===========================================================================
 
+// Uncomment the following line to enable CoreXY kinematics
+// #define COREXY
+
 // corse Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
@@ -172,7 +173,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DISABLE_E false // For all extruders
 
 #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR true    // for Mendel set to true, for Orca set to false
+#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
@@ -184,8 +185,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
 
-#define min_software_endstops false //If true, axis won't move to coordinates less than HOME_POS.
-#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
+#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 #define X_MAX_LENGTH 205
 #define Y_MAX_LENGTH 205
 #define Z_MAX_LENGTH 200

commit aa65fe22ede12642b64c131f53a21e758291547f
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Jul 14 13:43:19 2012 +0200

    decoupled axes sucessfully at least on pure x or y jog

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d4032a39fb..b9bf13e33a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -35,6 +35,10 @@
 #define MOTHERBOARD 7
 #endif
 
+/// Comment out the following line to enable normal kinematics
+
+#define COREXY
+
 //===========================================================================
 //=============================Thermal Settings  ============================
 //===========================================================================
@@ -168,7 +172,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DISABLE_E false // For all extruders
 
 #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
+#define INVERT_Y_DIR true    // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
@@ -180,8 +184,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
 
-#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
-#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define min_software_endstops false //If true, axis won't move to coordinates less than HOME_POS.
+#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
 #define X_MAX_LENGTH 205
 #define Y_MAX_LENGTH 205
 #define Z_MAX_LENGTH 200

commit 0c123950e9211d3ea08248d7d712a9f242493ffe
Author: Bernhard <bkubicek@x201.(none)>
Date:   Sat Jun 2 20:44:17 2012 +0200

    __ header file replace

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e0a9c75354..d4032a39fb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,5 +1,5 @@
-#ifndef __CONFIGURATION_H
-#define __CONFIGURATION_H
+#ifndef CONFIGURATION_H
+#define CONFIGURATION_H
 
 // This configurtion file contains the basic settings.
 // Advanced settings can be found in Configuration_adv.h 

commit 0e5e249ab55862495a4308a1469e7be38ae0d431
Author: Bernhard <bkubicek@x201.(none)>
Date:   Sat Jun 2 13:47:50 2012 +0200

    added individual pullup setting option to have finer control in case there is a special z-min sensor, for example

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 055dd06456..e0a9c75354 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -127,9 +127,28 @@
 //=============================Mechanical Settings===========================
 //===========================================================================
 
-// Endstop Settings
+// corse Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
+#ifndef ENDSTOPPULLUPS
+  // fine Enstop settings: Individual Pullups. will be ignord if ENDSTOPPULLUPS is defined
+  #define ENDSTOPPULLUP_XMAX
+  #define ENDSTOPPULLUP_YMAX
+  #define ENDSTOPPULLUP_ZMAX
+  #define ENDSTOPPULLUP_XMIN
+  #define ENDSTOPPULLUP_YMIN
+  //#define ENDSTOPPULLUP_ZMIN
+#endif
+
+#ifdef ENDSTOPPULLUPS
+  #define ENDSTOPPULLUP_XMAX
+  #define ENDSTOPPULLUP_YMAX
+  #define ENDSTOPPULLUP_ZMAX
+  #define ENDSTOPPULLUP_XMIN
+  #define ENDSTOPPULLUP_YMIN
+  #define ENDSTOPPULLUP_ZMIN
+#endif
+
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 

commit 6b14f95b3ef245a33456c435b2cc509f6e770872
Merge: c7ce99d495 fbd282b3ba
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sat Jun 2 03:46:56 2012 -0700

    Merge pull request #170 from linagee/Marlin_v1
    
    Marlin v1

diff --combined Marlin/Configuration.h
index 03f06a781e,f91b9b0227..055dd06456
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -38,18 -38,26 +38,26 @@@
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
- 
+ //
+ //--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
+ //
  //// Temperature sensor settings:
  // -2 is thermocouple with MAX6675 (only for sensor 0)
  // -1 is thermocouple with AD595
  // 0 is not used
- // 1 is 100k thermistor
- // 2 is 200k thermistor
- // 3 is mendel-parts thermistor
+ // 1 is 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
+ // 2 is 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
+ // 3 is mendel-parts thermistor (4.7k pullup)
  // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
- // 5 is ParCan supplied 104GT-2 100K
- // 6 is EPCOS 100k
- // 7 is 100k Honeywell thermistor 135-104LAG-J01
+ // 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
+ // 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
+ // 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
+ //
+ //    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
+ //                          (but gives greater accuracy and more stable PID)
+ // 51 is 100k thermistor - EPCOS (1k pullup)
+ // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
+ // 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
  
  #define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 0
@@@ -109,9 -117,6 +117,9 @@@
  //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
  //can be software-disabled for whatever purposes by
  #define PREVENT_DANGEROUS_EXTRUDE
 +//if PREVENT_DANGEROUS_EXTRUDE is on, you can still disable (uncomment) very long bits of extrusion separately.
 +#define PREVENT_LENGTHY_EXTRUDE
 +
  #define EXTRUDE_MINTEMP 170
  #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  

commit fbd282b3bab54c486b157822319d26a183da3f6a
Author: linagee <linagee@gmail.com>
Date:   Sun May 20 13:19:28 2012 -0600

    Update Marlin/Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 153929a438..f91b9b0227 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -57,6 +57,7 @@
 //                          (but gives greater accuracy and more stable PID)
 // 51 is 100k thermistor - EPCOS (1k pullup)
 // 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
+// 55 is 100k thermistor - ATC Semitec 104GT-2 (Used in ParCan) (1k pullup)
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 0

commit c4490f5f3d995feaffbe1c3aaf49612197279c8b
Author: linagee <linagee@gmail.com>
Date:   Sun May 20 04:27:52 2012 -0600

    Update Marlin/Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cb139e7cd3..153929a438 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -38,19 +38,25 @@
 //===========================================================================
 //=============================Thermal Settings  ============================
 //===========================================================================
-
+//
+//--NORMAL IS 4.7kohm PULLUP!-- 1kohm pullup can be used on hotend sensor, using correct resistor and table
+//
 //// Temperature sensor settings:
 // -2 is thermocouple with MAX6675 (only for sensor 0)
 // -1 is thermocouple with AD595
 // 0 is not used
-// 1 is 100k thermistor - best choice for EPCOS 100k
-// 2 is 200k thermistor
-// 3 is mendel-parts thermistor
+// 1 is 100k thermistor - best choice for EPCOS 100k (4.7k pullup)
+// 2 is 200k thermistor - ATC Semitec 204GT-2 (4.7k pullup)
+// 3 is mendel-parts thermistor (4.7k pullup)
 // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
-// 5 is ParCan supplied 104GT-2 100K
-// 6 is EPCOS 100k - Not as accurate as table 1 (created using a fluke thermocouple)
-// 7 is 100k Honeywell thermistor 135-104LAG-J01
-// 8 is EPCOS 100k - 1Kohm RESISTOR PULLUP ONLY! SEE therm table, should give twice resolution from 150C to 200C - EXPERIMENTAL!
+// 5 is 100K thermistor - ATC Semitec 104GT-2 (Used in ParCan) (4.7k pullup)
+// 6 is 100k EPCOS - Not as accurate as table 1 (created using a fluke thermocouple) (4.7k pullup)
+// 7 is 100k Honeywell thermistor 135-104LAG-J01 (4.7k pullup)
+//
+//    1k ohm pullup tables - This is not normal, you would have to have changed out your 4.7k for 1k 
+//                          (but gives greater accuracy and more stable PID)
+// 51 is 100k thermistor - EPCOS (1k pullup)
+// 52 is 200k thermistor - ATC Semitec 204GT-2 (1k pullup)
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 0

commit 7244aa7eb72d7eb6e2b01482e6e41884c249b479
Merge: 279d00da9f e31bef31ad
Author: Daid <daid303@gmail.com>
Date:   Sat May 19 17:38:46 2012 +0200

    Merge branch 'Marlin_v1' of https://github.com/ErikZalm/Marlin into Marlin_v1

diff --combined Marlin/Configuration.h
index 880d48a7d2,6c5b974325..03f06a781e
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -26,6 -26,7 +26,7 @@@
  // Gen6 = 5
  // Gen6 deluxe = 51
  // Sanguinololu 1.2 and above = 62
+ // Melzi = 63
  // Ultimaker = 7
  // Teensylu = 8
  // Gen3+ =9
@@@ -108,9 -109,6 +109,9 @@@
  //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
  //can be software-disabled for whatever purposes by
  #define PREVENT_DANGEROUS_EXTRUDE
 +//if PREVENT_DANGEROUS_EXTRUDE is on, you can still disable (uncomment) very long bits of extrusion separately.
 +#define PREVENT_LENGTHY_EXTRUDE
 +
  #define EXTRUDE_MINTEMP 170
  #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  

commit de2ca3b2e8f8bfefb060d44ef021a86abedccef5
Author: linagee <linagee@gmail.com>
Date:   Sat May 19 07:40:35 2012 -0600

    Grammar correction.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e3036e8fef..cb139e7cd3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -43,12 +43,12 @@
 // -2 is thermocouple with MAX6675 (only for sensor 0)
 // -1 is thermocouple with AD595
 // 0 is not used
-// 1 is 100k thermistor - closer to EPCOS 100k manuf table
+// 1 is 100k thermistor - best choice for EPCOS 100k
 // 2 is 200k thermistor
 // 3 is mendel-parts thermistor
 // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
 // 5 is ParCan supplied 104GT-2 100K
-// 6 is EPCOS 100k - Not calculated like table 1, measured using a fluke
+// 6 is EPCOS 100k - Not as accurate as table 1 (created using a fluke thermocouple)
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
 // 8 is EPCOS 100k - 1Kohm RESISTOR PULLUP ONLY! SEE therm table, should give twice resolution from 150C to 200C - EXPERIMENTAL!
 

commit c2fc466e1b9b95c6993ba16ea8fb029ae33b7e99
Author: linagee <linagee@gmail.com>
Date:   Sat May 19 05:56:17 2012 -0600

    Update Marlin/Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 40eb2eb184..e3036e8fef 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -50,6 +50,7 @@
 // 5 is ParCan supplied 104GT-2 100K
 // 6 is EPCOS 100k - Not calculated like table 1, measured using a fluke
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
+// 8 is EPCOS 100k - 1Kohm RESISTOR PULLUP ONLY! SEE therm table, should give twice resolution from 150C to 200C - EXPERIMENTAL!
 
 #define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 0

commit 9f9f498491c5c85dba16d49b1e141e05d2537562
Author: linagee <linagee@gmail.com>
Date:   Sat May 19 05:47:30 2012 -0600

    Update Marlin/Configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6c5b974325..40eb2eb184 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -43,12 +43,12 @@
 // -2 is thermocouple with MAX6675 (only for sensor 0)
 // -1 is thermocouple with AD595
 // 0 is not used
-// 1 is 100k thermistor
+// 1 is 100k thermistor - closer to EPCOS 100k manuf table
 // 2 is 200k thermistor
 // 3 is mendel-parts thermistor
 // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
 // 5 is ParCan supplied 104GT-2 100K
-// 6 is EPCOS 100k
+// 6 is EPCOS 100k - Not calculated like table 1, measured using a fluke
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
 
 #define TEMP_SENSOR_0 -1

commit 602c8ee02bcd6993cb60e8758aa5928253b577dd
Author: Guan Yang <guan@yang.dk>
Date:   Fri Apr 27 11:28:10 2012 -0400

    Melzi support

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f15876770e..6c5b974325 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -26,6 +26,7 @@
 // Gen6 = 5
 // Gen6 deluxe = 51
 // Sanguinololu 1.2 and above = 62
+// Melzi = 63
 // Ultimaker = 7
 // Teensylu = 8
 // Gen3+ =9

commit e3fe1f0d007e7306ac3b20bd99b3a7debbf91fcd
Author: Erik de Bruijn <github@erikdebruijn.nl>
Date:   Tue May 8 17:27:45 2012 +0200

    Made a more granular configuration possible PREVENT_LENGTHY_EXTRUDEÔúà. You can now decide to allow/disallow large length of extrusions to be executed.
    
    Turning off the protection might be beneficial to those who want to do fast and long reversals.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f15876770e..880d48a7d2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -108,6 +108,9 @@
 //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
 //can be software-disabled for whatever purposes by
 #define PREVENT_DANGEROUS_EXTRUDE
+//if PREVENT_DANGEROUS_EXTRUDE is on, you can still disable (uncomment) very long bits of extrusion separately.
+#define PREVENT_LENGTHY_EXTRUDE
+
 #define EXTRUDE_MINTEMP 170
 #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 

commit 1874cb71a62ee17d720d106a58ab684263abaa20
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Wed May 2 19:26:14 2012 +0200

    Added option to increase the FAN PWM frequency.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cd1490a1c7..f15876770e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -8,7 +8,7 @@
 //User specified version info of THIS file to display in [Pronterface, etc] terminal window during startup.
 //Implementation of an idea by Prof Braino to inform user that any changes made
 //to THIS file by the user have been successfully uploaded into firmware.
-#define STRING_VERSION_CONFIG_H "2012-02-25" //Personal revision number for changes to THIS file.
+#define STRING_VERSION_CONFIG_H "2012-05-02" //Personal revision number for changes to THIS file.
 #define STRING_CONFIG_H_AUTHOR "erik" //Who made the changes.
 
 // This determines the communication speed of the printer
@@ -230,6 +230,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #endif
 #endif
 
+// Increase the FAN pwm frequency. Removes the PWM noise but increases heating in the FET/Arduino
+#define FAST_PWM_FAN
+
 // M240  Triggers a camera by emulating a Canon RC-1 Remote
 // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
 // #define PHOTOGRAPH_PIN     23

commit e3821bd86f199712003f4a4ea9d092d296309567
Merge: 02af69911e e203b8c754
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Apr 30 13:36:27 2012 +0200

    Merge branch 'Marlin_v1' of github.com:ErikZalm/Marlin into Marlin_v1

diff --combined Marlin/Configuration.h
index 512f0176f1,67a32a6905..cd1490a1c7
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -58,7 -58,6 +58,7 @@@
  // Actual temperature must be close to target for this long before M109 returns success
  #define TEMP_RESIDENCY_TIME 10	// (seconds)
  #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 +#define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
  // to check that the wiring to the thermistor is not broken. 
@@@ -197,7 -196,16 +197,16 @@@ const bool Z_ENDSTOPS_INVERTING = true
  //#define ULTRA_LCD  //general lcd support, also 16x2
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  
- #define ULTIPANEL
+ //#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
+ //#define ULTIPANEL  //the ultipanel as on thingiverse
+ 
+ 
+ #ifdef ULTIMAKERCONTROLLER    //automatic expansion
+  #define ULTIPANEL
+  #define NEWPANEL
+ #endif 
+  
+ 
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT

commit 02af69911ec48898c5590025badd20cc2a1748e1
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Apr 30 13:36:19 2012 +0200

    Added temperature window to M109. This is needed for systems with no overshoot PID.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 18942a5a6c..512f0176f1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -58,6 +58,7 @@
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 10	// (seconds)
 #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
+#define TEMP_WINDOW     1       // (degC) Window around target to start the recidency timer x degC early.
 
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
 // to check that the wiring to the thermistor is not broken. 

commit 464b755918bc6090de10e5fdee6440ebe001b688
Author: Bernhard <bkubicek@x201.(none)>
Date:   Sun Apr 22 20:55:56 2012 +0200

    added support for the UltiController

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 18942a5a6c..67a32a6905 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -196,7 +196,16 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-#define ULTIPANEL
+//#define ULTIMAKERCONTROLLER //as available from the ultimaker online store.
+//#define ULTIPANEL  //the ultipanel as on thingiverse
+
+
+#ifdef ULTIMAKERCONTROLLER    //automatic expansion
+ #define ULTIPANEL
+ #define NEWPANEL
+#endif 
+ 
+
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit 67cf105bc69c555547d1c2ba1974b03a2a2c70c3
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Apr 15 19:17:33 2012 +0200

    Fixed AUTOTEMP (M109 S215 B260 F1 starts autotemp)
    Changed SLOWDOWN. IF this does not work ok OLD_SLOWDOWN is the old algo.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2adda3fd61..18942a5a6c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -121,7 +121,7 @@
 const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-#define DISABLE_MAX_ENDSTOPS
+//#define DISABLE_MAX_ENDSTOPS
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
@@ -165,7 +165,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}  // default steps per unit for ultimaker 
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
@@ -196,7 +196,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-//#define ULTIPANEL
+#define ULTIPANEL
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit 63aec3c56e7f35a3f3b4cfce44a0612903dc6a15
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Mar 25 14:36:51 2012 +0200

    Replaced Kill by Stop. If the printer is stopped. Fix the error and use M999 to restart.
    
    Moved the PID_dT in the Ki and Kd calculation from the configuration.h to temperature.cpp

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 896c93aa18..2adda3fd61 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -29,6 +29,7 @@
 // Ultimaker = 7
 // Teensylu = 8
 // Gen3+ =9
+
 #ifndef MOTHERBOARD
 #define MOTHERBOARD 7
 #endif
@@ -88,9 +89,9 @@
 
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker
-    #define  DEFAULT_Kp  22.2
-    #define  DEFAULT_Ki (1.08*PID_dT)  
-    #define  DEFAULT_Kd (114/PID_dT)  
+    #define  DEFAULT_Kp 22.2
+    #define  DEFAULT_Ki 1.08  
+    #define  DEFAULT_Kd 114  
 
 // Makergear
 //    #define  DEFAULT_Kp 7.0
@@ -98,9 +99,9 @@
 //    #define  DEFAULT_Kd 12  
 
 // Mendel Parts V9 on 12V    
-//    #define  DEFAULT_Kp  63.0
-//    #define  DEFAULT_Ki (2.25*PID_dT)  
-//    #define  DEFAULT_Kd (440/PID_dT)
+//    #define  DEFAULT_Kp 63.0
+//    #define  DEFAULT_Ki 2.25
+//    #define  DEFAULT_Kd 440
 #endif // PIDTEMP
 
 //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
@@ -202,7 +203,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #define ULTRA_LCD
   #define LCD_WIDTH 20
   #define LCD_HEIGHT 4
-
+  
 // Preheat Constants
   #define PLA_PREHEAT_HOTEND_TEMP 180 
   #define PLA_PREHEAT_HPB_TEMP 70
@@ -215,7 +216,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #else //no panel but just lcd 
   #ifdef ULTRA_LCD
     #define LCD_WIDTH 16
-    #define LCD_HEIGHT 2
+    #define LCD_HEIGHT 2    
   #endif
 #endif
 

commit aa6e6e914eb82f465ded1078331a6774146bfd65
Author: Michel Pollet <buserror@gmail.com>
Date:   Thu Mar 22 13:48:10 2012 +0000

    Makefile: Redone
    
    + Removed most explicit pathnames, use the standard make "VPATH" to let
    make find the files for itself.
    
    + Added a "hardware variant" variable that allows compiging Sanguino and
    Gen7 as well as "generic" arduino.
    
    + Allows overriding the MOTHERBOARD define from the Makefile
    
    + Removed the 'preprocessor' bit that wasn't needed, now just "include" the
    files that are needed, since it allows gcc to show the right file/line
    when displaying error/warnings.
    
    + Uses gcc's own dependency generator to generate the .d files, and
    and include these instead of self-patching the makefile
    
    Signed-off-by: Michel Pollet <buserror@gmail.com>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index eed528cb8c..896c93aa18 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -29,7 +29,9 @@
 // Ultimaker = 7
 // Teensylu = 8
 // Gen3+ =9
+#ifndef MOTHERBOARD
 #define MOTHERBOARD 7
+#endif
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -193,7 +195,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-#define ULTIPANEL
+//#define ULTIPANEL
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit 2e749d60c357eb6f3393479dcfe80044d7f30d3b
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Mar 12 20:32:14 2012 +0100

    Added DISABLE_MAX_ENDSTOPS

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2320dcebcd..eed528cb8c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -118,6 +118,7 @@
 const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+#define DISABLE_MAX_ENDSTOPS
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0

commit 910f4e77a2ef18e19de399380a2ce0968e3165f0
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Mar 11 12:25:04 2012 +0100

    Added 20MHz support.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 379aa1953b..2320dcebcd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -82,13 +82,13 @@
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
   #define K1 0.95 //smoothing factor withing the PID
-  #define PID_dT 0.128 //sampling period of the PID
+  #define PID_dT ((16.0 * 8.0)/(F_CPU / 64.0 / 256.0)) //sampling period of the
 
 // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
 // Ultimaker
     #define  DEFAULT_Kp  22.2
-    #define  DEFAULT_Ki (1.25*PID_dT)  
-    #define  DEFAULT_Kd (99/PID_dT)  
+    #define  DEFAULT_Ki (1.08*PID_dT)  
+    #define  DEFAULT_Kd (114/PID_dT)  
 
 // Makergear
 //    #define  DEFAULT_Kp 7.0
@@ -194,7 +194,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 #define ULTIPANEL
 #ifdef ULTIPANEL
-  #define NEWPANEL  //enable this if you have a click-encoder panel
+//  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT
   #define ULTRA_LCD
   #define LCD_WIDTH 20

commit e056bf8081a942335a2e097d36a2fb35a4c34eba
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Mar 4 16:34:58 2012 +0100

    Added E-Jerk

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 74c03eb04c..379aa1953b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -171,6 +171,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // 
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
+#define DEFAULT_EJERK                 5.0    // (mm/sec)
 
 //===========================================================================
 //=============================Additional Features===========================
@@ -191,7 +192,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-//#define ULTIPANEL
+#define ULTIPANEL
 #ifdef ULTIPANEL
   #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit b65ef8d66c99bb909966ef4d1576f347cbe88b19
Author: Phil Hord <phil@phord.com>
Date:   Sun Feb 26 20:39:49 2012 -0500

    Add support for upcoming Gen7 v1.4
    
    V1.4 moves thermistor power to the always-on 5v line.
    The BOGUS_TEMPERATURE_FAILSAFE_OVERRIDE is no longer
    needed on this board.  Add a new motherboard type to
    support this feature.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 38bb61c5c6..74c03eb04c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -19,6 +19,7 @@
 // Gen7 custom (Alfons3 Version) = 10 "https://github.com/Alfons3/Generation_7_Electronics"
 // Gen7 v1.1, v1.2 = 11
 // Gen7 v1.3 = 12
+// Gen7 v1.4 = 13
 // MEGA/RAMPS up to 1.2 = 3
 // RAMPS 1.3 = 33 (Power outputs: Extruder, Bed, Fan)
 // RAMPS 1.3 = 34 (Power outputs: Extruder0, Extruder1, Bed)

commit 97d42ca2b229597c124dfdd1ffef8499d0f2644a
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Feb 26 22:05:38 2012 +0100

    SDSUPPORT default disabled

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 16c2e16f2d..38bb61c5c6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -188,7 +188,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
-#define SDSUPPORT // Enable SD Card Support in Hardware Console
+//#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 //#define ULTIPANEL
 #ifdef ULTIPANEL

commit 018c567abf46ec683b404c841402d6096b775390
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Feb 26 16:23:47 2012 +0100

    Moved SLOWDOWN function. (jetty840)
    Included AD595 calibration options. (daid)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 0bdcde1e40..16c2e16f2d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -28,7 +28,7 @@
 // Ultimaker = 7
 // Teensylu = 8
 // Gen3+ =9
-#define MOTHERBOARD 51
+#define MOTHERBOARD 7
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -46,13 +46,13 @@
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
 
-#define TEMP_SENSOR_0 1
+#define TEMP_SENSOR_0 -1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0
-#define TEMP_SENSOR_BED 1
+#define TEMP_SENSOR_BED 0
 
 // Actual temperature must be close to target for this long before M109 returns success
-#define TEMP_RESIDENCY_TIME 10	// 30  // (seconds) 30 seconds was too long
+#define TEMP_RESIDENCY_TIME 10	// (seconds)
 #define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
@@ -71,11 +71,6 @@
 #define HEATER_2_MAXTEMP 275
 #define BED_MAXTEMP 150
 
-//These defines help to calibrate the AD595 sensor in case you get wrong temperature measurements.
-//The measured temperature is defined as "actualTemp = (measuredTemp * TEMP_SENSOR_AD595_GAIN) + TEMP_SENSOR_AD595_OFFSET"
-#define TEMP_SENSOR_AD595_OFFSET 0.0
-#define TEMP_SENSOR_AD595_GAIN   1.0
-
 
 // PID settings:
 // Comment the following line to disable PID and enable bang-bang.
@@ -119,9 +114,9 @@
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
-const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
-const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
@@ -135,8 +130,8 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define DISABLE_Z false
 #define DISABLE_E false // For all extruders
 
-#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR true    // for Mendel set to true, for Orca set to false
+#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
@@ -148,11 +143,11 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
 
-#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
+#define min_software_endstops true //If true, axis won't move to coordinates less than HOME_POS.
 #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
-#define X_MAX_LENGTH 175
-#define Y_MAX_LENGTH 185
-#define Z_MAX_LENGTH 90
+#define X_MAX_LENGTH 205
+#define Y_MAX_LENGTH 205
+#define Z_MAX_LENGTH 200
 
 // The position of the homing switches. Use MAX_LENGTH * -0.5 if the center should be 0, 0, 0
 #define X_HOME_POS 0
@@ -161,7 +156,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-#define HOMING_FEEDRATE {1500, 1500, 80, 0} // {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
+#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
 // default settings 
 
@@ -169,8 +164,8 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
-#define DEFAULT_ACCELERATION          1500	// 3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
-#define DEFAULT_RETRACT_ACCELERATION  1500	// 3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
 // 
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
@@ -186,14 +181,14 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable eeprom support
-#define EEPROM_SETTINGS
+//#define EEPROM_SETTINGS
 //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
 // please keep turned on if you can.
-#define EEPROM_CHITCHAT
+//#define EEPROM_CHITCHAT
 
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
-//#define SDSUPPORT // Enable SD Card Support in Hardware Console
+#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 //#define ULTIPANEL
 #ifdef ULTIPANEL

commit 4fbda5c3f5cc85f5d9d8d946f42fdd62380db7a2
Merge: ce714fe306 73344e69c1
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Feb 26 16:10:59 2012 +0100

    Merge remote-tracking branch 'daid/Marlin_v1' into Test

diff --combined Marlin/Configuration.h
index 035928ba89,eed1895d4f..0bdcde1e40
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -8,27 -8,22 +8,27 @@@
  //User specified version info of THIS file to display in [Pronterface, etc] terminal window during startup.
  //Implementation of an idea by Prof Braino to inform user that any changes made
  //to THIS file by the user have been successfully uploaded into firmware.
 -#define STRING_VERSION_CONFIG_H "2012-02-08j" //Personal revision number for changes to THIS file.
 -#define STRING_CONFIG_H_AUTHOR "username" //Who made the changes.
 +#define STRING_VERSION_CONFIG_H "2012-02-25" //Personal revision number for changes to THIS file.
 +#define STRING_CONFIG_H_AUTHOR "erik" //Who made the changes.
  
  // This determines the communication speed of the printer
  #define BAUDRATE 250000
  //#define BAUDRATE 115200
  
  //// The following define selects which electronics board you have. Please choose the one that matches your setup
 -// MEGA/RAMPS up to 1.2 = 3,
 -// RAMPS 1.3 = 33
 -// Gen6 = 5,
 +// Gen7 custom (Alfons3 Version) = 10 "https://github.com/Alfons3/Generation_7_Electronics"
 +// Gen7 v1.1, v1.2 = 11
 +// Gen7 v1.3 = 12
 +// MEGA/RAMPS up to 1.2 = 3
 +// RAMPS 1.3 = 33 (Power outputs: Extruder, Bed, Fan)
 +// RAMPS 1.3 = 34 (Power outputs: Extruder0, Extruder1, Bed)
 +// Gen6 = 5
 +// Gen6 deluxe = 51
  // Sanguinololu 1.2 and above = 62
 -// Ultimaker = 7,
 -// Teensylu = 8,
 +// Ultimaker = 7
 +// Teensylu = 8
  // Gen3+ =9
 -#define MOTHERBOARD 7
 +#define MOTHERBOARD 51
  
  //===========================================================================
  //=============================Thermal Settings  ============================
@@@ -46,14 -41,14 +46,14 @@@
  // 6 is EPCOS 100k
  // 7 is 100k Honeywell thermistor 135-104LAG-J01
  
 -#define TEMP_SENSOR_0 -1
 +#define TEMP_SENSOR_0 1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
 -#define TEMP_SENSOR_BED 0
 +#define TEMP_SENSOR_BED 1
  
  // Actual temperature must be close to target for this long before M109 returns success
 -#define TEMP_RESIDENCY_TIME 30  // (seconds)
 -#define TEMP_HYSTERESIS 3       // (C¬∞) range of +/- temperatures considered "close" to the target one
 +#define TEMP_RESIDENCY_TIME 10	// 30  // (seconds) 30 seconds was too long
 +#define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
  // to check that the wiring to the thermistor is not broken. 
@@@ -71,6 -66,12 +71,12 @@@
  #define HEATER_2_MAXTEMP 275
  #define BED_MAXTEMP 150
  
+ //These defines help to calibrate the AD595 sensor in case you get wrong temperature measurements.
+ //The measured temperature is defined as "actualTemp = (measuredTemp * TEMP_SENSOR_AD595_GAIN) + TEMP_SENSOR_AD595_OFFSET"
+ #define TEMP_SENSOR_AD595_OFFSET 0.0
+ #define TEMP_SENSOR_AD595_GAIN   1.0
+ 
+ 
  // PID settings:
  // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
@@@ -113,9 -114,9 +119,9 @@@
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 -const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 -const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 -const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 +const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
 +const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
 +const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -129,8 -130,8 +135,8 @@@
  #define DISABLE_Z false
  #define DISABLE_E false // For all extruders
  
 -#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 -#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 +#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 +#define INVERT_Y_DIR true    // for Mendel set to true, for Orca set to false
  #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
  #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
@@@ -142,20 -143,15 +148,20 @@@
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
  
 -#define min_software_endstops true //If true, axis won't move to coordinates less than zero.
 +#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
  #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 -#define X_MAX_LENGTH 205
 -#define Y_MAX_LENGTH 205
 -#define Z_MAX_LENGTH 200
 +#define X_MAX_LENGTH 175
 +#define Y_MAX_LENGTH 185
 +#define Z_MAX_LENGTH 90
 +
 +// The position of the homing switches. Use MAX_LENGTH * -0.5 if the center should be 0, 0, 0
 +#define X_HOME_POS 0
 +#define Y_HOME_POS 0
 +#define Z_HOME_POS 0
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 -#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 +#define HOMING_FEEDRATE {1500, 1500, 80, 0} // {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
  // default settings 
  
@@@ -163,8 -159,8 +169,8 @@@
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
 -#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 -#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 +#define DEFAULT_ACCELERATION          1500	// 3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 +#define DEFAULT_RETRACT_ACCELERATION  1500	// 3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
  // 
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
@@@ -180,32 -176,22 +186,32 @@@
  // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable eeprom support
 -//#define EEPROM_SETTINGS
 +#define EEPROM_SETTINGS
  //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
  // please keep turned on if you can.
 -//#define EEPROM_CHITCHAT
 +#define EEPROM_CHITCHAT
  
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
 -#define SDSUPPORT // Enable SD Card Support in Hardware Console
 +//#define SDSUPPORT // Enable SD Card Support in Hardware Console
  
  //#define ULTIPANEL
  #ifdef ULTIPANEL
 -  //#define NEWPANEL  //enable this if you have a click-encoder panel
 +  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
    #define LCD_WIDTH 20
    #define LCD_HEIGHT 4
 +
 +// Preheat Constants
 +  #define PLA_PREHEAT_HOTEND_TEMP 180 
 +  #define PLA_PREHEAT_HPB_TEMP 70
 +  #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +
 +  #define ABS_PREHEAT_HOTEND_TEMP 240
 +  #define ABS_PREHEAT_HPB_TEMP 100
 +  #define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
 +
  #else //no panel but just lcd 
    #ifdef ULTRA_LCD
      #define LCD_WIDTH 16

commit 35e57bf149685a10cfa64b3437c428bf57519e5f
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Feb 25 17:44:45 2012 +0100

    Added gen6 deluxe.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 1818b0cc21..035928ba89 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -8,12 +8,12 @@
 //User specified version info of THIS file to display in [Pronterface, etc] terminal window during startup.
 //Implementation of an idea by Prof Braino to inform user that any changes made
 //to THIS file by the user have been successfully uploaded into firmware.
-#define STRING_VERSION_CONFIG_H "2012-02-08j" //Personal revision number for changes to THIS file.
-#define STRING_CONFIG_H_AUTHOR "scuba82" //Who made the changes.
+#define STRING_VERSION_CONFIG_H "2012-02-25" //Personal revision number for changes to THIS file.
+#define STRING_CONFIG_H_AUTHOR "erik" //Who made the changes.
 
 // This determines the communication speed of the printer
-//#define BAUDRATE 250000
-#define BAUDRATE 115200
+#define BAUDRATE 250000
+//#define BAUDRATE 115200
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
 // Gen7 custom (Alfons3 Version) = 10 "https://github.com/Alfons3/Generation_7_Electronics"
@@ -22,12 +22,13 @@
 // MEGA/RAMPS up to 1.2 = 3
 // RAMPS 1.3 = 33 (Power outputs: Extruder, Bed, Fan)
 // RAMPS 1.3 = 34 (Power outputs: Extruder0, Extruder1, Bed)
-// Gen6 = 
+// Gen6 = 5
+// Gen6 deluxe = 51
 // Sanguinololu 1.2 and above = 62
 // Ultimaker = 7
 // Teensylu = 8
 // Gen3+ =9
-#define MOTHERBOARD 33
+#define MOTHERBOARD 51
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -186,9 +187,9 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
-#define SDSUPPORT // Enable SD Card Support in Hardware Console
+//#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-#define ULTIPANEL
+//#define ULTIPANEL
 #ifdef ULTIPANEL
   #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit 84ea2d61e827503c95c0c05037e3cfc4d94c75ae
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Feb 24 23:34:41 2012 +0100

    Moved gen7 boards to motherboard type 10, 11 and 12.
    Split ramps1.3 in Sprinter like config and multiextruder config.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c3c942a01d..1818b0cc21 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -16,15 +16,16 @@
 #define BAUDRATE 115200
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
-// MEGA/RAMPS up to 1.2 = 3,
-// RAMPS 1.3 = 33
-// Gen6 = 5,
+// Gen7 custom (Alfons3 Version) = 10 "https://github.com/Alfons3/Generation_7_Electronics"
+// Gen7 v1.1, v1.2 = 11
+// Gen7 v1.3 = 12
+// MEGA/RAMPS up to 1.2 = 3
+// RAMPS 1.3 = 33 (Power outputs: Extruder, Bed, Fan)
+// RAMPS 1.3 = 34 (Power outputs: Extruder0, Extruder1, Bed)
+// Gen6 = 
 // Sanguinololu 1.2 and above = 62
-// Ultimaker = 7,
-// Gen7 custom (Alfons3 Version) = 77, "https://github.com/Alfons3/Generation_7_Electronics"
-// Gen7 v1.1, v1.2 = 78
-// Gen7 v1.3 = 79
-// Teensylu = 8,
+// Ultimaker = 7
+// Teensylu = 8
 // Gen3+ =9
 #define MOTHERBOARD 33
 

commit 01d28c18ab43b806c095068b63f52b879103de1c
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Thu Feb 23 18:45:37 2012 +0100

    Fixed casting warning in sanguino

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index da4a0def71..c3c942a01d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -51,7 +51,7 @@
 
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 10	// 30  // (seconds) 30 seconds was too long
-#define TEMP_HYSTERESIS 3       // (CÔøΩ) range of +/- temperatures considered "close" to the target one
+#define TEMP_HYSTERESIS 3       // (degC) range of +/- temperatures considered "close" to the target one
 
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
 // to check that the wiring to the thermistor is not broken. 

commit 2fd8c248fe296818c902a1db65fbdc79cce91abf
Author: Blair Thompson <mail@justblair.co.uk>
Date:   Wed Feb 22 23:05:52 2012 +0000

    Added Fan control to the pre-heat settings.
    
    I find that the PID routine works better when the cooling fan is switched on
    at the beginning of a warm up routine.  Otherwise when you enable the fan
    just before a print, you have a delay as the PIDre-adjusts.
    
    This should also be safer as most cooling fans are directed at the hot -ends
    thermal barrier!

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e36751e85d..da4a0def71 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -194,10 +194,16 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
   #define ULTRA_LCD
   #define LCD_WIDTH 20
   #define LCD_HEIGHT 4
+
+// Preheat Constants
   #define PLA_PREHEAT_HOTEND_TEMP 180 
   #define PLA_PREHEAT_HPB_TEMP 70
+  #define PLA_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+
   #define ABS_PREHEAT_HOTEND_TEMP 240
   #define ABS_PREHEAT_HPB_TEMP 100
+  #define ABS_PREHEAT_FAN_SPEED 255		// Insert Value between 0 and 255
+
 #else //no panel but just lcd 
   #ifdef ULTRA_LCD
     #define LCD_WIDTH 16

commit d9f2f509d52995c4e0d6f52f9a8f1e7359d7b132
Author: Blair Thompson <mail@justblair.co.uk>
Date:   Wed Feb 22 22:51:04 2012 +0000

    Added new menu items under the prepare submenu.
    Instead of a single pre-heat, now there is pre-heat ABS and PLA options
    Added defines to the configuration file to adjust preheat temperatures for both

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ef0d206a87..e36751e85d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -26,7 +26,7 @@
 // Gen7 v1.3 = 79
 // Teensylu = 8,
 // Gen3+ =9
-#define MOTHERBOARD 7
+#define MOTHERBOARD 33
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -44,7 +44,7 @@
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
 
-#define TEMP_SENSOR_0 -1
+#define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0
 #define TEMP_SENSOR_BED 1
@@ -129,7 +129,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 
 #define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR true    // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR false     // for Mendel set to false, for Orca set to true
+#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
@@ -194,6 +194,10 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
   #define ULTRA_LCD
   #define LCD_WIDTH 20
   #define LCD_HEIGHT 4
+  #define PLA_PREHEAT_HOTEND_TEMP 180 
+  #define PLA_PREHEAT_HPB_TEMP 70
+  #define ABS_PREHEAT_HOTEND_TEMP 240
+  #define ABS_PREHEAT_HPB_TEMP 100
 #else //no panel but just lcd 
   #ifdef ULTRA_LCD
     #define LCD_WIDTH 16

commit ae3e7586c661d7c9a68b046c65862b850a7566fb
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Wed Feb 22 18:07:56 2012 +0100

    Added HOME_POS. This adds the posibility to make the center 0
    Updated the Xsteps ... settings via the LCD menu

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 545b82b7a8..ef0d206a87 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -146,6 +146,11 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define Y_MAX_LENGTH 185
 #define Z_MAX_LENGTH 90
 
+// The position of the homing switches. Use MAX_LENGTH * -0.5 if the center should be 0, 0, 0
+#define X_HOME_POS 0
+#define Y_HOME_POS 0
+#define Z_HOME_POS 0
+
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 #define HOMING_FEEDRATE {1500, 1500, 80, 0} // {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
@@ -182,7 +187,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 //#define ULTRA_LCD  //general lcd support, also 16x2
 #define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-//#define ULTIPANEL
+#define ULTIPANEL
 #ifdef ULTIPANEL
   #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit 8816ef1c6469684a5d592e2b54ad266a1073b4c8
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Tue Feb 21 20:36:43 2012 +0100

    Small fixes after merge

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2b561923e8..545b82b7a8 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -183,13 +183,6 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 //#define ULTIPANEL
-// If you are using a RAMPS board or cheap E-bay purchased boards that do not detect when an SD card is inserted
-// You can get round this by connecting a push button or single throw switch to the pin defined as SDCARDCARDDETECT 
-// in the pins.h file.  When using a push button pulling the pin to ground this will need inverted.  This setting should
-// be commented out otherwise
-#define SDCARDDETECTINVERTED 
-
-#define ULTIPANEL
 #ifdef ULTIPANEL
   #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit d298dd121f326cd44c8151e4d5a0be7fa3e96e20
Merge: 2cc9a89830 b976692d0f
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Tue Feb 21 20:26:59 2012 +0100

    merged SBUBA82 and Justblair

diff --combined Marlin/Configuration.h
index 4731a04ed7,4497ec7cdb..2b561923e8
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -9,11 -9,11 +9,11 @@@
  //Implementation of an idea by Prof Braino to inform user that any changes made
  //to THIS file by the user have been successfully uploaded into firmware.
  #define STRING_VERSION_CONFIG_H "2012-02-08j" //Personal revision number for changes to THIS file.
 -#define STRING_CONFIG_H_AUTHOR "username" //Who made the changes.
 +#define STRING_CONFIG_H_AUTHOR "scuba82" //Who made the changes.
  
  // This determines the communication speed of the printer
 -#define BAUDRATE 250000
 -//#define BAUDRATE 115200
 +//#define BAUDRATE 250000
 +#define BAUDRATE 115200
  
  //// The following define selects which electronics board you have. Please choose the one that matches your setup
  // MEGA/RAMPS up to 1.2 = 3,
@@@ -21,12 -21,9 +21,12 @@@
  // Gen6 = 5,
  // Sanguinololu 1.2 and above = 62
  // Ultimaker = 7,
 +// Gen7 custom (Alfons3 Version) = 77, "https://github.com/Alfons3/Generation_7_Electronics"
 +// Gen7 v1.1, v1.2 = 78
 +// Gen7 v1.3 = 79
  // Teensylu = 8,
  // Gen3+ =9
- #define MOTHERBOARD 77
 -#define MOTHERBOARD 33
++#define MOTHERBOARD 7
  
  //===========================================================================
  //=============================Thermal Settings  ============================
@@@ -44,14 -41,14 +44,14 @@@
  // 6 is EPCOS 100k
  // 7 is 100k Honeywell thermistor 135-104LAG-J01
  
- #define TEMP_SENSOR_0 6
 -#define TEMP_SENSOR_0 1
++#define TEMP_SENSOR_0 -1
  #define TEMP_SENSOR_1 0
  #define TEMP_SENSOR_2 0
  #define TEMP_SENSOR_BED 1
  
  // Actual temperature must be close to target for this long before M109 returns success
- #define TEMP_RESIDENCY_TIME 30  // (seconds)
+ #define TEMP_RESIDENCY_TIME 10	// 30  // (seconds) 30 seconds was too long
 -#define TEMP_HYSTERESIS 3       // (C¬∞) range of +/- temperatures considered "close" to the target one
 +#define TEMP_HYSTERESIS 3       // (CÔøΩ) range of +/- temperatures considered "close" to the target one
  
  // The minimal temperature defines the temperature below which the heater will not be enabled It is used
  // to check that the wiring to the thermistor is not broken. 
@@@ -100,7 -97,7 +100,7 @@@
  //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
  //can be software-disabled for whatever purposes by
  #define PREVENT_DANGEROUS_EXTRUDE
 -#define EXTRUDE_MINTEMP 170		// 190 //  Lowered a bit as I want to print PLA
 +#define EXTRUDE_MINTEMP 170
  #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  
  //===========================================================================
@@@ -128,8 -125,8 +128,8 @@@ const bool Z_ENDSTOPS_INVERTING = false
  #define DISABLE_E false // For all extruders
  
  #define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
- #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
+ #define INVERT_Y_DIR true    // for Mendel set to true, for Orca set to false
 -#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 +#define INVERT_Z_DIR false     // for Mendel set to false, for Orca set to true
  #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
  #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
@@@ -140,24 -137,24 +140,24 @@@
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
  
 -#define min_software_endstops true //If true, axis won't move to coordinates less than zero.
 +#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
  #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
- #define X_MAX_LENGTH 205
- #define Y_MAX_LENGTH 205
- #define Z_MAX_LENGTH 200
+ #define X_MAX_LENGTH 175
+ #define Y_MAX_LENGTH 185
+ #define Z_MAX_LENGTH 90
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
- #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
+ #define HOMING_FEEDRATE {1500, 1500, 80, 0} // {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
  // default settings 
  
- #define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,2560,760*1.1}                    // default steps per unit for ultimaker 
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {80, 80, 2560,640.15}	// {78.7402,78.7402,200*8/3,760*1.1} // default steps per unit for metric prusa 
++#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
- #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
- #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+ #define DEFAULT_ACCELERATION          1500	// 3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+ #define DEFAULT_RETRACT_ACCELERATION  1500	// 3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
  // 
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
@@@ -173,15 -170,22 +173,22 @@@
  // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable eeprom support
 -//#define EEPROM_SETTINGS
 +#define EEPROM_SETTINGS
  //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
  // please keep turned on if you can.
 -//#define EEPROM_CHITCHAT
 +#define EEPROM_CHITCHAT
  
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
  #define SDSUPPORT // Enable SD Card Support in Hardware Console
  
 -// Invert the SD card Detect Pin.  
++//#define ULTIPANEL
+ // If you are using a RAMPS board or cheap E-bay purchased boards that do not detect when an SD card is inserted
+ // You can get round this by connecting a push button or single throw switch to the pin defined as SDCARDCARDDETECT 
+ // in the pins.h file.  When using a push button pulling the pin to ground this will need inverted.  This setting should
+ // be commented out otherwise
+ #define SDCARDDETECTINVERTED 
+ 
  #define ULTIPANEL
  #ifdef ULTIPANEL
    #define NEWPANEL  //enable this if you have a click-encoder panel

commit a05a261b723d3004446bea6641eab182715cfe3a
Author: Blair Thompson <mail@justblair.co.uk>
Date:   Sat Feb 18 23:56:31 2012 +0000

    Added a workaround.  Ramps SD card does not have sdcarddetect.  My temporary solution is to add a momentary swtich
    that pulls down the SDCARDDETECT pin and mimicking the pull and reinsert ofa a SD card

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fa12c0082e..4497ec7cdb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -179,6 +179,13 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 //#define ULTRA_LCD  //general lcd support, also 16x2
 #define SDSUPPORT // Enable SD Card Support in Hardware Console
 
+// Invert the SD card Detect Pin.  
+// If you are using a RAMPS board or cheap E-bay purchased boards that do not detect when an SD card is inserted
+// You can get round this by connecting a push button or single throw switch to the pin defined as SDCARDCARDDETECT 
+// in the pins.h file.  When using a push button pulling the pin to ground this will need inverted.  This setting should
+// be commented out otherwise
+#define SDCARDDETECTINVERTED 
+
 #define ULTIPANEL
 #ifdef ULTIPANEL
   #define NEWPANEL  //enable this if you have a click-encoder panel

commit 1b6765ed12b2d6d85bd786bff5cf78fa175b1627
Author: Blair Thompson <mail@justblair.co.uk>
Date:   Sat Feb 18 18:25:04 2012 +0000

    Updated the pin config for RAMPS 1.3 to include ultimaker new style LCD/Rotary Encoder interface

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7288e8fb56..fa12c0082e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -23,7 +23,7 @@
 // Ultimaker = 7,
 // Teensylu = 8,
 // Gen3+ =9
-#define MOTHERBOARD 7
+#define MOTHERBOARD 33
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -41,13 +41,13 @@
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
 
-#define TEMP_SENSOR_0 -1
+#define TEMP_SENSOR_0 1
 #define TEMP_SENSOR_1 0
 #define TEMP_SENSOR_2 0
-#define TEMP_SENSOR_BED 0
+#define TEMP_SENSOR_BED 1
 
 // Actual temperature must be close to target for this long before M109 returns success
-#define TEMP_RESIDENCY_TIME 30  // (seconds)
+#define TEMP_RESIDENCY_TIME 10	// 30  // (seconds) 30 seconds was too long
 #define TEMP_HYSTERESIS 3       // (C¬∞) range of +/- temperatures considered "close" to the target one
 
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
@@ -97,7 +97,7 @@
 //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
 //can be software-disabled for whatever purposes by
 #define PREVENT_DANGEROUS_EXTRUDE
-#define EXTRUDE_MINTEMP 190
+#define EXTRUDE_MINTEMP 170		// 190 //  Lowered a bit as I want to print PLA
 #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
 //===========================================================================
@@ -108,9 +108,9 @@
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
@@ -124,8 +124,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DISABLE_Z false
 #define DISABLE_E false // For all extruders
 
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
+#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
+#define INVERT_Y_DIR true    // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
@@ -139,22 +139,22 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 #define min_software_endstops true //If true, axis won't move to coordinates less than zero.
 #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
-#define X_MAX_LENGTH 205
-#define Y_MAX_LENGTH 205
-#define Z_MAX_LENGTH 200
+#define X_MAX_LENGTH 175
+#define Y_MAX_LENGTH 185
+#define Z_MAX_LENGTH 90
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
+#define HOMING_FEEDRATE {1500, 1500, 80, 0} // {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {80, 80, 2560,640.15}	// {78.7402,78.7402,200*8/3,760*1.1} // default steps per unit for metric prusa 
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
-#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+#define DEFAULT_ACCELERATION          1500	// 3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_RETRACT_ACCELERATION  1500	// 3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
 // 
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
@@ -179,9 +179,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTRA_LCD  //general lcd support, also 16x2
 #define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-//#define ULTIPANEL
+#define ULTIPANEL
 #ifdef ULTIPANEL
-  //#define NEWPANEL  //enable this if you have a click-encoder panel
+  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT
   #define ULTRA_LCD
   #define LCD_WIDTH 20

commit e661578c84052d2fce063a6774a784bd76d627f9
Author: Christian Thalhammer <christian_thalhammer@gmx.at>
Date:   Fri Feb 17 10:46:48 2012 +0100

    support for GEN7 1.1,1.2 and 1.3

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cab9085ff7..4731a04ed7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -9,7 +9,7 @@
 //Implementation of an idea by Prof Braino to inform user that any changes made
 //to THIS file by the user have been successfully uploaded into firmware.
 #define STRING_VERSION_CONFIG_H "2012-02-08j" //Personal revision number for changes to THIS file.
-#define STRING_CONFIG_H_AUTHOR "username" //Who made the changes.
+#define STRING_CONFIG_H_AUTHOR "scuba82" //Who made the changes.
 
 // This determines the communication speed of the printer
 //#define BAUDRATE 250000
@@ -21,7 +21,9 @@
 // Gen6 = 5,
 // Sanguinololu 1.2 and above = 62
 // Ultimaker = 7,
-// Gen7 = 77,
+// Gen7 custom (Alfons3 Version) = 77, "https://github.com/Alfons3/Generation_7_Electronics"
+// Gen7 v1.1, v1.2 = 78
+// Gen7 v1.3 = 79
 // Teensylu = 8,
 // Gen3+ =9
 #define MOTHERBOARD 77
@@ -49,7 +51,7 @@
 
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 30  // (seconds)
-#define TEMP_HYSTERESIS 3       // (C∞) range of +/- temperatures considered "close" to the target one
+#define TEMP_HYSTERESIS 3       // (CÔøΩ) range of +/- temperatures considered "close" to the target one
 
 // The minimal temperature defines the temperature below which the heater will not be enabled It is used
 // to check that the wiring to the thermistor is not broken. 
@@ -127,7 +129,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 
 #define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
+#define INVERT_Z_DIR false     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
@@ -138,7 +140,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
 
-#define min_software_endstops true //If true, axis won't move to coordinates less than zero.
+#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
 #define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 #define X_MAX_LENGTH 205
 #define Y_MAX_LENGTH 205

commit 73344e69c1cd361164aa67af9ab28344f17a1227
Author: Daid <daid303@gmail.com>
Date:   Thu Feb 16 11:03:41 2012 +0100

    Added temperature offset/gain settings for AD595.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f0d8913631..eed1895d4f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -66,6 +66,12 @@
 #define HEATER_2_MAXTEMP 275
 #define BED_MAXTEMP 150
 
+//These defines help to calibrate the AD595 sensor in case you get wrong temperature measurements.
+//The measured temperature is defined as "actualTemp = (measuredTemp * TEMP_SENSOR_AD595_GAIN) + TEMP_SENSOR_AD595_OFFSET"
+#define TEMP_SENSOR_AD595_OFFSET 0.0
+#define TEMP_SENSOR_AD595_GAIN   1.0
+
+
 // PID settings:
 // Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP

commit d309565b56610b4295c7f517c6fada8d51c0ef04
Merge: 0e3631ff4b fa2e1be0ca
Author: Christian Thalhammer <christian_thalhammer@gmx.at>
Date:   Mon Feb 13 13:07:55 2012 +0100

    Merge remote-tracking branch 'upstream/Marlin_v1' into Marlin_v1
    
    Conflicts:
            Marlin/Configuration.h

diff --combined Marlin/Configuration.h
index 4f7ab5a6b7,f0d8913631..cab9085ff7
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -1,143 -1,87 +1,88 @@@
  #ifndef __CONFIGURATION_H
  #define __CONFIGURATION_H
  
+ // This configurtion file contains the basic settings.
+ // Advanced settings can be found in Configuration_adv.h 
+ // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
  
+ //User specified version info of THIS file to display in [Pronterface, etc] terminal window during startup.
+ //Implementation of an idea by Prof Braino to inform user that any changes made
+ //to THIS file by the user have been successfully uploaded into firmware.
+ #define STRING_VERSION_CONFIG_H "2012-02-08j" //Personal revision number for changes to THIS file.
+ #define STRING_CONFIG_H_AUTHOR "username" //Who made the changes.
  
  // This determines the communication speed of the printer
 -#define BAUDRATE 250000
 -//#define BAUDRATE 115200
 +//#define BAUDRATE 250000
 +#define BAUDRATE 115200
- //#define BAUDRATE 230400
- 
- #define EXTRUDERS 1
- 
- // Frequency limit
- // See nophead's blog for more info
- // Not working O
- //#define XY_FREQUENCY_LIMIT  15
- 
- // Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
- // of the buffer and all stops. This should not be much greater than zero and should only be changed
- // if unwanted behavior is observed on a user's machine when running at very slow speeds.
- #define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
- 
- // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
  
  //// The following define selects which electronics board you have. Please choose the one that matches your setup
  // MEGA/RAMPS up to 1.2 = 3,
  // RAMPS 1.3 = 33
  // Gen6 = 5,
  // Sanguinololu 1.2 and above = 62
- // Gen7 = 77,
  // Ultimaker = 7,
- // Teensylu = 8
++// Gen7 = 77,
+ // Teensylu = 8,
+ // Gen3+ =9
 -#define MOTHERBOARD 7
 +#define MOTHERBOARD 77
  
  //===========================================================================
  //=============================Thermal Settings  ============================
  //===========================================================================
  
- //// Thermistor settings:
+ //// Temperature sensor settings:
+ // -2 is thermocouple with MAX6675 (only for sensor 0)
+ // -1 is thermocouple with AD595
+ // 0 is not used
  // 1 is 100k thermistor
  // 2 is 200k thermistor
  // 3 is mendel-parts thermistor
- // 4 is 10k thermistor
+ // 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
  // 5 is ParCan supplied 104GT-2 100K
  // 6 is EPCOS 100k
  // 7 is 100k Honeywell thermistor 135-104LAG-J01
  
- #define THERMISTORHEATER_0 1
- //#define THERMISTORHEATER_1 1
- //#define THERMISTORHEATER_2 1
- 
- #define HEATER_0_USES_THERMISTOR
- //#define HEATER_1_USES_THERMISTOR
- //#define HEATER_2_USES_THERMISTOR
- //#define HEATER_0_USES_AD595
- //#define HEATER_1_USES_AD595
- //#define HEATER_2_USES_AD595
- 
- // Select one of these only to define how the bed temp is read.
- #define THERMISTORBED 1
- #define BED_USES_THERMISTOR
- //#define BED_LIMIT_SWITCHING
- #ifdef BED_LIMIT_SWITCHING
- #define BED_HYSTERESIS 2 //only disable heating if T>target+BED_HYSTERESIS and enable heating if T>target-BED_HYSTERESIS
- #endif
- //#define BED_USES_AD595
- 
- #define BED_CHECK_INTERVAL 5000 //ms
- 
- //// Heating sanity check:
- // This waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
- // If the temperature has not increased at the end of that period, the target temperature is set to zero. 
- // It can be reset with another M104/M109
- //#define WATCHPERIOD 20000 //20 seconds
 -#define TEMP_SENSOR_0 -1
++#define TEMP_SENSOR_0 6
+ #define TEMP_SENSOR_1 0
+ #define TEMP_SENSOR_2 0
 -#define TEMP_SENSOR_BED 0
++#define TEMP_SENSOR_BED 1
  
  // Actual temperature must be close to target for this long before M109 returns success
  #define TEMP_RESIDENCY_TIME 30  // (seconds)
- #define TEMP_HYSTERESIS 3       // (C√Ç¬∞) range of +/- temperatures considered "close" to the target one
- 
- //// The minimal temperature defines the temperature below which the heater will not be enabled
- //#define HEATER_0_MINTEMP 5
- //#define HEATER_1_MINTEMP 5
- //#define HEATER_2_MINTEMP 5
- //#define BED_MINTEMP 5
 -#define TEMP_HYSTERESIS 3       // (C¬∞) range of +/- temperatures considered "close" to the target one
++#define TEMP_HYSTERESIS 3       // (C∞) range of +/- temperatures considered "close" to the target one
  
+ // The minimal temperature defines the temperature below which the heater will not be enabled It is used
+ // to check that the wiring to the thermistor is not broken. 
+ // Otherwise this would lead to the heater being powered on all the time.
+ #define HEATER_0_MINTEMP 5
+ #define HEATER_1_MINTEMP 5
+ #define HEATER_2_MINTEMP 5
+ #define BED_MINTEMP 5
  
  // When temperature exceeds max temp, your heater will be switched off.
  // This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
  // You should use MINTEMP for thermistor short/failure protection.
  #define HEATER_0_MAXTEMP 275
- //#define HEATER_1_MAXTEMP 275
- //#define HEATER_2_MAXTEMP 275
- //#define BED_MAXTEMP 150
- 
- 
- // Wait for Cooldown
- // This defines if the M109 call should not block if it is cooling down.
- // example: From a current temp of 220, you set M109 S200. 
- // if CooldownNoWait is defined M109 will not wait for the cooldown to finish
- #define CooldownNoWait true
- 
- // Heating is finished if a temperature close to this degree shift is reached
- #define HEATING_EARLY_FINISH_DEG_OFFSET 1 //Degree
+ #define HEATER_1_MAXTEMP 275
+ #define HEATER_2_MAXTEMP 275
+ #define BED_MAXTEMP 150
  
  // PID settings:
- // Uncomment the following line to enable PID support.
+ // Comment the following line to disable PID and enable bang-bang.
  #define PIDTEMP
  #define PID_MAX 255 // limits current to nozzle; 255=full current
  #ifdef PIDTEMP
- //#define PID_DEBUG // Sends debug data to the serial port. 
- //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
- #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
- #define K1 0.95 //smoothing factor withing the PID
- #define PID_dT 0.128 //sampling period of the PID
- 
- //To develop some PID settings for your machine, you can initiall follow 
- // the Ziegler-Nichols method.
- // set Ki and Kd to zero. 
- // heat with a defined Kp and see if the temperature stabilizes
- // ideally you do this graphically with repg.
- // the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
- // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
- // usually further manual tunine is necessary.
- 
- #define PID_CRITIAL_GAIN 50
- #define PID_SWING_AT_CRITIAL 47 //seconds
- 
- //#define PID_PI    //no differentail term
- #define PID_PID //normal PID
- 
- #ifdef PID_PID
- //PID according to Ziegler-Nichols method
- //    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
- //    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
- //    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
- 
- // Ultitmaker
- #define  DEFAULT_Kp  22.2
- #define  DEFAULT_Ki (1.25*PID_dT)  
- #define  DEFAULT_Kd (99/PID_dT)  
+   //#define PID_DEBUG // Sends debug data to the serial port. 
+   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
+   #define K1 0.95 //smoothing factor withing the PID
+   #define PID_dT 0.128 //sampling period of the PID
+ 
+ // If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
+ // Ultimaker
+     #define  DEFAULT_Kp  22.2
+     #define  DEFAULT_Ki (1.25*PID_dT)  
+     #define  DEFAULT_Kd (99/PID_dT)  
  
  // Makergear
  //    #define  DEFAULT_Kp 7.0
@@@ -147,49 -91,26 +92,26 @@@
  // Mendel Parts V9 on 12V    
  //    #define  DEFAULT_Kp  63.0
  //    #define  DEFAULT_Ki (2.25*PID_dT)  
- //    #define  DEFAULT_Kd (440/PID_dT)  
- #endif
- 
- #ifdef PID_PI
- //PI according to Ziegler-Nichols method
- #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
- #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
- #define  DEFAULT_Kd (0)
- #endif
- 
- // this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
- // if Kc is choosen well, the additional required power due to increased melting should be compensated.
- #define PID_ADD_EXTRUSION_RATE  
- #ifdef PID_ADD_EXTRUSION_RATE
- #define  DEFAULT_Kc (1) //heatingpower=Kc*(e_speed)
- #endif
+ //    #define  DEFAULT_Kd (440/PID_dT)
  #endif // PIDTEMP
  
- //  extruder run-out prevention. 
- //if the machine is idle, and the temperature over MINTEMP, every couple of SECONDS some filament is extruded
- //#define EXTRUDER_RUNOUT_PREVENT  
- #define EXTRUDER_RUNOUT_MINTEMP 190  
- #define EXTRUDER_RUNOUT_SECONDS 30.
- #define EXTRUDER_RUNOUT_ESTEPS 14. //mm filament
- #define EXTRUDER_RUNOUT_SPEED 1500.  //extrusion speed
- #define EXTRUDER_RUNOUT_EXTRUDE 100
- 
+ //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
+ //can be software-disabled for whatever purposes by
+ #define PREVENT_DANGEROUS_EXTRUDE
+ #define EXTRUDE_MINTEMP 170
+ #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  
  //===========================================================================
  //=============================Mechanical Settings===========================
  //===========================================================================
  
- 
  // Endstop Settings
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
  
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 -const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 -const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 -const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 +const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
 +const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
 +const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
- // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
- 
- #define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -203,20 -124,14 +125,14 @@@
  #define DISABLE_Z false
  #define DISABLE_E false // For all extruders
  
- // Inverting axis direction
- //#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
- //#define INVERT_Y_DIR true   // for Mendel set to true, for Orca set to false
- //#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
- //#define INVERT_E*_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false, used for all extruders
- 
 -#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 +#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
  #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
- #define INVERT_Z_DIR false     // for Mendel set to false, for Orca set to true
+ #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
  #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
  #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  
- //// ENDSTOP SETTINGS:
+ // ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
  #define X_HOME_DIR -1
  #define Y_HOME_DIR -1
@@@ -232,44 -147,19 +148,19 @@@
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
  #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
- //homing hits the endstop, then retracts by this distance, before it tries to slowly bump again:
- #define X_HOME_RETRACT_MM 5 
- #define Y_HOME_RETRACT_MM 5 
- #define Z_HOME_RETRACT_MM 1 
- #define QUICK_HOME  //if this is defined, if both x and y are to be homed, a diagonal move will be performed initially.
- 
- #define AXIS_RELATIVE_MODES {false, false, false, false}
- 
- #define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
- 
  // default settings 
  
--#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
- //#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 360} //sells mendel with v9 extruder
- //#define DEFAULT_AXIS_STEPS_PER_UNIT   {80.3232, 80.8900, 2284.7651, 757.2218} // SAE Prusa w/ Wade extruder
++#define DEFAULT_AXIS_STEPS_PER_UNIT   {80,80,2560,760*1.1}                    // default steps per unit for ultimaker 
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
  #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
- #define DEFAULT_MINIMUMFEEDRATE       0.0     // minimum feedrate
- #define DEFAULT_MINTRAVELFEEDRATE     0.0
- 
- // minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while
- //printing high speed & high detail.  It will slowdown on the detailed stuff.
- #define DEFAULT_MINSEGMENTTIME        20000   // Obsolete delete this
+ // 
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  
- // If defined the movements slow down when the look ahead buffer is only half full
- #define SLOWDOWN
- 
- //default stepper release if idle
- #define DEFAULT_STEPPER_DEACTIVE_TIME 60
- #define DEFAULT_STEPPER_DEACTIVE_COMMAND "M84 X Y E"  //z stays  powered
- 
- 
  //===========================================================================
  //=============================Additional Features===========================
  //===========================================================================
@@@ -280,118 -170,34 +171,34 @@@
  // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
  // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
  //define this to enable eeprom support
 -//#define EEPROM_SETTINGS
 +#define EEPROM_SETTINGS
  //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
  // please keep turned on if you can.
 -//#define EEPROM_CHITCHAT
 +#define EEPROM_CHITCHAT
  
- 
- // The hardware watchdog should halt the Microcontroller, in case the firmware gets stuck somewhere. However:
- // the Watchdog is not working well, so please only enable this for testing
- // this enables the watchdog interrupt.
- //#define USE_WATCHDOG
- //#ifdef USE_WATCHDOG
- // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
- //#define RESET_MANUAL
- //#define WATCHDOG_TIMEOUT 4  //seconds
- //#endif
- 
- // extruder advance constant (s2/mm3)
- //
- // advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
- //
- // hooke's law says:		force = k * distance
- // bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
- // so: v ^ 2 is proportional to number of steps we advance the extruder
- //#define ADVANCE
- 
- #ifdef ADVANCE
- #define EXTRUDER_ADVANCE_K .0
- 
- #define D_FILAMENT 2.85
- #define STEPS_MM_E 836
- #define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
- #define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
- 
- #endif // ADVANCE
- 
- 
  //LCD and SD support
  //#define ULTRA_LCD  //general lcd support, also 16x2
- //#define SDSUPPORT // Enable SD Card Support in Hardware Console
- #define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
- #define SD_FINISHED_RELEASECOMMAND "M84 X Y E" // no z because of layer shift.
+ #define SDSUPPORT // Enable SD Card Support in Hardware Console
  
 -//#define ULTIPANEL
 +#define ULTIPANEL
  #ifdef ULTIPANEL
- #define NEWPANEL  //enable this if you have a click-encoder panel
- #define SDSUPPORT
- #define ULTRA_LCD
- #define LCD_WIDTH 20
- #define LCD_HEIGHT 4
 -  //#define NEWPANEL  //enable this if you have a click-encoder panel
++  #define NEWPANEL  //enable this if you have a click-encoder panel
+   #define SDSUPPORT
+   #define ULTRA_LCD
+   #define LCD_WIDTH 20
+   #define LCD_HEIGHT 4
  #else //no panel but just lcd 
- #ifdef ULTRA_LCD
- #define LCD_WIDTH 16
- #define LCD_HEIGHT 2
+   #ifdef ULTRA_LCD
+     #define LCD_WIDTH 16
+     #define LCD_HEIGHT 2
+   #endif
  #endif
- #endif
- 
- // A debugging feature to compare calculated vs performed steps, to see if steps are lost by the software.
- //#define DEBUG_STEPS
- 
- 
- // Arc interpretation settings:
- #define MM_PER_ARC_SEGMENT 1
- #define N_ARC_CORRECTION 25
- 
- 
- //automatic temperature: The hot end target temperature is calculated by all the buffered lines of gcode.
- //The maximum buffered steps/sec of the extruder motor are called "se".
- //You enter the autotemp mode by a M109 S<mintemp> T<maxtemp> F<factor>
- // the target temperature is set to mintemp+factor*se[steps/sec] and limited by mintemp and maxtemp
- // you exit the value by any M109 without F*
- // Also, if the temperature is set to a value <mintemp, it is not changed by autotemp.
- // on an ultimaker, some initial testing worked with M109 S215 T260 F0.1 in the start.gcode
- //#define AUTOTEMP
- #ifdef AUTOTEMP
- #define AUTOTEMP_OLDWEIGHT 0.98
- #endif
- 
- //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
- //can be software-disabled for whatever purposes by
- #define PREVENT_DANGEROUS_EXTRUDE
- #define EXTRUDE_MINTEMP 0
- #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
- 
- const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement
- 
  
  // M240  Triggers a camera by emulating a Canon RC-1 Remote
  // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
  // #define PHOTOGRAPH_PIN     23
  
- //===========================================================================
- //=============================Buffers           ============================
- //===========================================================================
- 
- 
- 
- // The number of linear motions that can be in the plan at any give time.  
- // THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
- #if defined SDSUPPORT
- #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
- #else
- #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
- #endif
- 
- 
- //The ASCII buffer for recieving from the serial:
- #define MAX_CMD_SIZE 96
- #define BUFSIZE 4
- 
- 
+ #include "Configuration_adv.h"
  #include "thermistortables.h"
  
  #endif //__CONFIGURATION_H
- 
- 

commit 0e3631ff4bdae41cc638c59a72af654931bfaf04
Author: Christian Thalhammer <christian_thalhammer@gmx.at>
Date:   Mon Feb 13 12:31:53 2012 +0100

    smaller changes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d532539eff..4f7ab5a6b7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -4,8 +4,8 @@
 
 
 // This determines the communication speed of the printer
-#define BAUDRATE 250000
-//#define BAUDRATE 115200
+//#define BAUDRATE 250000
+#define BAUDRATE 115200
 //#define BAUDRATE 230400
 
 #define EXTRUDERS 1
@@ -26,11 +26,11 @@
 // MEGA/RAMPS up to 1.2 = 3,
 // RAMPS 1.3 = 33
 // Gen6 = 5,
-// Sanguinololu 1.2 and above = 62,
-// Ultimaker = 7,
+// Sanguinololu 1.2 and above = 62
 // Gen7 = 77,
+// Ultimaker = 7,
 // Teensylu = 8
-#define MOTHERBOARD 7
+#define MOTHERBOARD 77
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -45,23 +45,23 @@
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
 
-//#define THERMISTORHEATER_0 3
+#define THERMISTORHEATER_0 1
 //#define THERMISTORHEATER_1 1
 //#define THERMISTORHEATER_2 1
 
-//#define HEATER_0_USES_THERMISTOR
+#define HEATER_0_USES_THERMISTOR
 //#define HEATER_1_USES_THERMISTOR
 //#define HEATER_2_USES_THERMISTOR
-#define HEATER_0_USES_AD595
+//#define HEATER_0_USES_AD595
 //#define HEATER_1_USES_AD595
 //#define HEATER_2_USES_AD595
 
 // Select one of these only to define how the bed temp is read.
-//#define THERMISTORBED 1
-//#define BED_USES_THERMISTOR
+#define THERMISTORBED 1
+#define BED_USES_THERMISTOR
 //#define BED_LIMIT_SWITCHING
 #ifdef BED_LIMIT_SWITCHING
-  #define BED_HYSTERESIS 2 //only disable heating if T>target+BED_HYSTERESIS and enable heating if T>target-BED_HYSTERESIS
+#define BED_HYSTERESIS 2 //only disable heating if T>target+BED_HYSTERESIS and enable heating if T>target-BED_HYSTERESIS
 #endif
 //#define BED_USES_AD595
 
@@ -75,10 +75,10 @@
 
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 30  // (seconds)
-#define TEMP_HYSTERESIS 3       // (C¬∞) range of +/- temperatures considered "close" to the target one
+#define TEMP_HYSTERESIS 3       // (C√Ç¬∞) range of +/- temperatures considered "close" to the target one
 
 //// The minimal temperature defines the temperature below which the heater will not be enabled
-#define HEATER_0_MINTEMP 5
+//#define HEATER_0_MINTEMP 5
 //#define HEATER_1_MINTEMP 5
 //#define HEATER_2_MINTEMP 5
 //#define BED_MINTEMP 5
@@ -107,37 +107,37 @@
 #define PIDTEMP
 #define PID_MAX 255 // limits current to nozzle; 255=full current
 #ifdef PIDTEMP
-  //#define PID_DEBUG // Sends debug data to the serial port. 
-  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-  #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
-  #define K1 0.95 //smoothing factor withing the PID
-  #define PID_dT 0.128 //sampling period of the PID
-
-  //To develop some PID settings for your machine, you can initiall follow 
-  // the Ziegler-Nichols method.
-  // set Ki and Kd to zero. 
-  // heat with a defined Kp and see if the temperature stabilizes
-  // ideally you do this graphically with repg.
-  // the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
-  // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
-  // usually further manual tunine is necessary.
-
-  #define PID_CRITIAL_GAIN 50
-  #define PID_SWING_AT_CRITIAL 47 //seconds
-  
-  //#define PID_PI    //no differentail term
-  #define PID_PID //normal PID
-
-  #ifdef PID_PID
-    //PID according to Ziegler-Nichols method
+//#define PID_DEBUG // Sends debug data to the serial port. 
+//#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+#define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
+#define K1 0.95 //smoothing factor withing the PID
+#define PID_dT 0.128 //sampling period of the PID
+
+//To develop some PID settings for your machine, you can initiall follow 
+// the Ziegler-Nichols method.
+// set Ki and Kd to zero. 
+// heat with a defined Kp and see if the temperature stabilizes
+// ideally you do this graphically with repg.
+// the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
+// PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
+// usually further manual tunine is necessary.
+
+#define PID_CRITIAL_GAIN 50
+#define PID_SWING_AT_CRITIAL 47 //seconds
+
+//#define PID_PI    //no differentail term
+#define PID_PID //normal PID
+
+#ifdef PID_PID
+//PID according to Ziegler-Nichols method
 //    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
 //    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
 //    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
 
 // Ultitmaker
-    #define  DEFAULT_Kp  22.2
-    #define  DEFAULT_Ki (1.25*PID_dT)  
-    #define  DEFAULT_Kd (99/PID_dT)  
+#define  DEFAULT_Kp  22.2
+#define  DEFAULT_Ki (1.25*PID_dT)  
+#define  DEFAULT_Kd (99/PID_dT)  
 
 // Makergear
 //    #define  DEFAULT_Kp 7.0
@@ -148,21 +148,21 @@
 //    #define  DEFAULT_Kp  63.0
 //    #define  DEFAULT_Ki (2.25*PID_dT)  
 //    #define  DEFAULT_Kd (440/PID_dT)  
-  #endif
-   
-  #ifdef PID_PI
-    //PI according to Ziegler-Nichols method
-    #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
-    #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
-    #define  DEFAULT_Kd (0)
-  #endif
-  
-  // this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
-  // if Kc is choosen well, the additional required power due to increased melting should be compensated.
-  #define PID_ADD_EXTRUSION_RATE  
-  #ifdef PID_ADD_EXTRUSION_RATE
-    #define  DEFAULT_Kc (1) //heatingpower=Kc*(e_speed)
-  #endif
+#endif
+
+#ifdef PID_PI
+//PI according to Ziegler-Nichols method
+#define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
+#define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
+#define  DEFAULT_Kd (0)
+#endif
+
+// this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
+// if Kc is choosen well, the additional required power due to increased melting should be compensated.
+#define PID_ADD_EXTRUSION_RATE  
+#ifdef PID_ADD_EXTRUSION_RATE
+#define  DEFAULT_Kc (1) //heatingpower=Kc*(e_speed)
+#endif
 #endif // PIDTEMP
 
 //  extruder run-out prevention. 
@@ -184,9 +184,9 @@
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
 // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 
 #define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
@@ -209,9 +209,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 //#define INVERT_E*_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false, used for all extruders
 
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
+#define INVERT_Z_DIR false     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
@@ -256,7 +256,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DEFAULT_MINIMUMFEEDRATE       0.0     // minimum feedrate
 #define DEFAULT_MINTRAVELFEEDRATE     0.0
 
-// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
+// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while
+//printing high speed & high detail.  It will slowdown on the detailed stuff.
 #define DEFAULT_MINSEGMENTTIME        20000   // Obsolete delete this
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
@@ -290,7 +291,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // this enables the watchdog interrupt.
 //#define USE_WATCHDOG
 //#ifdef USE_WATCHDOG
-  // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+// you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
 //#define RESET_MANUAL
 //#define WATCHDOG_TIMEOUT 4  //seconds
 //#endif
@@ -305,12 +306,12 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ADVANCE
 
 #ifdef ADVANCE
-  #define EXTRUDER_ADVANCE_K .0
+#define EXTRUDER_ADVANCE_K .0
 
-  #define D_FILAMENT 2.85
-  #define STEPS_MM_E 836
-  #define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
-  #define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
+#define D_FILAMENT 2.85
+#define STEPS_MM_E 836
+#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
+#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
 
 #endif // ADVANCE
 
@@ -321,18 +322,18 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
 #define SD_FINISHED_RELEASECOMMAND "M84 X Y E" // no z because of layer shift.
 
-//#define ULTIPANEL
+#define ULTIPANEL
 #ifdef ULTIPANEL
-  //#define NEWPANEL  //enable this if you have a click-encoder panel
-  #define SDSUPPORT
-  #define ULTRA_LCD
-  #define LCD_WIDTH 20
-  #define LCD_HEIGHT 4
+#define NEWPANEL  //enable this if you have a click-encoder panel
+#define SDSUPPORT
+#define ULTRA_LCD
+#define LCD_WIDTH 20
+#define LCD_HEIGHT 4
 #else //no panel but just lcd 
-  #ifdef ULTRA_LCD
-    #define LCD_WIDTH 16
-    #define LCD_HEIGHT 2
-  #endif
+#ifdef ULTRA_LCD
+#define LCD_WIDTH 16
+#define LCD_HEIGHT 2
+#endif
 #endif
 
 // A debugging feature to compare calculated vs performed steps, to see if steps are lost by the software.
@@ -353,13 +354,13 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // on an ultimaker, some initial testing worked with M109 S215 T260 F0.1 in the start.gcode
 //#define AUTOTEMP
 #ifdef AUTOTEMP
-  #define AUTOTEMP_OLDWEIGHT 0.98
+#define AUTOTEMP_OLDWEIGHT 0.98
 #endif
 
 //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
 //can be software-disabled for whatever purposes by
 #define PREVENT_DANGEROUS_EXTRUDE
-#define EXTRUDE_MINTEMP 190
+#define EXTRUDE_MINTEMP 0
 #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
 const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement
@@ -378,9 +379,9 @@ const int dropsegments=5; //everything with less than this number of steps will
 // The number of linear motions that can be in the plan at any give time.  
 // THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
 #if defined SDSUPPORT
-  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
+#define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
 #else
-  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
+#define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 #endif
 
 
@@ -392,3 +393,5 @@ const int dropsegments=5; //everything with less than this number of steps will
 #include "thermistortables.h"
 
 #endif //__CONFIGURATION_H
+
+

commit fa2e1be0ca890cd4112dbb951b9297bb38a42f2d
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Feb 12 17:38:54 2012 +0100

    changed default EXTRUDE_MINTEMP to 170.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7288e8fb56..f0d8913631 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -97,7 +97,7 @@
 //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
 //can be software-disabled for whatever purposes by
 #define PREVENT_DANGEROUS_EXTRUDE
-#define EXTRUDE_MINTEMP 190
+#define EXTRUDE_MINTEMP 170
 #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
 //===========================================================================

commit 154de69c024c4809310afbb4a7b6ce312e8eaff6
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Thu Feb 9 20:26:17 2012 +0100

    Print configuration.h version during startup (thanks hairykiwi)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9e14a47fc3..7288e8fb56 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -5,6 +5,12 @@
 // Advanced settings can be found in Configuration_adv.h 
 // BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
 
+//User specified version info of THIS file to display in [Pronterface, etc] terminal window during startup.
+//Implementation of an idea by Prof Braino to inform user that any changes made
+//to THIS file by the user have been successfully uploaded into firmware.
+#define STRING_VERSION_CONFIG_H "2012-02-08j" //Personal revision number for changes to THIS file.
+#define STRING_CONFIG_H_AUTHOR "username" //Who made the changes.
+
 // This determines the communication speed of the printer
 #define BAUDRATE 250000
 //#define BAUDRATE 115200

commit 9173a5713baae97f7bfa1cbb168b2ae8d1307245
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Thu Feb 9 19:27:45 2012 +0100

    Teensylu support.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index fe79a9c396..9e14a47fc3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -171,7 +171,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
-//#define SDSUPPORT // Enable SD Card Support in Hardware Console
+#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 //#define ULTIPANEL
 #ifdef ULTIPANEL

commit bdb70c050948392004f104402349c08a85cae0eb
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Wed Feb 8 18:38:45 2012 +0100

    Warning for 10k thermistor

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index c1bcc0fae6..fe79a9c396 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -30,7 +30,7 @@
 // 1 is 100k thermistor
 // 2 is 200k thermistor
 // 3 is mendel-parts thermistor
-// 4 is 10k thermistor
+// 4 is 10k thermistor !! do not use it for a hotend. It gives bad resolution at high temp. !!
 // 5 is ParCan supplied 104GT-2 100K
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01

commit d8a0c6450f01afb22622eb78a23794f72773fbf5
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Tue Feb 7 20:23:43 2012 +0100

    Split the configuration file in two parts.
    One for common settings.
    One for advanced settings.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2a0614787e..c1bcc0fae6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,26 +1,13 @@
 #ifndef __CONFIGURATION_H
 #define __CONFIGURATION_H
 
-
+// This configurtion file contains the basic settings.
+// Advanced settings can be found in Configuration_adv.h 
+// BASIC SETTINGS: select your board type, temperature sensor type, axis scaling, and endstop configuration
 
 // This determines the communication speed of the printer
 #define BAUDRATE 250000
 //#define BAUDRATE 115200
-//#define BAUDRATE 230400
-
-#define EXTRUDERS 1
-
-// Frequency limit
-// See nophead's blog for more info
-// Not working O
-//#define XY_FREQUENCY_LIMIT  15
-
-// Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
-// of the buffer and all stops. This should not be much greater than zero and should only be changed
-// if unwanted behavior is observed on a user's machine when running at very slow speeds.
-#define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
-
-// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
 // MEGA/RAMPS up to 1.2 = 3,
@@ -36,7 +23,10 @@
 //=============================Thermal Settings  ============================
 //===========================================================================
 
-//// Thermistor settings:
+//// Temperature sensor settings:
+// -2 is thermocouple with MAX6675 (only for sensor 0)
+// -1 is thermocouple with AD595
+// 0 is not used
 // 1 is 100k thermistor
 // 2 is 200k thermistor
 // 3 is mendel-parts thermistor
@@ -45,70 +35,33 @@
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
 
-//#define THERMISTORHEATER_0 3
-//#define THERMISTORHEATER_1 1
-//#define THERMISTORHEATER_2 1
-
-//#define HEATER_0_USES_THERMISTOR
-//#define HEATER_1_USES_THERMISTOR
-//#define HEATER_2_USES_THERMISTOR
-#define HEATER_0_USES_AD595
-//#define HEATER_1_USES_AD595
-//#define HEATER_2_USES_AD595
-//#define HEATER_0_USES_MAX6675
- 
-
-// Select one of these only to define how the bed temp is read.
-//#define THERMISTORBED 1
-//#define BED_USES_THERMISTOR
-//#define BED_LIMIT_SWITCHING
-#ifdef BED_LIMIT_SWITCHING
-  #define BED_HYSTERESIS 2 //only disable heating if T>target+BED_HYSTERESIS and enable heating if T>target-BED_HYSTERESIS
-#endif
-//#define BED_USES_AD595
-
-#define BED_CHECK_INTERVAL 5000 //ms
-
-//// Heating sanity check:
-// This waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-// If the temperature has not increased at the end of that period, the target temperature is set to zero. 
-// It can be reset with another M104/M109
-//#define WATCHPERIOD 20000 //20 seconds
+#define TEMP_SENSOR_0 -1
+#define TEMP_SENSOR_1 0
+#define TEMP_SENSOR_2 0
+#define TEMP_SENSOR_BED 0
 
 // Actual temperature must be close to target for this long before M109 returns success
 #define TEMP_RESIDENCY_TIME 30  // (seconds)
 #define TEMP_HYSTERESIS 3       // (C¬∞) range of +/- temperatures considered "close" to the target one
 
-//// The minimal temperature defines the temperature below which the heater will not be enabled
+// The minimal temperature defines the temperature below which the heater will not be enabled It is used
+// to check that the wiring to the thermistor is not broken. 
+// Otherwise this would lead to the heater being powered on all the time.
 #define HEATER_0_MINTEMP 5
-//#define HEATER_1_MINTEMP 5
-//#define HEATER_2_MINTEMP 5
-//#define BED_MINTEMP 5
-
+#define HEATER_1_MINTEMP 5
+#define HEATER_2_MINTEMP 5
+#define BED_MINTEMP 5
 
 // When temperature exceeds max temp, your heater will be switched off.
 // This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
 // You should use MINTEMP for thermistor short/failure protection.
 #define HEATER_0_MAXTEMP 275
-//#define HEATER_1_MAXTEMP 275
-//#define HEATER_2_MAXTEMP 275
-//#define BED_MAXTEMP 150
-
-
-// Wait for Cooldown
-// This defines if the M109 call should not block if it is cooling down.
-// example: From a current temp of 220, you set M109 S200. 
-// if CooldownNoWait is defined M109 will not wait for the cooldown to finish
-#define CooldownNoWait true
-
-// Heating is finished if a temperature close to this degree shift is reached
-#define HEATING_EARLY_FINISH_DEG_OFFSET 1 //Degree
-
-//Do not wait for M109 to finish when printing from SD card
-//#define STOP_HEATING_WAIT_WHEN_SD_PRINTING
+#define HEATER_1_MAXTEMP 275
+#define HEATER_2_MAXTEMP 275
+#define BED_MAXTEMP 150
 
 // PID settings:
-// Uncomment the following line to enable PID support.
+// Comment the following line to disable PID and enable bang-bang.
 #define PIDTEMP
 #define PID_MAX 255 // limits current to nozzle; 255=full current
 #ifdef PIDTEMP
@@ -118,28 +71,8 @@
   #define K1 0.95 //smoothing factor withing the PID
   #define PID_dT 0.128 //sampling period of the PID
 
-  //To develop some PID settings for your machine, you can initiall follow 
-  // the Ziegler-Nichols method.
-  // set Ki and Kd to zero. 
-  // heat with a defined Kp and see if the temperature stabilizes
-  // ideally you do this graphically with repg.
-  // the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
-  // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
-  // usually further manual tunine is necessary.
-
-  #define PID_CRITIAL_GAIN 50
-  #define PID_SWING_AT_CRITIAL 47 //seconds
-  
-  //#define PID_PI    //no differentail term
-  #define PID_PID //normal PID
-
-  #ifdef PID_PID
-    //PID according to Ziegler-Nichols method
-//    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
-//    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
-//    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
-
-// Ultitmaker
+// If you are using a preconfigured hotend then you can use one of the value sets by uncommenting it
+// Ultimaker
     #define  DEFAULT_Kp  22.2
     #define  DEFAULT_Ki (1.25*PID_dT)  
     #define  DEFAULT_Kd (99/PID_dT)  
@@ -152,39 +85,19 @@
 // Mendel Parts V9 on 12V    
 //    #define  DEFAULT_Kp  63.0
 //    #define  DEFAULT_Ki (2.25*PID_dT)  
-//    #define  DEFAULT_Kd (440/PID_dT)  
-  #endif
-   
-  #ifdef PID_PI
-    //PI according to Ziegler-Nichols method
-    #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
-    #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
-    #define  DEFAULT_Kd (0)
-  #endif
-  
-  // this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
-  // if Kc is choosen well, the additional required power due to increased melting should be compensated.
-  #define PID_ADD_EXTRUSION_RATE  
-  #ifdef PID_ADD_EXTRUSION_RATE
-    #define  DEFAULT_Kc (1) //heatingpower=Kc*(e_speed)
-  #endif
+//    #define  DEFAULT_Kd (440/PID_dT)
 #endif // PIDTEMP
 
-//  extruder run-out prevention. 
-//if the machine is idle, and the temperature over MINTEMP, every couple of SECONDS some filament is extruded
-//#define EXTRUDER_RUNOUT_PREVENT  
-#define EXTRUDER_RUNOUT_MINTEMP 190  
-#define EXTRUDER_RUNOUT_SECONDS 30.
-#define EXTRUDER_RUNOUT_ESTEPS 14. //mm filament
-#define EXTRUDER_RUNOUT_SPEED 1500.  //extrusion speed
-#define EXTRUDER_RUNOUT_EXTRUDE 100
-
+//this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
+//can be software-disabled for whatever purposes by
+#define PREVENT_DANGEROUS_EXTRUDE
+#define EXTRUDE_MINTEMP 190
+#define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
 //===========================================================================
 //=============================Mechanical Settings===========================
 //===========================================================================
 
-
 // Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
@@ -192,9 +105,6 @@
 const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
-
-#define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
@@ -207,13 +117,6 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DISABLE_Y false
 #define DISABLE_Z false
 #define DISABLE_E false // For all extruders
-//#define Z_LATE_ENABLE // Enable Z the last moment. Needed if your Z driver overheats.
-
-// Inverting axis direction
-//#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
-//#define INVERT_Y_DIR true   // for Mendel set to true, for Orca set to false
-//#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
-//#define INVERT_E*_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false, used for all extruders
 
 #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
@@ -222,7 +125,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 
-//// ENDSTOP SETTINGS:
+// ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
 #define X_HOME_DIR -1
 #define Y_HOME_DIR -1
@@ -238,43 +141,19 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
-//homing hits the endstop, then retracts by this distance, before it tries to slowly bump again:
-#define X_HOME_RETRACT_MM 5 
-#define Y_HOME_RETRACT_MM 5 
-#define Z_HOME_RETRACT_MM 1 
-#define QUICK_HOME  //if this is defined, if both x and y are to be homed, a diagonal move will be performed initially.
-
-#define AXIS_RELATIVE_MODES {false, false, false, false}
-
-#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
-
 // default settings 
 
 #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
-//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 360} //sells mendel with v9 extruder
-//#define DEFAULT_AXIS_STEPS_PER_UNIT   {80.3232, 80.8900, 2284.7651, 757.2218} // SAE Prusa w/ Wade extruder
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 #define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
-#define DEFAULT_MINIMUMFEEDRATE       0.0     // minimum feedrate
-#define DEFAULT_MINTRAVELFEEDRATE     0.0
-
-// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
-#define DEFAULT_MINSEGMENTTIME        20000   // Obsolete delete this
+// 
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
 
-// If defined the movements slow down when the look ahead buffer is only half full
-#define SLOWDOWN
-
-//default stepper release if idle
-#define DEFAULT_STEPPER_DEACTIVE_TIME 60
-#define DEFAULT_STEPPER_DEACTIVE_COMMAND "M84 X Y E"  //z stays  powered
-
-
 //===========================================================================
 //=============================Additional Features===========================
 //===========================================================================
@@ -285,47 +164,14 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
 // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
 //define this to enable eeprom support
-#define EEPROM_SETTINGS
+//#define EEPROM_SETTINGS
 //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
 // please keep turned on if you can.
-#define EEPROM_CHITCHAT
-
-
-// The hardware watchdog should halt the Microcontroller, in case the firmware gets stuck somewhere. However:
-// the Watchdog is not working well, so please only enable this for testing
-// this enables the watchdog interrupt.
-//#define USE_WATCHDOG
-//#ifdef USE_WATCHDOG
-  // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
-//#define RESET_MANUAL
-//#define WATCHDOG_TIMEOUT 4  //seconds
-//#endif
-
-// extruder advance constant (s2/mm3)
-//
-// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
-//
-// hooke's law says:		force = k * distance
-// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
-// so: v ^ 2 is proportional to number of steps we advance the extruder
-//#define ADVANCE
-
-#ifdef ADVANCE
-  #define EXTRUDER_ADVANCE_K .0
-
-  #define D_FILAMENT 2.85
-  #define STEPS_MM_E 836
-  #define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
-  #define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
-
-#endif // ADVANCE
-
+//#define EEPROM_CHITCHAT
 
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
-#define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
-#define SD_FINISHED_RELEASECOMMAND "M84 X Y E" // no z because of layer shift.
 
 //#define ULTIPANEL
 #ifdef ULTIPANEL
@@ -341,60 +187,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #endif
 #endif
 
-// A debugging feature to compare calculated vs performed steps, to see if steps are lost by the software.
-//#define DEBUG_STEPS
-
-
-// Arc interpretation settings:
-#define MM_PER_ARC_SEGMENT 1
-#define N_ARC_CORRECTION 25
-
-
-//automatic temperature: The hot end target temperature is calculated by all the buffered lines of gcode.
-//The maximum buffered steps/sec of the extruder motor are called "se".
-//You enter the autotemp mode by a M109 S<mintemp> T<maxtemp> F<factor>
-// the target temperature is set to mintemp+factor*se[steps/sec] and limited by mintemp and maxtemp
-// you exit the value by any M109 without F*
-// Also, if the temperature is set to a value <mintemp, it is not changed by autotemp.
-// on an ultimaker, some initial testing worked with M109 S215 T260 F0.1 in the start.gcode
-//#define AUTOTEMP
-#ifdef AUTOTEMP
-  #define AUTOTEMP_OLDWEIGHT 0.98
-#endif
-
-//this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
-//can be software-disabled for whatever purposes by
-#define PREVENT_DANGEROUS_EXTRUDE
-#define EXTRUDE_MINTEMP 190
-#define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
-
-const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement
-
-
 // M240  Triggers a camera by emulating a Canon RC-1 Remote
 // Data from: http://www.doc-diy.net/photo/rc-1_hacked/
 // #define PHOTOGRAPH_PIN     23
 
-//===========================================================================
-//=============================Buffers           ============================
-//===========================================================================
-
-
-
-// The number of linear motions that can be in the plan at any give time.  
-// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
-#if defined SDSUPPORT
-  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
-#else
-  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
-#endif
-
-
-//The ASCII buffer for recieving from the serial:
-#define MAX_CMD_SIZE 96
-#define BUFSIZE 4
-
-
+#include "Configuration_adv.h"
 #include "thermistortables.h"
 
 #endif //__CONFIGURATION_H

commit f9c5333f97c2533066d4ccbe2479a5ee09b05058
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Feb 6 20:13:44 2012 +0100

    Made "stop heating wait" optional.
    Default off.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 49721cc193..2a0614787e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -104,6 +104,9 @@
 // Heating is finished if a temperature close to this degree shift is reached
 #define HEATING_EARLY_FINISH_DEG_OFFSET 1 //Degree
 
+//Do not wait for M109 to finish when printing from SD card
+//#define STOP_HEATING_WAIT_WHEN_SD_PRINTING
+
 // PID settings:
 // Uncomment the following line to enable PID support.
 #define PIDTEMP

commit 13e2ad2831caab3bfddf1e6eb0201938be4e2e21
Author: Christian Thalhammer <christian_thalhammer@gmx.at>
Date:   Mon Feb 6 11:58:52 2012 +0100

    - added info for using GEN7 configuration

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 85fd389688..d532539eff 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -26,8 +26,9 @@
 // MEGA/RAMPS up to 1.2 = 3,
 // RAMPS 1.3 = 33
 // Gen6 = 5,
-// Sanguinololu 1.2 and above = 62
+// Sanguinololu 1.2 and above = 62,
 // Ultimaker = 7,
+// Gen7 = 77,
 // Teensylu = 8
 #define MOTHERBOARD 7
 

commit 9f139d6e0e3592c71851535f25fb83245361a5f3
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Feb 5 13:05:07 2012 +0100

    Added MAX6675 support. (Thanks to gregfrost)
    Needs some work to remove the blocking in read max6675.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6b5e19a3d3..49721cc193 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -55,6 +55,8 @@
 #define HEATER_0_USES_AD595
 //#define HEATER_1_USES_AD595
 //#define HEATER_2_USES_AD595
+//#define HEATER_0_USES_MAX6675
+ 
 
 // Select one of these only to define how the bed temp is read.
 //#define THERMISTORBED 1

commit e45e5c68bb67ddec39b9bda25cf96396c12fe10b
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Feb 5 12:42:15 2012 +0100

    Added support for Gen3+ (Pins file only)
    Added late z enable. (blddk request)
    Only calculate look ahead if >2 moves in buffer.
    Removed some FORCE_INLINE to save memory.
    
    Signed-off-by: Erik van der Zalm <erik@vdzalm.eu>

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 85fd389688..6b5e19a3d3 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -28,7 +28,8 @@
 // Gen6 = 5,
 // Sanguinololu 1.2 and above = 62
 // Ultimaker = 7,
-// Teensylu = 8
+// Teensylu = 8,
+// Gen3+ =9
 #define MOTHERBOARD 7
 
 //===========================================================================
@@ -201,6 +202,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DISABLE_Y false
 #define DISABLE_Z false
 #define DISABLE_E false // For all extruders
+//#define Z_LATE_ENABLE // Enable Z the last moment. Needed if your Z driver overheats.
 
 // Inverting axis direction
 //#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true

commit 212515148e70f151e24990312fd1fe6c1de6b104
Author: Bernhard <bkubicek@x201.(none)>
Date:   Thu Dec 22 12:11:39 2011 +0100

    added m240 photography support. default off

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3215a09c97..85fd389688 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -363,6 +363,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement
 
+
+// M240  Triggers a camera by emulating a Canon RC-1 Remote
+// Data from: http://www.doc-diy.net/photo/rc-1_hacked/
+// #define PHOTOGRAPH_PIN     23
+
 //===========================================================================
 //=============================Buffers           ============================
 //===========================================================================

commit 415aadf704ff545de2db90ffaf2fc351af78331a
Author: Bernhard <bkubicek@x201.(none)>
Date:   Thu Dec 22 11:45:52 2011 +0100

    lcd panel bed support
    advance and ultipanel not any more in default config

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 58f5bcaeaf..3215a09c97 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -58,6 +58,10 @@
 // Select one of these only to define how the bed temp is read.
 //#define THERMISTORBED 1
 //#define BED_USES_THERMISTOR
+//#define BED_LIMIT_SWITCHING
+#ifdef BED_LIMIT_SWITCHING
+  #define BED_HYSTERESIS 2 //only disable heating if T>target+BED_HYSTERESIS and enable heating if T>target-BED_HYSTERESIS
+#endif
 //#define BED_USES_AD595
 
 #define BED_CHECK_INTERVAL 5000 //ms
@@ -167,6 +171,7 @@
 #define EXTRUDER_RUNOUT_SECONDS 30.
 #define EXTRUDER_RUNOUT_ESTEPS 14. //mm filament
 #define EXTRUDER_RUNOUT_SPEED 1500.  //extrusion speed
+#define EXTRUDER_RUNOUT_EXTRUDE 100
 
 
 //===========================================================================
@@ -296,7 +301,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 // hooke's law says:		force = k * distance
 // bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
 // so: v ^ 2 is proportional to number of steps we advance the extruder
-#define ADVANCE
+//#define ADVANCE
 
 #ifdef ADVANCE
   #define EXTRUDER_ADVANCE_K .0
@@ -315,7 +320,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
 #define SD_FINISHED_RELEASECOMMAND "M84 X Y E" // no z because of layer shift.
 
-#define ULTIPANEL
+//#define ULTIPANEL
 #ifdef ULTIPANEL
   //#define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit 84d9cf7339efef8c79143bf5496b9e063253933b
Merge: e017228569 3320a5b37d
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Dec 12 20:35:46 2011 +0100

    merging

diff --combined Marlin/Configuration.h
index d4e23bd162,dc8c799f5b..58f5bcaeaf
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -20,9 -20,6 +20,6 @@@
  // if unwanted behavior is observed on a user's machine when running at very slow speeds.
  #define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
  
- // If defined the movements slow down when the look ahead buffer is only half full
- #define SLOWDOWN
- 
  // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
  
  //// The following define selects which electronics board you have. Please choose the one that matches your setup
@@@ -46,39 -43,34 +43,39 @@@
  // 5 is ParCan supplied 104GT-2 100K
  // 6 is EPCOS 100k
  // 7 is 100k Honeywell thermistor 135-104LAG-J01
 +
  //#define THERMISTORHEATER_0 3
 -//#define THERMISTORHEATER_1 3
 -//#define THERMISTORBED 3
 +//#define THERMISTORHEATER_1 1
 +//#define THERMISTORHEATER_2 1
  
  //#define HEATER_0_USES_THERMISTOR
  //#define HEATER_1_USES_THERMISTOR
 +//#define HEATER_2_USES_THERMISTOR
  #define HEATER_0_USES_AD595
  //#define HEATER_1_USES_AD595
 +//#define HEATER_2_USES_AD595
  
  // Select one of these only to define how the bed temp is read.
 +//#define THERMISTORBED 1
  //#define BED_USES_THERMISTOR
  //#define BED_USES_AD595
  
  #define BED_CHECK_INTERVAL 5000 //ms
  
- //// Experimental watchdog and minimal temp
- // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
- // If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
- /// CURRENTLY NOT IMPLEMENTED AND UNUSEABLE
- //#define WATCHPERIOD 5000 //5 seconds
+ //// Heating sanity check:
+ // This waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+ // If the temperature has not increased at the end of that period, the target temperature is set to zero. 
+ // It can be reset with another M104/M109
+ //#define WATCHPERIOD 20000 //20 seconds
  
  // Actual temperature must be close to target for this long before M109 returns success
 -//#define TEMP_RESIDENCY_TIME 20  // (seconds)
 -//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
 +#define TEMP_RESIDENCY_TIME 30  // (seconds)
 +#define TEMP_HYSTERESIS 3       // (C¬∞) range of +/- temperatures considered "close" to the target one
  
  //// The minimal temperature defines the temperature below which the heater will not be enabled
  #define HEATER_0_MINTEMP 5
  //#define HEATER_1_MINTEMP 5
 +//#define HEATER_2_MINTEMP 5
  //#define BED_MINTEMP 5
  
  
@@@ -87,7 -79,6 +84,7 @@@
  // You should use MINTEMP for thermistor short/failure protection.
  #define HEATER_0_MAXTEMP 275
  //#define HEATER_1_MAXTEMP 275
 +//#define HEATER_2_MAXTEMP 275
  //#define BED_MAXTEMP 150
  
  
@@@ -99,17 -90,21 +96,17 @@@
  
  // Heating is finished if a temperature close to this degree shift is reached
  #define HEATING_EARLY_FINISH_DEG_OFFSET 1 //Degree
 +
  // PID settings:
  // Uncomment the following line to enable PID support.
 -  
  #define PIDTEMP
 +#define PID_MAX 255 // limits current to nozzle; 255=full current
  #ifdef PIDTEMP
 -  #if MOTHERBOARD == 62
 -    #error Sanguinololu does not support PID, sorry. Please disable it.
 -  #endif
    //#define PID_DEBUG // Sends debug data to the serial port. 
    //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
 -  
 -  #define PID_MAX 255 // limits current to nozzle; 255=full current
    #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
    #define K1 0.95 //smoothing factor withing the PID
 -  #define PID_dT 0.1 //sampling period of the PID
 +  #define PID_dT 0.128 //sampling period of the PID
  
    //To develop some PID settings for your machine, you can initiall follow 
    // the Ziegler-Nichols method.
@@@ -137,11 -132,6 +134,11 @@@
      #define  DEFAULT_Ki (1.25*PID_dT)  
      #define  DEFAULT_Kd (99/PID_dT)  
  
 +// Makergear
 +//    #define  DEFAULT_Kp 7.0
 +//    #define  DEFAULT_Ki 0.1  
 +//    #define  DEFAULT_Kd 12  
 +
  // Mendel Parts V9 on 12V    
  //    #define  DEFAULT_Kp  63.0
  //    #define  DEFAULT_Ki (2.25*PID_dT)  
@@@ -159,10 -149,18 +156,18 @@@
    // if Kc is choosen well, the additional required power due to increased melting should be compensated.
    #define PID_ADD_EXTRUSION_RATE  
    #ifdef PID_ADD_EXTRUSION_RATE
 -    #define  DEFAULT_Kc (3) //heatingpower=Kc*(e_speed)
 +    #define  DEFAULT_Kc (1) //heatingpower=Kc*(e_speed)
    #endif
  #endif // PIDTEMP
  
+ //  extruder run-out prevention. 
+ //if the machine is idle, and the temperature over MINTEMP, every couple of SECONDS some filament is extruded
+ //#define EXTRUDER_RUNOUT_PREVENT  
+ #define EXTRUDER_RUNOUT_MINTEMP 190  
+ #define EXTRUDER_RUNOUT_SECONDS 30.
+ #define EXTRUDER_RUNOUT_ESTEPS 14. //mm filament
+ #define EXTRUDER_RUNOUT_SPEED 1500.  //extrusion speed
+ 
  
  //===========================================================================
  //=============================Mechanical Settings===========================
@@@ -171,39 -169,36 +176,39 @@@
  
  // Endstop Settings
  #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 +
  // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
  const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
  const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
  const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
  // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
  
 -//#define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
 +#define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
  #define Y_ENABLE_ON 0
  #define Z_ENABLE_ON 0
 -#define E_ENABLE_ON 0
 +#define E_ENABLE_ON 0 // For all extruders
  
  // Disables axis when it's not being used.
  #define DISABLE_X false
  #define DISABLE_Y false
  #define DISABLE_Z false
 -#define DISABLE_E false
 +#define DISABLE_E false // For all extruders
  
  // Inverting axis direction
  //#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
  //#define INVERT_Y_DIR true   // for Mendel set to true, for Orca set to false
  //#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 -//#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
 +//#define INVERT_E*_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false, used for all extruders
  
 -#define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
 +#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
  #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
  #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 -#define INVERT_E_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 +#define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 +#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 +#define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  
  //// ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@@ -211,11 -206,11 +216,11 @@@
  #define Y_HOME_DIR -1
  #define Z_HOME_DIR -1
  
 -#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
 -#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
 -#define X_MAX_LENGTH 210
 -#define Y_MAX_LENGTH 210
 -#define Z_MAX_LENGTH 210
 +#define min_software_endstops true //If true, axis won't move to coordinates less than zero.
 +#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
 +#define X_MAX_LENGTH 205
 +#define Y_MAX_LENGTH 205
 +#define Z_MAX_LENGTH 200
  
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
@@@ -234,8 -229,7 +239,8 @@@
  // default settings 
  
  #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
 -//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} //sells mendel with v9 extruder
 +//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 360} //sells mendel with v9 extruder
 +//#define DEFAULT_AXIS_STEPS_PER_UNIT   {80.3232, 80.8900, 2284.7651, 757.2218} // SAE Prusa w/ Wade extruder
  #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
  #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
@@@ -250,7 -244,12 +255,12 @@@
  #define DEFAULT_XYJERK                20.0    // (mm/sec)
  #define DEFAULT_ZJERK                 0.4     // (mm/sec)
  
+ // If defined the movements slow down when the look ahead buffer is only half full
+ #define SLOWDOWN
  
+ //default stepper release if idle
+ #define DEFAULT_STEPPER_DEACTIVE_TIME 60
+ #define DEFAULT_STEPPER_DEACTIVE_COMMAND "M84 X Y E"  //z stays  powered
  
  
  //===========================================================================
@@@ -286,10 -285,10 +296,10 @@@
  // hooke's law says:		force = k * distance
  // bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
  // so: v ^ 2 is proportional to number of steps we advance the extruder
 -//#define ADVANCE
 +#define ADVANCE
  
  #ifdef ADVANCE
 -  #define EXTRUDER_ADVANCE_K .3
 +  #define EXTRUDER_ADVANCE_K .0
  
    #define D_FILAMENT 2.85
    #define STEPS_MM_E 836
@@@ -303,8 -302,9 +313,9 @@@
  //#define ULTRA_LCD  //general lcd support, also 16x2
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  #define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
+ #define SD_FINISHED_RELEASECOMMAND "M84 X Y E" // no z because of layer shift.
  
 -//#define ULTIPANEL
 +#define ULTIPANEL
  #ifdef ULTIPANEL
    //#define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
@@@ -339,6 -339,11 +350,11 @@@
    #define AUTOTEMP_OLDWEIGHT 0.98
  #endif
  
+ //this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
+ //can be software-disabled for whatever purposes by
+ #define PREVENT_DANGEROUS_EXTRUDE
+ #define EXTRUDE_MINTEMP 190
+ #define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
  
  const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement
  

commit e017228569511382298c2ff9a347a78542351cd6
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Dec 12 19:34:37 2011 +0100

    Merged multiple extruder support.
    Soft PWM. (Sanguinololu can also have PID temperature control)
    Interrupt save WRITE for addresses > 0x0FF

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 346db503fd..d4e23bd162 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -4,11 +4,11 @@
 
 
 // This determines the communication speed of the printer
-//#define BAUDRATE 250000
-#define BAUDRATE 115200
+#define BAUDRATE 250000
+//#define BAUDRATE 115200
 //#define BAUDRATE 230400
 
-#define EXTRUDERS 2
+#define EXTRUDERS 1
 
 // Frequency limit
 // See nophead's blog for more info
@@ -32,7 +32,7 @@
 // Sanguinololu 1.2 and above = 62
 // Ultimaker = 7,
 // Teensylu = 8
-#define MOTHERBOARD 33
+#define MOTHERBOARD 7
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -46,16 +46,21 @@
 // 5 is ParCan supplied 104GT-2 100K
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
-#define THERMISTORHEATER_0 1
-#define THERMISTORHEATER_1 1
-#define HEATER_0_USES_THERMISTOR
-#define HEATER_1_USES_THERMISTOR
-//#define HEATER_0_USES_AD595
+
+//#define THERMISTORHEATER_0 3
+//#define THERMISTORHEATER_1 1
+//#define THERMISTORHEATER_2 1
+
+//#define HEATER_0_USES_THERMISTOR
+//#define HEATER_1_USES_THERMISTOR
+//#define HEATER_2_USES_THERMISTOR
+#define HEATER_0_USES_AD595
 //#define HEATER_1_USES_AD595
+//#define HEATER_2_USES_AD595
 
 // Select one of these only to define how the bed temp is read.
-#define THERMISTORBED 1
-#define BED_USES_THERMISTOR
+//#define THERMISTORBED 1
+//#define BED_USES_THERMISTOR
 //#define BED_USES_AD595
 
 #define BED_CHECK_INTERVAL 5000 //ms
@@ -73,7 +78,8 @@
 //// The minimal temperature defines the temperature below which the heater will not be enabled
 #define HEATER_0_MINTEMP 5
 //#define HEATER_1_MINTEMP 5
-#define BED_MINTEMP 5
+//#define HEATER_2_MINTEMP 5
+//#define BED_MINTEMP 5
 
 
 // When temperature exceeds max temp, your heater will be switched off.
@@ -81,7 +87,8 @@
 // You should use MINTEMP for thermistor short/failure protection.
 #define HEATER_0_MAXTEMP 275
 //#define HEATER_1_MAXTEMP 275
-#define BED_MAXTEMP 150
+//#define HEATER_2_MAXTEMP 275
+//#define BED_MAXTEMP 150
 
 
 // Wait for Cooldown
@@ -92,21 +99,17 @@
 
 // Heating is finished if a temperature close to this degree shift is reached
 #define HEATING_EARLY_FINISH_DEG_OFFSET 1 //Degree
+
 // PID settings:
 // Uncomment the following line to enable PID support.
-  
 #define PIDTEMP
+#define PID_MAX 255 // limits current to nozzle; 255=full current
 #ifdef PIDTEMP
-  #if MOTHERBOARD == 62
-    #error Sanguinololu does not support PID, sorry. Please disable it.
-  #endif
   //#define PID_DEBUG // Sends debug data to the serial port. 
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-  
-  #define PID_MAX 255 // limits current to nozzle; 255=full current
   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
   #define K1 0.95 //smoothing factor withing the PID
-  #define PID_dT 0.1 //sampling period of the PID
+  #define PID_dT 0.128 //sampling period of the PID
 
   //To develop some PID settings for your machine, you can initiall follow 
   // the Ziegler-Nichols method.
@@ -130,14 +133,14 @@
 //    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
 
 // Ultitmaker
-//    #define  DEFAULT_Kp  22.2
-//    #define  DEFAULT_Ki (1.25*PID_dT)  
-//    #define  DEFAULT_Kd (99/PID_dT)  
+    #define  DEFAULT_Kp  22.2
+    #define  DEFAULT_Ki (1.25*PID_dT)  
+    #define  DEFAULT_Kd (99/PID_dT)  
 
 // Makergear
-    #define  DEFAULT_Kp 7.0
-    #define  DEFAULT_Ki 0.1  
-    #define  DEFAULT_Kd 12  
+//    #define  DEFAULT_Kp 7.0
+//    #define  DEFAULT_Ki 0.1  
+//    #define  DEFAULT_Kd 12  
 
 // Mendel Parts V9 on 12V    
 //    #define  DEFAULT_Kp  63.0
@@ -170,12 +173,12 @@
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
-const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
-const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 
-//#define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
+#define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
@@ -186,7 +189,7 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 // Disables axis when it's not being used.
 #define DISABLE_X false
 #define DISABLE_Y false
-#define DISABLE_Z true
+#define DISABLE_Z false
 #define DISABLE_E false // For all extruders
 
 // Inverting axis direction
@@ -195,11 +198,11 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 //#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 //#define INVERT_E*_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false, used for all extruders
 
-#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
+#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
 #define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-#define INVERT_E1_DIR true    // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E1_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 #define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 //// ENDSTOP SETTINGS:
@@ -208,15 +211,15 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 #define Y_HOME_DIR -1
 #define Z_HOME_DIR -1
 
-#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
-#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
-#define X_MAX_LENGTH 210
-#define Y_MAX_LENGTH 210
-#define Z_MAX_LENGTH 210
+#define min_software_endstops true //If true, axis won't move to coordinates less than zero.
+#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define X_MAX_LENGTH 205
+#define Y_MAX_LENGTH 205
+#define Z_MAX_LENGTH 200
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-#define HOMING_FEEDRATE {30*60, 30*60, 2*60, 0}  // set the homing speeds (mm/min)
+#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
 //homing hits the endstop, then retracts by this distance, before it tries to slowly bump again:
 #define X_HOME_RETRACT_MM 5 
@@ -230,9 +233,9 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 
 // default settings 
 
-//#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
-//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} //sells mendel with v9 extruder
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {80.3232, 80.8900, 2284.7651, 757.2218} // SAE Prusa w/ Wade extruder
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
+//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 360} //sells mendel with v9 extruder
+//#define DEFAULT_AXIS_STEPS_PER_UNIT   {80.3232, 80.8900, 2284.7651, 757.2218} // SAE Prusa w/ Wade extruder
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
@@ -283,10 +286,10 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 // hooke's law says:		force = k * distance
 // bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
 // so: v ^ 2 is proportional to number of steps we advance the extruder
-//#define ADVANCE
+#define ADVANCE
 
 #ifdef ADVANCE
-  #define EXTRUDER_ADVANCE_K .3
+  #define EXTRUDER_ADVANCE_K .0
 
   #define D_FILAMENT 2.85
   #define STEPS_MM_E 836
@@ -298,10 +301,10 @@ const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of t
 
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
-#define SDSUPPORT // Enable SD Card Support in Hardware Console
+//#define SDSUPPORT // Enable SD Card Support in Hardware Console
 #define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
 
-//#define ULTIPANEL
+#define ULTIPANEL
 #ifdef ULTIPANEL
   //#define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit 01001b89d200111f95be0d7ce87aa16e91ddf998
Author: Bernhard <bkubicek@x201.(none)>
Date:   Sun Dec 11 15:42:56 2011 +0100

    repaired nozzle runout prevention to not collide with automatic stepper disabeling.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e2fe8403e7..dc8c799f5b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -157,9 +157,8 @@
 //if the machine is idle, and the temperature over MINTEMP, every couple of SECONDS some filament is extruded
 //#define EXTRUDER_RUNOUT_PREVENT  
 #define EXTRUDER_RUNOUT_MINTEMP 190  
-#define EXTRUDER_RUNOUT_SECONDS 60.
+#define EXTRUDER_RUNOUT_SECONDS 30.
 #define EXTRUDER_RUNOUT_ESTEPS 14. //mm filament
-#define EXTRUDER_RUNOUT_EXTRUDE 50. //mm filament
 #define EXTRUDER_RUNOUT_SPEED 1500.  //extrusion speed
 
 

commit 88ee053af0a7d71cea23cbc1adf5b101e0b1a7fa
Author: Bernhard <bkubicek@x201.(none)>
Date:   Fri Dec 9 17:06:56 2011 +0100

    heating up santity, formarly knows as "watchdog", but renamed due to the existance of the real watchdog, works now.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2b60c3602a..e2fe8403e7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -58,11 +58,11 @@
 
 #define BED_CHECK_INTERVAL 5000 //ms
 
-//// Experimental watchdog and minimal temp
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
-/// CURRENTLY NOT IMPLEMENTED AND UNUSEABLE
-//#define WATCHPERIOD 5000 //5 seconds
+//// Heating sanity check:
+// This waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+// If the temperature has not increased at the end of that period, the target temperature is set to zero. 
+// It can be reset with another M104/M109
+//#define WATCHPERIOD 20000 //20 seconds
 
 // Actual temperature must be close to target for this long before M109 returns success
 //#define TEMP_RESIDENCY_TIME 20  // (seconds)

commit 2bc5e7ec9efeeb2c72b1448565ce3c5481248f3b
Author: Bernhard <bkubicek@x201.(none)>
Date:   Fri Dec 9 15:09:52 2011 +0100

    prevent too long extrudes, or too cold extrudes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 47ad0b7320..2b60c3602a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -20,9 +20,6 @@
 // if unwanted behavior is observed on a user's machine when running at very slow speeds.
 #define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
 
-// If defined the movements slow down when the look ahead buffer is only half full
-#define SLOWDOWN
-
 // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
@@ -248,7 +245,12 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define DEFAULT_XYJERK                20.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
 
+// If defined the movements slow down when the look ahead buffer is only half full
+#define SLOWDOWN
 
+//default stepper release if idle
+#define DEFAULT_STEPPER_DEACTIVE_TIME 60
+#define DEFAULT_STEPPER_DEACTIVE_COMMAND "M84 X Y E"  //z stays  powered
 
 
 //===========================================================================
@@ -338,6 +340,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
   #define AUTOTEMP_OLDWEIGHT 0.98
 #endif
 
+//this prevents dangerous Extruder moves, i.e. if the temperature is under the limit
+//can be software-disabled for whatever purposes by
+#define PREVENT_DANGEROUS_EXTRUDE
+#define EXTRUDE_MINTEMP 190
+#define EXTRUDE_MAXLENGTH (X_MAX_LENGTH+Y_MAX_LENGTH) //prevent extrusion of very large distances.
 
 const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement
 

commit aa4f9a64746f213cafce7cf58414d47619824a2b
Author: Bernhard <bkubicek@x201.(none)>
Date:   Fri Dec 9 14:07:32 2011 +0100

    better values.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9574e09823..47ad0b7320 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -160,10 +160,10 @@
 //if the machine is idle, and the temperature over MINTEMP, every couple of SECONDS some filament is extruded
 //#define EXTRUDER_RUNOUT_PREVENT  
 #define EXTRUDER_RUNOUT_MINTEMP 190  
-#define EXTRUDER_RUNOUT_SECONDS 60
-#define EXTRUDER_RUNOUT_ESTEPS 14 //mm filament
-#define EXTRUDER_RUNOUT_EXTRUDE 100 //mm filament
-#define EXTRUDER_RUNOUT_SPEED 1500  //extrusion speed
+#define EXTRUDER_RUNOUT_SECONDS 60.
+#define EXTRUDER_RUNOUT_ESTEPS 14. //mm filament
+#define EXTRUDER_RUNOUT_EXTRUDE 50. //mm filament
+#define EXTRUDER_RUNOUT_SPEED 1500.  //extrusion speed
 
 
 //===========================================================================

commit 87fd249c4311fc3de7e1872f742b5ae3b632e85b
Author: Bernhard <bkubicek@x201.(none)>
Date:   Fri Dec 9 13:56:28 2011 +0100

    made runout prevention independent of tempeorarily set esteps

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 222fb3aded..9574e09823 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -161,8 +161,9 @@
 //#define EXTRUDER_RUNOUT_PREVENT  
 #define EXTRUDER_RUNOUT_MINTEMP 190  
 #define EXTRUDER_RUNOUT_SECONDS 60
-#define EXTRUDER_RUNOUT_EXTRUDE 10 //mm filament
-#define EXTRUDER_RUNOUT_SPEED 20  //extrusion speed
+#define EXTRUDER_RUNOUT_ESTEPS 14 //mm filament
+#define EXTRUDER_RUNOUT_EXTRUDE 100 //mm filament
+#define EXTRUDER_RUNOUT_SPEED 1500  //extrusion speed
 
 
 //===========================================================================

commit 1ec0c3b68a250ef5d947509122777ed5ba43a91f
Author: Bernhard <bkubicek@x201.(none)>
Date:   Fri Dec 9 13:39:00 2011 +0100

    extruder runout prevention.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index febc3bcca6..222fb3aded 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -156,6 +156,14 @@
   #endif
 #endif // PIDTEMP
 
+//  extruder run-out prevention. 
+//if the machine is idle, and the temperature over MINTEMP, every couple of SECONDS some filament is extruded
+//#define EXTRUDER_RUNOUT_PREVENT  
+#define EXTRUDER_RUNOUT_MINTEMP 190  
+#define EXTRUDER_RUNOUT_SECONDS 60
+#define EXTRUDER_RUNOUT_EXTRUDE 10 //mm filament
+#define EXTRUDER_RUNOUT_SPEED 20  //extrusion speed
+
 
 //===========================================================================
 //=============================Mechanical Settings===========================

commit 5b4625f79c9f5176168fd101b1cae74e829f6d93
Author: Bernhard <bkubicek@x201.(none)>
Date:   Fri Dec 9 12:51:08 2011 +0100

    added a partial release option to "m84" aka "stepper release". If you do tiny layers, you might want to keep the z-axis powered to not loose height positioning after homeing.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e8b960f788..febc3bcca6 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -292,6 +292,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 #define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
+#define SD_FINISHED_RELEASECOMMAND "M84 X Y E" // no z because of layer shift.
 
 //#define ULTIPANEL
 #ifdef ULTIPANEL

commit 4fd75dc813fd40ea91323c04323055fbbe077d52
Author: Denis B <den@okob.net>
Date:   Mon Dec 5 23:33:33 2011 -0500

    Working version of multiple extruders (up to 3)
    - The temperature control is pretty much complete
      (not sure what to do w/ autotemp though)
      Changed the pins assignment to clearly separate bed and extruder heaters
      and temp sensors, changed a bit how termistor tables are handled.
    - The steppers control is rudimentary
      (only chanages what pins it uses depending on the active_extruder var,
       but that's enough for switching extruder in the start.gcode in the
       the profiles)
    - Tested only w/ RAMPS 1.4

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e8b960f788..346db503fd 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -4,11 +4,11 @@
 
 
 // This determines the communication speed of the printer
-#define BAUDRATE 250000
-//#define BAUDRATE 115200
+//#define BAUDRATE 250000
+#define BAUDRATE 115200
 //#define BAUDRATE 230400
 
-#define EXTRUDERS 1
+#define EXTRUDERS 2
 
 // Frequency limit
 // See nophead's blog for more info
@@ -32,7 +32,7 @@
 // Sanguinololu 1.2 and above = 62
 // Ultimaker = 7,
 // Teensylu = 8
-#define MOTHERBOARD 7
+#define MOTHERBOARD 33
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -46,17 +46,16 @@
 // 5 is ParCan supplied 104GT-2 100K
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
-//#define THERMISTORHEATER_0 3
-//#define THERMISTORHEATER_1 3
-//#define THERMISTORBED 3
-
-//#define HEATER_0_USES_THERMISTOR
-//#define HEATER_1_USES_THERMISTOR
-#define HEATER_0_USES_AD595
+#define THERMISTORHEATER_0 1
+#define THERMISTORHEATER_1 1
+#define HEATER_0_USES_THERMISTOR
+#define HEATER_1_USES_THERMISTOR
+//#define HEATER_0_USES_AD595
 //#define HEATER_1_USES_AD595
 
 // Select one of these only to define how the bed temp is read.
-//#define BED_USES_THERMISTOR
+#define THERMISTORBED 1
+#define BED_USES_THERMISTOR
 //#define BED_USES_AD595
 
 #define BED_CHECK_INTERVAL 5000 //ms
@@ -68,13 +67,13 @@
 //#define WATCHPERIOD 5000 //5 seconds
 
 // Actual temperature must be close to target for this long before M109 returns success
-//#define TEMP_RESIDENCY_TIME 20  // (seconds)
-//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
+#define TEMP_RESIDENCY_TIME 30  // (seconds)
+#define TEMP_HYSTERESIS 3       // (C¬∞) range of +/- temperatures considered "close" to the target one
 
 //// The minimal temperature defines the temperature below which the heater will not be enabled
 #define HEATER_0_MINTEMP 5
 //#define HEATER_1_MINTEMP 5
-//#define BED_MINTEMP 5
+#define BED_MINTEMP 5
 
 
 // When temperature exceeds max temp, your heater will be switched off.
@@ -82,7 +81,7 @@
 // You should use MINTEMP for thermistor short/failure protection.
 #define HEATER_0_MAXTEMP 275
 //#define HEATER_1_MAXTEMP 275
-//#define BED_MAXTEMP 150
+#define BED_MAXTEMP 150
 
 
 // Wait for Cooldown
@@ -131,9 +130,14 @@
 //    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
 
 // Ultitmaker
-    #define  DEFAULT_Kp  22.2
-    #define  DEFAULT_Ki (1.25*PID_dT)  
-    #define  DEFAULT_Kd (99/PID_dT)  
+//    #define  DEFAULT_Kp  22.2
+//    #define  DEFAULT_Ki (1.25*PID_dT)  
+//    #define  DEFAULT_Kd (99/PID_dT)  
+
+// Makergear
+    #define  DEFAULT_Kp 7.0
+    #define  DEFAULT_Ki 0.1  
+    #define  DEFAULT_Kd 12  
 
 // Mendel Parts V9 on 12V    
 //    #define  DEFAULT_Kp  63.0
@@ -152,7 +156,7 @@
   // if Kc is choosen well, the additional required power due to increased melting should be compensated.
   #define PID_ADD_EXTRUSION_RATE  
   #ifdef PID_ADD_EXTRUSION_RATE
-    #define  DEFAULT_Kc (3) //heatingpower=Kc*(e_speed)
+    #define  DEFAULT_Kc (1) //heatingpower=Kc*(e_speed)
   #endif
 #endif // PIDTEMP
 
@@ -164,10 +168,11 @@
 
 // Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool Y_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool Z_ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
 // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 
 //#define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
@@ -176,24 +181,26 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define X_ENABLE_ON 0
 #define Y_ENABLE_ON 0
 #define Z_ENABLE_ON 0
-#define E_ENABLE_ON 0
+#define E_ENABLE_ON 0 // For all extruders
 
 // Disables axis when it's not being used.
 #define DISABLE_X false
 #define DISABLE_Y false
-#define DISABLE_Z false
-#define DISABLE_E false
+#define DISABLE_Z true
+#define DISABLE_E false // For all extruders
 
 // Inverting axis direction
 //#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 //#define INVERT_Y_DIR true   // for Mendel set to true, for Orca set to false
 //#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
-//#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
+//#define INVERT_E*_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false, used for all extruders
 
-#define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
+#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
-#define INVERT_E_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E0_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E1_DIR true    // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E2_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 //// ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -209,7 +216,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
+#define HOMING_FEEDRATE {30*60, 30*60, 2*60, 0}  // set the homing speeds (mm/min)
 
 //homing hits the endstop, then retracts by this distance, before it tries to slowly bump again:
 #define X_HOME_RETRACT_MM 5 
@@ -223,8 +230,9 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
+//#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
 //#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} //sells mendel with v9 extruder
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {80.3232, 80.8900, 2284.7651, 757.2218} // SAE Prusa w/ Wade extruder
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
@@ -290,7 +298,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
-//#define SDSUPPORT // Enable SD Card Support in Hardware Console
+#define SDSUPPORT // Enable SD Card Support in Hardware Console
 #define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
 
 //#define ULTIPANEL

commit b99c49ec3b2f03e302926f5665dee7172df2deff
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Dec 4 20:17:21 2011 +0100

    Add option to only check endstop when homing

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f288aba970..e8b960f788 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -170,6 +170,7 @@ const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 
+//#define ENDSTOPS_ONLY_FOR_HOMING // If defined the endstops will only be used for homing
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0

commit 95a0b28acbf8ee93cf1cb06fd0c76ccd582712d4
Merge: af22e9cd38 7714b98da7
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Dec 4 19:54:43 2011 +0100

    Merge branch 'Marlin_v1', remote-tracking branch 'origin/Marlin_v1' into Marlin_v1

diff --combined Marlin/Configuration.h
index 08bf6ea9e2,6f40bbb733..f288aba970
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -214,6 -214,7 +214,7 @@@ const bool Z_ENDSTOPS_INVERTING = true
  #define X_HOME_RETRACT_MM 5 
  #define Y_HOME_RETRACT_MM 5 
  #define Z_HOME_RETRACT_MM 1 
+ #define QUICK_HOME  //if this is defined, if both x and y are to be homed, a diagonal move will be performed initially.
  
  #define AXIS_RELATIVE_MODES {false, false, false, false}
  
@@@ -278,8 -279,8 +279,8 @@@
  #ifdef ADVANCE
    #define EXTRUDER_ADVANCE_K .3
  
 -  #define D_FILAMENT 1.7
 -  #define STEPS_MM_E 65
 +  #define D_FILAMENT 2.85
 +  #define STEPS_MM_E 836
    #define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
    #define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
  

commit af22e9cd38c9684bd64cc7307137abe9efbba6d0
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Dec 4 19:54:07 2011 +0100

    Some advance modifications

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 066e610058..08bf6ea9e2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -278,8 +278,8 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #ifdef ADVANCE
   #define EXTRUDER_ADVANCE_K .3
 
-  #define D_FILAMENT 1.7
-  #define STEPS_MM_E 65
+  #define D_FILAMENT 2.85
+  #define STEPS_MM_E 836
   #define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
   #define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
 

commit 4f909963e4d1a21115b4789726f6369f54c253be
Author: Bernhard <bkubicek@x201.(none)>
Date:   Sun Dec 4 09:02:09 2011 +0100

    make QUICKHOME configureable

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 066e610058..6f40bbb733 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -214,6 +214,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define X_HOME_RETRACT_MM 5 
 #define Y_HOME_RETRACT_MM 5 
 #define Z_HOME_RETRACT_MM 1 
+#define QUICK_HOME  //if this is defined, if both x and y are to be homed, a diagonal move will be performed initially.
 
 #define AXIS_RELATIVE_MODES {false, false, false, false}
 

commit 6b86f1568607acc39dccea40647374f6f373f3e7
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Dec 2 17:45:05 2011 +0100

    More 2nd extruder implementation. (Not usable)
    Advance (not tested)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 483b8cf837..066e610058 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -223,11 +223,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
 //#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} //sells mendel with v9 extruder
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 200000}    // (mm/sec)    
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 45}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
-#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+#define DEFAULT_RETRACT_ACCELERATION  3000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
 #define DEFAULT_MINIMUMFEEDRATE       0.0     // minimum feedrate
 #define DEFAULT_MINTRAVELFEEDRATE     0.0

commit 59205ac5fcf9fb00ca2748ffe0bddd1a47b239fe
Author: Bernhard <bkubicek@x201.(none)>
Date:   Wed Nov 30 08:51:46 2011 +0100

    preliminiary implementation for the early heating finish.
    Might be replaced by something more clever, e.g. by erik, and does not yet support the second extruder or the bed.
    its kind of not so cool, because you need 6 more ints.
    Maybe isheating() should use the degrees directly, as it is not used in time-critical anyways.
    Then it would be much easier. to have the offsets without additional variables.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 558044e280..483b8cf837 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -91,6 +91,8 @@
 // if CooldownNoWait is defined M109 will not wait for the cooldown to finish
 #define CooldownNoWait true
 
+// Heating is finished if a temperature close to this degree shift is reached
+#define HEATING_EARLY_FINISH_DEG_OFFSET 1 //Degree
 // PID settings:
 // Uncomment the following line to enable PID support.
   

commit f75f426dfae5190d3e637b247030d3a244968c2a
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Nov 27 21:12:55 2011 +0100

    Removed interrupt nesting in the stepper ISR.
    Add serial checkRx in stepper ISR.
    Copied HardwareSerial to MarlinSerial (Needed for checkRx).

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3a1983956d..558044e280 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -232,7 +232,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 
 // minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
 #define DEFAULT_MINSEGMENTTIME        20000   // Obsolete delete this
-#define DEFAULT_XYJERK                30.0    // (mm/sec)
+#define DEFAULT_XYJERK                20.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
 
 

commit aad4b75b94094142ece357b1bbcc25a080bbd9ac
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Nov 26 17:33:25 2011 +0100

    First parts 2nd extruder

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 7bd94f6403..3a1983956d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -8,6 +8,7 @@
 //#define BAUDRATE 115200
 //#define BAUDRATE 230400
 
+#define EXTRUDERS 1
 
 // Frequency limit
 // See nophead's blog for more info

commit a0dc66f7bfab6815c4a64a1fbf02dd82d1d75d11
Author: Bernhard <bkubicek@x201.(none)>
Date:   Sat Nov 26 12:04:06 2011 +0100

    Home retract distance configureable per axis.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 17a8854638..7bd94f6403 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -207,6 +207,11 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
+//homing hits the endstop, then retracts by this distance, before it tries to slowly bump again:
+#define X_HOME_RETRACT_MM 5 
+#define Y_HOME_RETRACT_MM 5 
+#define Z_HOME_RETRACT_MM 1 
+
 #define AXIS_RELATIVE_MODES {false, false, false, false}
 
 #define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)

commit 6d6f323535c8523341359ff3747516c86906969c
Author: Bernhard <bkubicek@x201.(none)>
Date:   Sat Nov 26 11:51:38 2011 +0100

    make an option if sd-card stop should release the steppers.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 4dea777cf9..17a8854638 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -281,6 +281,7 @@ const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of th
 //LCD and SD support
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
+#define SD_FINISHED_STEPPERRELEASE true  //if sd support and the file is finished: disable steppers?
 
 //#define ULTIPANEL
 #ifdef ULTIPANEL

commit 74d0032e258dd66009a81f4d0e70eaee987be192
Author: Bernhard <bkubicek@x201.(none)>
Date:   Sat Nov 26 09:03:12 2011 +0100

    cooldown blocking selectable by #define.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f8bb40e12e..4dea777cf9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -84,6 +84,11 @@
 //#define BED_MAXTEMP 150
 
 
+// Wait for Cooldown
+// This defines if the M109 call should not block if it is cooling down.
+// example: From a current temp of 220, you set M109 S200. 
+// if CooldownNoWait is defined M109 will not wait for the cooldown to finish
+#define CooldownNoWait true
 
 // PID settings:
 // Uncomment the following line to enable PID support.

commit c0f8c9fd7213d30708071b3d3e94ddc898aa92ac
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Nov 25 13:43:06 2011 +0100

    Seperate ENDSTOP_INVERTING for X Y and Z
    Added simple endstop filter.
    Corrected M114 count display.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index da5372021e..f8bb40e12e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -157,7 +157,9 @@
 // Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool X_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool Y_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+const bool Z_ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 
 

commit 2e43f9c80987576441f66040afd20b456ed44636
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Nov 20 13:14:58 2011 +0100

    Changed min max temperature code.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 31884782d2..da5372021e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -80,7 +80,7 @@
 // This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
 // You should use MINTEMP for thermistor short/failure protection.
 #define HEATER_0_MAXTEMP 275
-//#define_HEATER_1_MAXTEMP 275
+//#define HEATER_1_MAXTEMP 275
 //#define BED_MAXTEMP 150
 
 

commit 8a1e719a3fd064c0ac0e64ce22d7e6fcd797d342
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sat Nov 19 20:52:43 2011 +0100

    overworked config file

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f9a1367024..31884782d2 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -90,6 +90,9 @@
   
 #define PIDTEMP
 #ifdef PIDTEMP
+  #if MOTHERBOARD == 62
+    #error Sanguinololu does not support PID, sorry. Please disable it.
+  #endif
   //#define PID_DEBUG // Sends debug data to the serial port. 
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
   
@@ -195,7 +198,6 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-//note: on bernhards ultimaker 200 200 12 are working well.
 #define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
 #define AXIS_RELATIVE_MODES {false, false, false, false}
@@ -205,7 +207,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 // default settings 
 
 #define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
-//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} 
+//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} //sells mendel with v9 extruder
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 200000}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
@@ -239,7 +241,8 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define EEPROM_CHITCHAT
 
 
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+// The hardware watchdog should halt the Microcontroller, in case the firmware gets stuck somewhere. However:
+// the Watchdog is not working well, so please only enable this for testing
 // this enables the watchdog interrupt.
 //#define USE_WATCHDOG
 //#ifdef USE_WATCHDOG
@@ -272,7 +275,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-#define ULTIPANEL
+//#define ULTIPANEL
 #ifdef ULTIPANEL
   //#define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT
@@ -295,8 +298,13 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define N_ARC_CORRECTION 25
 
 
-//automatic temperature: just for testing, this is very dangerous, keep disabled!
-// not working yet.
+//automatic temperature: The hot end target temperature is calculated by all the buffered lines of gcode.
+//The maximum buffered steps/sec of the extruder motor are called "se".
+//You enter the autotemp mode by a M109 S<mintemp> T<maxtemp> F<factor>
+// the target temperature is set to mintemp+factor*se[steps/sec] and limited by mintemp and maxtemp
+// you exit the value by any M109 without F*
+// Also, if the temperature is set to a value <mintemp, it is not changed by autotemp.
+// on an ultimaker, some initial testing worked with M109 S215 T260 F0.1 in the start.gcode
 //#define AUTOTEMP
 #ifdef AUTOTEMP
   #define AUTOTEMP_OLDWEIGHT 0.98

commit f52e1a957111e6bcf33f8ac375bfeb9ba261d5a0
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sat Nov 19 17:07:44 2011 +0100

    autotemp working, default=disabled.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 800bb9b32f..f9a1367024 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -297,11 +297,10 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 //automatic temperature: just for testing, this is very dangerous, keep disabled!
 // not working yet.
-//Erik: the settings currently depend dramatically on skeinforge39 or 41.
 //#define AUTOTEMP
-#define AUTOTEMP_MIN 190
-#define AUTOTEMP_MAX 260
-#define AUTOTEMP_FACTOR 1000.  //current target temperature= min+largest buffered espeeds)*FACTOR
+#ifdef AUTOTEMP
+  #define AUTOTEMP_OLDWEIGHT 0.98
+#endif
 
 
 const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement

commit 70650c331da1fca53eafc5616dabdb4e9c4a6693
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sat Nov 19 14:50:31 2011 +0100

    corrected the ultimaker default values, the previous had a calculation error: see: http://groups.google.com/group/ultimaker/browse_thread/thread/91906788639703cf

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 9bcddc8723..800bb9b32f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -204,7 +204,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.7402,78.7402,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
 //#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} 
 #define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 200000}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
@@ -274,7 +274,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 #define ULTIPANEL
 #ifdef ULTIPANEL
-//  #define NEWPANEL  //enable this if you have a click-encoder panel
+  //#define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT
   #define ULTRA_LCD
   #define LCD_WIDTH 20

commit b15902d3b5131d1ddfc4d52ce99a54827ece5d53
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Nov 18 19:46:16 2011 +0100

    Fixed bug in configuration.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index cf38cea368..9bcddc8723 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -31,7 +31,7 @@
 // Sanguinololu 1.2 and above = 62
 // Ultimaker = 7,
 // Teensylu = 8
-#define MOTHERBOARD 5
+#define MOTHERBOARD 7
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -176,10 +176,10 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 //#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 //#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
 
-//#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
-//#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
-//#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
-//#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_X_DIR true     // for Mendel set to false, for Orca set to true
+#define INVERT_Y_DIR false    // for Mendel set to true, for Orca set to false
+#define INVERT_Z_DIR true     // for Mendel set to false, for Orca set to true
+#define INVERT_E_DIR false    // for direct drive extruder v9 set to true, for geared extruder set to false
 
 //// ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -242,11 +242,11 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 // this enables the watchdog interrupt.
 //#define USE_WATCHDOG
-#ifdef USE_WATCHDOG
+//#ifdef USE_WATCHDOG
   // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
 //#define RESET_MANUAL
 //#define WATCHDOG_TIMEOUT 4  //seconds
-
+//#endif
 
 // extruder advance constant (s2/mm3)
 //
@@ -272,7 +272,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-//#define ULTIPANEL
+#define ULTIPANEL
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT

commit e63e224a33011f2aa302ee435acc066af8a87ddb
Merge: e7dca8614b 46f80e82d9
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Nov 18 19:04:09 2011 +0100

    Merge remote-tracking branch 'origin/Marlin_v1' into Marlin_v1
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/Marlin.pde

diff --combined Marlin/Configuration.h
index 7cbb66cf74,1e12d4e225..cf38cea368
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -11,7 -11,7 +11,7 @@@
  
  // Frequency limit
  // See nophead's blog for more info
 -// Not working OK
 +// Not working O
  //#define XY_FREQUENCY_LIMIT  15
  
  // Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
@@@ -31,7 -31,7 +31,7 @@@
  // Sanguinololu 1.2 and above = 62
  // Ultimaker = 7,
  // Teensylu = 8
 -#define MOTHERBOARD 7
 +#define MOTHERBOARD 5
  
  //===========================================================================
  //=============================Thermal Settings  ============================
@@@ -45,9 -45,9 +45,9 @@@
  // 5 is ParCan supplied 104GT-2 100K
  // 6 is EPCOS 100k
  // 7 is 100k Honeywell thermistor 135-104LAG-J01
 -#define THERMISTORHEATER_0 3
 -#define THERMISTORHEATER_1 3
 -#define THERMISTORBED 3
 +//#define THERMISTORHEATER_0 3
 +//#define THERMISTORHEATER_1 3
 +//#define THERMISTORBED 3
  
  //#define HEATER_0_USES_THERMISTOR
  //#define HEATER_1_USES_THERMISTOR
@@@ -58,7 -58,6 +58,6 @@@
  //#define BED_USES_THERMISTOR
  //#define BED_USES_AD595
  
- #define HEATER_CHECK_INTERVAL 50 //ms
  #define BED_CHECK_INTERVAL 5000 //ms
  
  //// Experimental watchdog and minimal temp
@@@ -120,15 -119,9 +119,15 @@@
  //    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
  //    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
  
 +// Ultitmaker
      #define  DEFAULT_Kp  22.2
      #define  DEFAULT_Ki (1.25*PID_dT)  
      #define  DEFAULT_Kd (99/PID_dT)  
 +
 +// Mendel Parts V9 on 12V    
 +//    #define  DEFAULT_Kp  63.0
 +//    #define  DEFAULT_Ki (2.25*PID_dT)  
 +//    #define  DEFAULT_Kd (440/PID_dT)  
    #endif
     
    #ifdef PID_PI
@@@ -147,6 -140,13 +146,6 @@@
  #endif // PIDTEMP
  
  
 -
 -
 -
 -
 -
 -
 -
  //===========================================================================
  //=============================Mechanical Settings===========================
  //===========================================================================
@@@ -177,10 -177,10 +176,10 @@@ const bool ENDSTOPS_INVERTING = true; /
  //#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
  //#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
  
 -#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 -#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
 -#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
 -#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 +//#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 +//#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
 +//#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
 +//#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
  
  //// ENDSTOP SETTINGS:
  // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@@ -243,10 -243,14 +242,12 @@@
  // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
  // this enables the watchdog interrupt.
  //#define USE_WATCHDOG
- // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+ #ifdef USE_WATCHDOG
+   // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
 -  #define RESET_MANUAL
 -  #define WATCHDOG_TIMEOUT 4  //seconds
 -#endif
 -
 +//#define RESET_MANUAL
 +//#define WATCHDOG_TIMEOUT 4  //seconds
  
+ 
  // extruder advance constant (s2/mm3)
  //
  // advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
@@@ -271,7 -275,7 +272,7 @@@
  //#define ULTRA_LCD  //general lcd support, also 16x2
  //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  
 -#define ULTIPANEL
 +//#define ULTIPANEL
  #ifdef ULTIPANEL
  //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
@@@ -303,7 -307,8 +304,7 @@@
  #define AUTOTEMP_FACTOR 1000.  //current target temperature= min+largest buffered espeeds)*FACTOR
  
  
 -
 -const int dropsegments=0; //everything with less than this number of steps  will be ignored as move and joined with the next movement
 +const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement
  
  //===========================================================================
  //=============================Buffers           ============================

commit e7dca8614be5cac516c0d7989a28abdf21d412d8
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Nov 18 18:59:17 2011 +0100

    Advance experiments. Not working yet.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 3b0cfacfeb..7cbb66cf74 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -11,7 +11,7 @@
 
 // Frequency limit
 // See nophead's blog for more info
-// Not working OK
+// Not working O
 //#define XY_FREQUENCY_LIMIT  15
 
 // Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
@@ -31,7 +31,7 @@
 // Sanguinololu 1.2 and above = 62
 // Ultimaker = 7,
 // Teensylu = 8
-#define MOTHERBOARD 7
+#define MOTHERBOARD 5
 
 //===========================================================================
 //=============================Thermal Settings  ============================
@@ -45,9 +45,9 @@
 // 5 is ParCan supplied 104GT-2 100K
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
-#define THERMISTORHEATER_0 3
-#define THERMISTORHEATER_1 3
-#define THERMISTORBED 3
+//#define THERMISTORHEATER_0 3
+//#define THERMISTORHEATER_1 3
+//#define THERMISTORBED 3
 
 //#define HEATER_0_USES_THERMISTOR
 //#define HEATER_1_USES_THERMISTOR
@@ -120,9 +120,15 @@
 //    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
 //    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
 
+// Ultitmaker
     #define  DEFAULT_Kp  22.2
     #define  DEFAULT_Ki (1.25*PID_dT)  
     #define  DEFAULT_Kd (99/PID_dT)  
+
+// Mendel Parts V9 on 12V    
+//    #define  DEFAULT_Kp  63.0
+//    #define  DEFAULT_Ki (2.25*PID_dT)  
+//    #define  DEFAULT_Kd (440/PID_dT)  
   #endif
    
   #ifdef PID_PI
@@ -141,13 +147,6 @@
 #endif // PIDTEMP
 
 
-
-
-
-
-
-
-
 //===========================================================================
 //=============================Mechanical Settings===========================
 //===========================================================================
@@ -178,10 +177,10 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 //#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 //#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
 
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+//#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+//#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
+//#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
+//#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 //// ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -243,13 +242,10 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 // this enables the watchdog interrupt.
-#define USE_WATCHDOG
+//#define USE_WATCHDOG
 // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
-#define RESET_MANUAL
-#define WATCHDOG_TIMEOUT 4  //seconds
-
-
-
+//#define RESET_MANUAL
+//#define WATCHDOG_TIMEOUT 4  //seconds
 
 // extruder advance constant (s2/mm3)
 //
@@ -275,7 +271,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 //#define ULTRA_LCD  //general lcd support, also 16x2
 //#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
-#define ULTIPANEL
+//#define ULTIPANEL
 #ifdef ULTIPANEL
 //  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT
@@ -307,8 +303,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define AUTOTEMP_FACTOR 1000.  //current target temperature= min+largest buffered espeeds)*FACTOR
 
 
-
-const int dropsegments=0; //everything with less than this number of steps  will be ignored as move and joined with the next movement
+const int dropsegments=5; //everything with less than this number of steps will be ignored as move and joined with the next movement
 
 //===========================================================================
 //=============================Buffers           ============================

commit 46f80e82d947dcb928abdfe96ee1e2f48ea82de5
Merge: a9c7da06e3 805d37f77b
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Tue Nov 15 22:53:04 2011 +0100

    Merge branch 'Marlin_v1' of https://github.com/ErikZalm/Marlin into Marlin_v1
    
    Conflicts:
            Marlin/ultralcd.h

diff --combined Marlin/Configuration.h
index f1f0c651cf,3b0cfacfeb..1e12d4e225
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -4,8 -4,8 +4,8 @@@
  
  
  // This determines the communication speed of the printer
- //#define BAUDRATE 250000
- #define BAUDRATE 115200
+ #define BAUDRATE 250000
+ //#define BAUDRATE 115200
  //#define BAUDRATE 230400
  
  
@@@ -58,6 -58,7 +58,6 @@@
  //#define BED_USES_THERMISTOR
  //#define BED_USES_AD595
  
 -#define HEATER_CHECK_INTERVAL 50 //ms
  #define BED_CHECK_INTERVAL 5000 //ms
  
  //// Experimental watchdog and minimal temp
@@@ -242,12 -243,11 +242,12 @@@ const bool ENDSTOPS_INVERTING = true; /
  
  // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
  // this enables the watchdog interrupt.
 -#define USE_WATCHDOG
 -// you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
 -#define RESET_MANUAL
 -#define WATCHDOG_TIMEOUT 4  //seconds
 -
 +//#define USE_WATCHDOG
 +#ifdef USE_WATCHDOG
 +  // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
 +  #define RESET_MANUAL
 +  #define WATCHDOG_TIMEOUT 4  //seconds
 +#endif
  
  
  
@@@ -277,7 -277,7 +277,7 @@@
  
  #define ULTIPANEL
  #ifdef ULTIPANEL
-   #define NEWPANEL  //enable this if you have a click-encoder panel
+ //  #define NEWPANEL  //enable this if you have a click-encoder panel
    #define SDSUPPORT
    #define ULTRA_LCD
    #define LCD_WIDTH 20

commit a9c7da06e398101517acc5b7a07e8dcb544df294
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Tue Nov 15 22:50:43 2011 +0100

    and changed ultipanel to have the mm/sec and not mm/min
    Merge branch 'Marlin_v1' of https://github.com/ErikZalm/Marlin into Marlin_v1
    
    Conflicts:
            Marlin/Marlin.pde
            Marlin/ultralcd.h

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f0dbe6a6e7..f1f0c651cf 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -9,6 +9,19 @@
 //#define BAUDRATE 230400
 
 
+// Frequency limit
+// See nophead's blog for more info
+// Not working OK
+//#define XY_FREQUENCY_LIMIT  15
+
+// Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
+// of the buffer and all stops. This should not be much greater than zero and should only be changed
+// if unwanted behavior is observed on a user's machine when running at very slow speeds.
+#define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
+
+// If defined the movements slow down when the look ahead buffer is only half full
+#define SLOWDOWN
+
 // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
@@ -45,7 +58,6 @@
 //#define BED_USES_THERMISTOR
 //#define BED_USES_AD595
 
-#define HEATER_CHECK_INTERVAL 50 //ms
 #define BED_CHECK_INTERVAL 5000 //ms
 
 //// Experimental watchdog and minimal temp
@@ -103,11 +115,15 @@
 
   #ifdef PID_PID
     //PID according to Ziegler-Nichols method
-    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
-    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
-    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
+//    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
+//    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
+//    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
+
+    #define  DEFAULT_Kp  22.2
+    #define  DEFAULT_Ki (1.25*PID_dT)  
+    #define  DEFAULT_Kd (99/PID_dT)  
   #endif
- 
+   
   #ifdef PID_PI
     //PI according to Ziegler-Nichols method
     #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
@@ -156,6 +172,11 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define DISABLE_E false
 
 // Inverting axis direction
+//#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
+//#define INVERT_Y_DIR true   // for Mendel set to true, for Orca set to false
+//#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
+//#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
+
 #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
@@ -176,7 +197,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 //note: on bernhards ultimaker 200 200 12 are working well.
-#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
+#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
 #define AXIS_RELATIVE_MODES {false, false, false, false}
 
@@ -184,20 +205,21 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
-#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
-#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
+//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} 
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 200000}    // (mm/sec)    
+#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 #define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
-#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
-#define DEFAULT_MINTRAVELFEEDRATE     10
+#define DEFAULT_MINIMUMFEEDRATE       0.0     // minimum feedrate
+#define DEFAULT_MINTRAVELFEEDRATE     0.0
 
 // minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
-#define DEFAULT_MINSEGMENTTIME        20000
-#define DEFAULT_XYJERK                30.0*60    
-#define DEFAULT_ZJERK                 10.0*60
+#define DEFAULT_MINSEGMENTTIME        20000   // Obsolete delete this
+#define DEFAULT_XYJERK                30.0    // (mm/sec)
+#define DEFAULT_ZJERK                 0.4     // (mm/sec)
 
 
 

commit 7919a40d066116203dd2e703df9af7f3fe4d1bd4
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Tue Nov 15 20:54:40 2011 +0100

    watchdog,percent done,

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5b15dd0a47..f0dbe6a6e7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -220,11 +220,12 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 // this enables the watchdog interrupt.
-#define USE_WATCHDOG
-// you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
-#define RESET_MANUAL
-#define WATCHDOG_TIMEOUT 4  //seconds
-
+//#define USE_WATCHDOG
+#ifdef USE_WATCHDOG
+  // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+  #define RESET_MANUAL
+  #define WATCHDOG_TIMEOUT 4  //seconds
+#endif
 
 
 

commit 805d37f77b25fba70c05518cda4edd1c349b7f04
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Tue Nov 15 18:14:00 2011 +0100

    Fixed some small planner bugs

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 135b61e013..3b0cfacfeb 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -11,7 +11,8 @@
 
 // Frequency limit
 // See nophead's blog for more info
-#define XY_FREQUENCY_LIMIT  15
+// Not working OK
+//#define XY_FREQUENCY_LIMIT  15
 
 // Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
 // of the buffer and all stops. This should not be much greater than zero and should only be changed
@@ -201,7 +202,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 #define AXIS_RELATIVE_MODES {false, false, false, false}
 
-#define MAX_STEP_FREQUENCY 40000L // Max step frequency for Ultimaker (5000 pps / half step)
+#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
 
 // default settings 
 

commit 5fd41ae872d51961a7f3e60ba9b6a7cba85d61f7
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Nov 14 23:57:34 2011 +0100

    Some fixes in planner

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 5a6fc47023..135b61e013 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -115,11 +115,15 @@
 
   #ifdef PID_PID
     //PID according to Ziegler-Nichols method
-    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
-    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
-    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
+//    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
+//    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
+//    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
+
+    #define  DEFAULT_Kp  22.2
+    #define  DEFAULT_Ki (1.25*PID_dT)  
+    #define  DEFAULT_Kd (99/PID_dT)  
   #endif
- 
+   
   #ifdef PID_PI
     //PI according to Ziegler-Nichols method
     #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
@@ -197,20 +201,20 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 #define AXIS_RELATIVE_MODES {false, false, false, false}
 
-#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
+#define MAX_STEP_FREQUENCY 40000L // Max step frequency for Ultimaker (5000 pps / half step)
 
 // default settings 
 
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,760*1.1}                    // default steps per unit for ultimaker 
 //#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} 
-#define DEFAULT_MAX_FEEDRATE          {500, 500, 10, 500000}    // (mm/min)    
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 5, 200000}    // (mm/sec)    
 #define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 #define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
-#define DEFAULT_MINIMUMFEEDRATE       0     // minimum feedrate
-#define DEFAULT_MINTRAVELFEEDRATE     0
+#define DEFAULT_MINIMUMFEEDRATE       0.0     // minimum feedrate
+#define DEFAULT_MINTRAVELFEEDRATE     0.0
 
 // minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
 #define DEFAULT_MINSEGMENTTIME        20000   // Obsolete delete this

commit 95126c09c0ffbea8f15ba74105f403d8c36683cf
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Nov 14 20:04:29 2011 +0100

    Added slowdown

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 89104fde9b..5a6fc47023 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -18,6 +18,9 @@
 // if unwanted behavior is observed on a user's machine when running at very slow speeds.
 #define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
 
+// If defined the movements slow down when the look ahead buffer is only half full
+#define SLOWDOWN
+
 // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
@@ -210,7 +213,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define DEFAULT_MINTRAVELFEEDRATE     0
 
 // minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
-#define DEFAULT_MINSEGMENTTIME        20000
+#define DEFAULT_MINSEGMENTTIME        20000   // Obsolete delete this
 #define DEFAULT_XYJERK                30.0    // (mm/sec)
 #define DEFAULT_ZJERK                 0.4     // (mm/sec)
 
@@ -269,7 +272,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 #define ULTIPANEL
 #ifdef ULTIPANEL
-  #define NEWPANEL  //enable this if you have a click-encoder panel
+//  #define NEWPANEL  //enable this if you have a click-encoder panel
   #define SDSUPPORT
   #define ULTRA_LCD
   #define LCD_WIDTH 20

commit 331e82dcd3d7eaf9f76dbec8759f2f730335fea3
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Nov 14 18:53:09 2011 +0100

    Buffer size > 16

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2d890b7215..89104fde9b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -311,9 +311,9 @@ const int dropsegments=0; //everything with less than this number of steps  will
 // The number of linear motions that can be in the plan at any give time.  
 // THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
 #if defined SDSUPPORT
-  #define BLOCK_BUFFER_SIZE 8   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
+  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
 #else
-  #define BLOCK_BUFFER_SIZE 8 // maximize block buffer
+  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 #endif
 
 

commit c00eefb8242cfaf3d16fd30f8a58f02cc9f885b2
Merge: 1d0452f10c c57906b627
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Nov 14 18:26:57 2011 +0100

    Merge remote-tracking branch 'origin/Marlin_v1' into Marlin_v1

diff --combined Marlin/Configuration.h
index 6a48635f50,5b15dd0a47..2d890b7215
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -4,20 -4,11 +4,20 @@@
  
  
  // This determines the communication speed of the printer
 -//#define BAUDRATE 250000
 -#define BAUDRATE 115200
 +#define BAUDRATE 250000
 +//#define BAUDRATE 115200
  //#define BAUDRATE 230400
  
  
 +// Frequency limit
 +// See nophead's blog for more info
 +#define XY_FREQUENCY_LIMIT  15
 +
 +// Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
 +// of the buffer and all stops. This should not be much greater than zero and should only be changed
 +// if unwanted behavior is observed on a user's machine when running at very slow speeds.
 +#define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
 +
  // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
  
  //// The following define selects which electronics board you have. Please choose the one that matches your setup
@@@ -104,11 -95,11 +104,11 @@@
    // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
    // usually further manual tunine is necessary.
  
-   #define PID_CRITIAL_GAIN 3000
-   #define PID_SWING_AT_CRITIAL 45 //seconds
+   #define PID_CRITIAL_GAIN 50
+   #define PID_SWING_AT_CRITIAL 47 //seconds
    
-   #define PID_PI    //no differentail term
-   //#define PID_PID //normal PID
+   //#define PID_PI    //no differentail term
+   #define PID_PID //normal PID
  
    #ifdef PID_PID
      //PID according to Ziegler-Nichols method
@@@ -165,11 -156,6 +165,11 @@@ const bool ENDSTOPS_INVERTING = true; /
  #define DISABLE_E false
  
  // Inverting axis direction
 +//#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 +//#define INVERT_Y_DIR true   // for Mendel set to true, for Orca set to false
 +//#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 +//#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
 +
  #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
  #define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
  #define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
@@@ -190,7 -176,7 +190,7 @@@
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
  //note: on bernhards ultimaker 200 200 12 are working well.
 -#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
 +#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
  #define AXIS_RELATIVE_MODES {false, false, false, false}
  
@@@ -199,20 -185,19 +199,20 @@@
  // default settings 
  
  #define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
 -#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
 -#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 +//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} 
 +#define DEFAULT_MAX_FEEDRATE          {500, 500, 10, 500000}    // (mm/min)    
 +#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
  #define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
 -#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
 -#define DEFAULT_MINTRAVELFEEDRATE     10
 +#define DEFAULT_MINIMUMFEEDRATE       0     // minimum feedrate
 +#define DEFAULT_MINTRAVELFEEDRATE     0
  
  // minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
  #define DEFAULT_MINSEGMENTTIME        20000
 -#define DEFAULT_XYJERK                30.0*60    
 -#define DEFAULT_ZJERK                 10.0*60
 +#define DEFAULT_XYJERK                30.0    // (mm/sec)
 +#define DEFAULT_ZJERK                 0.4     // (mm/sec)
  
  
  
@@@ -311,9 -296,9 +311,9 @@@ const int dropsegments=0; //everything 
  // The number of linear motions that can be in the plan at any give time.  
  // THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
  #if defined SDSUPPORT
 -  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
 +  #define BLOCK_BUFFER_SIZE 8   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
  #else
 -  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 +  #define BLOCK_BUFFER_SIZE 8 // maximize block buffer
  #endif
  
  

commit 1d0452f10ce6d067836e483e3512c4099b4ca524
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Mon Nov 14 18:24:02 2011 +0100

    250000 baud

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 6c8b3a4ecf..6a48635f50 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -4,8 +4,8 @@
 
 
 // This determines the communication speed of the printer
-//#define BAUDRATE 250000
-#define BAUDRATE 115200
+#define BAUDRATE 250000
+//#define BAUDRATE 115200
 //#define BAUDRATE 230400
 
 

commit c57906b627bf7245578522ab50e9d35e9c6bc96b
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sun Nov 13 21:43:26 2011 +0100

    fixed bug with adjusting ki in realtime.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8661ae438e..5b15dd0a47 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -95,11 +95,11 @@
   // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
   // usually further manual tunine is necessary.
 
-  #define PID_CRITIAL_GAIN 3000
-  #define PID_SWING_AT_CRITIAL 45 //seconds
+  #define PID_CRITIAL_GAIN 50
+  #define PID_SWING_AT_CRITIAL 47 //seconds
   
-  #define PID_PI    //no differentail term
-  //#define PID_PID //normal PID
+  //#define PID_PI    //no differentail term
+  #define PID_PID //normal PID
 
   #ifdef PID_PID
     //PID according to Ziegler-Nichols method

commit ac82411c73e43d6b4730c865c38301d355e0fa35
Merge: 65934eee9c 9980ceb4a3
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Nov 13 20:46:44 2011 +0100

    Merge remote-tracking branch 'origin/Marlin_v1' into Marlin_v1

diff --combined Marlin/Configuration.h
index 2f1e8ad837,8661ae438e..6c8b3a4ecf
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -1,20 -1,14 +1,23 @@@
  #ifndef __CONFIGURATION_H
  #define __CONFIGURATION_H
  
- //#define DEBUG_STEPS
  
- #define MM_PER_ARC_SEGMENT 1
- #define N_ARC_CORRECTION 25
+ 
+ // This determines the communication speed of the printer
+ //#define BAUDRATE 250000
+ #define BAUDRATE 115200
+ //#define BAUDRATE 230400
+ 
  
 +// Frequency limit
 +// See nophead's blog for more info
 +#define XY_FREQUENCY_LIMIT  15
 +
 +// Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
 +// of the buffer and all stops. This should not be much greater than zero and should only be changed
 +// if unwanted behavior is observed on a user's machine when running at very slow speeds.
 +#define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
 +
  // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
  
  //// The following define selects which electronics board you have. Please choose the one that matches your setup
@@@ -26,7 -20,9 +29,9 @@@
  // Teensylu = 8
  #define MOTHERBOARD 7
  
- 
+ //===========================================================================
+ //=============================Thermal Settings  ============================
+ //===========================================================================
  
  //// Thermistor settings:
  // 1 is 100k thermistor
@@@ -49,49 -45,103 +54,103 @@@
  //#define BED_USES_THERMISTOR
  //#define BED_USES_AD595
  
- #define HEATER_CHECK_INTERVAL 50
- #define BED_CHECK_INTERVAL 5000
+ #define HEATER_CHECK_INTERVAL 50 //ms
+ #define BED_CHECK_INTERVAL 5000 //ms
  
+ //// Experimental watchdog and minimal temp
+ // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+ // If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
+ /// CURRENTLY NOT IMPLEMENTED AND UNUSEABLE
+ //#define WATCHPERIOD 5000 //5 seconds
  
- //// Endstop Settings
- #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
- // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
- const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
- // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
+ // Actual temperature must be close to target for this long before M109 returns success
+ //#define TEMP_RESIDENCY_TIME 20  // (seconds)
+ //#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
  
- // This determines the communication speed of the printer
- #define BAUDRATE 250000
- //#define BAUDRATE 115200
- //#define BAUDRATE 230400
+ //// The minimal temperature defines the temperature below which the heater will not be enabled
+ #define HEATER_0_MINTEMP 5
+ //#define HEATER_1_MINTEMP 5
+ //#define BED_MINTEMP 5
  
- // Comment out (using // at the start of the line) to disable SD support:
  
- // #define ULTRA_LCD  //any lcd 
+ // When temperature exceeds max temp, your heater will be switched off.
+ // This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
+ // You should use MINTEMP for thermistor short/failure protection.
+ #define HEATER_0_MAXTEMP 275
+ //#define_HEATER_1_MAXTEMP 275
+ //#define BED_MAXTEMP 150
  
- #define ULTIPANEL
- #ifdef ULTIPANEL
-   //#define NEWPANEL  //enable this if you have a click-encoder panel
-   #define SDSUPPORT
-   #define ULTRA_LCD
-   #define LCD_WIDTH 20
-   #define LCD_HEIGHT 4
- #else //no panel but just lcd 
-   #ifdef ULTRA_LCD
-     #define LCD_WIDTH 16
-     #define LCD_HEIGHT 2
+ 
+ 
+ // PID settings:
+ // Uncomment the following line to enable PID support.
+   
+ #define PIDTEMP
+ #ifdef PIDTEMP
+   //#define PID_DEBUG // Sends debug data to the serial port. 
+   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+   
+   #define PID_MAX 255 // limits current to nozzle; 255=full current
+   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
+   #define K1 0.95 //smoothing factor withing the PID
+   #define PID_dT 0.1 //sampling period of the PID
+ 
+   //To develop some PID settings for your machine, you can initiall follow 
+   // the Ziegler-Nichols method.
+   // set Ki and Kd to zero. 
+   // heat with a defined Kp and see if the temperature stabilizes
+   // ideally you do this graphically with repg.
+   // the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
+   // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
+   // usually further manual tunine is necessary.
+ 
+   #define PID_CRITIAL_GAIN 3000
+   #define PID_SWING_AT_CRITIAL 45 //seconds
+   
+   #define PID_PI    //no differentail term
+   //#define PID_PID //normal PID
+ 
+   #ifdef PID_PID
+     //PID according to Ziegler-Nichols method
+     #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
+     #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
+     #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
    #endif
- #endif
+  
+   #ifdef PID_PI
+     //PI according to Ziegler-Nichols method
+     #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
+     #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
+     #define  DEFAULT_Kd (0)
+   #endif
+   
+   // this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
+   // if Kc is choosen well, the additional required power due to increased melting should be compensated.
+   #define PID_ADD_EXTRUSION_RATE  
+   #ifdef PID_ADD_EXTRUSION_RATE
+     #define  DEFAULT_Kc (3) //heatingpower=Kc*(e_speed)
+   #endif
+ #endif // PIDTEMP
  
  
- //#define SDSUPPORT // Enable SD Card Support in Hardware Console
  
  
  
- const int dropsegments=5; //everything with this number of steps  will be ignored as move
  
- //// ADVANCED SETTINGS - to tweak parameters
  
- #include "thermistortables.h"
+ 
+ 
+ //===========================================================================
+ //=============================Mechanical Settings===========================
+ //===========================================================================
+ 
+ 
+ // Endstop Settings
+ #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+ // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
+ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+ // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
+ 
  
  // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
  #define X_ENABLE_ON 0
@@@ -106,11 -156,6 +165,11 @@@
  #define DISABLE_E false
  
  // Inverting axis direction
 +//#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
 +//#define INVERT_Y_DIR true   // for Mendel set to true, for Orca set to false
 +//#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
 +//#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
 +
  #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
  #define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
  #define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
@@@ -131,7 -176,7 +190,7 @@@
  //// MOVEMENT SETTINGS
  #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
  //note: on bernhards ultimaker 200 200 12 are working well.
 -#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
 +#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
  
  #define AXIS_RELATIVE_MODES {false, false, false, false}
  
@@@ -140,104 -185,48 +199,49 @@@
  // default settings 
  
  #define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
 -#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
 -#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 +//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} 
 +#define DEFAULT_MAX_FEEDRATE          {500, 500, 10, 500000}    // (mm/min)    
 +#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
  
  #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
  #define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
  
 -#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
 -#define DEFAULT_MINTRAVELFEEDRATE     10
 +#define DEFAULT_MINIMUMFEEDRATE       0     // minimum feedrate
 +#define DEFAULT_MINTRAVELFEEDRATE     0
  
  // minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
  #define DEFAULT_MINSEGMENTTIME        20000
 -#define DEFAULT_XYJERK                30.0*60    
 -#define DEFAULT_ZJERK                 10.0*60
 +#define DEFAULT_XYJERK                30.0    // (mm/sec)
 +#define DEFAULT_ZJERK                 0.4     // (mm/sec)
  
  
- // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
- //this enables the watchdog interrupt.
- #define USE_WATCHDOG
- //you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
- #define RESET_MANUAL
- 
- #define WATCHDOG_TIMEOUT 4
- 
- 
  
- //// Experimental watchdog and minimal temp
- // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
- // If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
- /// CURRENTLY NOT IMPLEMENTED AND UNUSEABLE
- //#define WATCHPERIOD 5000 //5 seconds
- 
- // Actual temperature must be close to target for this long before M109 returns success
- //#define TEMP_RESIDENCY_TIME 20  // (seconds)
- //#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
  
- //// The minimal temperature defines the temperature below which the heater will not be enabled
- //#define HEATER_0_MINTEMP 5
- //#define HEATER_1_MINTEMP 5
- //#define BED_MINTEMP 5
+ //===========================================================================
+ //=============================Additional Features===========================
+ //===========================================================================
  
+ // EEPROM
+ // the microcontroller can store settings in the EEPROM, e.g. max velocity...
+ // M500 - stores paramters in EEPROM
+ // M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
+ // M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
+ //define this to enable eeprom support
+ #define EEPROM_SETTINGS
+ //to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
+ // please keep turned on if you can.
+ #define EEPROM_CHITCHAT
  
- // When temperature exceeds max temp, your heater will be switched off.
- // This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
- // You should use MINTEMP for thermistor short/failure protection.
- //#define HEATER_0_MAXTEMP 275
- //#define_HEATER_1_MAXTEMP 275
- //#define BED_MAXTEMP 150
  
- /// PID settings:
- // Uncomment the following line to enable PID support.
-   
- #define PIDTEMP
- #ifdef PIDTEMP
-   //#define PID_DEBUG // Sends debug data to the serial port. 
-   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-   
-   #define PID_MAX 255 // limits current to nozzle; 255=full current
-   #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
-   #define K1 0.95 //smoothing factor withing the PID
-   #define PID_dT 0.1 //sampling period of the PID
+ // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+ // this enables the watchdog interrupt.
+ #define USE_WATCHDOG
+ // you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+ #define RESET_MANUAL
+ #define WATCHDOG_TIMEOUT 4  //seconds
  
-   //To develop some PID settings for your machine, you can initiall follow 
-   // the Ziegler-Nichols method.
-   // set Ki and Kd to zero. 
-   // heat with a defined Kp and see if the temperature stabilizes
-   // ideally you do this graphically with repg.
-   // the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
-   // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
-   // usually further manual tunine is necessary.
  
-   #define PID_CRITIAL_GAIN 3000
-   #define PID_SWING_AT_CRITIAL 45 //seconds
-   
-   #define PID_PI    //no differentail term
-   //#define PID_PID //normal PID
  
-   #ifdef PID_PID
-     //PID according to Ziegler-Nichols method
-     #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
-     #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
-     #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
-   #endif
-  
-   #ifdef PID_PI
-     //PI according to Ziegler-Nichols method
-     #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
-     #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
-     #define  DEFAULT_Kd (0)
-   #endif
-   
-   // this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
-   // if Kc is choosen well, the additional required power due to increased melting should be compensated.
-   #define PID_ADD_EXTRUSION_RATE  
-   #ifdef PID_ADD_EXTRUSION_RATE
-     #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
-   #endif
- #endif // PIDTEMP
  
  // extruder advance constant (s2/mm3)
  //
@@@ -258,16 -247,66 +262,66 @@@
  
  #endif // ADVANCE
  
+ 
+ //LCD and SD support
+ //#define ULTRA_LCD  //general lcd support, also 16x2
+ //#define SDSUPPORT // Enable SD Card Support in Hardware Console
+ 
+ #define ULTIPANEL
+ #ifdef ULTIPANEL
+   #define NEWPANEL  //enable this if you have a click-encoder panel
+   #define SDSUPPORT
+   #define ULTRA_LCD
+   #define LCD_WIDTH 20
+   #define LCD_HEIGHT 4
+ #else //no panel but just lcd 
+   #ifdef ULTRA_LCD
+     #define LCD_WIDTH 16
+     #define LCD_HEIGHT 2
+   #endif
+ #endif
+ 
+ // A debugging feature to compare calculated vs performed steps, to see if steps are lost by the software.
+ //#define DEBUG_STEPS
+ 
+ 
+ // Arc interpretation settings:
+ #define MM_PER_ARC_SEGMENT 1
+ #define N_ARC_CORRECTION 25
+ 
+ 
+ //automatic temperature: just for testing, this is very dangerous, keep disabled!
+ // not working yet.
+ //Erik: the settings currently depend dramatically on skeinforge39 or 41.
+ //#define AUTOTEMP
+ #define AUTOTEMP_MIN 190
+ #define AUTOTEMP_MAX 260
+ #define AUTOTEMP_FACTOR 1000.  //current target temperature= min+largest buffered espeeds)*FACTOR
+ 
+ 
+ 
+ const int dropsegments=0; //everything with less than this number of steps  will be ignored as move and joined with the next movement
+ 
+ //===========================================================================
+ //=============================Buffers           ============================
+ //===========================================================================
+ 
+ 
+ 
  // The number of linear motions that can be in the plan at any give time.  
  // THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
  #if defined SDSUPPORT
 -  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
 +  #define BLOCK_BUFFER_SIZE 8   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
  #else
 -  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 +  #define BLOCK_BUFFER_SIZE 8 // maximize block buffer
  #endif
  
+ 
  //The ASCII buffer for recieving from the serial:
  #define MAX_CMD_SIZE 96
  #define BUFSIZE 4
  
+ 
+ #include "thermistortables.h"
+ 
  #endif //__CONFIGURATION_H

commit 65934eee9c6ae792c708bc1cea9996c8a5df67f5
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Nov 13 20:42:08 2011 +0100

    A lot of changes in the planner code

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a0d46bfed7..2f1e8ad837 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -6,6 +6,15 @@
 #define MM_PER_ARC_SEGMENT 1
 #define N_ARC_CORRECTION 25
 
+// Frequency limit
+// See nophead's blog for more info
+#define XY_FREQUENCY_LIMIT  15
+
+// Minimum planner junction speed. Sets the default minimum speed the planner plans for at the end
+// of the buffer and all stops. This should not be much greater than zero and should only be changed
+// if unwanted behavior is observed on a user's machine when running at very slow speeds.
+#define MINIMUM_PLANNER_SPEED 2.0 // (mm/sec)
+
 // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
@@ -97,6 +106,11 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 #define DISABLE_E false
 
 // Inverting axis direction
+//#define INVERT_X_DIR false    // for Mendel set to false, for Orca set to true
+//#define INVERT_Y_DIR true   // for Mendel set to true, for Orca set to false
+//#define INVERT_Z_DIR false    // for Mendel set to false, for Orca set to true
+//#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
+
 #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
@@ -117,7 +131,7 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 //note: on bernhards ultimaker 200 200 12 are working well.
-#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
+#define HOMING_FEEDRATE {50*60, 50*60, 4*60, 0}  // set the homing speeds (mm/min)
 
 #define AXIS_RELATIVE_MODES {false, false, false, false}
 
@@ -126,19 +140,20 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 // default settings 
 
 #define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
-#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
-#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+//#define DEFAULT_AXIS_STEPS_PER_UNIT   {40, 40, 3333.92, 67} 
+#define DEFAULT_MAX_FEEDRATE          {500, 500, 10, 500000}    // (mm/min)    
+#define DEFAULT_MAX_ACCELERATION      {9000,9000,100,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 
 #define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 #define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 
-#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
-#define DEFAULT_MINTRAVELFEEDRATE     10
+#define DEFAULT_MINIMUMFEEDRATE       0     // minimum feedrate
+#define DEFAULT_MINTRAVELFEEDRATE     0
 
 // minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
 #define DEFAULT_MINSEGMENTTIME        20000
-#define DEFAULT_XYJERK                30.0*60    
-#define DEFAULT_ZJERK                 10.0*60
+#define DEFAULT_XYJERK                30.0    // (mm/sec)
+#define DEFAULT_ZJERK                 0.4     // (mm/sec)
 
 
 // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
@@ -162,7 +177,7 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 //#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
 
 //// The minimal temperature defines the temperature below which the heater will not be enabled
-#define HEATER_0_MINTEMP 5
+//#define HEATER_0_MINTEMP 5
 //#define HEATER_1_MINTEMP 5
 //#define BED_MINTEMP 5
 
@@ -170,7 +185,7 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 // When temperature exceeds max temp, your heater will be switched off.
 // This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
 // You should use MINTEMP for thermistor short/failure protection.
-#define HEATER_0_MAXTEMP 275
+//#define HEATER_0_MAXTEMP 275
 //#define_HEATER_1_MAXTEMP 275
 //#define BED_MAXTEMP 150
 
@@ -246,9 +261,9 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 // The number of linear motions that can be in the plan at any give time.  
 // THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
 #if defined SDSUPPORT
-  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
+  #define BLOCK_BUFFER_SIZE 8   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
 #else
-  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
+  #define BLOCK_BUFFER_SIZE 8 // maximize block buffer
 #endif
 
 //The ASCII buffer for recieving from the serial:

commit 36958ee30576dd282a373c8b1da6ad8d9d22eb7b
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Wed Nov 9 22:09:16 2011 +0100

    minor changes and first not-well working version of autotemp

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index f44c858b9a..8661ae438e 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -119,7 +119,7 @@
   // if Kc is choosen well, the additional required power due to increased melting should be compensated.
   #define PID_ADD_EXTRUSION_RATE  
   #ifdef PID_ADD_EXTRUSION_RATE
-    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
+    #define  DEFAULT_Kc (3) //heatingpower=Kc*(e_speed)
   #endif
 #endif // PIDTEMP
 
@@ -275,6 +275,16 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define N_ARC_CORRECTION 25
 
 
+//automatic temperature: just for testing, this is very dangerous, keep disabled!
+// not working yet.
+//Erik: the settings currently depend dramatically on skeinforge39 or 41.
+//#define AUTOTEMP
+#define AUTOTEMP_MIN 190
+#define AUTOTEMP_MAX 260
+#define AUTOTEMP_FACTOR 1000.  //current target temperature= min+largest buffered espeeds)*FACTOR
+
+
+
 const int dropsegments=0; //everything with less than this number of steps  will be ignored as move and joined with the next movement
 
 //===========================================================================

commit 27361e7cd08d895cfa8930c9e114997fdfe995ec
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Wed Nov 9 20:28:40 2011 +0100

    beautified the config. ordered it into thematic sections.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a0d46bfed7..f44c858b9a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,10 +1,13 @@
 #ifndef __CONFIGURATION_H
 #define __CONFIGURATION_H
 
-//#define DEBUG_STEPS
 
-#define MM_PER_ARC_SEGMENT 1
-#define N_ARC_CORRECTION 25
+
+// This determines the communication speed of the printer
+//#define BAUDRATE 250000
+#define BAUDRATE 115200
+//#define BAUDRATE 230400
+
 
 // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 
@@ -17,7 +20,9 @@
 // Teensylu = 8
 #define MOTHERBOARD 7
 
-
+//===========================================================================
+//=============================Thermal Settings  ============================
+//===========================================================================
 
 //// Thermistor settings:
 // 1 is 100k thermistor
@@ -40,49 +45,103 @@
 //#define BED_USES_THERMISTOR
 //#define BED_USES_AD595
 
-#define HEATER_CHECK_INTERVAL 50
-#define BED_CHECK_INTERVAL 5000
+#define HEATER_CHECK_INTERVAL 50 //ms
+#define BED_CHECK_INTERVAL 5000 //ms
 
+//// Experimental watchdog and minimal temp
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
+/// CURRENTLY NOT IMPLEMENTED AND UNUSEABLE
+//#define WATCHPERIOD 5000 //5 seconds
 
-//// Endstop Settings
-#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
-// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
+// Actual temperature must be close to target for this long before M109 returns success
+//#define TEMP_RESIDENCY_TIME 20  // (seconds)
+//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
 
-// This determines the communication speed of the printer
-#define BAUDRATE 250000
-//#define BAUDRATE 115200
-//#define BAUDRATE 230400
+//// The minimal temperature defines the temperature below which the heater will not be enabled
+#define HEATER_0_MINTEMP 5
+//#define HEATER_1_MINTEMP 5
+//#define BED_MINTEMP 5
 
-// Comment out (using // at the start of the line) to disable SD support:
 
-// #define ULTRA_LCD  //any lcd 
+// When temperature exceeds max temp, your heater will be switched off.
+// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
+// You should use MINTEMP for thermistor short/failure protection.
+#define HEATER_0_MAXTEMP 275
+//#define_HEATER_1_MAXTEMP 275
+//#define BED_MAXTEMP 150
 
-#define ULTIPANEL
-#ifdef ULTIPANEL
-  //#define NEWPANEL  //enable this if you have a click-encoder panel
-  #define SDSUPPORT
-  #define ULTRA_LCD
-  #define LCD_WIDTH 20
-  #define LCD_HEIGHT 4
-#else //no panel but just lcd 
-  #ifdef ULTRA_LCD
-    #define LCD_WIDTH 16
-    #define LCD_HEIGHT 2
+
+
+// PID settings:
+// Uncomment the following line to enable PID support.
+  
+#define PIDTEMP
+#ifdef PIDTEMP
+  //#define PID_DEBUG // Sends debug data to the serial port. 
+  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+  
+  #define PID_MAX 255 // limits current to nozzle; 255=full current
+  #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
+  #define K1 0.95 //smoothing factor withing the PID
+  #define PID_dT 0.1 //sampling period of the PID
+
+  //To develop some PID settings for your machine, you can initiall follow 
+  // the Ziegler-Nichols method.
+  // set Ki and Kd to zero. 
+  // heat with a defined Kp and see if the temperature stabilizes
+  // ideally you do this graphically with repg.
+  // the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
+  // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
+  // usually further manual tunine is necessary.
+
+  #define PID_CRITIAL_GAIN 3000
+  #define PID_SWING_AT_CRITIAL 45 //seconds
+  
+  #define PID_PI    //no differentail term
+  //#define PID_PID //normal PID
+
+  #ifdef PID_PID
+    //PID according to Ziegler-Nichols method
+    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
+    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
+    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
   #endif
-#endif
+ 
+  #ifdef PID_PI
+    //PI according to Ziegler-Nichols method
+    #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
+    #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
+    #define  DEFAULT_Kd (0)
+  #endif
+  
+  // this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
+  // if Kc is choosen well, the additional required power due to increased melting should be compensated.
+  #define PID_ADD_EXTRUSION_RATE  
+  #ifdef PID_ADD_EXTRUSION_RATE
+    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
+  #endif
+#endif // PIDTEMP
+
 
 
-//#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 
 
-const int dropsegments=5; //everything with this number of steps  will be ignored as move
 
-//// ADVANCED SETTINGS - to tweak parameters
 
-#include "thermistortables.h"
+
+//===========================================================================
+//=============================Mechanical Settings===========================
+//===========================================================================
+
+
+// Endstop Settings
+#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
+const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
+
 
 // For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 #define X_ENABLE_ON 0
@@ -141,88 +200,33 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 #define DEFAULT_ZJERK                 10.0*60
 
 
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-//this enables the watchdog interrupt.
-#define USE_WATCHDOG
-//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
-#define RESET_MANUAL
-
-#define WATCHDOG_TIMEOUT 4
-
 
 
-//// Experimental watchdog and minimal temp
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
-/// CURRENTLY NOT IMPLEMENTED AND UNUSEABLE
-//#define WATCHPERIOD 5000 //5 seconds
-
-// Actual temperature must be close to target for this long before M109 returns success
-//#define TEMP_RESIDENCY_TIME 20  // (seconds)
-//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
+//===========================================================================
+//=============================Additional Features===========================
+//===========================================================================
 
-//// The minimal temperature defines the temperature below which the heater will not be enabled
-#define HEATER_0_MINTEMP 5
-//#define HEATER_1_MINTEMP 5
-//#define BED_MINTEMP 5
+// EEPROM
+// the microcontroller can store settings in the EEPROM, e.g. max velocity...
+// M500 - stores paramters in EEPROM
+// M501 - reads parameters from EEPROM (if you need reset them after you changed them temporarily).  
+// M502 - reverts to the default "factory settings".  You still need to store them in EEPROM afterwards if you want to.
+//define this to enable eeprom support
+#define EEPROM_SETTINGS
+//to disable EEPROM Serial responses and decrease program space by ~1700 byte: comment this out:
+// please keep turned on if you can.
+#define EEPROM_CHITCHAT
 
 
-// When temperature exceeds max temp, your heater will be switched off.
-// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
-// You should use MINTEMP for thermistor short/failure protection.
-#define HEATER_0_MAXTEMP 275
-//#define_HEATER_1_MAXTEMP 275
-//#define BED_MAXTEMP 150
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+// this enables the watchdog interrupt.
+#define USE_WATCHDOG
+// you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+#define RESET_MANUAL
+#define WATCHDOG_TIMEOUT 4  //seconds
 
-/// PID settings:
-// Uncomment the following line to enable PID support.
-  
-#define PIDTEMP
-#ifdef PIDTEMP
-  //#define PID_DEBUG // Sends debug data to the serial port. 
-  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-  
-  #define PID_MAX 255 // limits current to nozzle; 255=full current
-  #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
-  #define K1 0.95 //smoothing factor withing the PID
-  #define PID_dT 0.1 //sampling period of the PID
 
-  //To develop some PID settings for your machine, you can initiall follow 
-  // the Ziegler-Nichols method.
-  // set Ki and Kd to zero. 
-  // heat with a defined Kp and see if the temperature stabilizes
-  // ideally you do this graphically with repg.
-  // the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
-  // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
-  // usually further manual tunine is necessary.
 
-  #define PID_CRITIAL_GAIN 3000
-  #define PID_SWING_AT_CRITIAL 45 //seconds
-  
-  #define PID_PI    //no differentail term
-  //#define PID_PID //normal PID
-
-  #ifdef PID_PID
-    //PID according to Ziegler-Nichols method
-    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
-    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
-    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
-  #endif
- 
-  #ifdef PID_PI
-    //PI according to Ziegler-Nichols method
-    #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
-    #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
-    #define  DEFAULT_Kd (0)
-  #endif
-  
-  // this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
-  // if Kc is choosen well, the additional required power due to increased melting should be compensated.
-  #define PID_ADD_EXTRUSION_RATE  
-  #ifdef PID_ADD_EXTRUSION_RATE
-    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
-  #endif
-#endif // PIDTEMP
 
 // extruder advance constant (s2/mm3)
 //
@@ -243,6 +247,42 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 
 #endif // ADVANCE
 
+
+//LCD and SD support
+//#define ULTRA_LCD  //general lcd support, also 16x2
+//#define SDSUPPORT // Enable SD Card Support in Hardware Console
+
+#define ULTIPANEL
+#ifdef ULTIPANEL
+  #define NEWPANEL  //enable this if you have a click-encoder panel
+  #define SDSUPPORT
+  #define ULTRA_LCD
+  #define LCD_WIDTH 20
+  #define LCD_HEIGHT 4
+#else //no panel but just lcd 
+  #ifdef ULTRA_LCD
+    #define LCD_WIDTH 16
+    #define LCD_HEIGHT 2
+  #endif
+#endif
+
+// A debugging feature to compare calculated vs performed steps, to see if steps are lost by the software.
+//#define DEBUG_STEPS
+
+
+// Arc interpretation settings:
+#define MM_PER_ARC_SEGMENT 1
+#define N_ARC_CORRECTION 25
+
+
+const int dropsegments=0; //everything with less than this number of steps  will be ignored as move and joined with the next movement
+
+//===========================================================================
+//=============================Buffers           ============================
+//===========================================================================
+
+
+
 // The number of linear motions that can be in the plan at any give time.  
 // THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
 #if defined SDSUPPORT
@@ -251,8 +291,12 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
   #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 #endif
 
+
 //The ASCII buffer for recieving from the serial:
 #define MAX_CMD_SIZE 96
 #define BUFSIZE 4
 
+
+#include "thermistortables.h"
+
 #endif //__CONFIGURATION_H

commit d3bfffcb6eabe886eb8c1a11bcdc66a1f680a882
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Nov 6 22:37:43 2011 +0100

    Corrected thermistor naming

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d417d415cf..a0d46bfed7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -27,8 +27,8 @@
 // 5 is ParCan supplied 104GT-2 100K
 // 6 is EPCOS 100k
 // 7 is 100k Honeywell thermistor 135-104LAG-J01
+#define THERMISTORHEATER_0 3
 #define THERMISTORHEATER_1 3
-#define THERMISTORHEATER_2 3
 #define THERMISTORBED 3
 
 //#define HEATER_0_USES_THERMISTOR

commit 163efdf1c764eb0be84aadd5c3d715a4d46df807
Merge: 87aaf0f70a 5cf349a24a
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sun Nov 6 19:49:04 2011 +0100

    Merge branch 'Marlin_v1' of https://github.com/ErikZalm/Marlin into Marlin_v1

diff --combined Marlin/Configuration.h
index 722cb9642d,1c77733039..d417d415cf
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -14,8 -14,9 +14,9 @@@
  // Gen6 = 5,
  // Sanguinololu 1.2 and above = 62
  // Ultimaker = 7,
+ // Teensylu = 8
  #define MOTHERBOARD 7
- //#define MOTHERBOARD 5
+ 
  
  
  //// Thermistor settings:
@@@ -58,14 -59,13 +59,13 @@@ const bool ENDSTOPS_INVERTING = true; /
  
  // #define ULTRA_LCD  //any lcd 
  
- #define ULTIPANEL
  #define ULTIPANEL
  #ifdef ULTIPANEL
 - //#define NEWPANEL  //enable this if you have a click-encoder panel
 - #define SDSUPPORT
 - #define ULTRA_LCD
 - #define LCD_WIDTH 20
 -#define LCD_HEIGHT 4
 +  //#define NEWPANEL  //enable this if you have a click-encoder panel
 +  #define SDSUPPORT
 +  #define ULTRA_LCD
 +  #define LCD_WIDTH 20
 +  #define LCD_HEIGHT 4
  #else //no panel but just lcd 
    #ifdef ULTRA_LCD
      #define LCD_WIDTH 16
@@@ -251,8 -251,4 +251,8 @@@ const int dropsegments=5; //everything 
    #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
  #endif
  
 +//The ASCII buffer for recieving from the serial:
 +#define MAX_CMD_SIZE 96
 +#define BUFSIZE 4
 +
  #endif //__CONFIGURATION_H

commit 87aaf0f70a22686d2107efa01cfa19bba542c386
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sun Nov 6 19:48:37 2011 +0100

    static'ified Marlin.pde.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b437bfb01f..722cb9642d 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -61,11 +61,11 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define ULTIPANEL
 #define ULTIPANEL
 #ifdef ULTIPANEL
- //#define NEWPANEL  //enable this if you have a click-encoder panel
- #define SDSUPPORT
- #define ULTRA_LCD
- #define LCD_WIDTH 20
-#define LCD_HEIGHT 4
+  //#define NEWPANEL  //enable this if you have a click-encoder panel
+  #define SDSUPPORT
+  #define ULTRA_LCD
+  #define LCD_WIDTH 20
+  #define LCD_HEIGHT 4
 #else //no panel but just lcd 
   #ifdef ULTRA_LCD
     #define LCD_WIDTH 16
@@ -251,4 +251,8 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
   #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 #endif
 
+//The ASCII buffer for recieving from the serial:
+#define MAX_CMD_SIZE 96
+#define BUFSIZE 4
+
 #endif //__CONFIGURATION_H

commit 76b3f805c08f1ceb0b4a69523d5fd7b1a331c7a6
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Nov 6 19:30:04 2011 +0100

    Added teensylu pins

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b437bfb01f..1c77733039 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -14,8 +14,9 @@
 // Gen6 = 5,
 // Sanguinololu 1.2 and above = 62
 // Ultimaker = 7,
+// Teensylu = 8
 #define MOTHERBOARD 7
-//#define MOTHERBOARD 5
+
 
 
 //// Thermistor settings:
@@ -58,7 +59,6 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 
 // #define ULTRA_LCD  //any lcd 
 
-#define ULTIPANEL
 #define ULTIPANEL
 #ifdef ULTIPANEL
  //#define NEWPANEL  //enable this if you have a click-encoder panel

commit 1d171e9e52012c8129dfec2b7f2640e696678f2e
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sun Nov 6 19:23:08 2011 +0100

    reformating and some minor bugs/things found on the way.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 8ad0e22829..b437bfb01f 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,5 +1,5 @@
-#ifndef CONFIGURATION_H
-#define CONFIGURATION_H
+#ifndef __CONFIGURATION_H
+#define __CONFIGURATION_H
 
 //#define DEBUG_STEPS
 
@@ -118,10 +118,7 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 //note: on bernhards ultimaker 200 200 12 are working well.
 #define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
-//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
-//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
-// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
-#define TRAVELING_AT_MAXSPEED  
+
 #define AXIS_RELATIVE_MODES {false, false, false, false}
 
 #define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
@@ -177,41 +174,50 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 //#define_HEATER_1_MAXTEMP 275
 //#define BED_MAXTEMP 150
 
-
-
-
-
-
-
+/// PID settings:
+// Uncomment the following line to enable PID support.
+  
 #define PIDTEMP
 #ifdef PIDTEMP
-  /// PID settings:
-  // Uncomment the following line to enable PID support.
-  //#define SMOOTHING
-  //#define SMOOTHFACTOR 5.0
-  //float current_raw_average=0;
-    #define K1 0.95 //smoothing of the PID
   //#define PID_DEBUG // Sends debug data to the serial port. 
   //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-  #define PID_MAX 255 // limits current to nozzle
-  #define PID_INTEGRAL_DRIVE_MAX 255
-  #define PID_dT 0.1
- //machine with red silicon: 1950:45 second ; with fan fully blowin 3000:47
+  
+  #define PID_MAX 255 // limits current to nozzle; 255=full current
+  #define PID_INTEGRAL_DRIVE_MAX 255  //limit for the integral term
+  #define K1 0.95 //smoothing factor withing the PID
+  #define PID_dT 0.1 //sampling period of the PID
+
+  //To develop some PID settings for your machine, you can initiall follow 
+  // the Ziegler-Nichols method.
+  // set Ki and Kd to zero. 
+  // heat with a defined Kp and see if the temperature stabilizes
+  // ideally you do this graphically with repg.
+  // the PID_CRITIAL_GAIN should be the Kp at which temperature oscillatins are not dampned out/decreas in amplitutde
+  // PID_SWING_AT_CRITIAL is the time for a full period of the oscillations at the critical Gain
+  // usually further manual tunine is necessary.
 
   #define PID_CRITIAL_GAIN 3000
   #define PID_SWING_AT_CRITIAL 45 //seconds
-  #define PIDIADD 5
-  /*
-  //PID according to Ziegler-Nichols method
-  float Kp = 0.6*PID_CRITIAL_GAIN; 
-  float Ki =PIDIADD+2*Kp/PID_SWING_AT_CRITIAL*PID_dT;  
-  float Kd = Kp*PID_SWING_AT_CRITIAL/8./PID_dT;  
-  */
-  //PI according to Ziegler-Nichols method
-  #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
-  #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
-  #define  DEFAULT_Kd (0)
   
+  #define PID_PI    //no differentail term
+  //#define PID_PID //normal PID
+
+  #ifdef PID_PID
+    //PID according to Ziegler-Nichols method
+    #define  DEFAULT_Kp  (0.6*PID_CRITIAL_GAIN)
+    #define  DEFAULT_Ki (2*Kp/PID_SWING_AT_CRITIAL*PID_dT)  
+    #define  DEFAULT_Kd (PID_SWING_AT_CRITIAL/8./PID_dT)  
+  #endif
+ 
+  #ifdef PID_PI
+    //PI according to Ziegler-Nichols method
+    #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
+    #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
+    #define  DEFAULT_Kd (0)
+  #endif
+  
+  // this adds an experimental additional term to the heatingpower, proportional to the extrusion speed.
+  // if Kc is choosen well, the additional required power due to increased melting should be compensated.
   #define PID_ADD_EXTRUSION_RATE  
   #ifdef PID_ADD_EXTRUSION_RATE
     #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
@@ -228,22 +234,21 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 //#define ADVANCE
 
 #ifdef ADVANCE
-#define EXTRUDER_ADVANCE_K .3
+  #define EXTRUDER_ADVANCE_K .3
 
-#define D_FILAMENT 1.7
-#define STEPS_MM_E 65
-#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
-#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
+  #define D_FILAMENT 1.7
+  #define STEPS_MM_E 65
+  #define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
+  #define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
 
 #endif // ADVANCE
 
-// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, e.g. 8,16,32 
-#if defined SDSUPPORT
 // The number of linear motions that can be in the plan at any give time.  
+// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, i.g. 8,16,32 because shifts and ors are used to do the ringbuffering.
+#if defined SDSUPPORT
   #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
 #else
   #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 #endif
 
-
-#endif
+#endif //__CONFIGURATION_H

commit 2afb7bd4cfa130d57dcbca657fa9a81eecbc7a15
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sun Nov 6 14:03:41 2011 +0100

    refactured temperature.cpp so that there are now abstract functions to access temperatures.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 65c4f32a3c..8ad0e22829 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -157,6 +157,7 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 //// Experimental watchdog and minimal temp
 // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 // If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
+/// CURRENTLY NOT IMPLEMENTED AND UNUSEABLE
 //#define WATCHPERIOD 5000 //5 seconds
 
 // Actual temperature must be close to target for this long before M109 returns success
@@ -245,4 +246,4 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 #endif
 
 
-#endif
+#endif

commit 0b82465168e53a16d573610bb30495d70bd050b8
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Nov 6 12:39:00 2011 +0100

    First arcs version. (Arcs not working ok)

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index e2d5cb0778..65c4f32a3c 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,245 +1,248 @@
-#ifndef CONFIGURATION_H
-#define CONFIGURATION_H
-
-//#define DEBUG_STEPS
-
-// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
-
-//// The following define selects which electronics board you have. Please choose the one that matches your setup
-// MEGA/RAMPS up to 1.2 = 3,
-// RAMPS 1.3 = 33
-// Gen6 = 5,
-// Sanguinololu 1.2 and above = 62
-// Ultimaker = 7,
-#define MOTHERBOARD 7
-//#define MOTHERBOARD 5
-
-
-//// Thermistor settings:
-// 1 is 100k thermistor
-// 2 is 200k thermistor
-// 3 is mendel-parts thermistor
-// 4 is 10k thermistor
-// 5 is ParCan supplied 104GT-2 100K
-// 6 is EPCOS 100k
-// 7 is 100k Honeywell thermistor 135-104LAG-J01
-#define THERMISTORHEATER_1 3
-#define THERMISTORHEATER_2 3
-#define THERMISTORBED 3
-
-//#define HEATER_0_USES_THERMISTOR
-//#define HEATER_1_USES_THERMISTOR
-#define HEATER_0_USES_AD595
-//#define HEATER_1_USES_AD595
-
-// Select one of these only to define how the bed temp is read.
-//#define BED_USES_THERMISTOR
-//#define BED_USES_AD595
-
-#define HEATER_CHECK_INTERVAL 50
-#define BED_CHECK_INTERVAL 5000
-
-
-//// Endstop Settings
-#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
-// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
-
-// This determines the communication speed of the printer
-#define BAUDRATE 250000
-//#define BAUDRATE 115200
-//#define BAUDRATE 230400
-
-// Comment out (using // at the start of the line) to disable SD support:
-
-// #define ULTRA_LCD  //any lcd 
-
-#define ULTIPANEL
-#define ULTIPANEL
-#ifdef ULTIPANEL
- //#define NEWPANEL  //enable this if you have a click-encoder panel
- #define SDSUPPORT
- #define ULTRA_LCD
- #define LCD_WIDTH 20
-#define LCD_HEIGHT 4
-#else //no panel but just lcd 
-  #ifdef ULTRA_LCD
-    #define LCD_WIDTH 16
-    #define LCD_HEIGHT 2
-  #endif
-#endif
-
-
-//#define SDSUPPORT // Enable SD Card Support in Hardware Console
-
-
-
-const int dropsegments=5; //everything with this number of steps  will be ignored as move
-
-//// ADVANCED SETTINGS - to tweak parameters
-
-#include "thermistortables.h"
-
-// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
-#define X_ENABLE_ON 0
-#define Y_ENABLE_ON 0
-#define Z_ENABLE_ON 0
-#define E_ENABLE_ON 0
-
-// Disables axis when it's not being used.
-#define DISABLE_X false
-#define DISABLE_Y false
-#define DISABLE_Z false
-#define DISABLE_E false
-
-// Inverting axis direction
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-
-//// ENDSTOP SETTINGS:
-// Sets direction of endstops when homing; 1=MAX, -1=MIN
-#define X_HOME_DIR -1
-#define Y_HOME_DIR -1
-#define Z_HOME_DIR -1
-
-#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
-#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
-#define X_MAX_LENGTH 210
-#define Y_MAX_LENGTH 210
-#define Z_MAX_LENGTH 210
-
-//// MOVEMENT SETTINGS
-#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-//note: on bernhards ultimaker 200 200 12 are working well.
-#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
-//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
-//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
-// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
-#define TRAVELING_AT_MAXSPEED  
-#define AXIS_RELATIVE_MODES {false, false, false, false}
-
-#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
-
-// default settings 
-
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
-#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
-#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
-
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
-#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
-
-#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
-#define DEFAULT_MINTRAVELFEEDRATE     10
-
-// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
-#define DEFAULT_MINSEGMENTTIME        20000
-#define DEFAULT_XYJERK                30.0*60    
-#define DEFAULT_ZJERK                 10.0*60
-
-
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-//this enables the watchdog interrupt.
-#define USE_WATCHDOG
-//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
-#define RESET_MANUAL
-
-#define WATCHDOG_TIMEOUT 4
-
-
-
-//// Experimental watchdog and minimal temp
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
-//#define WATCHPERIOD 5000 //5 seconds
-
-// Actual temperature must be close to target for this long before M109 returns success
-//#define TEMP_RESIDENCY_TIME 20  // (seconds)
-//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
-
-//// The minimal temperature defines the temperature below which the heater will not be enabled
-#define HEATER_0_MINTEMP 5
-//#define HEATER_1_MINTEMP 5
-//#define BED_MINTEMP 5
-
-
-// When temperature exceeds max temp, your heater will be switched off.
-// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
-// You should use MINTEMP for thermistor short/failure protection.
-#define HEATER_0_MAXTEMP 275
-//#define_HEATER_1_MAXTEMP 275
-//#define BED_MAXTEMP 150
-
-
-
-
-
-
-
-#define PIDTEMP
-#ifdef PIDTEMP
-  /// PID settings:
-  // Uncomment the following line to enable PID support.
-  //#define SMOOTHING
-  //#define SMOOTHFACTOR 5.0
-  //float current_raw_average=0;
-    #define K1 0.95 //smoothing of the PID
-  //#define PID_DEBUG // Sends debug data to the serial port. 
-  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-  #define PID_MAX 255 // limits current to nozzle
-  #define PID_INTEGRAL_DRIVE_MAX 255
-  #define PID_dT 0.1
- //machine with red silicon: 1950:45 second ; with fan fully blowin 3000:47
-
-  #define PID_CRITIAL_GAIN 3000
-  #define PID_SWING_AT_CRITIAL 45 //seconds
-  #define PIDIADD 5
-  /*
-  //PID according to Ziegler-Nichols method
-  float Kp = 0.6*PID_CRITIAL_GAIN; 
-  float Ki =PIDIADD+2*Kp/PID_SWING_AT_CRITIAL*PID_dT;  
-  float Kd = Kp*PID_SWING_AT_CRITIAL/8./PID_dT;  
-  */
-  //PI according to Ziegler-Nichols method
-  #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
-  #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
-  #define  DEFAULT_Kd (0)
-  
-  #define PID_ADD_EXTRUSION_RATE  
-  #ifdef PID_ADD_EXTRUSION_RATE
-    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
-  #endif
-#endif // PIDTEMP
-
-// extruder advance constant (s2/mm3)
-//
-// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
-//
-// hooke's law says:		force = k * distance
-// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
-// so: v ^ 2 is proportional to number of steps we advance the extruder
-//#define ADVANCE
-
-#ifdef ADVANCE
-#define EXTRUDER_ADVANCE_K .3
-
-#define D_FILAMENT 1.7
-#define STEPS_MM_E 65
-#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
-#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
-
-#endif // ADVANCE
-
-// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, e.g. 8,16,32 
-#if defined SDSUPPORT
-// The number of linear motions that can be in the plan at any give time.  
-  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
-#else
-  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
-#endif
-
-
-#endif
+#ifndef CONFIGURATION_H
+#define CONFIGURATION_H
+
+//#define DEBUG_STEPS
+
+#define MM_PER_ARC_SEGMENT 1
+#define N_ARC_CORRECTION 25
+
+// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
+
+//// The following define selects which electronics board you have. Please choose the one that matches your setup
+// MEGA/RAMPS up to 1.2 = 3,
+// RAMPS 1.3 = 33
+// Gen6 = 5,
+// Sanguinololu 1.2 and above = 62
+// Ultimaker = 7,
+#define MOTHERBOARD 7
+//#define MOTHERBOARD 5
+
+
+//// Thermistor settings:
+// 1 is 100k thermistor
+// 2 is 200k thermistor
+// 3 is mendel-parts thermistor
+// 4 is 10k thermistor
+// 5 is ParCan supplied 104GT-2 100K
+// 6 is EPCOS 100k
+// 7 is 100k Honeywell thermistor 135-104LAG-J01
+#define THERMISTORHEATER_1 3
+#define THERMISTORHEATER_2 3
+#define THERMISTORBED 3
+
+//#define HEATER_0_USES_THERMISTOR
+//#define HEATER_1_USES_THERMISTOR
+#define HEATER_0_USES_AD595
+//#define HEATER_1_USES_AD595
+
+// Select one of these only to define how the bed temp is read.
+//#define BED_USES_THERMISTOR
+//#define BED_USES_AD595
+
+#define HEATER_CHECK_INTERVAL 50
+#define BED_CHECK_INTERVAL 5000
+
+
+//// Endstop Settings
+#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
+const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
+
+// This determines the communication speed of the printer
+#define BAUDRATE 250000
+//#define BAUDRATE 115200
+//#define BAUDRATE 230400
+
+// Comment out (using // at the start of the line) to disable SD support:
+
+// #define ULTRA_LCD  //any lcd 
+
+#define ULTIPANEL
+#define ULTIPANEL
+#ifdef ULTIPANEL
+ //#define NEWPANEL  //enable this if you have a click-encoder panel
+ #define SDSUPPORT
+ #define ULTRA_LCD
+ #define LCD_WIDTH 20
+#define LCD_HEIGHT 4
+#else //no panel but just lcd 
+  #ifdef ULTRA_LCD
+    #define LCD_WIDTH 16
+    #define LCD_HEIGHT 2
+  #endif
+#endif
+
+
+//#define SDSUPPORT // Enable SD Card Support in Hardware Console
+
+
+
+const int dropsegments=5; //everything with this number of steps  will be ignored as move
+
+//// ADVANCED SETTINGS - to tweak parameters
+
+#include "thermistortables.h"
+
+// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
+#define X_ENABLE_ON 0
+#define Y_ENABLE_ON 0
+#define Z_ENABLE_ON 0
+#define E_ENABLE_ON 0
+
+// Disables axis when it's not being used.
+#define DISABLE_X false
+#define DISABLE_Y false
+#define DISABLE_Z false
+#define DISABLE_E false
+
+// Inverting axis direction
+#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
+#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+
+//// ENDSTOP SETTINGS:
+// Sets direction of endstops when homing; 1=MAX, -1=MIN
+#define X_HOME_DIR -1
+#define Y_HOME_DIR -1
+#define Z_HOME_DIR -1
+
+#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
+#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define X_MAX_LENGTH 210
+#define Y_MAX_LENGTH 210
+#define Z_MAX_LENGTH 210
+
+//// MOVEMENT SETTINGS
+#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
+//note: on bernhards ultimaker 200 200 12 are working well.
+#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
+//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
+//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
+// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
+#define TRAVELING_AT_MAXSPEED  
+#define AXIS_RELATIVE_MODES {false, false, false, false}
+
+#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
+
+// default settings 
+
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
+#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
+#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+
+#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
+#define DEFAULT_MINTRAVELFEEDRATE     10
+
+// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
+#define DEFAULT_MINSEGMENTTIME        20000
+#define DEFAULT_XYJERK                30.0*60    
+#define DEFAULT_ZJERK                 10.0*60
+
+
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+//this enables the watchdog interrupt.
+#define USE_WATCHDOG
+//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+#define RESET_MANUAL
+
+#define WATCHDOG_TIMEOUT 4
+
+
+
+//// Experimental watchdog and minimal temp
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
+//#define WATCHPERIOD 5000 //5 seconds
+
+// Actual temperature must be close to target for this long before M109 returns success
+//#define TEMP_RESIDENCY_TIME 20  // (seconds)
+//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
+
+//// The minimal temperature defines the temperature below which the heater will not be enabled
+#define HEATER_0_MINTEMP 5
+//#define HEATER_1_MINTEMP 5
+//#define BED_MINTEMP 5
+
+
+// When temperature exceeds max temp, your heater will be switched off.
+// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
+// You should use MINTEMP for thermistor short/failure protection.
+#define HEATER_0_MAXTEMP 275
+//#define_HEATER_1_MAXTEMP 275
+//#define BED_MAXTEMP 150
+
+
+
+
+
+
+
+#define PIDTEMP
+#ifdef PIDTEMP
+  /// PID settings:
+  // Uncomment the following line to enable PID support.
+  //#define SMOOTHING
+  //#define SMOOTHFACTOR 5.0
+  //float current_raw_average=0;
+    #define K1 0.95 //smoothing of the PID
+  //#define PID_DEBUG // Sends debug data to the serial port. 
+  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+  #define PID_MAX 255 // limits current to nozzle
+  #define PID_INTEGRAL_DRIVE_MAX 255
+  #define PID_dT 0.1
+ //machine with red silicon: 1950:45 second ; with fan fully blowin 3000:47
+
+  #define PID_CRITIAL_GAIN 3000
+  #define PID_SWING_AT_CRITIAL 45 //seconds
+  #define PIDIADD 5
+  /*
+  //PID according to Ziegler-Nichols method
+  float Kp = 0.6*PID_CRITIAL_GAIN; 
+  float Ki =PIDIADD+2*Kp/PID_SWING_AT_CRITIAL*PID_dT;  
+  float Kd = Kp*PID_SWING_AT_CRITIAL/8./PID_dT;  
+  */
+  //PI according to Ziegler-Nichols method
+  #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
+  #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
+  #define  DEFAULT_Kd (0)
+  
+  #define PID_ADD_EXTRUSION_RATE  
+  #ifdef PID_ADD_EXTRUSION_RATE
+    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
+  #endif
+#endif // PIDTEMP
+
+// extruder advance constant (s2/mm3)
+//
+// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
+//
+// hooke's law says:		force = k * distance
+// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
+// so: v ^ 2 is proportional to number of steps we advance the extruder
+//#define ADVANCE
+
+#ifdef ADVANCE
+#define EXTRUDER_ADVANCE_K .3
+
+#define D_FILAMENT 1.7
+#define STEPS_MM_E 65
+#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
+#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
+
+#endif // ADVANCE
+
+// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, e.g. 8,16,32 
+#if defined SDSUPPORT
+// The number of linear motions that can be in the plan at any give time.  
+  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
+#else
+  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
+#endif
+
+
+#endif

commit 2e8e8878e55f1455155e43590afbaa1ed21e8e3f
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Nov 5 20:21:09 2011 +0100

    Corrected temp variables.

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index ed258c71ad..e2d5cb0778 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,245 +1,245 @@
-#ifndef CONFIGURATION_H
-#define CONFIGURATION_H
-
-//#define DEBUG_STEPS
-
-// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
-
-//// The following define selects which electronics board you have. Please choose the one that matches your setup
-// MEGA/RAMPS up to 1.2 = 3,
-// RAMPS 1.3 = 33
-// Gen6 = 5,
-// Sanguinololu 1.2 and above = 62
-// Ultimaker = 7,
-#define MOTHERBOARD 7
-//#define MOTHERBOARD 5
-
-
-//// Thermistor settings:
-// 1 is 100k thermistor
-// 2 is 200k thermistor
-// 3 is mendel-parts thermistor
-// 4 is 10k thermistor
-// 5 is ParCan supplied 104GT-2 100K
-// 6 is EPCOS 100k
-// 7 is 100k Honeywell thermistor 135-104LAG-J01
-#define THERMISTORHEATER_1 3
-#define THERMISTORHEATER_2 3
-#define THERMISTORBED 3
-
-//#define HEATER_0_USES_THERMISTOR
-//#define HEATER_1_USES_THERMISTOR
-#define HEATER_0_USES_AD595
-//#define HEATER_1_USES_AD595
-
-// Select one of these only to define how the bed temp is read.
-//#define BED_USES_THERMISTOR
-//#define BED_USES_AD595
-
-#define HEATER_CHECK_INTERVAL 50
-#define BED_CHECK_INTERVAL 5000
-
-
-//// Endstop Settings
-#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
-// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
-
-// This determines the communication speed of the printer
-#define BAUDRATE 250000
-//#define BAUDRATE 115200
-//#define BAUDRATE 230400
-
-// Comment out (using // at the start of the line) to disable SD support:
-
-// #define ULTRA_LCD  //any lcd 
-
-#define ULTIPANEL
-#define ULTIPANEL
-#ifdef ULTIPANEL
- //#define NEWPANEL  //enable this if you have a click-encoder panel
- #define SDSUPPORT
- #define ULTRA_LCD
- #define LCD_WIDTH 20
-#define LCD_HEIGHT 4
-#else //no panel but just lcd 
-  #ifdef ULTRA_LCD
-    #define LCD_WIDTH 16
-    #define LCD_HEIGHT 2
-  #endif
-#endif
-
-
-//#define SDSUPPORT // Enable SD Card Support in Hardware Console
-
-
-
-const int dropsegments=5; //everything with this number of steps  will be ignored as move
-
-//// ADVANCED SETTINGS - to tweak parameters
-
-#include "thermistortables.h"
-
-// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
-#define X_ENABLE_ON 0
-#define Y_ENABLE_ON 0
-#define Z_ENABLE_ON 0
-#define E_ENABLE_ON 0
-
-// Disables axis when it's not being used.
-#define DISABLE_X false
-#define DISABLE_Y false
-#define DISABLE_Z false
-#define DISABLE_E false
-
-// Inverting axis direction
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-
-//// ENDSTOP SETTINGS:
-// Sets direction of endstops when homing; 1=MAX, -1=MIN
-#define X_HOME_DIR -1
-#define Y_HOME_DIR -1
-#define Z_HOME_DIR -1
-
-#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
-#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
-#define X_MAX_LENGTH 210
-#define Y_MAX_LENGTH 210
-#define Z_MAX_LENGTH 210
-
-//// MOVEMENT SETTINGS
-#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-//note: on bernhards ultimaker 200 200 12 are working well.
-#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
-//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
-//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
-// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
-#define TRAVELING_AT_MAXSPEED  
-#define AXIS_RELATIVE_MODES {false, false, false, false}
-
-#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
-
-// default settings 
-
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
-#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
-#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
-
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
-#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
-
-#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
-#define DEFAULT_MINTRAVELFEEDRATE     10
-
-// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
-#define DEFAULT_MINSEGMENTTIME        20000
-#define DEFAULT_XYJERK                30.0*60    
-#define DEFAULT_ZJERK                 10.0*60
-
-
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-//this enables the watchdog interrupt.
-#define USE_WATCHDOG
-//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
-#define RESET_MANUAL
-
-#define WATCHDOG_TIMEOUT 4
-
-
-
-//// Experimental watchdog and minimal temp
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
-//#define WATCHPERIOD 5000 //5 seconds
-
-// Actual temperature must be close to target for this long before M109 returns success
-//#define TEMP_RESIDENCY_TIME 20  // (seconds)
-//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
-
-//// The minimal temperature defines the temperature below which the heater will not be enabled
-#define HEATER_0_MINTEMP 5
-//#define HEATER_1_MINTEMP 5
-//#define BED_MINTEMP 5
-
-
-// When temperature exceeds max temp, your heater will be switched off.
-// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
-// You should use MINTEMP for thermistor short/failure protection.
-#define HEATER_0_MAXTEMP 275
-//#define_HEATER_1_MAXTEMP 275
-//#define BED_MAXTEMP 150
-
-
-
-
-
-
-
-#define PIDTEMP
-#ifdef PIDTEMP
-  /// PID settings:
-  // Uncomment the following line to enable PID support.
-  //#define SMOOTHING
-  //#define SMOOTHFACTOR 5.0
-  //float current_raw_average=0;
-    #define K1 0.95 //smoothing of the PID
-  //#define PID_DEBUG // Sends debug data to the serial port. 
-  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-  #define PID_MAX 255 // limits current to nozzle
-  #define PID_INTEGRAL_DRIVE_MAX 255
-  #define PID_dT 0.1
- //machine with red silicon: 1950:45 second ; with fan fully blowin 3000:47
-
-  #define PID_CRITIAL_GAIN 3000
-  #define PID_SWING_AT_CRITIAL 45 //seconds
-  #define PIDIADD 5
-  /*
-  //PID according to Ziegler-Nichols method
-  float Kp = 0.6*PID_CRITIAL_GAIN; 
-  float Ki =PIDIADD+2*Kp/PID_SWING_AT_CRITIAL*PID_dT;  
-  float Kd = Kp*PID_SWING_AT_CRITIAL/8./PID_dT;  
-  */
-  //PI according to Ziegler-Nichols method
-  #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
-  #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
-  #define  DEFAULT_Kd (0)
-  
-  #define PID_ADD_EXTRUSION_RATE  
-  #ifdef PID_ADD_EXTRUSION_RATE
-    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
-  #endif
-#endif // PIDTEMP
-
-// extruder advance constant (s2/mm3)
-//
-// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
-//
-// hooke's law says:		force = k * distance
-// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
-// so: v ^ 2 is proportional to number of steps we advance the extruder
-//#define ADVANCE
-
-#ifdef ADVANCE
-#define EXTRUDER_ADVANCE_K .3
-
-#define D_FILAMENT 1.7
-#define STEPS_MM_E 65
-#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
-#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
-
-#endif // ADVANCE
-
-// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, e.g. 8,16,32 
-#if defined SDSUPPORT
-// The number of linear motions that can be in the plan at any give time.  
-  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
-#else
-  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
-#endif
-
-
-#endif
+#ifndef CONFIGURATION_H
+#define CONFIGURATION_H
+
+//#define DEBUG_STEPS
+
+// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
+
+//// The following define selects which electronics board you have. Please choose the one that matches your setup
+// MEGA/RAMPS up to 1.2 = 3,
+// RAMPS 1.3 = 33
+// Gen6 = 5,
+// Sanguinololu 1.2 and above = 62
+// Ultimaker = 7,
+#define MOTHERBOARD 7
+//#define MOTHERBOARD 5
+
+
+//// Thermistor settings:
+// 1 is 100k thermistor
+// 2 is 200k thermistor
+// 3 is mendel-parts thermistor
+// 4 is 10k thermistor
+// 5 is ParCan supplied 104GT-2 100K
+// 6 is EPCOS 100k
+// 7 is 100k Honeywell thermistor 135-104LAG-J01
+#define THERMISTORHEATER_1 3
+#define THERMISTORHEATER_2 3
+#define THERMISTORBED 3
+
+//#define HEATER_0_USES_THERMISTOR
+//#define HEATER_1_USES_THERMISTOR
+#define HEATER_0_USES_AD595
+//#define HEATER_1_USES_AD595
+
+// Select one of these only to define how the bed temp is read.
+//#define BED_USES_THERMISTOR
+//#define BED_USES_AD595
+
+#define HEATER_CHECK_INTERVAL 50
+#define BED_CHECK_INTERVAL 5000
+
+
+//// Endstop Settings
+#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
+const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
+
+// This determines the communication speed of the printer
+#define BAUDRATE 250000
+//#define BAUDRATE 115200
+//#define BAUDRATE 230400
+
+// Comment out (using // at the start of the line) to disable SD support:
+
+// #define ULTRA_LCD  //any lcd 
+
+#define ULTIPANEL
+#define ULTIPANEL
+#ifdef ULTIPANEL
+ //#define NEWPANEL  //enable this if you have a click-encoder panel
+ #define SDSUPPORT
+ #define ULTRA_LCD
+ #define LCD_WIDTH 20
+#define LCD_HEIGHT 4
+#else //no panel but just lcd 
+  #ifdef ULTRA_LCD
+    #define LCD_WIDTH 16
+    #define LCD_HEIGHT 2
+  #endif
+#endif
+
+
+//#define SDSUPPORT // Enable SD Card Support in Hardware Console
+
+
+
+const int dropsegments=5; //everything with this number of steps  will be ignored as move
+
+//// ADVANCED SETTINGS - to tweak parameters
+
+#include "thermistortables.h"
+
+// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
+#define X_ENABLE_ON 0
+#define Y_ENABLE_ON 0
+#define Z_ENABLE_ON 0
+#define E_ENABLE_ON 0
+
+// Disables axis when it's not being used.
+#define DISABLE_X false
+#define DISABLE_Y false
+#define DISABLE_Z false
+#define DISABLE_E false
+
+// Inverting axis direction
+#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
+#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+
+//// ENDSTOP SETTINGS:
+// Sets direction of endstops when homing; 1=MAX, -1=MIN
+#define X_HOME_DIR -1
+#define Y_HOME_DIR -1
+#define Z_HOME_DIR -1
+
+#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
+#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define X_MAX_LENGTH 210
+#define Y_MAX_LENGTH 210
+#define Z_MAX_LENGTH 210
+
+//// MOVEMENT SETTINGS
+#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
+//note: on bernhards ultimaker 200 200 12 are working well.
+#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
+//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
+//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
+// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
+#define TRAVELING_AT_MAXSPEED  
+#define AXIS_RELATIVE_MODES {false, false, false, false}
+
+#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
+
+// default settings 
+
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
+#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
+#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+
+#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
+#define DEFAULT_MINTRAVELFEEDRATE     10
+
+// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
+#define DEFAULT_MINSEGMENTTIME        20000
+#define DEFAULT_XYJERK                30.0*60    
+#define DEFAULT_ZJERK                 10.0*60
+
+
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+//this enables the watchdog interrupt.
+#define USE_WATCHDOG
+//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+#define RESET_MANUAL
+
+#define WATCHDOG_TIMEOUT 4
+
+
+
+//// Experimental watchdog and minimal temp
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
+//#define WATCHPERIOD 5000 //5 seconds
+
+// Actual temperature must be close to target for this long before M109 returns success
+//#define TEMP_RESIDENCY_TIME 20  // (seconds)
+//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
+
+//// The minimal temperature defines the temperature below which the heater will not be enabled
+#define HEATER_0_MINTEMP 5
+//#define HEATER_1_MINTEMP 5
+//#define BED_MINTEMP 5
+
+
+// When temperature exceeds max temp, your heater will be switched off.
+// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
+// You should use MINTEMP for thermistor short/failure protection.
+#define HEATER_0_MAXTEMP 275
+//#define_HEATER_1_MAXTEMP 275
+//#define BED_MAXTEMP 150
+
+
+
+
+
+
+
+#define PIDTEMP
+#ifdef PIDTEMP
+  /// PID settings:
+  // Uncomment the following line to enable PID support.
+  //#define SMOOTHING
+  //#define SMOOTHFACTOR 5.0
+  //float current_raw_average=0;
+    #define K1 0.95 //smoothing of the PID
+  //#define PID_DEBUG // Sends debug data to the serial port. 
+  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+  #define PID_MAX 255 // limits current to nozzle
+  #define PID_INTEGRAL_DRIVE_MAX 255
+  #define PID_dT 0.1
+ //machine with red silicon: 1950:45 second ; with fan fully blowin 3000:47
+
+  #define PID_CRITIAL_GAIN 3000
+  #define PID_SWING_AT_CRITIAL 45 //seconds
+  #define PIDIADD 5
+  /*
+  //PID according to Ziegler-Nichols method
+  float Kp = 0.6*PID_CRITIAL_GAIN; 
+  float Ki =PIDIADD+2*Kp/PID_SWING_AT_CRITIAL*PID_dT;  
+  float Kd = Kp*PID_SWING_AT_CRITIAL/8./PID_dT;  
+  */
+  //PI according to Ziegler-Nichols method
+  #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
+  #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
+  #define  DEFAULT_Kd (0)
+  
+  #define PID_ADD_EXTRUSION_RATE  
+  #ifdef PID_ADD_EXTRUSION_RATE
+    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
+  #endif
+#endif // PIDTEMP
+
+// extruder advance constant (s2/mm3)
+//
+// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
+//
+// hooke's law says:		force = k * distance
+// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
+// so: v ^ 2 is proportional to number of steps we advance the extruder
+//#define ADVANCE
+
+#ifdef ADVANCE
+#define EXTRUDER_ADVANCE_K .3
+
+#define D_FILAMENT 1.7
+#define STEPS_MM_E 65
+#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
+#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
+
+#endif // ADVANCE
+
+// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, e.g. 8,16,32 
+#if defined SDSUPPORT
+// The number of linear motions that can be in the plan at any give time.  
+  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
+#else
+  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
+#endif
+
+
+#endif

commit 04d3b5537f7c23adf7ea362a8492d21114aa6a2e
Merge: d15f01e1b4 ea86a5e10f
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Nov 5 20:03:38 2011 +0100

    Merge remote-tracking branch 'origin/Marlin_v1' into Marlin_v1
    
    Conflicts:
            Marlin/Configuration.h
            Marlin/EEPROMwrite.h
            Marlin/Marlin.h
            Marlin/Marlin.pde
            Marlin/temperature.cpp
            Marlin/temperature.h
            Marlin/thermistortables.h

diff --combined Marlin/Configuration.h
index dd5fe41525,0df1ba6fe1..ed258c71ad
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@@ -1,222 -1,243 +1,245 @@@
 -#ifndef CONFIGURATION_H
 -#define CONFIGURATION_H
 -
 -//#define DEBUG_STEPS
 -
 -// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 -
 -//// The following define selects which electronics board you have. Please choose the one that matches your setup
 -// MEGA/RAMPS up to 1.2 = 3,
 -// RAMPS 1.3 = 33
 -// Gen6 = 5,
 -// Sanguinololu 1.2 and above = 62
 -// Ultimaker = 7,
 -#define MOTHERBOARD 7
 -//#define MOTHERBOARD 5
 -
 -
 -//// Thermistor settings:
 -// 1 is 100k thermistor
 -// 2 is 200k thermistor
 -// 3 is mendel-parts thermistor
 -// 4 is 10k thermistor
 -// 5 is ParCan supplied 104GT-2 100K
 -// 6 is EPCOS 100k
 -// 7 is 100k Honeywell thermistor 135-104LAG-J01
 -#define THERMISTORHEATER_1 3
 -#define THERMISTORHEATER_2 3
 -#define THERMISTORBED 3
 -
 -//#define HEATER_1_USES_THERMISTOR
 -//#define HEATER_2_USES_THERMISTOR
 -#define HEATER_1_USES_AD595
 -//#define HEATER_2_USES_AD595
 -
 -// Select one of these only to define how the bed temp is read.
 -//#define BED_USES_THERMISTOR
 -//#define BED_USES_AD595
 -
 -#define HEATER_CHECK_INTERVAL 50
 -#define BED_CHECK_INTERVAL 5000
 -
 -
 -//// Endstop Settings
 -#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 -// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 -const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 -// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 -
 -// This determines the communication speed of the printer
 -//#define BAUDRATE 250000
 -#define BAUDRATE 115200
 -//#define BAUDRATE 230400
 -
 -// Comment out (using // at the start of the line) to disable SD support:
 -
 -// #define ULTRA_LCD  //any lcd 
 -
 -
 -#define ULTIPANEL
 -#ifdef ULTIPANEL
 - //#define NEWPANEL  //enable this if you have a click-encoder panel
 - #define SDSUPPORT
 - #define ULTRA_LCD
 - #define LCD_WIDTH 20
 -#define LCD_HEIGHT 4
 -#else //no panel but just lcd 
 -  #ifdef ULTRA_LCD
 -    #define LCD_WIDTH 16
 -    #define LCD_HEIGHT 2
 -  #endif
 -#endif
 -
 -
 -//#define SDSUPPORT // Enable SD Card Support in Hardware Console
 -
 -
 -
 -const int dropsegments=5; //everything with this number of steps  will be ignored as move
 -
 -//// ADVANCED SETTINGS - to tweak parameters
 -
 -#include "thermistortables.h"
 -
 -// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 -#define X_ENABLE_ON 0
 -#define Y_ENABLE_ON 0
 -#define Z_ENABLE_ON 0
 -#define E_ENABLE_ON 0
 -
 -// Disables axis when it's not being used.
 -#define DISABLE_X false
 -#define DISABLE_Y false
 -#define DISABLE_Z false
 -#define DISABLE_E false
 -
 -// Inverting axis direction
 -#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 -#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
 -#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
 -#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 -
 -//// ENDSTOP SETTINGS:
 -// Sets direction of endstops when homing; 1=MAX, -1=MIN
 -#define X_HOME_DIR -1
 -#define Y_HOME_DIR -1
 -#define Z_HOME_DIR -1
 -
 -#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
 -#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
 -#define X_MAX_LENGTH 210
 -#define Y_MAX_LENGTH 210
 -#define Z_MAX_LENGTH 210
 -
 -//// MOVEMENT SETTINGS
 -#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 -//note: on bernhards ultimaker 200 200 12 are working well.
 -#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
 -//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
 -//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
 -// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
 -#define TRAVELING_AT_MAXSPEED  
 -#define AXIS_RELATIVE_MODES {false, false, false, false}
 -
 -#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
 -
 -// default settings 
 -
 -#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
 -#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
 -#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 -
 -#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 -#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 -
 -#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
 -#define DEFAULT_MINTRAVELFEEDRATE     10
 -
 -// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
 -#define DEFAULT_MINSEGMENTTIME        20000
 -#define DEFAULT_XYJERK                30.0*60    
 -#define DEFAULT_ZJERK                 10.0*60
 -
 -
 -// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 -//this enables the watchdog interrupt.
 -#define USE_WATCHDOG
 -//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
 -#define RESET_MANUAL
 -
 -#define WATCHDOG_TIMEOUT 4
 -
 -
 -
 -//// Experimental watchdog and minimal temp
 -// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 -// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
 -//#define WATCHPERIOD 5000 //5 seconds
 -
 -// Actual temperature must be close to target for this long before M109 returns success
 -//#define TEMP_RESIDENCY_TIME 20  // (seconds)
 -//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
 -
 -//// The minimal temperature defines the temperature below which the heater will not be enabled
 -#define MINTEMP 5
 -#define BED_MINTEMP 5
 -
 -
 -// When temperature exceeds max temp, your heater will be switched off.
 -// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
 -// You should use MINTEMP for thermistor short/failure protection.
 -#define MAXTEMP 275
 -#define BED_MAXTEMP 150
 -
 -
 -
 -
 -
 -
 -
 -#define PIDTEMP
 -#ifdef PIDTEMP
 -  /// PID settings:
 -  // Uncomment the following line to enable PID support.
 -  //#define SMOOTHING
 -  //#define SMOOTHFACTOR 5.0
 -  //float current_raw_average=0;
 -    #define K1 0.95 //smoothing of the PID
 -  //#define PID_DEBUG // Sends debug data to the serial port. 
 -  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
 -  #define PID_MAX 255 // limits current to nozzle
 -  #define PID_INTEGRAL_DRIVE_MAX 255
 -  #define PID_dT 0.1
 - //machine with red silicon: 1950:45 second ; with fan fully blowin 3000:47
 -
 -  #define PID_CRITIAL_GAIN 3000
 -  #define PID_SWING_AT_CRITIAL 45 //seconds
 -  #define PIDIADD 5
 -  /*
 -  //PID according to Ziegler-Nichols method
 -  float Kp = 0.6*PID_CRITIAL_GAIN; 
 -  float Ki =PIDIADD+2*Kp/PID_SWING_AT_CRITIAL*PID_dT;  
 -  float Kd = Kp*PID_SWING_AT_CRITIAL/8./PID_dT;  
 -  */
 -  //PI according to Ziegler-Nichols method
 -  #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
 -  #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
 -  #define  DEFAULT_Kd (0)
 -  
 -  #define PID_ADD_EXTRUSION_RATE  
 -  #ifdef PID_ADD_EXTRUSION_RATE
 -    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
 -  #endif
 -#endif // PIDTEMP
 -
 -// extruder advance constant (s2/mm3)
 -//
 -// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
 -//
 -// hooke's law says:		force = k * distance
 -// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
 -// so: v ^ 2 is proportional to number of steps we advance the extruder
 -//#define ADVANCE
 -
 -#ifdef ADVANCE
 -#define EXTRUDER_ADVANCE_K .3
 -
 -#define D_FILAMENT 1.7
 -#define STEPS_MM_E 65
 -#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
 -#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
 -
 -#endif // ADVANCE
 -
 -// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, e.g. 8,16,32 
 -#if defined SDSUPPORT
 -// The number of linear motions that can be in the plan at any give time.  
 -  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
 -#else
 -  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 -#endif
 -
 -
 -#endif
 +#ifndef CONFIGURATION_H
 +#define CONFIGURATION_H
 +
 +//#define DEBUG_STEPS
 +
 +// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 +
 +//// The following define selects which electronics board you have. Please choose the one that matches your setup
 +// MEGA/RAMPS up to 1.2 = 3,
 +// RAMPS 1.3 = 33
 +// Gen6 = 5,
 +// Sanguinololu 1.2 and above = 62
 +// Ultimaker = 7,
 +#define MOTHERBOARD 7
 +//#define MOTHERBOARD 5
 +
 +
 +//// Thermistor settings:
 +// 1 is 100k thermistor
 +// 2 is 200k thermistor
 +// 3 is mendel-parts thermistor
 +// 4 is 10k thermistor
 +// 5 is ParCan supplied 104GT-2 100K
 +// 6 is EPCOS 100k
 +// 7 is 100k Honeywell thermistor 135-104LAG-J01
 +#define THERMISTORHEATER_1 3
 +#define THERMISTORHEATER_2 3
 +#define THERMISTORBED 3
 +
 +//#define HEATER_0_USES_THERMISTOR
 +//#define HEATER_1_USES_THERMISTOR
 +#define HEATER_0_USES_AD595
 +//#define HEATER_1_USES_AD595
 +
 +// Select one of these only to define how the bed temp is read.
 +//#define BED_USES_THERMISTOR
 +//#define BED_USES_AD595
 +
 +#define HEATER_CHECK_INTERVAL 50
 +#define BED_CHECK_INTERVAL 5000
 +
 +
 +//// Endstop Settings
 +#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 +// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
 +const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 +// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 +
 +// This determines the communication speed of the printer
 +#define BAUDRATE 250000
 +//#define BAUDRATE 115200
 +//#define BAUDRATE 230400
 +
 +// Comment out (using // at the start of the line) to disable SD support:
 +
 +// #define ULTRA_LCD  //any lcd 
- #define LCD_WIDTH 16
- #define LCD_HEIGHT 2
 +
++#define ULTIPANEL
 +#define ULTIPANEL
 +#ifdef ULTIPANEL
 + //#define NEWPANEL  //enable this if you have a click-encoder panel
 + #define SDSUPPORT
 + #define ULTRA_LCD
 + #define LCD_WIDTH 20
 +#define LCD_HEIGHT 4
++#else //no panel but just lcd 
++  #ifdef ULTRA_LCD
++    #define LCD_WIDTH 16
++    #define LCD_HEIGHT 2
++  #endif
 +#endif
 +
 +
 +//#define SDSUPPORT // Enable SD Card Support in Hardware Console
 +
 +
 +
 +const int dropsegments=5; //everything with this number of steps  will be ignored as move
 +
 +//// ADVANCED SETTINGS - to tweak parameters
 +
 +#include "thermistortables.h"
 +
 +// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
 +#define X_ENABLE_ON 0
 +#define Y_ENABLE_ON 0
 +#define Z_ENABLE_ON 0
 +#define E_ENABLE_ON 0
 +
 +// Disables axis when it's not being used.
 +#define DISABLE_X false
 +#define DISABLE_Y false
 +#define DISABLE_Z false
 +#define DISABLE_E false
 +
 +// Inverting axis direction
 +#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 +#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
 +#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
 +#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 +
 +//// ENDSTOP SETTINGS:
 +// Sets direction of endstops when homing; 1=MAX, -1=MIN
 +#define X_HOME_DIR -1
 +#define Y_HOME_DIR -1
 +#define Z_HOME_DIR -1
 +
 +#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
 +#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
 +#define X_MAX_LENGTH 210
 +#define Y_MAX_LENGTH 210
 +#define Z_MAX_LENGTH 210
 +
 +//// MOVEMENT SETTINGS
 +#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
 +//note: on bernhards ultimaker 200 200 12 are working well.
 +#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
 +//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
 +//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
 +// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
 +#define TRAVELING_AT_MAXSPEED  
 +#define AXIS_RELATIVE_MODES {false, false, false, false}
 +
 +#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
 +
 +// default settings 
 +
 +#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
 +#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
 +#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 +
 +#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
 +#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
 +
 +#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
 +#define DEFAULT_MINTRAVELFEEDRATE     10
 +
 +// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
 +#define DEFAULT_MINSEGMENTTIME        20000
 +#define DEFAULT_XYJERK                30.0*60    
 +#define DEFAULT_ZJERK                 10.0*60
 +
 +
 +// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 +//this enables the watchdog interrupt.
 +#define USE_WATCHDOG
 +//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
 +#define RESET_MANUAL
 +
 +#define WATCHDOG_TIMEOUT 4
 +
 +
 +
 +//// Experimental watchdog and minimal temp
 +// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 +// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
 +//#define WATCHPERIOD 5000 //5 seconds
 +
 +// Actual temperature must be close to target for this long before M109 returns success
 +//#define TEMP_RESIDENCY_TIME 20  // (seconds)
 +//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
 +
 +//// The minimal temperature defines the temperature below which the heater will not be enabled
 +#define HEATER_0_MINTEMP 5
 +//#define HEATER_1_MINTEMP 5
 +//#define BED_MINTEMP 5
 +
 +
 +// When temperature exceeds max temp, your heater will be switched off.
 +// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
 +// You should use MINTEMP for thermistor short/failure protection.
 +#define HEATER_0_MAXTEMP 275
 +//#define_HEATER_1_MAXTEMP 275
 +//#define BED_MAXTEMP 150
 +
- /// PID settings:
- // Uncomment the following line to enable PID support.
- //#define SMOOTHING
- //#define SMOOTHFACTOR 5.0
- //float current_raw_average=0;
++
++
++
++
++
 +
 +#define PIDTEMP
 +#ifdef PIDTEMP
- //#define PID_DEBUG // Sends debug data to the serial port. 
- //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
- #define PID_MAX 255 // limits current to nozzle
- #define PID_INTEGRAL_DRIVE_MAX 255
- #define PID_dT 0.10 // 100ms sample time
- #define DEFAULT_Kp 20.0
- #define DEFAULT_Ki 1.5*PID_dT
- #define DEFAULT_Kd 80/PID_dT
- #define DEFAULT_Kc 0
++  /// PID settings:
++  // Uncomment the following line to enable PID support.
++  //#define SMOOTHING
++  //#define SMOOTHFACTOR 5.0
++  //float current_raw_average=0;
++    #define K1 0.95 //smoothing of the PID
++  //#define PID_DEBUG // Sends debug data to the serial port. 
++  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
++  #define PID_MAX 255 // limits current to nozzle
++  #define PID_INTEGRAL_DRIVE_MAX 255
++  #define PID_dT 0.1
++ //machine with red silicon: 1950:45 second ; with fan fully blowin 3000:47
++
++  #define PID_CRITIAL_GAIN 3000
++  #define PID_SWING_AT_CRITIAL 45 //seconds
++  #define PIDIADD 5
++  /*
++  //PID according to Ziegler-Nichols method
++  float Kp = 0.6*PID_CRITIAL_GAIN; 
++  float Ki =PIDIADD+2*Kp/PID_SWING_AT_CRITIAL*PID_dT;  
++  float Kd = Kp*PID_SWING_AT_CRITIAL/8./PID_dT;  
++  */
++  //PI according to Ziegler-Nichols method
++  #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
++  #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
++  #define  DEFAULT_Kd (0)
++  
++  #define PID_ADD_EXTRUSION_RATE  
++  #ifdef PID_ADD_EXTRUSION_RATE
++    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
++  #endif
 +#endif // PIDTEMP
 +
- 
 +// extruder advance constant (s2/mm3)
 +//
 +// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
 +//
 +// hooke's law says:		force = k * distance
 +// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
 +// so: v ^ 2 is proportional to number of steps we advance the extruder
 +//#define ADVANCE
 +
 +#ifdef ADVANCE
 +#define EXTRUDER_ADVANCE_K .3
 +
 +#define D_FILAMENT 1.7
 +#define STEPS_MM_E 65
 +#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
 +#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
 +
 +#endif // ADVANCE
 +
++// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, e.g. 8,16,32 
 +#if defined SDSUPPORT
 +// The number of linear motions that can be in the plan at any give time.  
 +  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
 +#else
 +  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
 +#endif
 +
- #ifdef SIMPLE_LCD
-   #define BLOCK_BUFFER_SIZE 16 // A little less buffer for just a simple LCD
- #endif
 +
 +#endif

commit d15f01e1b45119838900da53128c619ebe93895d
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Nov 5 19:21:36 2011 +0100

    Temperature changes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b8c41301c9..dd5fe41525 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -27,10 +27,10 @@
 #define THERMISTORHEATER_2 3
 #define THERMISTORBED 3
 
+//#define HEATER_0_USES_THERMISTOR
 //#define HEATER_1_USES_THERMISTOR
-//#define HEATER_2_USES_THERMISTOR
-#define HEATER_1_USES_AD595
-//#define HEATER_2_USES_AD595
+#define HEATER_0_USES_AD595
+//#define HEATER_1_USES_AD595
 
 // Select one of these only to define how the bed temp is read.
 //#define BED_USES_THERMISTOR
@@ -47,8 +47,8 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 
 // This determines the communication speed of the printer
-//#define BAUDRATE 250000
-#define BAUDRATE 115200
+#define BAUDRATE 250000
+//#define BAUDRATE 115200
 //#define BAUDRATE 230400
 
 // Comment out (using // at the start of the line) to disable SD support:
@@ -57,7 +57,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define LCD_WIDTH 16
 #define LCD_HEIGHT 2
 
-//#define ULTIPANEL
+#define ULTIPANEL
 #ifdef ULTIPANEL
  //#define NEWPANEL  //enable this if you have a click-encoder panel
  #define SDSUPPORT
@@ -157,15 +157,17 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 //#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
 
 //// The minimal temperature defines the temperature below which the heater will not be enabled
-#define MINTEMP 5
-#define BED_MINTEMP 5
+#define HEATER_0_MINTEMP 5
+//#define HEATER_1_MINTEMP 5
+//#define BED_MINTEMP 5
 
 
 // When temperature exceeds max temp, your heater will be switched off.
 // This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
 // You should use MINTEMP for thermistor short/failure protection.
-#define MAXTEMP 275
-#define BED_MAXTEMP 150
+#define HEATER_0_MAXTEMP 275
+//#define_HEATER_1_MAXTEMP 275
+//#define BED_MAXTEMP 150
 
 /// PID settings:
 // Uncomment the following line to enable PID support.

commit 00674af3a82e6b6b517a12ae3e77803df4f4892d
Author: Bernhard Kubicek <kubicek@gmx.at>
Date:   Sat Nov 5 14:13:20 2011 +0100

    merge from the branch bkubicek/Marlin/zalmmerge

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index b8c41301c9..0df1ba6fe1 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,220 +1,243 @@
-#ifndef CONFIGURATION_H
-#define CONFIGURATION_H
-
-//#define DEBUG_STEPS
-
-// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
-
-//// The following define selects which electronics board you have. Please choose the one that matches your setup
-// MEGA/RAMPS up to 1.2 = 3,
-// RAMPS 1.3 = 33
-// Gen6 = 5,
-// Sanguinololu 1.2 and above = 62
-// Ultimaker = 7,
-#define MOTHERBOARD 7
-//#define MOTHERBOARD 5
-
-
-//// Thermistor settings:
-// 1 is 100k thermistor
-// 2 is 200k thermistor
-// 3 is mendel-parts thermistor
-// 4 is 10k thermistor
-// 5 is ParCan supplied 104GT-2 100K
-// 6 is EPCOS 100k
-// 7 is 100k Honeywell thermistor 135-104LAG-J01
-#define THERMISTORHEATER_1 3
-#define THERMISTORHEATER_2 3
-#define THERMISTORBED 3
-
-//#define HEATER_1_USES_THERMISTOR
-//#define HEATER_2_USES_THERMISTOR
-#define HEATER_1_USES_AD595
-//#define HEATER_2_USES_AD595
-
-// Select one of these only to define how the bed temp is read.
-//#define BED_USES_THERMISTOR
-//#define BED_USES_AD595
-
-#define HEATER_CHECK_INTERVAL 50
-#define BED_CHECK_INTERVAL 5000
-
-
-//// Endstop Settings
-#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
-// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
-// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
-
-// This determines the communication speed of the printer
-//#define BAUDRATE 250000
-#define BAUDRATE 115200
-//#define BAUDRATE 230400
-
-// Comment out (using // at the start of the line) to disable SD support:
-
-// #define ULTRA_LCD  //any lcd 
-#define LCD_WIDTH 16
-#define LCD_HEIGHT 2
-
-//#define ULTIPANEL
-#ifdef ULTIPANEL
- //#define NEWPANEL  //enable this if you have a click-encoder panel
- #define SDSUPPORT
- #define ULTRA_LCD
- #define LCD_WIDTH 20
-#define LCD_HEIGHT 4
-#endif
-
-
-//#define SDSUPPORT // Enable SD Card Support in Hardware Console
-
-
-
-const int dropsegments=5; //everything with this number of steps  will be ignored as move
-
-//// ADVANCED SETTINGS - to tweak parameters
-
-#include "thermistortables.h"
-
-// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
-#define X_ENABLE_ON 0
-#define Y_ENABLE_ON 0
-#define Z_ENABLE_ON 0
-#define E_ENABLE_ON 0
-
-// Disables axis when it's not being used.
-#define DISABLE_X false
-#define DISABLE_Y false
-#define DISABLE_Z false
-#define DISABLE_E false
-
-// Inverting axis direction
-#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
-#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
-
-//// ENDSTOP SETTINGS:
-// Sets direction of endstops when homing; 1=MAX, -1=MIN
-#define X_HOME_DIR -1
-#define Y_HOME_DIR -1
-#define Z_HOME_DIR -1
-
-#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
-#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
-#define X_MAX_LENGTH 210
-#define Y_MAX_LENGTH 210
-#define Z_MAX_LENGTH 210
-
-//// MOVEMENT SETTINGS
-#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-//note: on bernhards ultimaker 200 200 12 are working well.
-#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
-//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
-//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
-// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
-#define TRAVELING_AT_MAXSPEED  
-#define AXIS_RELATIVE_MODES {false, false, false, false}
-
-#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
-
-// default settings 
-
-#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
-#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
-#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
-
-#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
-#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
-
-#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
-#define DEFAULT_MINTRAVELFEEDRATE     10
-
-// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
-#define DEFAULT_MINSEGMENTTIME        20000
-#define DEFAULT_XYJERK                30.0*60    
-#define DEFAULT_ZJERK                 10.0*60
-
-
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-//this enables the watchdog interrupt.
-#define USE_WATCHDOG
-//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
-#define RESET_MANUAL
-
-#define WATCHDOG_TIMEOUT 4
-
-
-
-//// Experimental watchdog and minimal temp
-// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
-// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
-//#define WATCHPERIOD 5000 //5 seconds
-
-// Actual temperature must be close to target for this long before M109 returns success
-//#define TEMP_RESIDENCY_TIME 20  // (seconds)
-//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
-
-//// The minimal temperature defines the temperature below which the heater will not be enabled
-#define MINTEMP 5
-#define BED_MINTEMP 5
-
-
-// When temperature exceeds max temp, your heater will be switched off.
-// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
-// You should use MINTEMP for thermistor short/failure protection.
-#define MAXTEMP 275
-#define BED_MAXTEMP 150
-
-/// PID settings:
-// Uncomment the following line to enable PID support.
-//#define SMOOTHING
-//#define SMOOTHFACTOR 5.0
-//float current_raw_average=0;
-
-#define PIDTEMP
-#ifdef PIDTEMP
-//#define PID_DEBUG // Sends debug data to the serial port. 
-//#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-#define PID_MAX 255 // limits current to nozzle
-#define PID_INTEGRAL_DRIVE_MAX 255
-#define PID_dT 0.10 // 100ms sample time
-#define DEFAULT_Kp 20.0
-#define DEFAULT_Ki 1.5*PID_dT
-#define DEFAULT_Kd 80/PID_dT
-#define DEFAULT_Kc 0
-#endif // PIDTEMP
-
-
-// extruder advance constant (s2/mm3)
-//
-// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
-//
-// hooke's law says:		force = k * distance
-// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
-// so: v ^ 2 is proportional to number of steps we advance the extruder
-//#define ADVANCE
-
-#ifdef ADVANCE
-#define EXTRUDER_ADVANCE_K .3
-
-#define D_FILAMENT 1.7
-#define STEPS_MM_E 65
-#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
-#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
-
-#endif // ADVANCE
-
-#if defined SDSUPPORT
-// The number of linear motions that can be in the plan at any give time.  
-  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
-#else
-  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
-#endif
-
-#ifdef SIMPLE_LCD
-  #define BLOCK_BUFFER_SIZE 16 // A little less buffer for just a simple LCD
-#endif
-
-#endif
+#ifndef CONFIGURATION_H
+#define CONFIGURATION_H
+
+//#define DEBUG_STEPS
+
+// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
+
+//// The following define selects which electronics board you have. Please choose the one that matches your setup
+// MEGA/RAMPS up to 1.2 = 3,
+// RAMPS 1.3 = 33
+// Gen6 = 5,
+// Sanguinololu 1.2 and above = 62
+// Ultimaker = 7,
+#define MOTHERBOARD 7
+//#define MOTHERBOARD 5
+
+
+//// Thermistor settings:
+// 1 is 100k thermistor
+// 2 is 200k thermistor
+// 3 is mendel-parts thermistor
+// 4 is 10k thermistor
+// 5 is ParCan supplied 104GT-2 100K
+// 6 is EPCOS 100k
+// 7 is 100k Honeywell thermistor 135-104LAG-J01
+#define THERMISTORHEATER_1 3
+#define THERMISTORHEATER_2 3
+#define THERMISTORBED 3
+
+//#define HEATER_1_USES_THERMISTOR
+//#define HEATER_2_USES_THERMISTOR
+#define HEATER_1_USES_AD595
+//#define HEATER_2_USES_AD595
+
+// Select one of these only to define how the bed temp is read.
+//#define BED_USES_THERMISTOR
+//#define BED_USES_AD595
+
+#define HEATER_CHECK_INTERVAL 50
+#define BED_CHECK_INTERVAL 5000
+
+
+//// Endstop Settings
+#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
+const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
+// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
+
+// This determines the communication speed of the printer
+//#define BAUDRATE 250000
+#define BAUDRATE 115200
+//#define BAUDRATE 230400
+
+// Comment out (using // at the start of the line) to disable SD support:
+
+// #define ULTRA_LCD  //any lcd 
+
+
+#define ULTIPANEL
+#ifdef ULTIPANEL
+ //#define NEWPANEL  //enable this if you have a click-encoder panel
+ #define SDSUPPORT
+ #define ULTRA_LCD
+ #define LCD_WIDTH 20
+#define LCD_HEIGHT 4
+#else //no panel but just lcd 
+  #ifdef ULTRA_LCD
+    #define LCD_WIDTH 16
+    #define LCD_HEIGHT 2
+  #endif
+#endif
+
+
+//#define SDSUPPORT // Enable SD Card Support in Hardware Console
+
+
+
+const int dropsegments=5; //everything with this number of steps  will be ignored as move
+
+//// ADVANCED SETTINGS - to tweak parameters
+
+#include "thermistortables.h"
+
+// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
+#define X_ENABLE_ON 0
+#define Y_ENABLE_ON 0
+#define Z_ENABLE_ON 0
+#define E_ENABLE_ON 0
+
+// Disables axis when it's not being used.
+#define DISABLE_X false
+#define DISABLE_Y false
+#define DISABLE_Z false
+#define DISABLE_E false
+
+// Inverting axis direction
+#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
+#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
+
+//// ENDSTOP SETTINGS:
+// Sets direction of endstops when homing; 1=MAX, -1=MIN
+#define X_HOME_DIR -1
+#define Y_HOME_DIR -1
+#define Z_HOME_DIR -1
+
+#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
+#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define X_MAX_LENGTH 210
+#define Y_MAX_LENGTH 210
+#define Z_MAX_LENGTH 210
+
+//// MOVEMENT SETTINGS
+#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
+//note: on bernhards ultimaker 200 200 12 are working well.
+#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
+//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
+//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
+// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
+#define TRAVELING_AT_MAXSPEED  
+#define AXIS_RELATIVE_MODES {false, false, false, false}
+
+#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
+
+// default settings 
+
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
+#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
+#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+
+#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
+#define DEFAULT_MINTRAVELFEEDRATE     10
+
+// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
+#define DEFAULT_MINSEGMENTTIME        20000
+#define DEFAULT_XYJERK                30.0*60    
+#define DEFAULT_ZJERK                 10.0*60
+
+
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+//this enables the watchdog interrupt.
+#define USE_WATCHDOG
+//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+#define RESET_MANUAL
+
+#define WATCHDOG_TIMEOUT 4
+
+
+
+//// Experimental watchdog and minimal temp
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
+//#define WATCHPERIOD 5000 //5 seconds
+
+// Actual temperature must be close to target for this long before M109 returns success
+//#define TEMP_RESIDENCY_TIME 20  // (seconds)
+//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
+
+//// The minimal temperature defines the temperature below which the heater will not be enabled
+#define MINTEMP 5
+#define BED_MINTEMP 5
+
+
+// When temperature exceeds max temp, your heater will be switched off.
+// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
+// You should use MINTEMP for thermistor short/failure protection.
+#define MAXTEMP 275
+#define BED_MAXTEMP 150
+
+
+
+
+
+
+
+#define PIDTEMP
+#ifdef PIDTEMP
+  /// PID settings:
+  // Uncomment the following line to enable PID support.
+  //#define SMOOTHING
+  //#define SMOOTHFACTOR 5.0
+  //float current_raw_average=0;
+    #define K1 0.95 //smoothing of the PID
+  //#define PID_DEBUG // Sends debug data to the serial port. 
+  //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+  #define PID_MAX 255 // limits current to nozzle
+  #define PID_INTEGRAL_DRIVE_MAX 255
+  #define PID_dT 0.1
+ //machine with red silicon: 1950:45 second ; with fan fully blowin 3000:47
+
+  #define PID_CRITIAL_GAIN 3000
+  #define PID_SWING_AT_CRITIAL 45 //seconds
+  #define PIDIADD 5
+  /*
+  //PID according to Ziegler-Nichols method
+  float Kp = 0.6*PID_CRITIAL_GAIN; 
+  float Ki =PIDIADD+2*Kp/PID_SWING_AT_CRITIAL*PID_dT;  
+  float Kd = Kp*PID_SWING_AT_CRITIAL/8./PID_dT;  
+  */
+  //PI according to Ziegler-Nichols method
+  #define  DEFAULT_Kp (PID_CRITIAL_GAIN/2.2) 
+  #define  DEFAULT_Ki (1.2*Kp/PID_SWING_AT_CRITIAL*PID_dT)
+  #define  DEFAULT_Kd (0)
+  
+  #define PID_ADD_EXTRUSION_RATE  
+  #ifdef PID_ADD_EXTRUSION_RATE
+    #define  DEFAULT_Kc (5) //heatingpower=Kc*(e_speed)
+  #endif
+#endif // PIDTEMP
+
+// extruder advance constant (s2/mm3)
+//
+// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
+//
+// hooke's law says:		force = k * distance
+// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
+// so: v ^ 2 is proportional to number of steps we advance the extruder
+//#define ADVANCE
+
+#ifdef ADVANCE
+#define EXTRUDER_ADVANCE_K .3
+
+#define D_FILAMENT 1.7
+#define STEPS_MM_E 65
+#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
+#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
+
+#endif // ADVANCE
+
+// THE BLOCK_BUFFER_SIZE NEEDS TO BE A POWER OF 2, e.g. 8,16,32 
+#if defined SDSUPPORT
+// The number of linear motions that can be in the plan at any give time.  
+  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
+#else
+  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
+#endif
+
+
+#endif

commit 95d3d9847c4d78c068f622c7d24dc716263d9b73
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Nov 4 23:38:25 2011 +0100

    M109 now equal to sprinter

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 36b5f7b67b..b8c41301c9 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -146,9 +146,16 @@ const int dropsegments=5; //everything with this number of steps  will be ignore
 #define WATCHDOG_TIMEOUT 4
 
 
+
+//// Experimental watchdog and minimal temp
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 // If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
 //#define WATCHPERIOD 5000 //5 seconds
 
+// Actual temperature must be close to target for this long before M109 returns success
+//#define TEMP_RESIDENCY_TIME 20  // (seconds)
+//#define TEMP_HYSTERESIS 5       // (C¬∞) range of +/- temperatures considered "close" to the target one
+
 //// The minimal temperature defines the temperature below which the heater will not be enabled
 #define MINTEMP 5
 #define BED_MINTEMP 5

commit bf879ceaa9685648adba645cadc6ce5aaa5fac85
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Nov 4 22:51:14 2011 +0100

    Added thermistor tables

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 2cef365b09..36b5f7b67b 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -14,14 +14,23 @@
 #define MOTHERBOARD 7
 //#define MOTHERBOARD 5
 
+
 //// Thermistor settings:
 // 1 is 100k thermistor
 // 2 is 200k thermistor
 // 3 is mendel-parts thermistor
-#define THERMISTORHEATER 3
-// Select one of these only to define how the nozzle temp is read.
-//#define HEATER_USES_THERMISTOR
-#define HEATER_USES_AD595
+// 4 is 10k thermistor
+// 5 is ParCan supplied 104GT-2 100K
+// 6 is EPCOS 100k
+// 7 is 100k Honeywell thermistor 135-104LAG-J01
+#define THERMISTORHEATER_1 3
+#define THERMISTORHEATER_2 3
+#define THERMISTORBED 3
+
+//#define HEATER_1_USES_THERMISTOR
+//#define HEATER_2_USES_THERMISTOR
+#define HEATER_1_USES_AD595
+//#define HEATER_2_USES_AD595
 
 // Select one of these only to define how the bed temp is read.
 //#define BED_USES_THERMISTOR
@@ -29,8 +38,6 @@
 
 #define HEATER_CHECK_INTERVAL 50
 #define BED_CHECK_INTERVAL 5000
-#define BNUMTEMPS NUMTEMPS
-#define bedtemptable temptable
 
 
 //// Endstop Settings
@@ -50,7 +57,7 @@ const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the
 #define LCD_WIDTH 16
 #define LCD_HEIGHT 2
 
-#define ULTIPANEL
+//#define ULTIPANEL
 #ifdef ULTIPANEL
  //#define NEWPANEL  //enable this if you have a click-encoder panel
  #define SDSUPPORT

commit 094afe7c1065d5663628b389f27687a5f465abb8
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Nov 4 18:02:56 2011 +0100

    Merged Marlin, Marlin non gen6 and Ultimaker changes

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 39480939d7..2cef365b09 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -1,39 +1,71 @@
 #ifndef CONFIGURATION_H
 #define CONFIGURATION_H
 
+//#define DEBUG_STEPS
+
 // BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
 
 //// The following define selects which electronics board you have. Please choose the one that matches your setup
-// Gen6 = 5, 
-#define MOTHERBOARD 5 
+// MEGA/RAMPS up to 1.2 = 3,
+// RAMPS 1.3 = 33
+// Gen6 = 5,
+// Sanguinololu 1.2 and above = 62
+// Ultimaker = 7,
+#define MOTHERBOARD 7
+//#define MOTHERBOARD 5
 
 //// Thermistor settings:
 // 1 is 100k thermistor
 // 2 is 200k thermistor
 // 3 is mendel-parts thermistor
 #define THERMISTORHEATER 3
+// Select one of these only to define how the nozzle temp is read.
+//#define HEATER_USES_THERMISTOR
+#define HEATER_USES_AD595
+
+// Select one of these only to define how the bed temp is read.
+//#define BED_USES_THERMISTOR
+//#define BED_USES_AD595
 
+#define HEATER_CHECK_INTERVAL 50
+#define BED_CHECK_INTERVAL 5000
+#define BNUMTEMPS NUMTEMPS
+#define bedtemptable temptable
 
-//// Calibration variables
-// X, Y, Z, E steps per unit - Metric Mendel / Orca with V9 extruder:
-float axis_steps_per_unit[] = {40, 40, 3333.92, 67}; 
-// For E steps per unit = 67 for v9 with direct drive (needs finetuning) for other extruders this needs to be changed 
-// Metric Prusa Mendel with Makergear geared stepper extruder:
-//float axis_steps_per_unit[] = {80,80,3200/1.25,1380}; 
 
 //// Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+const bool ENDSTOPS_INVERTING = true; // set to true to invert the logic of the endstops. 
 // For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 
 // This determines the communication speed of the printer
-#define BAUDRATE 250000
+//#define BAUDRATE 250000
+#define BAUDRATE 115200
+//#define BAUDRATE 230400
 
 // Comment out (using // at the start of the line) to disable SD support:
-//#define SDSUPPORT
+
+// #define ULTRA_LCD  //any lcd 
+#define LCD_WIDTH 16
+#define LCD_HEIGHT 2
+
+#define ULTIPANEL
+#ifdef ULTIPANEL
+ //#define NEWPANEL  //enable this if you have a click-encoder panel
+ #define SDSUPPORT
+ #define ULTRA_LCD
+ #define LCD_WIDTH 20
+#define LCD_HEIGHT 4
+#endif
+
+
+//#define SDSUPPORT // Enable SD Card Support in Hardware Console
 
 
+
+const int dropsegments=5; //everything with this number of steps  will be ignored as move
+
 //// ADVANCED SETTINGS - to tweak parameters
 
 #include "thermistortables.h"
@@ -47,14 +79,14 @@ const bool ENDSTOPS_INVERTING = false; // set to true to invert the logic of the
 // Disables axis when it's not being used.
 #define DISABLE_X false
 #define DISABLE_Y false
-#define DISABLE_Z true
+#define DISABLE_Z false
 #define DISABLE_E false
 
 // Inverting axis direction
 #define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
 #define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
 #define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
-#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
+#define INVERT_E_DIR false   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 //// ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -63,51 +95,81 @@ const bool ENDSTOPS_INVERTING = false; // set to true to invert the logic of the
 #define Z_HOME_DIR -1
 
 #define min_software_endstops false //If true, axis won't move to coordinates less than zero.
-#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
-#define X_MAX_LENGTH 200
-#define Y_MAX_LENGTH 200
-#define Z_MAX_LENGTH 100
+#define max_software_endstops false  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define X_MAX_LENGTH 210
+#define Y_MAX_LENGTH 210
+#define Z_MAX_LENGTH 210
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-float max_feedrate[] = {60000, 60000, 100, 500000}; // set the max speeds
-float homing_feedrate[] = {2400, 2400, 80, 0};  // set the homing speeds
-bool axis_relative_modes[] = {false, false, false, false};
-
-//// Acceleration settings
-// X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
-float acceleration = 2000;         // Normal acceleration mm/s^2
-float retract_acceleration = 7000; // Normal acceleration mm/s^2
-float max_xy_jerk = 20.0*60;
-float max_z_jerk = 0.4*60;
-long max_acceleration_units_per_sq_second[] = {7000,7000,100,10000}; // X, Y, Z and E max acceleration in mm/s^2 for printing moves or retracts
+//note: on bernhards ultimaker 200 200 12 are working well.
+#define HOMING_FEEDRATE {50*60, 50*60, 12*60, 0}  // set the homing speeds
+//the followint checks if an extrusion is existent in the move. if _not_, the speed of the move is set to the maximum speed. 
+//!!!!!!Use only if you know that your printer works at the maximum declared speeds.
+// works around the skeinforge cool-bug. There all moves are slowed to have a minimum layer time. However slow travel moves= ooze
+#define TRAVELING_AT_MAXSPEED  
+#define AXIS_RELATIVE_MODES {false, false, false, false}
+
+#define MAX_STEP_FREQUENCY 40000 // Max step frequency for Ultimaker (5000 pps / half step)
+
+// default settings 
+
+#define DEFAULT_AXIS_STEPS_PER_UNIT   {79.87220447,79.87220447,200*8/3,14}                    // default steps per unit for ultimaker 
+#define DEFAULT_MAX_FEEDRATE          {160*60, 160*60, 10*60, 500000}        
+#define DEFAULT_MAX_ACCELERATION      {9000,9000,150,10000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+
+#define DEFAULT_ACCELERATION          3000    // X, Y, Z and E max acceleration in mm/s^2 for printing moves 
+#define DEFAULT_RETRACT_ACCELERATION  7000   // X, Y, Z and E max acceleration in mm/s^2 for r retracts
+
+#define DEFAULT_MINIMUMFEEDRATE       10     // minimum feedrate
+#define DEFAULT_MINTRAVELFEEDRATE     10
+
+// minimum time in microseconds that a movement needs to take if the buffer is emptied.   Increase this number if you see blobs while printing high speed & high detail.  It will slowdown on the detailed stuff.
+#define DEFAULT_MINSEGMENTTIME        20000
+#define DEFAULT_XYJERK                30.0*60    
+#define DEFAULT_ZJERK                 10.0*60
+
 
 // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+//this enables the watchdog interrupt.
+#define USE_WATCHDOG
+//you cannot reboot on a mega2560 due to a bug in he bootloader. Hence, you have to reset manually, and this is done hereby:
+#define RESET_MANUAL
+
+#define WATCHDOG_TIMEOUT 4
+
+
 // If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
 //#define WATCHPERIOD 5000 //5 seconds
 
 //// The minimal temperature defines the temperature below which the heater will not be enabled
 #define MINTEMP 5
+#define BED_MINTEMP 5
 
 
 // When temperature exceeds max temp, your heater will be switched off.
 // This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
 // You should use MINTEMP for thermistor short/failure protection.
 #define MAXTEMP 275
-
+#define BED_MAXTEMP 150
 
 /// PID settings:
 // Uncomment the following line to enable PID support.
-//#define PIDTEMP
+//#define SMOOTHING
+//#define SMOOTHFACTOR 5.0
+//float current_raw_average=0;
+
+#define PIDTEMP
 #ifdef PIDTEMP
-//#define PID_DEBUG 1 // Sends debug data to the serial port. 
+//#define PID_DEBUG // Sends debug data to the serial port. 
 //#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
-#define PID_MAX 156 // limits current to nozzle
-#define PID_INTEGRAL_DRIVE_MAX 156.0
-#define PID_dT 0.16
-double Kp = 20.0;
-double Ki = 1.5*PID_dT;
-double Kd = 80/PID_dT;
+#define PID_MAX 255 // limits current to nozzle
+#define PID_INTEGRAL_DRIVE_MAX 255
+#define PID_dT 0.10 // 100ms sample time
+#define DEFAULT_Kp 20.0
+#define DEFAULT_Ki 1.5*PID_dT
+#define DEFAULT_Kd 80/PID_dT
+#define DEFAULT_Kc 0
 #endif // PIDTEMP
 
 
@@ -121,7 +183,7 @@ double Kd = 80/PID_dT;
 //#define ADVANCE
 
 #ifdef ADVANCE
-#define EXTRUDER_ADVANCE_K 0.02
+#define EXTRUDER_ADVANCE_K .3
 
 #define D_FILAMENT 1.7
 #define STEPS_MM_E 65
@@ -130,4 +192,15 @@ double Kd = 80/PID_dT;
 
 #endif // ADVANCE
 
+#if defined SDSUPPORT
+// The number of linear motions that can be in the plan at any give time.  
+  #define BLOCK_BUFFER_SIZE 16   // SD,LCD,Buttons take more memory, block buffer needs to be smaller
+#else
+  #define BLOCK_BUFFER_SIZE 16 // maximize block buffer
+#endif
+
+#ifdef SIMPLE_LCD
+  #define BLOCK_BUFFER_SIZE 16 // A little less buffer for just a simple LCD
+#endif
+
 #endif

commit 8e017b81ab125fd403096074b54bb21cb215bfea
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Wed Sep 14 18:56:45 2011 +0200

    Sync with non-gen6 version

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index 134dff961a..39480939d7 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -78,10 +78,9 @@ bool axis_relative_modes[] = {false, false, false, false};
 // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
 float acceleration = 2000;         // Normal acceleration mm/s^2
 float retract_acceleration = 7000; // Normal acceleration mm/s^2
-float max_jerk = 20*60;
+float max_xy_jerk = 20.0*60;
+float max_z_jerk = 0.4*60;
 long max_acceleration_units_per_sq_second[] = {7000,7000,100,10000}; // X, Y, Z and E max acceleration in mm/s^2 for printing moves or retracts
-// Not used long max_travel_acceleration_units_per_sq_second[] = {500,500,50,500}; // X, Y, Z max acceleration in mm/s^2 for travel moves
-
 
 // The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
 // If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109

commit b5f6482dcec6e78744167b177b61a41b2f0eb4bc
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sun Aug 21 18:29:47 2011 +0200

    Fixed small feedrate bug.
    Copied Camiels comments in the Configuration.h file

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index d66b204d17..134dff961a 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -15,15 +15,17 @@
 
 
 //// Calibration variables
-// X, Y, Z, E steps per unit - Metric Prusa Mendel with V9 extruder:
-float axis_steps_per_unit[] = {40, 40, 3333.92,76.2}; 
+// X, Y, Z, E steps per unit - Metric Mendel / Orca with V9 extruder:
+float axis_steps_per_unit[] = {40, 40, 3333.92, 67}; 
+// For E steps per unit = 67 for v9 with direct drive (needs finetuning) for other extruders this needs to be changed 
 // Metric Prusa Mendel with Makergear geared stepper extruder:
 //float axis_steps_per_unit[] = {80,80,3200/1.25,1380}; 
 
 //// Endstop Settings
 #define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
 // The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
-const bool ENDSTOPS_INVERTING = false; //set to true to invert the logic of the endstops
+const bool ENDSTOPS_INVERTING = false; // set to true to invert the logic of the endstops. 
+// For optos H21LOB set to true, for Mendel-Parts newer optos TCST2103 set to false
 
 // This determines the communication speed of the printer
 #define BAUDRATE 250000
@@ -49,10 +51,10 @@ const bool ENDSTOPS_INVERTING = false; //set to true to invert the logic of the
 #define DISABLE_E false
 
 // Inverting axis direction
-#define INVERT_X_DIR false
-#define INVERT_Y_DIR true
-#define INVERT_Z_DIR false
-#define INVERT_E_DIR true
+#define INVERT_X_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_Y_DIR false   // for Mendel set to true, for Orca set to false
+#define INVERT_Z_DIR true    // for Mendel set to false, for Orca set to true
+#define INVERT_E_DIR true   // for direct drive extruder v9 set to true, for geared extruder set to false
 
 //// ENDSTOP SETTINGS:
 // Sets direction of endstops when homing; 1=MAX, -1=MIN
@@ -68,8 +70,8 @@ const bool ENDSTOPS_INVERTING = false; //set to true to invert the logic of the
 
 //// MOVEMENT SETTINGS
 #define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
-float max_feedrate[] = {60000, 60000, 170, 500000};
-float homing_feedrate[] = {1500,1500,120,0};
+float max_feedrate[] = {60000, 60000, 100, 500000}; // set the max speeds
+float homing_feedrate[] = {2400, 2400, 80, 0};  // set the homing speeds
 bool axis_relative_modes[] = {false, false, false, false};
 
 //// Acceleration settings

commit 26bf57e22c674427b6239811421a3fa4fbc3024d
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Sat Aug 13 10:09:54 2011 +0200

    first-commit

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
index a32fba15a1..d66b204d17 100644
--- a/Marlin/Configuration.h
+++ b/Marlin/Configuration.h
@@ -13,26 +13,6 @@
 // 3 is mendel-parts thermistor
 #define THERMISTORHEATER 3
 
-// extruder advance constant (s2/mm3)
-//
-// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
-//
-// hooke's law says:		force = k * distance
-// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
-// so: v ^ 2 is proportional to number of steps we advance the extruder
-//#define ADVANCE
-
-#ifdef ADVANCE
-#define EXTRUDER_ADVANCE_K 0.02
-
-#define D_FILAMENT 1.7
-#define STEPS_MM_E 65
-//#define D_FILAMENT 2.85
-//#define STEPS_MM_E 367.35
-#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
-#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
-
-#endif // ADVANCE
 
 //// Calibration variables
 // X, Y, Z, E steps per unit - Metric Prusa Mendel with V9 extruder:
@@ -94,10 +74,10 @@ bool axis_relative_modes[] = {false, false, false, false};
 
 //// Acceleration settings
 // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
-float acceleration = 3000;         // Normal acceleration mm/s^2
+float acceleration = 2000;         // Normal acceleration mm/s^2
 float retract_acceleration = 7000; // Normal acceleration mm/s^2
 float max_jerk = 20*60;
-long max_acceleration_units_per_sq_second[] = {7000,7000,20,10000}; // X, Y, Z and E max acceleration in mm/s^2 for printing moves or retracts
+long max_acceleration_units_per_sq_second[] = {7000,7000,100,10000}; // X, Y, Z and E max acceleration in mm/s^2 for printing moves or retracts
 // Not used long max_travel_acceleration_units_per_sq_second[] = {500,500,50,500}; // X, Y, Z max acceleration in mm/s^2 for travel moves
 
 
@@ -130,4 +110,23 @@ double Kd = 80/PID_dT;
 #endif // PIDTEMP
 
 
+// extruder advance constant (s2/mm3)
+//
+// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
+//
+// hooke's law says:		force = k * distance
+// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
+// so: v ^ 2 is proportional to number of steps we advance the extruder
+//#define ADVANCE
+
+#ifdef ADVANCE
+#define EXTRUDER_ADVANCE_K 0.02
+
+#define D_FILAMENT 1.7
+#define STEPS_MM_E 65
+#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
+#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
+
+#endif // ADVANCE
+
 #endif

commit 750f6c33e30ca16fab1ebe552a6b3422282bc66a
Author: Erik van der Zalm <erik@vdzalm.eu>
Date:   Fri Aug 12 22:28:35 2011 +0200

    first commit

diff --git a/Marlin/Configuration.h b/Marlin/Configuration.h
new file mode 100644
index 0000000000..a32fba15a1
--- /dev/null
+++ b/Marlin/Configuration.h
@@ -0,0 +1,133 @@
+#ifndef CONFIGURATION_H
+#define CONFIGURATION_H
+
+// BASIC SETTINGS: select your board type, thermistor type, axis scaling, and endstop configuration
+
+//// The following define selects which electronics board you have. Please choose the one that matches your setup
+// Gen6 = 5, 
+#define MOTHERBOARD 5 
+
+//// Thermistor settings:
+// 1 is 100k thermistor
+// 2 is 200k thermistor
+// 3 is mendel-parts thermistor
+#define THERMISTORHEATER 3
+
+// extruder advance constant (s2/mm3)
+//
+// advance (steps) = STEPS_PER_CUBIC_MM_E * EXTUDER_ADVANCE_K * cubic mm per second ^ 2
+//
+// hooke's law says:		force = k * distance
+// bernoulli's priniciple says:	v ^ 2 / 2 + g . h + pressure / density = constant
+// so: v ^ 2 is proportional to number of steps we advance the extruder
+//#define ADVANCE
+
+#ifdef ADVANCE
+#define EXTRUDER_ADVANCE_K 0.02
+
+#define D_FILAMENT 1.7
+#define STEPS_MM_E 65
+//#define D_FILAMENT 2.85
+//#define STEPS_MM_E 367.35
+#define EXTRUTION_AREA (0.25 * D_FILAMENT * D_FILAMENT * 3.14159)
+#define STEPS_PER_CUBIC_MM_E (axis_steps_per_unit[E_AXIS]/ EXTRUTION_AREA)
+
+#endif // ADVANCE
+
+//// Calibration variables
+// X, Y, Z, E steps per unit - Metric Prusa Mendel with V9 extruder:
+float axis_steps_per_unit[] = {40, 40, 3333.92,76.2}; 
+// Metric Prusa Mendel with Makergear geared stepper extruder:
+//float axis_steps_per_unit[] = {80,80,3200/1.25,1380}; 
+
+//// Endstop Settings
+#define ENDSTOPPULLUPS // Comment this out (using // at the start of the line) to disable the endstop pullup resistors
+// The pullups are needed if you directly connect a mechanical endswitch between the signal and ground pins.
+const bool ENDSTOPS_INVERTING = false; //set to true to invert the logic of the endstops
+
+// This determines the communication speed of the printer
+#define BAUDRATE 250000
+
+// Comment out (using // at the start of the line) to disable SD support:
+//#define SDSUPPORT
+
+
+//// ADVANCED SETTINGS - to tweak parameters
+
+#include "thermistortables.h"
+
+// For Inverting Stepper Enable Pins (Active Low) use 0, Non Inverting (Active High) use 1
+#define X_ENABLE_ON 0
+#define Y_ENABLE_ON 0
+#define Z_ENABLE_ON 0
+#define E_ENABLE_ON 0
+
+// Disables axis when it's not being used.
+#define DISABLE_X false
+#define DISABLE_Y false
+#define DISABLE_Z true
+#define DISABLE_E false
+
+// Inverting axis direction
+#define INVERT_X_DIR false
+#define INVERT_Y_DIR true
+#define INVERT_Z_DIR false
+#define INVERT_E_DIR true
+
+//// ENDSTOP SETTINGS:
+// Sets direction of endstops when homing; 1=MAX, -1=MIN
+#define X_HOME_DIR -1
+#define Y_HOME_DIR -1
+#define Z_HOME_DIR -1
+
+#define min_software_endstops false //If true, axis won't move to coordinates less than zero.
+#define max_software_endstops true  //If true, axis won't move to coordinates greater than the defined lengths below.
+#define X_MAX_LENGTH 200
+#define Y_MAX_LENGTH 200
+#define Z_MAX_LENGTH 100
+
+//// MOVEMENT SETTINGS
+#define NUM_AXIS 4 // The axis order in all axis related arrays is X, Y, Z, E
+float max_feedrate[] = {60000, 60000, 170, 500000};
+float homing_feedrate[] = {1500,1500,120,0};
+bool axis_relative_modes[] = {false, false, false, false};
+
+//// Acceleration settings
+// X, Y, Z, E maximum start speed for accelerated moves. E default values are good for skeinforge 40+, for older versions raise them a lot.
+float acceleration = 3000;         // Normal acceleration mm/s^2
+float retract_acceleration = 7000; // Normal acceleration mm/s^2
+float max_jerk = 20*60;
+long max_acceleration_units_per_sq_second[] = {7000,7000,20,10000}; // X, Y, Z and E max acceleration in mm/s^2 for printing moves or retracts
+// Not used long max_travel_acceleration_units_per_sq_second[] = {500,500,50,500}; // X, Y, Z max acceleration in mm/s^2 for travel moves
+
+
+// The watchdog waits for the watchperiod in milliseconds whenever an M104 or M109 increases the target temperature
+// If the temperature has not increased at the end of that period, the target temperature is set to zero. It can be reset with another M104/M109
+//#define WATCHPERIOD 5000 //5 seconds
+
+//// The minimal temperature defines the temperature below which the heater will not be enabled
+#define MINTEMP 5
+
+
+// When temperature exceeds max temp, your heater will be switched off.
+// This feature exists to protect your hotend from overheating accidentally, but *NOT* from thermistor short/failure!
+// You should use MINTEMP for thermistor short/failure protection.
+#define MAXTEMP 275
+
+
+/// PID settings:
+// Uncomment the following line to enable PID support.
+//#define PIDTEMP
+#ifdef PIDTEMP
+//#define PID_DEBUG 1 // Sends debug data to the serial port. 
+//#define PID_OPENLOOP 1 // Puts PID in open loop. M104 sets the output power in %
+#define PID_MAX 156 // limits current to nozzle
+#define PID_INTEGRAL_DRIVE_MAX 156.0
+#define PID_dT 0.16
+double Kp = 20.0;
+double Ki = 1.5*PID_dT;
+double Kd = 80/PID_dT;
+#endif // PIDTEMP
+
+
+#endif
