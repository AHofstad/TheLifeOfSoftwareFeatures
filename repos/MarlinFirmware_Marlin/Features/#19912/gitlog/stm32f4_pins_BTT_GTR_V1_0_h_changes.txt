commit d9396929aab56121698d4acde1b04add1574f43d
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Feb 4 10:13:03 2024 -0800

    ü©π Update BTT GTR v1.0 DIAG jumper/pin (#26764)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 2830fc3b74..cd5755539b 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -31,7 +31,7 @@
 
 #define BOARD_INFO_NAME "BTT GTR V1.0"
 
-#define USES_DIAG_JUMPERS
+#define USES_DIAG_PINS                            // DIAG jumpers rendered useless due to a board design error
 #define HAS_OTG_USB_HOST_SUPPORT                  // USB Flash Drive support
 #define M5_EXTENDER                               // The M5 extender is attached
 
@@ -106,6 +106,7 @@
 // Pins on the extender
 //
 #if ENABLED(M5_EXTENDER)
+  #define USES_DIAG_JUMPERS                       // DIAG jumpers work on M5 extender
   #ifndef X2_STOP_PIN
     #define X2_STOP_PIN                     PI4   // M5 M1_STOP
   #endif

commit 04c8a3138e3ce1edcd59c8e6c1ba4abeba28e30d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Jan 25 15:07:34 2024 -0600

    üé® Misc. LCD pins comments

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 5444842aa2..2830fc3b74 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -410,8 +410,9 @@
 #define EXP2_07_PIN                         PB10
 
 //
-// LCDs and Controllers
+// LCD / Controller
 //
+
 #if ANY(TFT_COLOR_UI, TFT_LVGL_UI, TFT_CLASSIC_UI)
 
   #define TFT_CS_PIN                 EXP2_04_PIN

commit 204de723f1c08f83e281f0629b60822b334097ed
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Jan 21 04:01:25 2024 -0800

    ‚ú® BIQU MicroProbe (#26527)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 2414c07ae3..5444842aa2 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -127,6 +127,13 @@
   #define Z_MIN_PROBE_PIN                   PH11  // Z Probe must be PH11
 #endif
 
+//
+// Probe enable
+//
+#if ENABLED(PROBE_ENABLE_DISABLE) && !defined(PROBE_ENABLE_PIN)
+  #define PROBE_ENABLE_PIN            SERVO0_PIN
+#endif
+
 //
 // Steppers
 //

commit 2691167afe02fbbe74b0fdca2c28a49fac635741
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Jun 2 14:26:02 2023 -0500

    üßë‚Äçüíª Dump BOTH and EITHER macros (#25908)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 0445476490..2414c07ae3 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -464,7 +464,7 @@
 
       //#define LCD_BACKLIGHT_PIN           -1
       #define LCD_RESET_PIN          EXP1_05_PIN  // Must be high or open for LCD to operate normally.
-      #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
+      #if ANY(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
         #ifndef RGB_LED_R_PIN
           #define RGB_LED_R_PIN      EXP1_06_PIN
         #endif

commit 40895cbcbb284b9d5e7440dc8ad40fdcfd1579bd
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 5 20:46:33 2023 -0500

    üîß Allow TMC_BAUD_RATE override

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 6021810f40..0445476490 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -282,8 +282,11 @@
   #endif
 
   // Reduce baud rate to improve software serial reliability
-  #define TMC_BAUD_RATE                    19200
-#endif
+  #ifndef TMC_BAUD_RATE
+    #define TMC_BAUD_RATE                  19200
+  #endif
+
+#endif // HAS_TMC_UART
 
 //
 // Temperature Sensors

commit 467ab74523087a852ab50939d86a0ca0b78f17ad
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Apr 26 14:56:23 2023 -0500

    üßë‚Äçüíª Simplify endstops config (#25748)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index b81859dd61..6021810f40 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -106,11 +106,21 @@
 // Pins on the extender
 //
 #if ENABLED(M5_EXTENDER)
-  #define X2_STOP_PIN                       PI4   // M5 M1_STOP
-  #define Y2_STOP_PIN                       PF12  // M5 M5_STOP
-  #define Z2_STOP_PIN                       PF4   // M5 M2_STOP
-  #define Z3_STOP_PIN                       PI7   // M5 M4_STOP
-  #define Z4_STOP_PIN                       PF6   // M5 M3_STOP
+  #ifndef X2_STOP_PIN
+    #define X2_STOP_PIN                     PI4   // M5 M1_STOP
+  #endif
+  #ifndef Y2_STOP_PIN
+    #define Y2_STOP_PIN                     PF12  // M5 M5_STOP
+  #endif
+  #ifndef Z2_STOP_PIN
+    #define Z2_STOP_PIN                     PF4   // M5 M2_STOP
+  #endif
+  #ifndef Z3_STOP_PIN
+    #define Z3_STOP_PIN                     PI7   // M5 M4_STOP
+  #endif
+  #ifndef Z4_STOP_PIN
+    #define Z4_STOP_PIN                     PF6   // M5 M3_STOP
+  #endif
 #endif
 
 #ifndef Z_MIN_PROBE_PIN

commit cd5dc7203ca6340017a4f686a456f5d71792f272
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Apr 8 14:02:14 2023 -0500

    ‚ôªÔ∏è LCD_PINS_ENABLE => LCD_PINS_EN

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index a21eaefee8..b81859dd61 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -419,7 +419,7 @@
     #define BTN_EN1                  EXP1_03_PIN
     #define BTN_EN2                  EXP1_05_PIN
 
-    #define LCD_PINS_ENABLE          EXP1_08_PIN
+    #define LCD_PINS_EN              EXP1_08_PIN
     #define LCD_PINS_D4              EXP1_06_PIN
 
   #elif ENABLED(MKS_MINI_12864)
@@ -438,7 +438,7 @@
     #define BTN_EN1                  EXP2_03_PIN
     #define BTN_EN2                  EXP2_05_PIN
 
-    #define LCD_PINS_ENABLE          EXP1_03_PIN
+    #define LCD_PINS_EN              EXP1_03_PIN
     #define LCD_PINS_D4              EXP1_05_PIN
 
     #if ENABLED(FYSETC_MINI_12864)

commit 2e4bf0ab9b2b4db545665bf976d2e0738c237b80
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Mar 25 18:20:14 2023 -0500

    üé® Rename FAN_PIN to FAN0_PIN (#25568)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index fe0e1e52f3..a21eaefee8 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -323,7 +323,7 @@
 
 #define HEATER_BED_PIN                      PA2   // Hotbed
 
-#define FAN_PIN                             PE5   // Fan0
+#define FAN0_PIN                            PE5   // Fan0
 #define FAN1_PIN                            PE6   // Fan1
 #define FAN2_PIN                            PC8   // Fan2
 

commit 769ad2764512b38e987ebbed1fe026d68a424bb1
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 24 00:33:39 2023 -0500

    üé® TMC SPI Pins
    
    Co-Authored-By: Martin Turski <turningtides@outlook.de>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index fe03ec8983..fe0e1e52f3 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -202,18 +202,16 @@
 #endif
 
 //
-// Software SPI pins for TMC2130 stepper drivers
+// SPI pins for TMC2130 stepper drivers
 //
-#if ENABLED(TMC_USE_SW_SPI)
-  #ifndef TMC_SW_MOSI
-    #define TMC_SW_MOSI                     PG15
-  #endif
-  #ifndef TMC_SW_MISO
-    #define TMC_SW_MISO                     PB6
-  #endif
-  #ifndef TMC_SW_SCK
-    #define TMC_SW_SCK                      PB3
-  #endif
+#ifndef TMC_SPI_MOSI
+  #define TMC_SPI_MOSI                      PG15
+#endif
+#ifndef TMC_SPI_MISO
+  #define TMC_SPI_MISO                      PB6
+#endif
+#ifndef TMC_SPI_SCK
+  #define TMC_SPI_SCK                       PB3
 #endif
 
 #if HAS_TMC_UART
@@ -304,9 +302,9 @@
 //#define TEMP_0_MOSI_PIN                   ...   // For MAX31865
 
 #define TEMP_1_CS_PIN                       PH2   // M5 K-TEMP
-#define TEMP_1_SCK_PIN           TEMP_0_SCK_PIN
-#define TEMP_1_MISO_PIN         TEMP_0_MISO_PIN
-//#define TEMP_1_MOSI_PIN       TEMP_0_MOSI_PIN
+#define TEMP_1_SCK_PIN            TEMP_0_SCK_PIN
+#define TEMP_1_MISO_PIN          TEMP_0_MISO_PIN
+//#define TEMP_1_MOSI_PIN        TEMP_0_MOSI_PIN
 
 //
 // Heaters / Fans

commit 2419a167ee7e0c488969ee656f9c6d3e8c65f02a
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Jul 20 16:26:33 2022 -0500

    EXP header pin numbers redux (#24525)
    
    Followup to 504fec98

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index b341f3ae07..fe03ec8983 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -374,22 +374,22 @@
  *                ------                                     ------
  *                 EXP1                                       EXP2
  */
-#define EXP1_08_PIN                         PG5
-#define EXP1_07_PIN                         PG6
-#define EXP1_06_PIN                         PG7
-#define EXP1_05_PIN                         PG8
-#define EXP1_04_PIN                         PA8
-#define EXP1_03_PIN                         PC10
-#define EXP1_02_PIN                         PA15
 #define EXP1_01_PIN                         PC11
+#define EXP1_02_PIN                         PA15
+#define EXP1_03_PIN                         PC10
+#define EXP1_04_PIN                         PA8
+#define EXP1_05_PIN                         PG8
+#define EXP1_06_PIN                         PG7
+#define EXP1_07_PIN                         PG6
+#define EXP1_08_PIN                         PG5
 
-#define EXP2_07_PIN                         PB10
-#define EXP2_06_PIN                         PB15
-#define EXP2_05_PIN                         PH10
-#define EXP2_04_PIN                         PB12
-#define EXP2_03_PIN                         PD10
-#define EXP2_02_PIN                         PB13
 #define EXP2_01_PIN                         PB14
+#define EXP2_02_PIN                         PB13
+#define EXP2_03_PIN                         PD10
+#define EXP2_04_PIN                         PB12
+#define EXP2_05_PIN                         PH10
+#define EXP2_06_PIN                         PB15
+#define EXP2_07_PIN                         PB10
 
 //
 // LCDs and Controllers

commit 504fec98237a1042819eba145ae39ad14cc49a1e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Jul 16 16:26:36 2022 -0500

    üö∏ Renumber EXP pins to match schematics/RRF/Klipper

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index b9525a9267..b341f3ae07 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -348,8 +348,8 @@
 //
 #if SD_CONNECTION_IS(LCD)
 
-  #define SD_DETECT_PIN              EXP2_04_PIN
-  #define SDSS                       EXP2_07_PIN
+  #define SD_DETECT_PIN              EXP2_07_PIN
+  #define SDSS                       EXP2_04_PIN
 
 #elif SD_CONNECTION_IS(ONBOARD)
 
@@ -366,112 +366,112 @@
 
 /**
  *                ------                                     ------
- * (BEEPER) PC11 |10  9 | PA15 (BTN_ENC)        (MISO) PB14 |10  9 | PB13 (SCK)
- * (LCD_EN) PC10 | 8  7 | PA8  (LCD_RS)      (BTN_EN1) PD10 | 8  7 | PB12 (SD_SS)
- * (LCD_D4) PG8    6  5 | PG7  (LCD_D5)      (BTN_EN2) PH10   6  5 | PB15 (MOSI)
- * (LCD_D6) PG6  | 4  3 | PG5  (LCD_D7)    (SD_DETECT) PB10 | 4  3 | RESET
- *           GND | 2  1 | 5V                            GND | 2  1 | --
+ * (BEEPER) PC11 | 1  2 | PA15 (BTN_ENC)        (MISO) PB14 | 1  2 | PB13 (SCK)
+ * (LCD_EN) PC10 | 3  4 | PA8  (LCD_RS)      (BTN_EN1) PD10 | 3  4 | PB12 (SD_SS)
+ * (LCD_D4) PG8    5  6 | PG7  (LCD_D5)      (BTN_EN2) PH10   5  6 | PB15 (MOSI)
+ * (LCD_D6) PG6  | 7  8 | PG5  (LCD_D7)    (SD_DETECT) PB10 | 7  8 | RESET
+ *           GND | 9 10 | 5V                            GND | 9 10 | --
  *                ------                                     ------
  *                 EXP1                                       EXP2
  */
-#define EXP1_03_PIN                         PG5
-#define EXP1_04_PIN                         PG6
-#define EXP1_05_PIN                         PG7
-#define EXP1_06_PIN                         PG8
-#define EXP1_07_PIN                         PA8
-#define EXP1_08_PIN                         PC10
-#define EXP1_09_PIN                         PA15
-#define EXP1_10_PIN                         PC11
-
-#define EXP2_04_PIN                         PB10
-#define EXP2_05_PIN                         PB15
-#define EXP2_06_PIN                         PH10
-#define EXP2_07_PIN                         PB12
-#define EXP2_08_PIN                         PD10
-#define EXP2_09_PIN                         PB13
-#define EXP2_10_PIN                         PB14
+#define EXP1_08_PIN                         PG5
+#define EXP1_07_PIN                         PG6
+#define EXP1_06_PIN                         PG7
+#define EXP1_05_PIN                         PG8
+#define EXP1_04_PIN                         PA8
+#define EXP1_03_PIN                         PC10
+#define EXP1_02_PIN                         PA15
+#define EXP1_01_PIN                         PC11
+
+#define EXP2_07_PIN                         PB10
+#define EXP2_06_PIN                         PB15
+#define EXP2_05_PIN                         PH10
+#define EXP2_04_PIN                         PB12
+#define EXP2_03_PIN                         PD10
+#define EXP2_02_PIN                         PB13
+#define EXP2_01_PIN                         PB14
 
 //
 // LCDs and Controllers
 //
 #if ANY(TFT_COLOR_UI, TFT_LVGL_UI, TFT_CLASSIC_UI)
 
-  #define TFT_CS_PIN                 EXP2_07_PIN
-  #define TFT_A0_PIN                 EXP2_04_PIN
-  #define TFT_SCK_PIN                EXP2_09_PIN
-  #define TFT_MISO_PIN               EXP2_10_PIN
-  #define TFT_MOSI_PIN               EXP2_05_PIN
-
-  #define TOUCH_INT_PIN              EXP1_04_PIN
-  #define TOUCH_MISO_PIN             EXP1_05_PIN
-  #define TOUCH_MOSI_PIN             EXP1_08_PIN
-  #define TOUCH_SCK_PIN              EXP1_06_PIN
-  #define TOUCH_CS_PIN               EXP1_07_PIN
-  #define BTN_ENC                    EXP1_09_PIN
-  #define BTN_EN1                    EXP2_08_PIN
-  #define BTN_EN2                    EXP2_06_PIN
+  #define TFT_CS_PIN                 EXP2_04_PIN
+  #define TFT_A0_PIN                 EXP2_07_PIN
+  #define TFT_SCK_PIN                EXP2_02_PIN
+  #define TFT_MISO_PIN               EXP2_01_PIN
+  #define TFT_MOSI_PIN               EXP2_06_PIN
+
+  #define TOUCH_INT_PIN              EXP1_07_PIN
+  #define TOUCH_MISO_PIN             EXP1_06_PIN
+  #define TOUCH_MOSI_PIN             EXP1_03_PIN
+  #define TOUCH_SCK_PIN              EXP1_05_PIN
+  #define TOUCH_CS_PIN               EXP1_04_PIN
+  #define BTN_ENC                    EXP1_02_PIN
+  #define BTN_EN1                    EXP2_03_PIN
+  #define BTN_EN2                    EXP2_05_PIN
 
 #elif HAS_WIRED_LCD
-  #define BEEPER_PIN                 EXP1_10_PIN
-  #define BTN_ENC                    EXP1_09_PIN
+  #define BEEPER_PIN                 EXP1_01_PIN
+  #define BTN_ENC                    EXP1_02_PIN
 
   #if ENABLED(CR10_STOCKDISPLAY)
-    #define LCD_PINS_RS              EXP1_04_PIN
+    #define LCD_PINS_RS              EXP1_07_PIN
 
-    #define BTN_EN1                  EXP1_08_PIN
-    #define BTN_EN2                  EXP1_06_PIN
+    #define BTN_EN1                  EXP1_03_PIN
+    #define BTN_EN2                  EXP1_05_PIN
 
-    #define LCD_PINS_ENABLE          EXP1_03_PIN
-    #define LCD_PINS_D4              EXP1_05_PIN
+    #define LCD_PINS_ENABLE          EXP1_08_PIN
+    #define LCD_PINS_D4              EXP1_06_PIN
 
   #elif ENABLED(MKS_MINI_12864)
-    #define DOGLCD_A0                EXP1_04_PIN
-    #define DOGLCD_CS                EXP1_05_PIN
-    #define BTN_EN1                  EXP2_08_PIN
-    #define BTN_EN2                  EXP2_06_PIN
+    #define DOGLCD_A0                EXP1_07_PIN
+    #define DOGLCD_CS                EXP1_06_PIN
+    #define BTN_EN1                  EXP2_03_PIN
+    #define BTN_EN2                  EXP2_05_PIN
 
     #if SD_CONNECTION_IS(ONBOARD)
       #define SOFTWARE_SPI
     #endif
   #else
 
-    #define LCD_PINS_RS              EXP1_07_PIN
+    #define LCD_PINS_RS              EXP1_04_PIN
 
-    #define BTN_EN1                  EXP2_08_PIN
-    #define BTN_EN2                  EXP2_06_PIN
+    #define BTN_EN1                  EXP2_03_PIN
+    #define BTN_EN2                  EXP2_05_PIN
 
-    #define LCD_PINS_ENABLE          EXP1_08_PIN
-    #define LCD_PINS_D4              EXP1_06_PIN
+    #define LCD_PINS_ENABLE          EXP1_03_PIN
+    #define LCD_PINS_D4              EXP1_05_PIN
 
     #if ENABLED(FYSETC_MINI_12864)
-      #define DOGLCD_CS              EXP1_08_PIN
-      #define DOGLCD_A0              EXP1_07_PIN
+      #define DOGLCD_CS              EXP1_03_PIN
+      #define DOGLCD_A0              EXP1_04_PIN
 
       #if SD_CONNECTION_IS(ONBOARD)
         #define SOFTWARE_SPI
       #endif
 
       //#define LCD_BACKLIGHT_PIN           -1
-      #define LCD_RESET_PIN          EXP1_06_PIN  // Must be high or open for LCD to operate normally.
+      #define LCD_RESET_PIN          EXP1_05_PIN  // Must be high or open for LCD to operate normally.
       #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
         #ifndef RGB_LED_R_PIN
-          #define RGB_LED_R_PIN      EXP1_05_PIN
+          #define RGB_LED_R_PIN      EXP1_06_PIN
         #endif
         #ifndef RGB_LED_G_PIN
-          #define RGB_LED_G_PIN      EXP1_04_PIN
+          #define RGB_LED_G_PIN      EXP1_07_PIN
         #endif
         #ifndef RGB_LED_B_PIN
-          #define RGB_LED_B_PIN      EXP1_03_PIN
+          #define RGB_LED_B_PIN      EXP1_08_PIN
         #endif
       #elif ENABLED(FYSETC_MINI_12864_2_1)
-        #define NEOPIXEL_PIN         EXP1_05_PIN
+        #define NEOPIXEL_PIN         EXP1_06_PIN
       #endif
     #endif // !FYSETC_MINI_12864
 
     #if IS_ULTIPANEL
-      #define LCD_PINS_D5            EXP1_05_PIN
-      #define LCD_PINS_D6            EXP1_04_PIN
-      #define LCD_PINS_D7            EXP1_03_PIN
+      #define LCD_PINS_D5            EXP1_06_PIN
+      #define LCD_PINS_D6            EXP1_07_PIN
+      #define LCD_PINS_D7            EXP1_08_PIN
 
       #if ENABLED(REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
         #define BTN_ENC_EN           LCD_PINS_D7  // Detect the presence of the encoder

commit d99185be24e035d6370c8f36851e09917d7fe342
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun May 22 14:32:16 2022 -0700

    üé® Fix/adjust warnings (#24225)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 68d92e1c30..b9525a9267 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -26,7 +26,7 @@
 #if E_STEPPERS > MAX_E_STEPPERS
   #error "Marlin extruder/hotends limit! Increase MAX_E_STEPPERS to continue."
 #elif HOTENDS > 8 || E_STEPPERS > 8
-  #error "BIGTREE GTR V1.0 supports up to 8 hotends / E-steppers."
+  #error "BIGTREE GTR V1.0 supports up to 8 hotends / E steppers."
 #endif
 
 #define BOARD_INFO_NAME "BTT GTR V1.0"

commit 3cea0a00b102096318f44d3ba8ede29d7f14ab8b
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Thu May 5 00:38:48 2022 -0700

    üêõ Some EEPROM size fixes (#24113)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 25736b1a49..68d92e1c30 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -37,7 +37,7 @@
 
 // Onboard I2C EEPROM
 #define I2C_EEPROM
-#define MARLIN_EEPROM_SIZE                0x2000  // 8K (24C64 ... 64Kb = 8K)
+#define MARLIN_EEPROM_SIZE                0x2000  // 8K (24C64)
 
 //
 // Servos

commit 4c8c02f66ff501fdf84082f9b89a9cc04be626d3
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed May 4 12:47:15 2022 -0500

    üìù Replace KB with K in pins

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 7db6c4922e..25736b1a49 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -37,7 +37,7 @@
 
 // Onboard I2C EEPROM
 #define I2C_EEPROM
-#define MARLIN_EEPROM_SIZE                0x2000  // 8KB (24C64 ... 64Kb = 8KB)
+#define MARLIN_EEPROM_SIZE                0x2000  // 8K (24C64 ... 64Kb = 8K)
 
 //
 // Servos

commit 761b1b93c62e9b70dd97c9579450804219d8f25b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Dec 27 20:52:43 2021 -0600

    üìù Consistent pin header orientation

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index dfa9d8a7b9..7db6c4922e 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -365,14 +365,14 @@
 #endif
 
 /**
- *               ------                                          ------
- *           NC | 1  2 | GND                                 5V | 1  2 | GND
- *        RESET | 3  4 | PB10 (SD_DETECT)         (LCD_D7)  PG5 | 3  4 | PG6  (LCD_D6)
- *  (MOSI) PB15 | 5  6 | PH10 (BTN_EN2)           (LCD_D5)  PG7 | 5  6 | PG8  (LCD_D4)
- * (SD_SS) PB12 | 7  8 | PD10 (BTN_EN1)           (LCD_RS)  PA8 | 7  8 | PC10 (LCD_EN)
- *   (SCK) PB13 | 9 10 | PB14 (MISO)             (BTN_ENC) PA15 | 9 10 | PC11 (BEEPER)
- *               ------                                          ------
- *                EXP2                                            EXP1
+ *                ------                                     ------
+ * (BEEPER) PC11 |10  9 | PA15 (BTN_ENC)        (MISO) PB14 |10  9 | PB13 (SCK)
+ * (LCD_EN) PC10 | 8  7 | PA8  (LCD_RS)      (BTN_EN1) PD10 | 8  7 | PB12 (SD_SS)
+ * (LCD_D4) PG8    6  5 | PG7  (LCD_D5)      (BTN_EN2) PH10   6  5 | PB15 (MOSI)
+ * (LCD_D6) PG6  | 4  3 | PG5  (LCD_D7)    (SD_DETECT) PB10 | 4  3 | RESET
+ *           GND | 2  1 | 5V                            GND | 2  1 | --
+ *                ------                                     ------
+ *                 EXP1                                       EXP2
  */
 #define EXP1_03_PIN                         PG5
 #define EXP1_04_PIN                         PG6

commit 767a15d468ab6859eec19600541ad21dff757d1a
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Mon Nov 1 22:43:40 2021 -0700

    üîß Endstop / DIAG homing conflict warning (#23050)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 95f74efe84..dfa9d8a7b9 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -31,15 +31,14 @@
 
 #define BOARD_INFO_NAME "BTT GTR V1.0"
 
+#define USES_DIAG_JUMPERS
+#define HAS_OTG_USB_HOST_SUPPORT                  // USB Flash Drive support
+#define M5_EXTENDER                               // The M5 extender is attached
+
 // Onboard I2C EEPROM
 #define I2C_EEPROM
 #define MARLIN_EEPROM_SIZE                0x2000  // 8KB (24C64 ... 64Kb = 8KB)
 
-// USB Flash Drive support
-#define HAS_OTG_USB_HOST_SUPPORT
-
-#define M5_EXTENDER                               // The M5 extender is attached
-
 //
 // Servos
 //

commit 33809ae000da2cf1a5a2b0641b235a6bb68d245a
Author: Minims <github@minims.fr>
Date:   Sun Oct 10 01:10:21 2021 +0200

    ü©π Adjust GTR 1.0 ST7920 display delay (#22904)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 0715380e22..95f74efe84 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -484,8 +484,8 @@
 
   // Alter timing for graphical display
   #if IS_U8GLIB_ST7920
-    #define BOARD_ST7920_DELAY_1              96
-    #define BOARD_ST7920_DELAY_2              48
+    #define BOARD_ST7920_DELAY_1             125
+    #define BOARD_ST7920_DELAY_2              90
     #define BOARD_ST7920_DELAY_3             600
   #endif
 

commit 9bb562f40a5570a63430bbf9392da0fdb85c5c8c
Author: VragVideo <91742261+VragVideo@users.noreply.github.com>
Date:   Sun Oct 3 06:12:51 2021 +0300

    ‚ú® WYH L12864 LCD (Alfawise Ex8) (#22863)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 68948f7de9..0715380e22 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -483,7 +483,7 @@
   #endif
 
   // Alter timing for graphical display
-  #if ENABLED(U8GLIB_ST7920)
+  #if IS_U8GLIB_ST7920
     #define BOARD_ST7920_DELAY_1              96
     #define BOARD_ST7920_DELAY_2              48
     #define BOARD_ST7920_DELAY_3             600

commit c881fab1280f338e32015e1556890d647ee967fb
Author: dotdash32 <dotdash32@gmail.com>
Date:   Sun Sep 5 17:21:25 2021 -0700

    üé® Use largest default ST9720 delays (#22713)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 5a1efc252b..68948f7de9 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -425,11 +425,6 @@
     #define LCD_PINS_ENABLE          EXP1_03_PIN
     #define LCD_PINS_D4              EXP1_05_PIN
 
-    // CR10_STOCKDISPLAY default timing is too fast
-    #undef BOARD_ST7920_DELAY_1
-    #undef BOARD_ST7920_DELAY_2
-    #undef BOARD_ST7920_DELAY_3
-
   #elif ENABLED(MKS_MINI_12864)
     #define DOGLCD_A0                EXP1_04_PIN
     #define DOGLCD_CS                EXP1_05_PIN
@@ -489,9 +484,9 @@
 
   // Alter timing for graphical display
   #if ENABLED(U8GLIB_ST7920)
-    #define BOARD_ST7920_DELAY_1   DELAY_NS( 96)
-    #define BOARD_ST7920_DELAY_2   DELAY_NS( 48)
-    #define BOARD_ST7920_DELAY_3   DELAY_NS(600)
+    #define BOARD_ST7920_DELAY_1              96
+    #define BOARD_ST7920_DELAY_2              48
+    #define BOARD_ST7920_DELAY_3             600
   #endif
 
 #endif // HAS_WIRED_LCD

commit d818a019c5d80e8b2238f0ea8311ad53154be4ec
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Aug 28 15:27:52 2021 -0500

    üé® EXP headers, ST7920 delays (#22641)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index fa49ff1495..5a1efc252b 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -488,16 +488,10 @@
   #endif
 
   // Alter timing for graphical display
-  #if HAS_MARLINUI_U8GLIB
-    #ifndef BOARD_ST7920_DELAY_1
-      #define BOARD_ST7920_DELAY_1 DELAY_NS(96)
-    #endif
-    #ifndef BOARD_ST7920_DELAY_2
-      #define BOARD_ST7920_DELAY_2 DELAY_NS(48)
-    #endif
-    #ifndef BOARD_ST7920_DELAY_3
-      #define BOARD_ST7920_DELAY_3 DELAY_NS(600)
-    #endif
+  #if ENABLED(U8GLIB_ST7920)
+    #define BOARD_ST7920_DELAY_1   DELAY_NS( 96)
+    #define BOARD_ST7920_DELAY_2   DELAY_NS( 48)
+    #define BOARD_ST7920_DELAY_3   DELAY_NS(600)
   #endif
 
 #endif // HAS_WIRED_LCD

commit 2e3b13133159669ecb9682079f60972d0ff5b3c8
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Aug 21 15:07:52 2021 -0500

    üé® Tweak TMC software serial pins

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 3151a38ae8..fa49ff1495 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -239,42 +239,39 @@
   //#define E6_HARDWARE_SERIAL Serial1  // M5 MOTOR 4
   //#define E7_HARDWARE_SERIAL Serial1  // M5 MOTOR 5
 
-  //
-  // Software serial
-  //
   #define X_SERIAL_TX_PIN                   PC14
-  #define X_SERIAL_RX_PIN                   PC14
+  #define X_SERIAL_RX_PIN        X_SERIAL_TX_PIN
 
   #define Y_SERIAL_TX_PIN                   PE1
-  #define Y_SERIAL_RX_PIN                   PE1
+  #define Y_SERIAL_RX_PIN        Y_SERIAL_TX_PIN
 
   #define Z_SERIAL_TX_PIN                   PB5
-  #define Z_SERIAL_RX_PIN                   PB5
+  #define Z_SERIAL_RX_PIN        Z_SERIAL_TX_PIN
 
   #define E0_SERIAL_TX_PIN                  PG10
-  #define E0_SERIAL_RX_PIN                  PG10
+  #define E0_SERIAL_RX_PIN      E0_SERIAL_TX_PIN
 
   #define E1_SERIAL_TX_PIN                  PD4
-  #define E1_SERIAL_RX_PIN                  PD4
+  #define E1_SERIAL_RX_PIN      E1_SERIAL_TX_PIN
 
   #define E2_SERIAL_TX_PIN                  PC12
-  #define E2_SERIAL_RX_PIN                  PC12
+  #define E2_SERIAL_RX_PIN      E2_SERIAL_TX_PIN
 
   #if ENABLED(M5_EXTENDER)
     #define E3_SERIAL_TX_PIN                PG4
-    #define E3_SERIAL_RX_PIN                PG4
+    #define E3_SERIAL_RX_PIN    E3_SERIAL_TX_PIN
 
     #define E4_SERIAL_TX_PIN                PE15
-    #define E4_SERIAL_RX_PIN                PE15
+    #define E4_SERIAL_RX_PIN    E4_SERIAL_TX_PIN
 
     #define E5_SERIAL_TX_PIN                PE7
-    #define E5_SERIAL_RX_PIN                PE7
+    #define E5_SERIAL_RX_PIN    E5_SERIAL_TX_PIN
 
     #define E6_SERIAL_TX_PIN                PF15
-    #define E6_SERIAL_RX_PIN                PF15
+    #define E6_SERIAL_RX_PIN    E6_SERIAL_TX_PIN
 
     #define E7_SERIAL_TX_PIN                PH14
-    #define E7_SERIAL_RX_PIN                PH14
+    #define E7_SERIAL_RX_PIN    E7_SERIAL_TX_PIN
   #endif
 
   // Reduce baud rate to improve software serial reliability

commit b2f0913083d83bd3fd9af1c603d1f4cc1afb64eb
Author: Katelyn Schiesser <katelyn.schiesser@gmail.com>
Date:   Tue Jul 6 17:36:41 2021 -0700

    üêõ Redundant Temp Sensor followup (#22196)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 4438ed63ac..3151a38ae8 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -298,19 +298,19 @@
 
 #define TEMP_BED_PIN                        PC0   // T0 <-> Bed
 
-// SPI for Max6675 or Max31855 Thermocouple
+// SPI for MAX Thermocouple
 // Uses a separate SPI bus
-// If you have a two-way thermocouple, you can customize two THERMO_CSx_PIN pins (x:1~2)
+// If you have a two-way thermocouple, you can customize two TEMP_x_CS_PIN pins (x:0~1)
 
-#define THERMO_SCK_PIN                      PI1   // SCK
-#define THERMO_DO_PIN                       PI2   // MISO
-#define THERMO_CS1_PIN                      PH9   // GTR K-TEMP
-#define THERMO_CS2_PIN                      PH2   // M5 K-TEMP
+#define TEMP_0_CS_PIN                       PH9   // GTR K-TEMP
+#define TEMP_0_SCK_PIN                      PI1   // SCK
+#define TEMP_0_MISO_PIN                     PI2   // MISO
+//#define TEMP_0_MOSI_PIN                   ...   // For MAX31865
 
-#define MAX6675_SS_PIN            THERMO_CS1_PIN
-#define MAX6675_SS2_PIN           THERMO_CS2_PIN
-#define MAX6675_SCK_PIN           THERMO_SCK_PIN
-#define MAX6675_DO_PIN             THERMO_DO_PIN
+#define TEMP_1_CS_PIN                       PH2   // M5 K-TEMP
+#define TEMP_1_SCK_PIN           TEMP_0_SCK_PIN
+#define TEMP_1_MISO_PIN         TEMP_0_MISO_PIN
+//#define TEMP_1_MOSI_PIN       TEMP_0_MOSI_PIN
 
 //
 // Heaters / Fans

commit 34c7b6ddae9faddccafe08fd55a7bf8c2f3d1942
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Thu Jun 17 17:39:48 2021 -0700

    üêõ TFT encoder pin for BTT GTR (#22162)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 850b23db66..4438ed63ac 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -411,6 +411,7 @@
   #define TOUCH_MOSI_PIN             EXP1_08_PIN
   #define TOUCH_SCK_PIN              EXP1_06_PIN
   #define TOUCH_CS_PIN               EXP1_07_PIN
+  #define BTN_ENC                    EXP1_09_PIN
   #define BTN_EN1                    EXP2_08_PIN
   #define BTN_EN2                    EXP2_06_PIN
 

commit ce5dece3b57ad2fe36347530a6de79a3848736f4
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Sun Jun 6 02:59:19 2021 -0300

    ‚ö∞Ô∏è Remove obsolete CUSTOM_SPI_PINS (#22058)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 8f19b1915d..850b23db66 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -357,8 +357,6 @@
 
 #elif SD_CONNECTION_IS(ONBOARD)
 
-  // Instruct the STM32 HAL to override the default SPI pins from the variant.h file
-  #define CUSTOM_SPI_PINS
   #define SDSS                              PA4
   #define SD_SS_PIN                         SDSS
   #define SD_SCK_PIN                        PA5

commit eea9b6d8ae38af3ca9d5b2f6fb355fc8fce405fb
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Sat Jun 5 03:02:37 2021 +0200

    üêõ Fix MMU compile with >5 EXTRUDERS (#22036)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 70ac9a13c3..8f19b1915d 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -23,10 +23,10 @@
 
 #include "env_validate.h"
 
-#if HOTENDS > 8 || E_STEPPERS > 8
-  #error "BIGTREE GTR V1.0 supports up to 8 hotends / E-steppers."
-#elif HOTENDS > MAX_E_STEPPERS || E_STEPPERS > MAX_E_STEPPERS
+#if E_STEPPERS > MAX_E_STEPPERS
   #error "Marlin extruder/hotends limit! Increase MAX_E_STEPPERS to continue."
+#elif HOTENDS > 8 || E_STEPPERS > 8
+  #error "BIGTREE GTR V1.0 supports up to 8 hotends / E-steppers."
 #endif
 
 #define BOARD_INFO_NAME "BTT GTR V1.0"

commit 49771c4a9ed2afa1e572f82a24b5edb3de120f78
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed May 19 00:21:34 2021 -0500

    üé® Flags for homing directions

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 70d502f68a..70ac9a13c3 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -69,7 +69,7 @@
 //
 #ifdef X_STALL_SENSITIVITY
   #define X_STOP_PIN                  X_DIAG_PIN
-  #if X_HOME_DIR < 0
+  #if X_HOME_TO_MIN
     #define X_MAX_PIN                E0_DIAG_PIN  // X+
   #else
     #define X_MIN_PIN                E0_DIAG_PIN  // X+
@@ -81,7 +81,7 @@
 
 #ifdef Y_STALL_SENSITIVITY
   #define Y_STOP_PIN                  Y_DIAG_PIN
-  #if Y_HOME_DIR < 0
+  #if Y_HOME_TO_MIN
     #define Y_MAX_PIN                E1_DIAG_PIN  // Y+
   #else
     #define Y_MIN_PIN                E1_DIAG_PIN  // Y+
@@ -93,7 +93,7 @@
 
 #ifdef Z_STALL_SENSITIVITY
   #define Z_STOP_PIN                  Z_DIAG_PIN
-  #if Z_HOME_DIR < 0
+  #if Z_HOME_TO_MIN
     #define Z_MAX_PIN                E2_DIAG_PIN  // Z+
   #else
     #define Z_MIN_PIN                E2_DIAG_PIN  // Z+

commit 98e7e6324074d1583e04f1fefbdb5d52a17c173a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun May 2 03:29:29 2021 -0500

    TFT pins for BTT GTR V1
    
    Proposed in #21772

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index cae1261a81..70d502f68a 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -342,7 +342,7 @@
 #endif
 
 #ifndef SDCARD_CONNECTION
-  #define SDCARD_CONNECTION ONBOARD
+  #define SDCARD_CONNECTION              ONBOARD
 #endif
 
 //
@@ -352,8 +352,8 @@
 //
 #if SD_CONNECTION_IS(LCD)
 
-  #define SD_DETECT_PIN                     PB10
-  #define SDSS                              PB12
+  #define SD_DETECT_PIN              EXP2_04_PIN
+  #define SDSS                       EXP2_07_PIN
 
 #elif SD_CONNECTION_IS(ONBOARD)
 
@@ -371,31 +371,63 @@
 #endif
 
 /**
- *               -----                                             -----
- *           NC | ¬∑ ¬∑ | GND                                    5V | ¬∑ ¬∑ | GND
- *        RESET | ¬∑ ¬∑ | PB10(SD_DETECT)             (LCD_D7)  PG5 | ¬∑ ¬∑ | PG6  (LCD_D6)
- *   (MOSI)PB15 | ¬∑ ¬∑ | PH10(BTN_EN2)               (LCD_D5)  PG7 | ¬∑ ¬∑ | PG8  (LCD_D4)
- *  (SD_SS)PB12 | ¬∑ ¬∑ | PD10(BTN_EN1)               (LCD_RS)  PA8 | ¬∑ ¬∑ | PC10 (LCD_EN)
- *    (SCK)PB13 | ¬∑ ¬∑ | PB14(MISO)                 (BTN_ENC) PA15 | ¬∑ ¬∑ | PC11  (BEEPER)
- *               -----                                             -----
- *               EXP2                                              EXP1
+ *               ------                                          ------
+ *           NC | 1  2 | GND                                 5V | 1  2 | GND
+ *        RESET | 3  4 | PB10 (SD_DETECT)         (LCD_D7)  PG5 | 3  4 | PG6  (LCD_D6)
+ *  (MOSI) PB15 | 5  6 | PH10 (BTN_EN2)           (LCD_D5)  PG7 | 5  6 | PG8  (LCD_D4)
+ * (SD_SS) PB12 | 7  8 | PD10 (BTN_EN1)           (LCD_RS)  PA8 | 7  8 | PC10 (LCD_EN)
+ *   (SCK) PB13 | 9 10 | PB14 (MISO)             (BTN_ENC) PA15 | 9 10 | PC11 (BEEPER)
+ *               ------                                          ------
+ *                EXP2                                            EXP1
  */
+#define EXP1_03_PIN                         PG5
+#define EXP1_04_PIN                         PG6
+#define EXP1_05_PIN                         PG7
+#define EXP1_06_PIN                         PG8
+#define EXP1_07_PIN                         PA8
+#define EXP1_08_PIN                         PC10
+#define EXP1_09_PIN                         PA15
+#define EXP1_10_PIN                         PC11
+
+#define EXP2_04_PIN                         PB10
+#define EXP2_05_PIN                         PB15
+#define EXP2_06_PIN                         PH10
+#define EXP2_07_PIN                         PB12
+#define EXP2_08_PIN                         PD10
+#define EXP2_09_PIN                         PB13
+#define EXP2_10_PIN                         PB14
 
 //
 // LCDs and Controllers
 //
-#if HAS_WIRED_LCD
-  #define BEEPER_PIN                        PC11
-  #define BTN_ENC                           PA15
+#if ANY(TFT_COLOR_UI, TFT_LVGL_UI, TFT_CLASSIC_UI)
+
+  #define TFT_CS_PIN                 EXP2_07_PIN
+  #define TFT_A0_PIN                 EXP2_04_PIN
+  #define TFT_SCK_PIN                EXP2_09_PIN
+  #define TFT_MISO_PIN               EXP2_10_PIN
+  #define TFT_MOSI_PIN               EXP2_05_PIN
+
+  #define TOUCH_INT_PIN              EXP1_04_PIN
+  #define TOUCH_MISO_PIN             EXP1_05_PIN
+  #define TOUCH_MOSI_PIN             EXP1_08_PIN
+  #define TOUCH_SCK_PIN              EXP1_06_PIN
+  #define TOUCH_CS_PIN               EXP1_07_PIN
+  #define BTN_EN1                    EXP2_08_PIN
+  #define BTN_EN2                    EXP2_06_PIN
+
+#elif HAS_WIRED_LCD
+  #define BEEPER_PIN                 EXP1_10_PIN
+  #define BTN_ENC                    EXP1_09_PIN
 
   #if ENABLED(CR10_STOCKDISPLAY)
-    #define LCD_PINS_RS                     PG6
+    #define LCD_PINS_RS              EXP1_04_PIN
 
-    #define BTN_EN1                         PC10
-    #define BTN_EN2                         PG8
+    #define BTN_EN1                  EXP1_08_PIN
+    #define BTN_EN2                  EXP1_06_PIN
 
-    #define LCD_PINS_ENABLE                 PG5
-    #define LCD_PINS_D4                     PG7
+    #define LCD_PINS_ENABLE          EXP1_03_PIN
+    #define LCD_PINS_D4              EXP1_05_PIN
 
     // CR10_STOCKDISPLAY default timing is too fast
     #undef BOARD_ST7920_DELAY_1
@@ -403,53 +435,53 @@
     #undef BOARD_ST7920_DELAY_3
 
   #elif ENABLED(MKS_MINI_12864)
-    #define DOGLCD_A0                       PG6
-    #define DOGLCD_CS                       PG7
-    #define BTN_EN1                         PD10
-    #define BTN_EN2                         PH10
+    #define DOGLCD_A0                EXP1_04_PIN
+    #define DOGLCD_CS                EXP1_05_PIN
+    #define BTN_EN1                  EXP2_08_PIN
+    #define BTN_EN2                  EXP2_06_PIN
 
     #if SD_CONNECTION_IS(ONBOARD)
       #define SOFTWARE_SPI
     #endif
   #else
 
-    #define LCD_PINS_RS                     PA8
+    #define LCD_PINS_RS              EXP1_07_PIN
 
-    #define BTN_EN1                         PD10
-    #define BTN_EN2                         PH10
+    #define BTN_EN1                  EXP2_08_PIN
+    #define BTN_EN2                  EXP2_06_PIN
 
-    #define LCD_PINS_ENABLE                 PC10
-    #define LCD_PINS_D4                     PG8
+    #define LCD_PINS_ENABLE          EXP1_08_PIN
+    #define LCD_PINS_D4              EXP1_06_PIN
 
     #if ENABLED(FYSETC_MINI_12864)
-      #define DOGLCD_CS                     PC10
-      #define DOGLCD_A0                     PA8
+      #define DOGLCD_CS              EXP1_08_PIN
+      #define DOGLCD_A0              EXP1_07_PIN
 
       #if SD_CONNECTION_IS(ONBOARD)
         #define SOFTWARE_SPI
       #endif
 
       //#define LCD_BACKLIGHT_PIN           -1
-      #define LCD_RESET_PIN                 PG8   // Must be high or open for LCD to operate normally.
+      #define LCD_RESET_PIN          EXP1_06_PIN  // Must be high or open for LCD to operate normally.
       #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
         #ifndef RGB_LED_R_PIN
-          #define RGB_LED_R_PIN             PG7
+          #define RGB_LED_R_PIN      EXP1_05_PIN
         #endif
         #ifndef RGB_LED_G_PIN
-          #define RGB_LED_G_PIN             PG6
+          #define RGB_LED_G_PIN      EXP1_04_PIN
         #endif
         #ifndef RGB_LED_B_PIN
-          #define RGB_LED_B_PIN             PG5
+          #define RGB_LED_B_PIN      EXP1_03_PIN
         #endif
       #elif ENABLED(FYSETC_MINI_12864_2_1)
-        #define NEOPIXEL_PIN                PG7
+        #define NEOPIXEL_PIN         EXP1_05_PIN
       #endif
     #endif // !FYSETC_MINI_12864
 
     #if IS_ULTIPANEL
-      #define LCD_PINS_D5                   PG7
-      #define LCD_PINS_D6                   PG6
-      #define LCD_PINS_D7                   PG5
+      #define LCD_PINS_D5            EXP1_05_PIN
+      #define LCD_PINS_D6            EXP1_04_PIN
+      #define LCD_PINS_D7            EXP1_03_PIN
 
       #if ENABLED(REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
         #define BTN_ENC_EN           LCD_PINS_D7  // Detect the presence of the encoder

commit 553487cc8ab348939c6033910c0aa11d230b2ad6
Author: MangaValk <patrickvalkmanga@hotmail.com>
Date:   Fri Apr 16 15:02:31 2021 +0200

    Tool sensors (#17239)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 6c59f27c5e..cae1261a81 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -38,17 +38,21 @@
 // USB Flash Drive support
 #define HAS_OTG_USB_HOST_SUPPORT
 
-#define TP                                        // Enable to define servo and probe pins
 #define M5_EXTENDER                               // The M5 extender is attached
 
 //
 // Servos
 //
-#if ENABLED(TP)
-  #define SERVO0_PIN                        PB11
-#endif
+#define SERVO0_PIN                          PB11  // BLTOUCH
+#define SOL0_PIN                            PC7   // Toolchanger
 
-#define PS_ON_PIN                           PH6
+#if ENABLED(TOOL_SENSOR)
+  #define TOOL_SENSOR1_PIN                  PH6
+  #define TOOL_SENSOR2_PIN                  PI4
+  //#define TOOL_SENSOR3_PIN                PF4
+#else
+  #define PS_ON_PIN                         PH6
+#endif
 
 //
 // Trinamic Stallguard pins
@@ -110,7 +114,7 @@
   #define Z4_STOP_PIN                       PF6   // M5 M3_STOP
 #endif
 
-#if ENABLED(TP) && !defined(Z_MIN_PROBE_PIN)
+#ifndef Z_MIN_PROBE_PIN
   #define Z_MIN_PROBE_PIN                   PH11  // Z Probe must be PH11
 #endif
 

commit 3ea56ba4c72fb1e9c4bb4a896b8cf87361a48f4b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 5 04:30:52 2021 -0600

    Tweak tests, consolidate pins target validation (#21254)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index cd9d60d2f0..6c59f27c5e 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -21,9 +21,9 @@
  */
 #pragma once
 
-#if NOT_TARGET(STM32F4)
-  #error "Oops! Select an STM32F4 board in 'Tools > Board.'"
-#elif HOTENDS > 8 || E_STEPPERS > 8
+#include "env_validate.h"
+
+#if HOTENDS > 8 || E_STEPPERS > 8
   #error "BIGTREE GTR V1.0 supports up to 8 hotends / E-steppers."
 #elif HOTENDS > MAX_E_STEPPERS || E_STEPPERS > MAX_E_STEPPERS
   #error "Marlin extruder/hotends limit! Increase MAX_E_STEPPERS to continue."

commit 09d07f76b3ce3b735b9f4b634ba217b27c877fe8
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Fri Jan 22 15:15:01 2021 -0600

    Add labels, condition for BTT GTR M5 pins (#20772)
    
    Co-Authored-By: NAPCAL <47440988+NAPCAL@users.noreply.github.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 981064fa4d..cd9d60d2f0 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -39,6 +39,7 @@
 #define HAS_OTG_USB_HOST_SUPPORT
 
 #define TP                                        // Enable to define servo and probe pins
+#define M5_EXTENDER                               // The M5 extender is attached
 
 //
 // Servos
@@ -101,11 +102,13 @@
 //
 // Pins on the extender
 //
-//#define X_MIN_PIN                         PI4
-//#define X2_MIN_PIN                        PF12
-//#define Y_MIN_PIN                         PF4
-//#define Y2_MIN_PIN                        PI7
-//#define Z_MIN_PIN                         PF6
+#if ENABLED(M5_EXTENDER)
+  #define X2_STOP_PIN                       PI4   // M5 M1_STOP
+  #define Y2_STOP_PIN                       PF12  // M5 M5_STOP
+  #define Z2_STOP_PIN                       PF4   // M5 M2_STOP
+  #define Z3_STOP_PIN                       PI7   // M5 M4_STOP
+  #define Z4_STOP_PIN                       PF6   // M5 M3_STOP
+#endif
 
 #if ENABLED(TP) && !defined(Z_MIN_PROBE_PIN)
   #define Z_MIN_PROBE_PIN                   PH11  // Z Probe must be PH11
@@ -156,39 +159,43 @@
   #define E2_CS_PIN                         PC12
 #endif
 
-#define E3_STEP_PIN                         PF3
-#define E3_DIR_PIN                          PG3
-#define E3_ENABLE_PIN                       PF8
-#ifndef E3_CS_PIN
-  #define E3_CS_PIN                         PG4
-#endif
+#if ENABLED(M5_EXTENDER)
 
-#define E4_STEP_PIN                         PD14
-#define E4_DIR_PIN                          PD11
-#define E4_ENABLE_PIN                       PG2
-#ifndef E4_CS_PIN
-  #define E4_CS_PIN                         PE15
-#endif
+  #define E3_STEP_PIN                       PF3
+  #define E3_DIR_PIN                        PG3
+  #define E3_ENABLE_PIN                     PF8
+  #ifndef E3_CS_PIN
+    #define E3_CS_PIN                       PG4
+  #endif
 
-#define E5_STEP_PIN                         PE12
-#define E5_DIR_PIN                          PE10
-#define E5_ENABLE_PIN                       PF14
-#ifndef E5_CS_PIN
-  #define E5_CS_PIN                         PE7
-#endif
+  #define E4_STEP_PIN                       PD14
+  #define E4_DIR_PIN                        PD11
+  #define E4_ENABLE_PIN                     PG2
+  #ifndef E4_CS_PIN
+    #define E4_CS_PIN                       PE15
+  #endif
 
-#define E6_STEP_PIN                         PG0
-#define E6_DIR_PIN                          PG1
-#define E6_ENABLE_PIN                       PE8
-#ifndef E6_CS_PIN
-  #define E6_CS_PIN                         PF15
-#endif
+  #define E5_STEP_PIN                       PE12
+  #define E5_DIR_PIN                        PE10
+  #define E5_ENABLE_PIN                     PF14
+  #ifndef E5_CS_PIN
+    #define E5_CS_PIN                       PE7
+  #endif
+
+  #define E6_STEP_PIN                       PG0
+  #define E6_DIR_PIN                        PG1
+  #define E6_ENABLE_PIN                     PE8
+  #ifndef E6_CS_PIN
+    #define E6_CS_PIN                       PF15
+  #endif
+
+  #define E7_STEP_PIN                       PH12
+  #define E7_DIR_PIN                        PH15
+  #define E7_ENABLE_PIN                     PI0
+  #ifndef E7_CS_PIN
+    #define E7_CS_PIN                       PH14
+  #endif
 
-#define E7_STEP_PIN                         PH12
-#define E7_DIR_PIN                          PH15
-#define E7_ENABLE_PIN                       PI0
-#ifndef E7_CS_PIN
-  #define E7_CS_PIN                         PH14
 #endif
 
 //
@@ -222,11 +229,11 @@
   //#define E0_HARDWARE_SERIAL Serial1
   //#define E1_HARDWARE_SERIAL Serial1
   //#define E2_HARDWARE_SERIAL Serial1
-  //#define E3_HARDWARE_SERIAL Serial1
-  //#define E4_HARDWARE_SERIAL Serial1
-  //#define E5_HARDWARE_SERIAL Serial1
-  //#define E6_HARDWARE_SERIAL Serial1
-  //#define E7_HARDWARE_SERIAL Serial1
+  //#define E3_HARDWARE_SERIAL Serial1  // M5 MOTOR 1
+  //#define E4_HARDWARE_SERIAL Serial1  // M5 MOTOR 2
+  //#define E5_HARDWARE_SERIAL Serial1  // M5 MOTOR 3
+  //#define E6_HARDWARE_SERIAL Serial1  // M5 MOTOR 4
+  //#define E7_HARDWARE_SERIAL Serial1  // M5 MOTOR 5
 
   //
   // Software serial
@@ -249,20 +256,22 @@
   #define E2_SERIAL_TX_PIN                  PC12
   #define E2_SERIAL_RX_PIN                  PC12
 
-  #define E3_SERIAL_TX_PIN                  PG4
-  #define E3_SERIAL_RX_PIN                  PG4
+  #if ENABLED(M5_EXTENDER)
+    #define E3_SERIAL_TX_PIN                PG4
+    #define E3_SERIAL_RX_PIN                PG4
 
-  #define E4_SERIAL_TX_PIN                  PE15
-  #define E4_SERIAL_RX_PIN                  PE15
+    #define E4_SERIAL_TX_PIN                PE15
+    #define E4_SERIAL_RX_PIN                PE15
 
-  #define E5_SERIAL_TX_PIN                  PE7
-  #define E5_SERIAL_RX_PIN                  PE7
+    #define E5_SERIAL_TX_PIN                PE7
+    #define E5_SERIAL_RX_PIN                PE7
 
-  #define E6_SERIAL_TX_PIN                  PF15
-  #define E6_SERIAL_RX_PIN                  PF15
+    #define E6_SERIAL_TX_PIN                PF15
+    #define E6_SERIAL_RX_PIN                PF15
 
-  #define E7_SERIAL_TX_PIN                  PH14
-  #define E7_SERIAL_RX_PIN                  PH14
+    #define E7_SERIAL_TX_PIN                PH14
+    #define E7_SERIAL_RX_PIN                PH14
+  #endif
 
   // Reduce baud rate to improve software serial reliability
   #define TMC_BAUD_RATE                    19200
@@ -275,11 +284,13 @@
 #define TEMP_1_PIN                          PC2   // T2 <-> E1
 #define TEMP_2_PIN                          PC3   // T3 <-> E2
 
-#define TEMP_3_PIN                          PA3   //¬†T4¬†<->¬†E3
-#define TEMP_4_PIN                          PF9   //¬†T5¬†<->¬†E4
-#define TEMP_5_PIN                          PF10  //¬†T6¬†<->¬†E5
-#define TEMP_6_PIN                          PF7   //¬†T7¬†<->¬†E6
-#define TEMP_7_PIN                          PF5   //¬†T8¬†<->¬†E7
+#if ENABLED(M5_EXTENDER)
+  #define TEMP_3_PIN                        PA3   // M5 TEMP1
+  #define TEMP_4_PIN                        PF9   // M5 TEMP2
+  #define TEMP_5_PIN                        PF10  // M5 TEMP3
+  #define TEMP_6_PIN                        PF7   // M5 TEMP4
+  #define TEMP_7_PIN                        PF5   // M5 TEMP5
+#endif
 
 #define TEMP_BED_PIN                        PC0   // T0 <-> Bed
 
@@ -289,8 +300,8 @@
 
 #define THERMO_SCK_PIN                      PI1   // SCK
 #define THERMO_DO_PIN                       PI2   // MISO
-#define THERMO_CS1_PIN                      PH9   // CS1
-#define THERMO_CS2_PIN                      PH2   // CS2
+#define THERMO_CS1_PIN                      PH9   // GTR K-TEMP
+#define THERMO_CS2_PIN                      PH2   // M5 K-TEMP
 
 #define MAX6675_SS_PIN            THERMO_CS1_PIN
 #define MAX6675_SS2_PIN           THERMO_CS2_PIN
@@ -304,11 +315,13 @@
 #define HEATER_1_PIN                        PA1   // Heater1
 #define HEATER_2_PIN                        PB0   // Heater2
 
-#define HEATER_3_PIN                        PD15  //¬†Heater3
-#define HEATER_4_PIN                        PD13  //¬†Heater4
-#define HEATER_5_PIN                        PD12  //¬†Heater5
-#define HEATER_6_PIN                        PE13  //¬†Heater6
-#define HEATER_7_PIN                        PI6   //¬†Heater7
+#if ENABLED(M5_EXTENDER)
+  #define HEATER_3_PIN                      PD15  // M5 HEAT1
+  #define HEATER_4_PIN                      PD13  // M5 HEAT2
+  #define HEATER_5_PIN                      PD12  // M5 HEAT3
+  #define HEATER_6_PIN                      PE13  // M5 HEAT4
+  #define HEATER_7_PIN                      PI6   // M5 HEAT5
+#endif
 
 #define HEATER_BED_PIN                      PA2   // Hotbed
 
@@ -316,11 +329,13 @@
 #define FAN1_PIN                            PE6   // Fan1
 #define FAN2_PIN                            PC8   // Fan2
 
-#define FAN3_PIN                            PI5   //¬†Fan3
-#define FAN4_PIN                            PE9   //¬†Fan4
-#define FAN5_PIN                            PE11  //¬†Fan5
-//#define FAN6_PIN                          PC9   //¬†Fan6
-//#define FAN7_PIN                          PE14  //¬†Fan7
+#if ENABLED(M5_EXTENDER)
+  #define FAN3_PIN                          PI5   // M5 FAN1
+  #define FAN4_PIN                          PE9   // M5 FAN2
+  #define FAN5_PIN                          PE11  // M5 FAN3
+  //#define FAN6_PIN                        PC9   // M5 FAN4
+  //#define FAN7_PIN                        PE14  // M5 FAN5
+#endif
 
 #ifndef SDCARD_CONNECTION
   #define SDCARD_CONNECTION ONBOARD
@@ -456,3 +471,4 @@
 #endif // HAS_WIRED_LCD
 
 #undef TP
+#undef M5_EXTENDER

commit c840bbc970c2684c2c9c193ee967c03dd621d99a
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Fri Jan 1 17:31:15 2021 -0300

    Prefix SD SPI pins (SCK, MISO, MOSI, SS) (#20606)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index d8a6e453fe..981064fa4d 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -341,10 +341,10 @@
   // Instruct the STM32 HAL to override the default SPI pins from the variant.h file
   #define CUSTOM_SPI_PINS
   #define SDSS                              PA4
-  #define SS_PIN                            SDSS
-  #define SCK_PIN                           PA5
-  #define MISO_PIN                          PA6
-  #define MOSI_PIN                          PA7
+  #define SD_SS_PIN                         SDSS
+  #define SD_SCK_PIN                        PA5
+  #define SD_MISO_PIN                       PA6
+  #define SD_MOSI_PIN                       PA7
   #define SD_DETECT_PIN                     PC4
 
 #elif SD_CONNECTION_IS(CUSTOM_CABLE)

commit a9d18f0f57d7291d862fdfd11bf0684ba414f770
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Dec 30 22:00:36 2020 -0600

    SPI and pins cleanup

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index d594e3ca49..d8a6e453fe 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -63,39 +63,39 @@
 // Limit Switches
 //
 #ifdef X_STALL_SENSITIVITY
-  #define X_STOP_PIN                        X_DIAG_PIN
+  #define X_STOP_PIN                  X_DIAG_PIN
   #if X_HOME_DIR < 0
-    #define X_MAX_PIN                       E0_DIAG_PIN  // X+
+    #define X_MAX_PIN                E0_DIAG_PIN  // X+
   #else
-    #define X_MIN_PIN                       E0_DIAG_PIN  // X+
+    #define X_MIN_PIN                E0_DIAG_PIN  // X+
   #endif
 #else
-  #define X_MIN_PIN                         X_DIAG_PIN   // X-
-  #define X_MAX_PIN                         E0_DIAG_PIN  // X+
+  #define X_MIN_PIN                   X_DIAG_PIN  // X-
+  #define X_MAX_PIN                  E0_DIAG_PIN  // X+
 #endif
 
 #ifdef Y_STALL_SENSITIVITY
-  #define Y_STOP_PIN                        Y_DIAG_PIN
+  #define Y_STOP_PIN                  Y_DIAG_PIN
   #if Y_HOME_DIR < 0
-    #define Y_MAX_PIN                       E1_DIAG_PIN  // Y+
+    #define Y_MAX_PIN                E1_DIAG_PIN  // Y+
   #else
-    #define Y_MIN_PIN                       E1_DIAG_PIN  // Y+
+    #define Y_MIN_PIN                E1_DIAG_PIN  // Y+
   #endif
 #else
-  #define Y_MIN_PIN                         Y_DIAG_PIN   // Y-
-  #define Y_MAX_PIN                         E1_DIAG_PIN  // Y+
+  #define Y_MIN_PIN                   Y_DIAG_PIN  // Y-
+  #define Y_MAX_PIN                  E1_DIAG_PIN  // Y+
 #endif
 
 #ifdef Z_STALL_SENSITIVITY
-  #define Z_STOP_PIN                        Z_DIAG_PIN
+  #define Z_STOP_PIN                  Z_DIAG_PIN
   #if Z_HOME_DIR < 0
-    #define Z_MAX_PIN                       E2_DIAG_PIN  // Z+
+    #define Z_MAX_PIN                E2_DIAG_PIN  // Z+
   #else
-    #define Z_MIN_PIN                       E2_DIAG_PIN  // Z+
+    #define Z_MIN_PIN                E2_DIAG_PIN  // Z+
   #endif
 #else
-  #define Z_MIN_PIN                         Z_DIAG_PIN   // Z-
-  #define Z_MAX_PIN                         E2_DIAG_PIN  // Z+
+  #define Z_MIN_PIN                   Z_DIAG_PIN  // Z-
+  #define Z_MAX_PIN                  E2_DIAG_PIN  // Z+
 #endif
 
 //

commit 84ab088b4093c997d3a3e005ca90bfd756839299
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Tue Dec 29 02:16:38 2020 -0300

    USB FD via native USB Host + MSC (#20571)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index bfa4007658..d594e3ca49 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -35,6 +35,9 @@
 #define I2C_EEPROM
 #define MARLIN_EEPROM_SIZE                0x2000  // 8KB (24C64 ... 64Kb = 8KB)
 
+// USB Flash Drive support
+#define HAS_OTG_USB_HOST_SUPPORT
+
 #define TP                                        // Enable to define servo and probe pins
 
 //

commit 109f68f7dff0b0539d6d522ac3b849b516394ae9
Author: ellensp <ellensp@hotmail.com>
Date:   Fri Nov 27 17:50:21 2020 +1300

    Fix BTT GTR 1.0 endstop/DIAG pins (#20296)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 6c475faeb5..bfa4007658 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -46,15 +46,54 @@
 
 #define PS_ON_PIN                           PH6
 
+//
+// Trinamic Stallguard pins
+//
+#define X_DIAG_PIN                          PF2   // X-
+#define Y_DIAG_PIN                          PC13  // Y-
+#define Z_DIAG_PIN                          PE0   // Z-
+#define E0_DIAG_PIN                         PG14  // X+
+#define E1_DIAG_PIN                         PG9   // Y+
+#define E2_DIAG_PIN                         PD3   // Z+
+
 //
 // Limit Switches
 //
-#define X_MIN_PIN                           PF2
-#define X_MAX_PIN                           PG14
-#define Y_MIN_PIN                           PC13
-#define Y_MAX_PIN                           PG9
-#define Z_MIN_PIN                           PE0
-#define Z_MAX_PIN                           PD3
+#ifdef X_STALL_SENSITIVITY
+  #define X_STOP_PIN                        X_DIAG_PIN
+  #if X_HOME_DIR < 0
+    #define X_MAX_PIN                       E0_DIAG_PIN  // X+
+  #else
+    #define X_MIN_PIN                       E0_DIAG_PIN  // X+
+  #endif
+#else
+  #define X_MIN_PIN                         X_DIAG_PIN   // X-
+  #define X_MAX_PIN                         E0_DIAG_PIN  // X+
+#endif
+
+#ifdef Y_STALL_SENSITIVITY
+  #define Y_STOP_PIN                        Y_DIAG_PIN
+  #if Y_HOME_DIR < 0
+    #define Y_MAX_PIN                       E1_DIAG_PIN  // Y+
+  #else
+    #define Y_MIN_PIN                       E1_DIAG_PIN  // Y+
+  #endif
+#else
+  #define Y_MIN_PIN                         Y_DIAG_PIN   // Y-
+  #define Y_MAX_PIN                         E1_DIAG_PIN  // Y+
+#endif
+
+#ifdef Z_STALL_SENSITIVITY
+  #define Z_STOP_PIN                        Z_DIAG_PIN
+  #if Z_HOME_DIR < 0
+    #define Z_MAX_PIN                       E2_DIAG_PIN  // Z+
+  #else
+    #define Z_MIN_PIN                       E2_DIAG_PIN  // Z+
+  #endif
+#else
+  #define Z_MIN_PIN                         Z_DIAG_PIN   // Z-
+  #define Z_MAX_PIN                         E2_DIAG_PIN  // Z+
+#endif
 
 //
 // Pins on the extender

commit 6851909f9031ab79fb5ab4492189edac85904496
Author: Gurmeet Athwal <gurmeet.athwal@gmail.com>
Date:   Sat Nov 21 13:17:04 2020 +0530

    BTN_ENC_EN for many boards (#19890)
    
    Enables CHECK_ENCODER_ACTIVE_SIGNAL for many more boards.
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>
    Co-authored-by: Jason Smith <jason.inet@gmail.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 60b2adbfa8..6c475faeb5 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -389,6 +389,11 @@
       #define LCD_PINS_D5                   PG7
       #define LCD_PINS_D6                   PG6
       #define LCD_PINS_D7                   PG5
+
+      #if ENABLED(REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER)
+        #define BTN_ENC_EN           LCD_PINS_D7  // Detect the presence of the encoder
+      #endif
+
     #endif
 
   #endif

commit 4c5a58a5db6f2407b7d38518fdbd7caea6fbef33
Author: Maciej Rutkowski <onfoot@users.noreply.github.com>
Date:   Thu Nov 19 11:49:44 2020 +0100

    Fix GTR NeoPixel pin with FYSETC Mini12864 (#20203)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index eb1e886fa4..60b2adbfa8 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -381,7 +381,7 @@
           #define RGB_LED_B_PIN             PG5
         #endif
       #elif ENABLED(FYSETC_MINI_12864_2_1)
-        #define NEOPIXEL_PIN                PF13
+        #define NEOPIXEL_PIN                PG7
       #endif
     #endif // !FYSETC_MINI_12864
 

commit 41529b65988a58ba512977e0fe1692aaeeb6c811
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Wed Nov 18 08:27:21 2020 +0100

    SMUFF (MMU2 clone) support (#19912)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index eaf90da1ae..eb1e886fa4 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -25,8 +25,8 @@
   #error "Oops! Select an STM32F4 board in 'Tools > Board.'"
 #elif HOTENDS > 8 || E_STEPPERS > 8
   #error "BIGTREE GTR V1.0 supports up to 8 hotends / E-steppers."
-#elif HOTENDS > MAX_EXTRUDERS || E_STEPPERS > MAX_EXTRUDERS
-  #error "Marlin extruder/hotends limit! Increase MAX_EXTRUDERS to continue."
+#elif HOTENDS > MAX_E_STEPPERS || E_STEPPERS > MAX_E_STEPPERS
+  #error "Marlin extruder/hotends limit! Increase MAX_E_STEPPERS to continue."
 #endif
 
 #define BOARD_INFO_NAME "BTT GTR V1.0"

commit f6ffbe548c81abfeecc996c8f2bffd27cabe0014
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Oct 15 03:00:27 2020 -0500

    TFT Presets, Generic options, Sanity checks (#19723)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index dc8ce9f2d1..eaf90da1ae 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -385,7 +385,7 @@
       #endif
     #endif // !FYSETC_MINI_12864
 
-    #if ENABLED(ULTIPANEL)
+    #if IS_ULTIPANEL
       #define LCD_PINS_D5                   PG7
       #define LCD_PINS_D6                   PG6
       #define LCD_PINS_D7                   PG5

commit c2c6a679ea4bdf48ce1800a8831fcec36c09ce53
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Sep 28 01:13:27 2020 -0500

    Rename LCD conditionals (#19533)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index ddca719e53..dc8ce9f2d1 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -290,9 +290,12 @@
 // overriding pins to access.
 //
 #if SD_CONNECTION_IS(LCD)
+
   #define SD_DETECT_PIN                     PB10
   #define SDSS                              PB12
+
 #elif SD_CONNECTION_IS(ONBOARD)
+
   // Instruct the STM32 HAL to override the default SPI pins from the variant.h file
   #define CUSTOM_SPI_PINS
   #define SDSS                              PA4
@@ -301,25 +304,26 @@
   #define MISO_PIN                          PA6
   #define MOSI_PIN                          PA7
   #define SD_DETECT_PIN                     PC4
+
 #elif SD_CONNECTION_IS(CUSTOM_CABLE)
-  #define "CUSTOM_CABLE is not a supported SDCARD_CONNECTION for this board"
+  #error "CUSTOM_CABLE is not a supported SDCARD_CONNECTION for this board"
 #endif
 
 /**
- *               _____                                             _____
+ *               -----                                             -----
  *           NC | ¬∑ ¬∑ | GND                                    5V | ¬∑ ¬∑ | GND
  *        RESET | ¬∑ ¬∑ | PB10(SD_DETECT)             (LCD_D7)  PG5 | ¬∑ ¬∑ | PG6  (LCD_D6)
  *   (MOSI)PB15 | ¬∑ ¬∑ | PH10(BTN_EN2)               (LCD_D5)  PG7 | ¬∑ ¬∑ | PG8  (LCD_D4)
  *  (SD_SS)PB12 | ¬∑ ¬∑ | PD10(BTN_EN1)               (LCD_RS)  PA8 | ¬∑ ¬∑ | PC10 (LCD_EN)
  *    (SCK)PB13 | ¬∑ ¬∑ | PB14(MISO)                 (BTN_ENC) PA15 | ¬∑ ¬∑ | PC11  (BEEPER)
- *               Ôø£Ôø£                                               Ôø£Ôø£
+ *               -----                                             -----
  *               EXP2                                              EXP1
  */
 
 //
 // LCDs and Controllers
 //
-#if HAS_SPI_LCD
+#if HAS_WIRED_LCD
   #define BEEPER_PIN                        PC11
   #define BTN_ENC                           PA15
 
@@ -390,7 +394,7 @@
   #endif
 
   // Alter timing for graphical display
-  #if HAS_GRAPHICAL_LCD
+  #if HAS_MARLINUI_U8GLIB
     #ifndef BOARD_ST7920_DELAY_1
       #define BOARD_ST7920_DELAY_1 DELAY_NS(96)
     #endif
@@ -402,6 +406,6 @@
     #endif
   #endif
 
-#endif // HAS_SPI_LCD
+#endif // HAS_WIRED_LCD
 
 #undef TP

commit 90bc1993b6811623dd9d0de00251e0c63415cb49
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Wed Sep 23 17:06:36 2020 -0300

    Include pins.h in dependencies script (#19468)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 8cc1ca5e98..ddca719e53 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -21,7 +21,7 @@
  */
 #pragma once
 
-#ifndef STM32F4
+#if NOT_TARGET(STM32F4)
   #error "Oops! Select an STM32F4 board in 'Tools > Board.'"
 #elif HOTENDS > 8 || E_STEPPERS > 8
   #error "BIGTREE GTR V1.0 supports up to 8 hotends / E-steppers."

commit fb48cd0ab47f3ed981d4c74814e850ff7dcd13ba
Author: Jason Smith <jason.inet@gmail.com>
Date:   Sun Sep 20 20:30:20 2020 -0700

    Replace Serial with Serial1 in pins files (#19459)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 55d1a37aa7..8cc1ca5e98 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -171,7 +171,7 @@
    * Hardware serial communication ports.
    * If undefined software serial is used according to the pins below
    */
-  //#define X_HARDWARE_SERIAL  Serial
+  //#define X_HARDWARE_SERIAL  Serial1
   //#define X2_HARDWARE_SERIAL Serial1
   //#define Y_HARDWARE_SERIAL  Serial1
   //#define Y2_HARDWARE_SERIAL Serial1

commit 4fc1aba8482920bcd5905f26642cec0de314ea09
Author: Jason Smith <jason.inet@gmail.com>
Date:   Mon Sep 7 19:41:48 2020 -0700

    Update HAL/STM32 platform to 8.0 (#18496)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index ea643322b6..55d1a37aa7 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -21,7 +21,7 @@
  */
 #pragma once
 
-#ifndef TARGET_STM32F4
+#ifndef STM32F4
   #error "Oops! Select an STM32F4 board in 'Tools > Board.'"
 #elif HOTENDS > 8 || E_STEPPERS > 8
   #error "BIGTREE GTR V1.0 supports up to 8 hotends / E-steppers."

commit 646d90f3da2feda848dc4a50fe3661701dc881d1
Author: Jason Smith <jason.inet@gmail.com>
Date:   Tue Aug 25 22:43:33 2020 -0700

    Fix SD pins for SKR Pro and GTR (#19047)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index bc882316e7..ea643322b6 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -280,24 +280,29 @@
 //#define FAN6_PIN                          PC9   //¬†Fan6
 //#define FAN7_PIN                          PE14  //¬†Fan7
 
+#ifndef SDCARD_CONNECTION
+  #define SDCARD_CONNECTION ONBOARD
+#endif
+
 //
-// By default the onboard SD (SPI1) is enabled
+// By default the LCD SD (SPI2) is enabled
+// Onboard SD is on a completely separate SPI bus, and requires
+// overriding pins to access.
 //
-#define CUSTOM_SPI_PINS
-#if DISABLED(CUSTOM_SPI_PINS)
+#if SD_CONNECTION_IS(LCD)
+  #define SD_DETECT_PIN                     PB10
   #define SDSS                              PB12
-#endif
-
-// HAL SPI1 pins group
-#if ENABLED(CUSTOM_SPI_PINS)
+#elif SD_CONNECTION_IS(ONBOARD)
+  // Instruct the STM32 HAL to override the default SPI pins from the variant.h file
+  #define CUSTOM_SPI_PINS
   #define SDSS                              PA4
-  #define SD_DETECT_PIN                     PC4
-  #define LCD_SDSS                          PA4
-
+  #define SS_PIN                            SDSS
   #define SCK_PIN                           PA5
   #define MISO_PIN                          PA6
   #define MOSI_PIN                          PA7
-  #define SS_PIN                            PA4   // Chip select for SD card used by Marlin
+  #define SD_DETECT_PIN                     PC4
+#elif SD_CONNECTION_IS(CUSTOM_CABLE)
+  #define "CUSTOM_CABLE is not a supported SDCARD_CONNECTION for this board"
 #endif
 
 /**
@@ -319,7 +324,6 @@
   #define BTN_ENC                           PA15
 
   #if ENABLED(CR10_STOCKDISPLAY)
-
     #define LCD_PINS_RS                     PG6
 
     #define BTN_EN1                         PC10
@@ -333,6 +337,15 @@
     #undef BOARD_ST7920_DELAY_2
     #undef BOARD_ST7920_DELAY_3
 
+  #elif ENABLED(MKS_MINI_12864)
+    #define DOGLCD_A0                       PG6
+    #define DOGLCD_CS                       PG7
+    #define BTN_EN1                         PD10
+    #define BTN_EN2                         PH10
+
+    #if SD_CONNECTION_IS(ONBOARD)
+      #define SOFTWARE_SPI
+    #endif
   #else
 
     #define LCD_PINS_RS                     PA8
@@ -340,17 +353,17 @@
     #define BTN_EN1                         PD10
     #define BTN_EN2                         PH10
 
-    #if DISABLED(CUSTOM_SPI_PINS)
-      #define SD_DETECT_PIN                 PB10
-      #define LCD_SDSS                      PB12
-    #endif
-
     #define LCD_PINS_ENABLE                 PC10
     #define LCD_PINS_D4                     PG8
 
     #if ENABLED(FYSETC_MINI_12864)
       #define DOGLCD_CS                     PC10
       #define DOGLCD_A0                     PA8
+
+      #if SD_CONNECTION_IS(ONBOARD)
+        #define SOFTWARE_SPI
+      #endif
+
       //#define LCD_BACKLIGHT_PIN           -1
       #define LCD_RESET_PIN                 PG8   // Must be high or open for LCD to operate normally.
       #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
@@ -389,11 +402,6 @@
     #endif
   #endif
 
-  //#define DOGLCD_CS                       PB12
-  //#define DOGLCD_A0                       PA8
-  //#define LCD_PINS_DC                     PB14
-  //#define DOGLCD_MOSI                     PB15
-
 #endif // HAS_SPI_LCD
 
 #undef TP

commit a9f7e855d8c030d0d9f34f950a66824b576548b5
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Aug 22 01:22:14 2020 -0500

    Reformat pins files

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 776ab1d811..bc882316e7 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -33,7 +33,7 @@
 
 // Onboard I2C EEPROM
 #define I2C_EEPROM
-#define MARLIN_EEPROM_SIZE 0x2000                 // 8KB (24C64 ... 64Kb = 8KB)
+#define MARLIN_EEPROM_SIZE                0x2000  // 8KB (24C64 ... 64Kb = 8KB)
 
 #define TP                                        // Enable to define servo and probe pins
 
@@ -223,7 +223,7 @@
   #define E7_SERIAL_RX_PIN                  PH14
 
   // Reduce baud rate to improve software serial reliability
-  #define TMC_BAUD_RATE 19200
+  #define TMC_BAUD_RATE                    19200
 #endif
 
 //

commit 42fbd527f3bcc317ae6851aca5a45bdbf979de55
Author: Diego von Deschwanden <68632259+Diegovd@users.noreply.github.com>
Date:   Thu Jul 23 05:20:14 2020 +0200

    Fix links to secure sites (#18745)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 4ecee9ce1d..776ab1d811 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -16,7 +16,7 @@
  * GNU General Public License for more details.
  *
  * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ * along with this program.  If not, see <https://www.gnu.org/licenses/>.
  *
  */
 #pragma once

commit 819e48972d9cb321275a37fcfccaf2a990f4f222
Author: Jason Smith <jason.inet@gmail.com>
Date:   Mon Jun 22 13:27:01 2020 -0700

    Improve U8G+SPI delay override (#18386)
    
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index e2ecdae800..4ecee9ce1d 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -328,9 +328,10 @@
     #define LCD_PINS_ENABLE                 PG5
     #define LCD_PINS_D4                     PG7
 
-    //#undef ST7920_DELAY_1
-    //#undef ST7920_DELAY_2
-    //#undef ST7920_DELAY_3
+    // CR10_STOCKDISPLAY default timing is too fast
+    #undef BOARD_ST7920_DELAY_1
+    #undef BOARD_ST7920_DELAY_2
+    #undef BOARD_ST7920_DELAY_3
 
   #else
 
@@ -377,9 +378,15 @@
 
   // Alter timing for graphical display
   #if HAS_GRAPHICAL_LCD
-    #define BOARD_ST7920_DELAY_1 DELAY_NS(96)
-    #define BOARD_ST7920_DELAY_2 DELAY_NS(48)
-    #define BOARD_ST7920_DELAY_3 DELAY_NS(600)
+    #ifndef BOARD_ST7920_DELAY_1
+      #define BOARD_ST7920_DELAY_1 DELAY_NS(96)
+    #endif
+    #ifndef BOARD_ST7920_DELAY_2
+      #define BOARD_ST7920_DELAY_2 DELAY_NS(48)
+    #endif
+    #ifndef BOARD_ST7920_DELAY_3
+      #define BOARD_ST7920_DELAY_3 DELAY_NS(600)
+    #endif
   #endif
 
   //#define DOGLCD_CS                       PB12

commit f350e9d0cb6387705cc44d1aa8031958469ae3fa
Author: Leo <leo@nutz.de>
Date:   Fri Jun 5 04:29:47 2020 +0200

    Shorter BTT board names (for LCD info) (#18139)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index d1d0ddc480..e2ecdae800 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -29,7 +29,7 @@
   #error "Marlin extruder/hotends limit! Increase MAX_EXTRUDERS to continue."
 #endif
 
-#define BOARD_INFO_NAME "BIGTREE GTR 1.0"
+#define BOARD_INFO_NAME "BTT GTR V1.0"
 
 // Onboard I2C EEPROM
 #define I2C_EEPROM

commit 59dfba3bb85e29a116663f6c03d0be1d5e3b3d58
Author: thisiskeithb <13375512+thisiskeithb@users.noreply.github.com>
Date:   Mon May 25 13:37:33 2020 -0700

    Fix GTR CR10_STOCKDISPLAY pins (#18078)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 43c4d4279f..d1d0ddc480 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -320,13 +320,13 @@
 
   #if ENABLED(CR10_STOCKDISPLAY)
 
-    #define LCD_PINS_RS                     PA8
+    #define LCD_PINS_RS                     PG6
 
-    #define BTN_EN1                         PD10
-    #define BTN_EN2                         PH10
+    #define BTN_EN1                         PC10
+    #define BTN_EN2                         PG8
 
-    #define LCD_PINS_ENABLE                 PG7
-    #define LCD_PINS_D4                     PG8
+    #define LCD_PINS_ENABLE                 PG5
+    #define LCD_PINS_D4                     PG7
 
     //#undef ST7920_DELAY_1
     //#undef ST7920_DELAY_2

commit 461647fcee5f9d519e0e54f809dbfb38bf573e59
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 22 02:15:40 2020 -0500

    Use MARLIN_EEPROM_SIZE with E2END as fallback (#18059)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index 47fcb97be5..43c4d4279f 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -33,8 +33,7 @@
 
 // Onboard I2C EEPROM
 #define I2C_EEPROM
-#undef E2END
-#define E2END 0x1FFF // EEPROM end address 24C64 (64Kb = 8KB)
+#define MARLIN_EEPROM_SIZE 0x2000                 // 8KB (24C64 ... 64Kb = 8KB)
 
 #define TP                                        // Enable to define servo and probe pins
 

commit 4e512405633911f8809f774c175c270d288a8586
Author: thisiskeithb <13375512+thisiskeithb@users.noreply.github.com>
Date:   Wed May 20 13:42:45 2020 -0700

    BTT GTR has I2C EEPROM (#18029)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index ce3a282b5e..47fcb97be5 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -31,18 +31,10 @@
 
 #define BOARD_INFO_NAME "BIGTREE GTR 1.0"
 
-// Use one of these or SDCard-based Emulation will be used
-#if NO_EEPROM_SELECTED
-  //#define I2C_EEPROM
-  //#define SRAM_EEPROM_EMULATION                 // Use BackSRAM-based EEPROM emulation
-  //#define FLASH_EEPROM_EMULATION                // Use Flash-based EEPROM emulation
-#endif
-
-#if ENABLED(FLASH_EEPROM_EMULATION)
-  // Decrease delays and flash wear by spreading writes across the
-  // 128 kB sector allocated for EEPROM emulation.
-  #define FLASH_EEPROM_LEVELING
-#endif
+// Onboard I2C EEPROM
+#define I2C_EEPROM
+#undef E2END
+#define E2END 0x1FFF // EEPROM end address 24C64 (64Kb = 8KB)
 
 #define TP                                        // Enable to define servo and probe pins
 

commit 4680aa659cc9deef619faf2b0a58f2a626c28e0c
Author: Jason Smith <jason.inet@gmail.com>
Date:   Sun May 10 23:12:11 2020 -0700

    EEPROM Flash Leveling enabled for more STM32F4 (#17948)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index a61ef1afaf..ce3a282b5e 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -38,6 +38,12 @@
   //#define FLASH_EEPROM_EMULATION                // Use Flash-based EEPROM emulation
 #endif
 
+#if ENABLED(FLASH_EEPROM_EMULATION)
+  // Decrease delays and flash wear by spreading writes across the
+  // 128 kB sector allocated for EEPROM emulation.
+  #define FLASH_EEPROM_LEVELING
+#endif
+
 #define TP                                        // Enable to define servo and probe pins
 
 //

commit 5e6faa999d1e1e7ce7dfd51943e1259e56399115
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Apr 29 14:46:33 2020 -0500

    Refine EEPROM types / flags (#17772)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index ac8b731aae..a61ef1afaf 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -32,9 +32,11 @@
 #define BOARD_INFO_NAME "BIGTREE GTR 1.0"
 
 // Use one of these or SDCard-based Emulation will be used
-//#define I2C_EEPROM
-//#define SRAM_EEPROM_EMULATION                   // Use BackSRAM-based EEPROM emulation
-//#define FLASH_EEPROM_EMULATION                  // Use Flash-based EEPROM emulation
+#if NO_EEPROM_SELECTED
+  //#define I2C_EEPROM
+  //#define SRAM_EEPROM_EMULATION                 // Use BackSRAM-based EEPROM emulation
+  //#define FLASH_EEPROM_EMULATION                // Use Flash-based EEPROM emulation
+#endif
 
 #define TP                                        // Enable to define servo and probe pins
 
@@ -389,3 +391,5 @@
   //#define DOGLCD_MOSI                     PB15
 
 #endif // HAS_SPI_LCD
+
+#undef TP

commit 2c325c2a7d9b66b50d8585a1d5ced422ed88b1ae
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Mar 21 21:13:19 2020 -0500

    Format some pins files

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
index eaef0b09df..ac8b731aae 100644
--- a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -33,121 +33,121 @@
 
 // Use one of these or SDCard-based Emulation will be used
 //#define I2C_EEPROM
-//#define SRAM_EEPROM_EMULATION   // Use BackSRAM-based EEPROM emulation
-//#define FLASH_EEPROM_EMULATION  // Use Flash-based EEPROM emulation
+//#define SRAM_EEPROM_EMULATION                   // Use BackSRAM-based EEPROM emulation
+//#define FLASH_EEPROM_EMULATION                  // Use Flash-based EEPROM emulation
 
-#define TP   // Enable to define servo and probe pins
+#define TP                                        // Enable to define servo and probe pins
 
 //
 // Servos
 //
 #if ENABLED(TP)
-  #define SERVO0_PIN       PB11
+  #define SERVO0_PIN                        PB11
 #endif
 
-#define PS_ON_PIN          PH6
+#define PS_ON_PIN                           PH6
 
 //
 // Limit Switches
 //
-#define X_MIN_PIN          PF2
-#define X_MAX_PIN          PG14
-#define Y_MIN_PIN          PC13
-#define Y_MAX_PIN          PG9
-#define Z_MIN_PIN          PE0
-#define Z_MAX_PIN          PD3
+#define X_MIN_PIN                           PF2
+#define X_MAX_PIN                           PG14
+#define Y_MIN_PIN                           PC13
+#define Y_MAX_PIN                           PG9
+#define Z_MIN_PIN                           PE0
+#define Z_MAX_PIN                           PD3
 
 //
 // Pins on the extender
 //
-//#define X_MIN_PIN        PI4
-//#define X2_MIN_PIN       PF12
-//#define Y_MIN_PIN        PF4
-//#define Y2_MIN_PIN       PI7
-//#define Z_MIN_PIN        PF6
+//#define X_MIN_PIN                         PI4
+//#define X2_MIN_PIN                        PF12
+//#define Y_MIN_PIN                         PF4
+//#define Y2_MIN_PIN                        PI7
+//#define Z_MIN_PIN                         PF6
 
 #if ENABLED(TP) && !defined(Z_MIN_PROBE_PIN)
-  #define Z_MIN_PROBE_PIN PH11   // Z Probe must be PH11
+  #define Z_MIN_PROBE_PIN                   PH11  // Z Probe must be PH11
 #endif
 
 //
 // Steppers
 //
-#define X_STEP_PIN         PC15
-#define X_DIR_PIN          PF0
-#define X_ENABLE_PIN       PF1
+#define X_STEP_PIN                          PC15
+#define X_DIR_PIN                           PF0
+#define X_ENABLE_PIN                        PF1
 #ifndef X_CS_PIN
-  #define X_CS_PIN         PC14
+  #define X_CS_PIN                          PC14
 #endif
 
-#define Y_STEP_PIN         PE3
-#define Y_DIR_PIN          PE2
-#define Y_ENABLE_PIN       PE4
+#define Y_STEP_PIN                          PE3
+#define Y_DIR_PIN                           PE2
+#define Y_ENABLE_PIN                        PE4
 #ifndef Y_CS_PIN
-  #define Y_CS_PIN         PE1
+  #define Y_CS_PIN                          PE1
 #endif
 
-#define Z_STEP_PIN         PB8
-#define Z_DIR_PIN          PB7   // PB7
-#define Z_ENABLE_PIN       PB9
+#define Z_STEP_PIN                          PB8
+#define Z_DIR_PIN                           PB7   // PB7
+#define Z_ENABLE_PIN                        PB9
 #ifndef Z_CS_PIN
-  #define Z_CS_PIN         PB5
+  #define Z_CS_PIN                          PB5
 #endif
 
-#define E0_STEP_PIN        PG12
-#define E0_DIR_PIN         PG11
-#define E0_ENABLE_PIN      PG13
+#define E0_STEP_PIN                         PG12
+#define E0_DIR_PIN                          PG11
+#define E0_ENABLE_PIN                       PG13
 #ifndef E0_CS_PIN
-  #define E0_CS_PIN        PG10
+  #define E0_CS_PIN                         PG10
 #endif
 
-#define E1_STEP_PIN        PD6
-#define E1_DIR_PIN         PD5
-#define E1_ENABLE_PIN      PD7
+#define E1_STEP_PIN                         PD6
+#define E1_DIR_PIN                          PD5
+#define E1_ENABLE_PIN                       PD7
 #ifndef E1_CS_PIN
-  #define E1_CS_PIN        PD4
+  #define E1_CS_PIN                         PD4
 #endif
 
-#define E2_STEP_PIN        PD1
-#define E2_DIR_PIN         PD0
-#define E2_ENABLE_PIN      PD2
+#define E2_STEP_PIN                         PD1
+#define E2_DIR_PIN                          PD0
+#define E2_ENABLE_PIN                       PD2
 #ifndef E2_CS_PIN
-  #define E2_CS_PIN        PC12
+  #define E2_CS_PIN                         PC12
 #endif
 
-#define E3_STEP_PIN        PF3
-#define E3_DIR_PIN         PG3
-#define E3_ENABLE_PIN      PF8
+#define E3_STEP_PIN                         PF3
+#define E3_DIR_PIN                          PG3
+#define E3_ENABLE_PIN                       PF8
 #ifndef E3_CS_PIN
-  #define E3_CS_PIN        PG4
+  #define E3_CS_PIN                         PG4
 #endif
 
-#define E4_STEP_PIN        PD14
-#define E4_DIR_PIN         PD11
-#define E4_ENABLE_PIN      PG2
+#define E4_STEP_PIN                         PD14
+#define E4_DIR_PIN                          PD11
+#define E4_ENABLE_PIN                       PG2
 #ifndef E4_CS_PIN
-  #define E4_CS_PIN        PE15
+  #define E4_CS_PIN                         PE15
 #endif
 
-#define E5_STEP_PIN        PE12
-#define E5_DIR_PIN         PE10
-#define E5_ENABLE_PIN      PF14
+#define E5_STEP_PIN                         PE12
+#define E5_DIR_PIN                          PE10
+#define E5_ENABLE_PIN                       PF14
 #ifndef E5_CS_PIN
-  #define E5_CS_PIN        PE7
+  #define E5_CS_PIN                         PE7
 #endif
 
-#define E6_STEP_PIN        PG0
-#define E6_DIR_PIN         PG1
-#define E6_ENABLE_PIN      PE8
+#define E6_STEP_PIN                         PG0
+#define E6_DIR_PIN                          PG1
+#define E6_ENABLE_PIN                       PE8
 #ifndef E6_CS_PIN
-  #define E6_CS_PIN        PF15
+  #define E6_CS_PIN                         PF15
 #endif
 
-#define E7_STEP_PIN        PH12
-#define E7_DIR_PIN         PH15
-#define E7_ENABLE_PIN      PI0
+#define E7_STEP_PIN                         PH12
+#define E7_DIR_PIN                          PH15
+#define E7_ENABLE_PIN                       PI0
 #ifndef E7_CS_PIN
-  #define E7_CS_PIN        PH14
+  #define E7_CS_PIN                         PH14
 #endif
 
 //
@@ -155,13 +155,13 @@
 //
 #if ENABLED(TMC_USE_SW_SPI)
   #ifndef TMC_SW_MOSI
-    #define TMC_SW_MOSI    PG15
+    #define TMC_SW_MOSI                     PG15
   #endif
   #ifndef TMC_SW_MISO
-    #define TMC_SW_MISO    PB6
+    #define TMC_SW_MISO                     PB6
   #endif
   #ifndef TMC_SW_SCK
-    #define TMC_SW_SCK     PB3
+    #define TMC_SW_SCK                      PB3
   #endif
 #endif
 
@@ -190,38 +190,38 @@
   //
   // Software serial
   //
-  #define X_SERIAL_TX_PIN  PC14
-  #define X_SERIAL_RX_PIN  PC14
+  #define X_SERIAL_TX_PIN                   PC14
+  #define X_SERIAL_RX_PIN                   PC14
 
-  #define Y_SERIAL_TX_PIN  PE1
-  #define Y_SERIAL_RX_PIN  PE1
+  #define Y_SERIAL_TX_PIN                   PE1
+  #define Y_SERIAL_RX_PIN                   PE1
 
-  #define Z_SERIAL_TX_PIN  PB5
-  #define Z_SERIAL_RX_PIN  PB5
+  #define Z_SERIAL_TX_PIN                   PB5
+  #define Z_SERIAL_RX_PIN                   PB5
 
-  #define E0_SERIAL_TX_PIN PG10
-  #define E0_SERIAL_RX_PIN PG10
+  #define E0_SERIAL_TX_PIN                  PG10
+  #define E0_SERIAL_RX_PIN                  PG10
 
-  #define E1_SERIAL_TX_PIN PD4
-  #define E1_SERIAL_RX_PIN PD4
+  #define E1_SERIAL_TX_PIN                  PD4
+  #define E1_SERIAL_RX_PIN                  PD4
 
-  #define E2_SERIAL_TX_PIN PC12
-  #define E2_SERIAL_RX_PIN PC12
+  #define E2_SERIAL_TX_PIN                  PC12
+  #define E2_SERIAL_RX_PIN                  PC12
 
-  #define E3_SERIAL_TX_PIN PG4
-  #define E3_SERIAL_RX_PIN PG4
+  #define E3_SERIAL_TX_PIN                  PG4
+  #define E3_SERIAL_RX_PIN                  PG4
 
-  #define E4_SERIAL_TX_PIN PE15
-  #define E4_SERIAL_RX_PIN PE15
+  #define E4_SERIAL_TX_PIN                  PE15
+  #define E4_SERIAL_RX_PIN                  PE15
 
-  #define E5_SERIAL_TX_PIN PE7
-  #define E5_SERIAL_RX_PIN PE7
+  #define E5_SERIAL_TX_PIN                  PE7
+  #define E5_SERIAL_RX_PIN                  PE7
 
-  #define E6_SERIAL_TX_PIN PF15
-  #define E6_SERIAL_RX_PIN PF15
+  #define E6_SERIAL_TX_PIN                  PF15
+  #define E6_SERIAL_RX_PIN                  PF15
 
-  #define E7_SERIAL_TX_PIN PH14
-  #define E7_SERIAL_RX_PIN PH14
+  #define E7_SERIAL_TX_PIN                  PH14
+  #define E7_SERIAL_RX_PIN                  PH14
 
   // Reduce baud rate to improve software serial reliability
   #define TMC_BAUD_RATE 19200
@@ -230,75 +230,75 @@
 //
 // Temperature Sensors
 //
-#define TEMP_0_PIN         PC1   // T1 <-> E0
-#define TEMP_1_PIN         PC2   // T2 <-> E1
-#define TEMP_2_PIN         PC3   // T3 <-> E2
+#define TEMP_0_PIN                          PC1   // T1 <-> E0
+#define TEMP_1_PIN                          PC2   // T2 <-> E1
+#define TEMP_2_PIN                          PC3   // T3 <-> E2
 
-#define TEMP_3_PIN         PA3   //¬†T4¬†<->¬†E3
-#define TEMP_4_PIN         PF9   //¬†T5¬†<->¬†E4
-#define TEMP_5_PIN         PF10  //¬†T6¬†<->¬†E5
-#define TEMP_6_PIN         PF7   //¬†T7¬†<->¬†E6
-#define TEMP_7_PIN         PF5   //¬†T8¬†<->¬†E7
+#define TEMP_3_PIN                          PA3   //¬†T4¬†<->¬†E3
+#define TEMP_4_PIN                          PF9   //¬†T5¬†<->¬†E4
+#define TEMP_5_PIN                          PF10  //¬†T6¬†<->¬†E5
+#define TEMP_6_PIN                          PF7   //¬†T7¬†<->¬†E6
+#define TEMP_7_PIN                          PF5   //¬†T8¬†<->¬†E7
 
-#define TEMP_BED_PIN       PC0   // T0 <-> Bed
+#define TEMP_BED_PIN                        PC0   // T0 <-> Bed
 
 // SPI for Max6675 or Max31855 Thermocouple
 // Uses a separate SPI bus
 // If you have a two-way thermocouple, you can customize two THERMO_CSx_PIN pins (x:1~2)
 
-#define THERMO_SCK_PIN     PI1   // SCK
-#define THERMO_DO_PIN      PI2   // MISO
-#define THERMO_CS1_PIN     PH9   // CS1
-#define THERMO_CS2_PIN     PH2   // CS2
+#define THERMO_SCK_PIN                      PI1   // SCK
+#define THERMO_DO_PIN                       PI2   // MISO
+#define THERMO_CS1_PIN                      PH9   // CS1
+#define THERMO_CS2_PIN                      PH2   // CS2
 
-#define MAX6675_SS_PIN     THERMO_CS1_PIN
-#define MAX6675_SS2_PIN    THERMO_CS2_PIN
-#define MAX6675_SCK_PIN    THERMO_SCK_PIN
-#define MAX6675_DO_PIN     THERMO_DO_PIN
+#define MAX6675_SS_PIN            THERMO_CS1_PIN
+#define MAX6675_SS2_PIN           THERMO_CS2_PIN
+#define MAX6675_SCK_PIN           THERMO_SCK_PIN
+#define MAX6675_DO_PIN             THERMO_DO_PIN
 
 //
 // Heaters / Fans
 //
-#define HEATER_0_PIN       PB1   // Heater0
-#define HEATER_1_PIN       PA1   // Heater1
-#define HEATER_2_PIN       PB0   // Heater2
+#define HEATER_0_PIN                        PB1   // Heater0
+#define HEATER_1_PIN                        PA1   // Heater1
+#define HEATER_2_PIN                        PB0   // Heater2
 
-#define HEATER_3_PIN       PD15  //¬†Heater3
-#define HEATER_4_PIN       PD13  //¬†Heater4
-#define HEATER_5_PIN       PD12  //¬†Heater5
-#define HEATER_6_PIN       PE13 //¬†Heater6
-#define HEATER_7_PIN       PI6  //¬†Heater7
+#define HEATER_3_PIN                        PD15  //¬†Heater3
+#define HEATER_4_PIN                        PD13  //¬†Heater4
+#define HEATER_5_PIN                        PD12  //¬†Heater5
+#define HEATER_6_PIN                        PE13  //¬†Heater6
+#define HEATER_7_PIN                        PI6   //¬†Heater7
 
-#define HEATER_BED_PIN     PA2   // Hotbed
+#define HEATER_BED_PIN                      PA2   // Hotbed
 
-#define FAN_PIN            PE5   // Fan0
-#define FAN1_PIN           PE6   // Fan1
-#define FAN2_PIN           PC8   // Fan2
+#define FAN_PIN                             PE5   // Fan0
+#define FAN1_PIN                            PE6   // Fan1
+#define FAN2_PIN                            PC8   // Fan2
 
-#define FAN3_PIN           PI5   //¬†Fan3
-#define FAN4_PIN           PE9   //¬†Fan4
-#define FAN5_PIN           PE11  //¬†Fan5
-//#define FAN6_PIN           PC9   //¬†Fan6
-//#define FAN7_PIN           PE14  //¬†Fan7
+#define FAN3_PIN                            PI5   //¬†Fan3
+#define FAN4_PIN                            PE9   //¬†Fan4
+#define FAN5_PIN                            PE11  //¬†Fan5
+//#define FAN6_PIN                          PC9   //¬†Fan6
+//#define FAN7_PIN                          PE14  //¬†Fan7
 
 //
 // By default the onboard SD (SPI1) is enabled
 //
 #define CUSTOM_SPI_PINS
 #if DISABLED(CUSTOM_SPI_PINS)
-  #define SDSS             PB12
+  #define SDSS                              PB12
 #endif
 
 // HAL SPI1 pins group
 #if ENABLED(CUSTOM_SPI_PINS)
-  #define SDSS             PA4
-  #define SD_DETECT_PIN    PC4
-  #define LCD_SDSS         PA4
-
-  #define SCK_PIN          PA5
-  #define MISO_PIN         PA6
-  #define MOSI_PIN         PA7
-  #define SS_PIN           PA4   // Chip select for SD card used by Marlin
+  #define SDSS                              PA4
+  #define SD_DETECT_PIN                     PC4
+  #define LCD_SDSS                          PA4
+
+  #define SCK_PIN                           PA5
+  #define MISO_PIN                          PA6
+  #define MOSI_PIN                          PA7
+  #define SS_PIN                            PA4   // Chip select for SD card used by Marlin
 #endif
 
 /**
@@ -316,18 +316,18 @@
 // LCDs and Controllers
 //
 #if HAS_SPI_LCD
-  #define BEEPER_PIN       PC11
-  #define BTN_ENC          PA15
+  #define BEEPER_PIN                        PC11
+  #define BTN_ENC                           PA15
 
   #if ENABLED(CR10_STOCKDISPLAY)
 
-    #define LCD_PINS_RS    PA8
+    #define LCD_PINS_RS                     PA8
 
-    #define BTN_EN1        PD10
-    #define BTN_EN2        PH10
+    #define BTN_EN1                         PD10
+    #define BTN_EN2                         PH10
 
-    #define LCD_PINS_ENABLE PG7
-    #define LCD_PINS_D4    PG8
+    #define LCD_PINS_ENABLE                 PG7
+    #define LCD_PINS_D4                     PG8
 
     //#undef ST7920_DELAY_1
     //#undef ST7920_DELAY_2
@@ -335,43 +335,43 @@
 
   #else
 
-    #define LCD_PINS_RS    PA8
+    #define LCD_PINS_RS                     PA8
 
-    #define BTN_EN1        PD10
-    #define BTN_EN2        PH10
+    #define BTN_EN1                         PD10
+    #define BTN_EN2                         PH10
 
     #if DISABLED(CUSTOM_SPI_PINS)
-      #define SD_DETECT_PIN PB10
-      #define LCD_SDSS     PB12
+      #define SD_DETECT_PIN                 PB10
+      #define LCD_SDSS                      PB12
     #endif
 
-    #define LCD_PINS_ENABLE PC10
-    #define LCD_PINS_D4    PG8
+    #define LCD_PINS_ENABLE                 PC10
+    #define LCD_PINS_D4                     PG8
 
     #if ENABLED(FYSETC_MINI_12864)
-      #define DOGLCD_CS    PC10
-      #define DOGLCD_A0    PA8
-      //#define LCD_BACKLIGHT_PIN -1
-      #define LCD_RESET_PIN PG8   // Must be high or open for LCD to operate normally.
+      #define DOGLCD_CS                     PC10
+      #define DOGLCD_A0                     PA8
+      //#define LCD_BACKLIGHT_PIN           -1
+      #define LCD_RESET_PIN                 PG8   // Must be high or open for LCD to operate normally.
       #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
         #ifndef RGB_LED_R_PIN
-          #define RGB_LED_R_PIN PG7
+          #define RGB_LED_R_PIN             PG7
         #endif
         #ifndef RGB_LED_G_PIN
-          #define RGB_LED_G_PIN PG6
+          #define RGB_LED_G_PIN             PG6
         #endif
         #ifndef RGB_LED_B_PIN
-          #define RGB_LED_B_PIN PG5
+          #define RGB_LED_B_PIN             PG5
         #endif
       #elif ENABLED(FYSETC_MINI_12864_2_1)
-        #define NEOPIXEL_PIN    PF13
+        #define NEOPIXEL_PIN                PF13
       #endif
     #endif // !FYSETC_MINI_12864
 
     #if ENABLED(ULTIPANEL)
-      #define LCD_PINS_D5  PG7
-      #define LCD_PINS_D6  PG6
-      #define LCD_PINS_D7  PG5
+      #define LCD_PINS_D5                   PG7
+      #define LCD_PINS_D6                   PG6
+      #define LCD_PINS_D7                   PG5
     #endif
 
   #endif
@@ -383,9 +383,9 @@
     #define BOARD_ST7920_DELAY_3 DELAY_NS(600)
   #endif
 
-  //#define DOGLCD_CS      PB12
-  //#define DOGLCD_A0      PA8
-  //#define LCD_PINS_DC    PB14
-  //#define DOGLCD_MOSI    PB15
+  //#define DOGLCD_CS                       PB12
+  //#define DOGLCD_A0                       PA8
+  //#define LCD_PINS_DC                     PB14
+  //#define DOGLCD_MOSI                     PB15
 
 #endif // HAS_SPI_LCD

commit 04cea864bcc197a91a162f8cc48cd6588260f8af
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 20 23:45:00 2020 -0500

    Split up STM32 pins files (#17212)

diff --git a/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
new file mode 100644
index 0000000000..eaef0b09df
--- /dev/null
+++ b/Marlin/src/pins/stm32f4/pins_BTT_GTR_V1_0.h
@@ -0,0 +1,391 @@
+/**
+ * Marlin 3D Printer Firmware
+ * Copyright (c) 2020 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ *
+ * Based on Sprinter and grbl.
+ * Copyright (c) 2011 Camiel Gubbels / Erik van der Zalm
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ */
+#pragma once
+
+#ifndef TARGET_STM32F4
+  #error "Oops! Select an STM32F4 board in 'Tools > Board.'"
+#elif HOTENDS > 8 || E_STEPPERS > 8
+  #error "BIGTREE GTR V1.0 supports up to 8 hotends / E-steppers."
+#elif HOTENDS > MAX_EXTRUDERS || E_STEPPERS > MAX_EXTRUDERS
+  #error "Marlin extruder/hotends limit! Increase MAX_EXTRUDERS to continue."
+#endif
+
+#define BOARD_INFO_NAME "BIGTREE GTR 1.0"
+
+// Use one of these or SDCard-based Emulation will be used
+//#define I2C_EEPROM
+//#define SRAM_EEPROM_EMULATION   // Use BackSRAM-based EEPROM emulation
+//#define FLASH_EEPROM_EMULATION  // Use Flash-based EEPROM emulation
+
+#define TP   // Enable to define servo and probe pins
+
+//
+// Servos
+//
+#if ENABLED(TP)
+  #define SERVO0_PIN       PB11
+#endif
+
+#define PS_ON_PIN          PH6
+
+//
+// Limit Switches
+//
+#define X_MIN_PIN          PF2
+#define X_MAX_PIN          PG14
+#define Y_MIN_PIN          PC13
+#define Y_MAX_PIN          PG9
+#define Z_MIN_PIN          PE0
+#define Z_MAX_PIN          PD3
+
+//
+// Pins on the extender
+//
+//#define X_MIN_PIN        PI4
+//#define X2_MIN_PIN       PF12
+//#define Y_MIN_PIN        PF4
+//#define Y2_MIN_PIN       PI7
+//#define Z_MIN_PIN        PF6
+
+#if ENABLED(TP) && !defined(Z_MIN_PROBE_PIN)
+  #define Z_MIN_PROBE_PIN PH11   // Z Probe must be PH11
+#endif
+
+//
+// Steppers
+//
+#define X_STEP_PIN         PC15
+#define X_DIR_PIN          PF0
+#define X_ENABLE_PIN       PF1
+#ifndef X_CS_PIN
+  #define X_CS_PIN         PC14
+#endif
+
+#define Y_STEP_PIN         PE3
+#define Y_DIR_PIN          PE2
+#define Y_ENABLE_PIN       PE4
+#ifndef Y_CS_PIN
+  #define Y_CS_PIN         PE1
+#endif
+
+#define Z_STEP_PIN         PB8
+#define Z_DIR_PIN          PB7   // PB7
+#define Z_ENABLE_PIN       PB9
+#ifndef Z_CS_PIN
+  #define Z_CS_PIN         PB5
+#endif
+
+#define E0_STEP_PIN        PG12
+#define E0_DIR_PIN         PG11
+#define E0_ENABLE_PIN      PG13
+#ifndef E0_CS_PIN
+  #define E0_CS_PIN        PG10
+#endif
+
+#define E1_STEP_PIN        PD6
+#define E1_DIR_PIN         PD5
+#define E1_ENABLE_PIN      PD7
+#ifndef E1_CS_PIN
+  #define E1_CS_PIN        PD4
+#endif
+
+#define E2_STEP_PIN        PD1
+#define E2_DIR_PIN         PD0
+#define E2_ENABLE_PIN      PD2
+#ifndef E2_CS_PIN
+  #define E2_CS_PIN        PC12
+#endif
+
+#define E3_STEP_PIN        PF3
+#define E3_DIR_PIN         PG3
+#define E3_ENABLE_PIN      PF8
+#ifndef E3_CS_PIN
+  #define E3_CS_PIN        PG4
+#endif
+
+#define E4_STEP_PIN        PD14
+#define E4_DIR_PIN         PD11
+#define E4_ENABLE_PIN      PG2
+#ifndef E4_CS_PIN
+  #define E4_CS_PIN        PE15
+#endif
+
+#define E5_STEP_PIN        PE12
+#define E5_DIR_PIN         PE10
+#define E5_ENABLE_PIN      PF14
+#ifndef E5_CS_PIN
+  #define E5_CS_PIN        PE7
+#endif
+
+#define E6_STEP_PIN        PG0
+#define E6_DIR_PIN         PG1
+#define E6_ENABLE_PIN      PE8
+#ifndef E6_CS_PIN
+  #define E6_CS_PIN        PF15
+#endif
+
+#define E7_STEP_PIN        PH12
+#define E7_DIR_PIN         PH15
+#define E7_ENABLE_PIN      PI0
+#ifndef E7_CS_PIN
+  #define E7_CS_PIN        PH14
+#endif
+
+//
+// Software SPI pins for TMC2130 stepper drivers
+//
+#if ENABLED(TMC_USE_SW_SPI)
+  #ifndef TMC_SW_MOSI
+    #define TMC_SW_MOSI    PG15
+  #endif
+  #ifndef TMC_SW_MISO
+    #define TMC_SW_MISO    PB6
+  #endif
+  #ifndef TMC_SW_SCK
+    #define TMC_SW_SCK     PB3
+  #endif
+#endif
+
+#if HAS_TMC_UART
+  /**
+   * TMC2208/TMC2209 stepper drivers
+   *
+   * Hardware serial communication ports.
+   * If undefined software serial is used according to the pins below
+   */
+  //#define X_HARDWARE_SERIAL  Serial
+  //#define X2_HARDWARE_SERIAL Serial1
+  //#define Y_HARDWARE_SERIAL  Serial1
+  //#define Y2_HARDWARE_SERIAL Serial1
+  //#define Z_HARDWARE_SERIAL  Serial1
+  //#define Z2_HARDWARE_SERIAL Serial1
+  //#define E0_HARDWARE_SERIAL Serial1
+  //#define E1_HARDWARE_SERIAL Serial1
+  //#define E2_HARDWARE_SERIAL Serial1
+  //#define E3_HARDWARE_SERIAL Serial1
+  //#define E4_HARDWARE_SERIAL Serial1
+  //#define E5_HARDWARE_SERIAL Serial1
+  //#define E6_HARDWARE_SERIAL Serial1
+  //#define E7_HARDWARE_SERIAL Serial1
+
+  //
+  // Software serial
+  //
+  #define X_SERIAL_TX_PIN  PC14
+  #define X_SERIAL_RX_PIN  PC14
+
+  #define Y_SERIAL_TX_PIN  PE1
+  #define Y_SERIAL_RX_PIN  PE1
+
+  #define Z_SERIAL_TX_PIN  PB5
+  #define Z_SERIAL_RX_PIN  PB5
+
+  #define E0_SERIAL_TX_PIN PG10
+  #define E0_SERIAL_RX_PIN PG10
+
+  #define E1_SERIAL_TX_PIN PD4
+  #define E1_SERIAL_RX_PIN PD4
+
+  #define E2_SERIAL_TX_PIN PC12
+  #define E2_SERIAL_RX_PIN PC12
+
+  #define E3_SERIAL_TX_PIN PG4
+  #define E3_SERIAL_RX_PIN PG4
+
+  #define E4_SERIAL_TX_PIN PE15
+  #define E4_SERIAL_RX_PIN PE15
+
+  #define E5_SERIAL_TX_PIN PE7
+  #define E5_SERIAL_RX_PIN PE7
+
+  #define E6_SERIAL_TX_PIN PF15
+  #define E6_SERIAL_RX_PIN PF15
+
+  #define E7_SERIAL_TX_PIN PH14
+  #define E7_SERIAL_RX_PIN PH14
+
+  // Reduce baud rate to improve software serial reliability
+  #define TMC_BAUD_RATE 19200
+#endif
+
+//
+// Temperature Sensors
+//
+#define TEMP_0_PIN         PC1   // T1 <-> E0
+#define TEMP_1_PIN         PC2   // T2 <-> E1
+#define TEMP_2_PIN         PC3   // T3 <-> E2
+
+#define TEMP_3_PIN         PA3   //¬†T4¬†<->¬†E3
+#define TEMP_4_PIN         PF9   //¬†T5¬†<->¬†E4
+#define TEMP_5_PIN         PF10  //¬†T6¬†<->¬†E5
+#define TEMP_6_PIN         PF7   //¬†T7¬†<->¬†E6
+#define TEMP_7_PIN         PF5   //¬†T8¬†<->¬†E7
+
+#define TEMP_BED_PIN       PC0   // T0 <-> Bed
+
+// SPI for Max6675 or Max31855 Thermocouple
+// Uses a separate SPI bus
+// If you have a two-way thermocouple, you can customize two THERMO_CSx_PIN pins (x:1~2)
+
+#define THERMO_SCK_PIN     PI1   // SCK
+#define THERMO_DO_PIN      PI2   // MISO
+#define THERMO_CS1_PIN     PH9   // CS1
+#define THERMO_CS2_PIN     PH2   // CS2
+
+#define MAX6675_SS_PIN     THERMO_CS1_PIN
+#define MAX6675_SS2_PIN    THERMO_CS2_PIN
+#define MAX6675_SCK_PIN    THERMO_SCK_PIN
+#define MAX6675_DO_PIN     THERMO_DO_PIN
+
+//
+// Heaters / Fans
+//
+#define HEATER_0_PIN       PB1   // Heater0
+#define HEATER_1_PIN       PA1   // Heater1
+#define HEATER_2_PIN       PB0   // Heater2
+
+#define HEATER_3_PIN       PD15  //¬†Heater3
+#define HEATER_4_PIN       PD13  //¬†Heater4
+#define HEATER_5_PIN       PD12  //¬†Heater5
+#define HEATER_6_PIN       PE13 //¬†Heater6
+#define HEATER_7_PIN       PI6  //¬†Heater7
+
+#define HEATER_BED_PIN     PA2   // Hotbed
+
+#define FAN_PIN            PE5   // Fan0
+#define FAN1_PIN           PE6   // Fan1
+#define FAN2_PIN           PC8   // Fan2
+
+#define FAN3_PIN           PI5   //¬†Fan3
+#define FAN4_PIN           PE9   //¬†Fan4
+#define FAN5_PIN           PE11  //¬†Fan5
+//#define FAN6_PIN           PC9   //¬†Fan6
+//#define FAN7_PIN           PE14  //¬†Fan7
+
+//
+// By default the onboard SD (SPI1) is enabled
+//
+#define CUSTOM_SPI_PINS
+#if DISABLED(CUSTOM_SPI_PINS)
+  #define SDSS             PB12
+#endif
+
+// HAL SPI1 pins group
+#if ENABLED(CUSTOM_SPI_PINS)
+  #define SDSS             PA4
+  #define SD_DETECT_PIN    PC4
+  #define LCD_SDSS         PA4
+
+  #define SCK_PIN          PA5
+  #define MISO_PIN         PA6
+  #define MOSI_PIN         PA7
+  #define SS_PIN           PA4   // Chip select for SD card used by Marlin
+#endif
+
+/**
+ *               _____                                             _____
+ *           NC | ¬∑ ¬∑ | GND                                    5V | ¬∑ ¬∑ | GND
+ *        RESET | ¬∑ ¬∑ | PB10(SD_DETECT)             (LCD_D7)  PG5 | ¬∑ ¬∑ | PG6  (LCD_D6)
+ *   (MOSI)PB15 | ¬∑ ¬∑ | PH10(BTN_EN2)               (LCD_D5)  PG7 | ¬∑ ¬∑ | PG8  (LCD_D4)
+ *  (SD_SS)PB12 | ¬∑ ¬∑ | PD10(BTN_EN1)               (LCD_RS)  PA8 | ¬∑ ¬∑ | PC10 (LCD_EN)
+ *    (SCK)PB13 | ¬∑ ¬∑ | PB14(MISO)                 (BTN_ENC) PA15 | ¬∑ ¬∑ | PC11  (BEEPER)
+ *               Ôø£Ôø£                                               Ôø£Ôø£
+ *               EXP2                                              EXP1
+ */
+
+//
+// LCDs and Controllers
+//
+#if HAS_SPI_LCD
+  #define BEEPER_PIN       PC11
+  #define BTN_ENC          PA15
+
+  #if ENABLED(CR10_STOCKDISPLAY)
+
+    #define LCD_PINS_RS    PA8
+
+    #define BTN_EN1        PD10
+    #define BTN_EN2        PH10
+
+    #define LCD_PINS_ENABLE PG7
+    #define LCD_PINS_D4    PG8
+
+    //#undef ST7920_DELAY_1
+    //#undef ST7920_DELAY_2
+    //#undef ST7920_DELAY_3
+
+  #else
+
+    #define LCD_PINS_RS    PA8
+
+    #define BTN_EN1        PD10
+    #define BTN_EN2        PH10
+
+    #if DISABLED(CUSTOM_SPI_PINS)
+      #define SD_DETECT_PIN PB10
+      #define LCD_SDSS     PB12
+    #endif
+
+    #define LCD_PINS_ENABLE PC10
+    #define LCD_PINS_D4    PG8
+
+    #if ENABLED(FYSETC_MINI_12864)
+      #define DOGLCD_CS    PC10
+      #define DOGLCD_A0    PA8
+      //#define LCD_BACKLIGHT_PIN -1
+      #define LCD_RESET_PIN PG8   // Must be high or open for LCD to operate normally.
+      #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
+        #ifndef RGB_LED_R_PIN
+          #define RGB_LED_R_PIN PG7
+        #endif
+        #ifndef RGB_LED_G_PIN
+          #define RGB_LED_G_PIN PG6
+        #endif
+        #ifndef RGB_LED_B_PIN
+          #define RGB_LED_B_PIN PG5
+        #endif
+      #elif ENABLED(FYSETC_MINI_12864_2_1)
+        #define NEOPIXEL_PIN    PF13
+      #endif
+    #endif // !FYSETC_MINI_12864
+
+    #if ENABLED(ULTIPANEL)
+      #define LCD_PINS_D5  PG7
+      #define LCD_PINS_D6  PG6
+      #define LCD_PINS_D7  PG5
+    #endif
+
+  #endif
+
+  // Alter timing for graphical display
+  #if HAS_GRAPHICAL_LCD
+    #define BOARD_ST7920_DELAY_1 DELAY_NS(96)
+    #define BOARD_ST7920_DELAY_2 DELAY_NS(48)
+    #define BOARD_ST7920_DELAY_3 DELAY_NS(600)
+  #endif
+
+  //#define DOGLCD_CS      PB12
+  //#define DOGLCD_A0      PA8
+  //#define LCD_PINS_DC    PB14
+  //#define DOGLCD_MOSI    PB15
+
+#endif // HAS_SPI_LCD
