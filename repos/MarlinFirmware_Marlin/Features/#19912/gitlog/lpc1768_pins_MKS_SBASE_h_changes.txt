commit a36f72e886eb9a8867043173d109295c9ddf2a47
Author: Jason Smith <jason.inet@gmail.com>
Date:   Tue Apr 23 14:19:14 2024 -0700

    üé® Format pins which fail validation (#27007)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 8a39e2790a..dbacb0fa26 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -211,19 +211,19 @@
  *        ------                  ------
  *         EXP1                    EXP2
  */
-#define EXP1_01_PIN                         P1_31
-#define EXP1_02_PIN                         P1_30
-#define EXP1_03_PIN                         P0_18
-#define EXP1_04_PIN                         P0_16
-#define EXP1_05_PIN                         P0_15
-
-#define EXP2_01_PIN                         P0_08
-#define EXP2_02_PIN                         P0_07
-#define EXP2_03_PIN                         P3_25
-#define EXP2_04_PIN                         P0_28
-#define EXP2_05_PIN                         P3_26
-#define EXP2_06_PIN                         P0_09
-#define EXP2_07_PIN                         P0_27
+#define EXP1_01_PIN                        P1_31
+#define EXP1_02_PIN                        P1_30
+#define EXP1_03_PIN                        P0_18
+#define EXP1_04_PIN                        P0_16
+#define EXP1_05_PIN                        P0_15
+
+#define EXP2_01_PIN                        P0_08
+#define EXP2_02_PIN                        P0_07
+#define EXP2_03_PIN                        P3_25
+#define EXP2_04_PIN                        P0_28
+#define EXP2_05_PIN                        P3_26
+#define EXP2_06_PIN                        P0_09
+#define EXP2_07_PIN                        P0_27
 
 //
 // LCD / Controller

commit 9342dae8f04cc0e775515ec903dad1357bd7c344
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Apr 16 12:17:47 2024 -0500

    üìù Remove dead PDF links

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 039d906efc..8a39e2790a 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -23,8 +23,6 @@
 
 /**
  * Makerbase MKS SBASE pin assignments
- * Schematic (V1.3): https://green-candy.osdn.jp/external/MarlinFW/board_schematics/MKS%20SBASE%20V1.3/MKS%20SBASE%20V1.3_002%20SCH.pdf
- * Origin (V1.3): http://green-candy.osdn.jp/external/MarlinFW/board_schematics/MKS%20SBASE%20V1.3/MKS%20SBASE%20V1.3_002%20SCH.pdf
  */
 
 #include "env_validate.h"

commit 04c8a3138e3ce1edcd59c8e6c1ba4abeba28e30d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Jan 25 15:07:34 2024 -0600

    üé® Misc. LCD pins comments

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 335d6b9d23..039d906efc 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -230,6 +230,7 @@
 //
 // LCD / Controller
 //
+
 #if IS_TFTGLCD_PANEL
 
   #if ENABLED(TFTGLCD_PANEL_SPI)

commit aa7d5714867df05348ca63ad113ea9cf7ccc3271
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Jan 22 17:32:01 2024 -0600

    ‚ôªÔ∏è LCD pins migration precursor (#26719)
    
    Preliminary changes for #25650

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 1e45286fbf..335d6b9d23 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -117,31 +117,25 @@
 // Note: These pins are all digitally shared with the EXP1/EXP2 Connector.
 // Using them with an LCD connected or configured will lead to hangs & crashes.
 //
-
-// 5V
-// NC
-// GND
-#define PIN_P0_17                          P0_17
-#define PIN_P0_16                          P0_16
-#define PIN_P0_15                          P0_15
+//#define PIN_P0_17                        P0_17  // 5V
+//#define PIN_P0_16                        P0_16  // NC
+//#define PIN_P0_15                        P0_15  // GND
 
 //
 // Connector J8
 //
-
-// GND
-#define PIN_P1_22                          P1_22
-#define PIN_P1_23                          P1_23  // PWM Capable
-#define PIN_P2_12                          P2_12  // Interrupt Capable
-#define PIN_P2_11                          P2_11  // Interrupt Capable
+#define PIN_P1_22                          P1_22  // GND
+#define PIN_P1_23                          P1_23  // PWM-capable
+#define PIN_P2_12                          P2_12  // Interrupt-capable
+#define PIN_P2_11                          P2_11  // Interrupt-capable
 
 //
 // Pr≈Ø≈°a i3 MMU1 (Multi Material Multiplexer) Support
 //
 #if HAS_PRUSA_MMU1
-  #define E_MUX0_PIN                       P1_23  // J8-3
-  #define E_MUX1_PIN                       P2_12  // J8-4
-  #define E_MUX2_PIN                       P2_11  // J8-5
+  #define E_MUX0_PIN                   PIN_P1_23  // J8-3
+  #define E_MUX1_PIN                   PIN_P2_12  // J8-4
+  #define E_MUX2_PIN                   PIN_P2_11  // J8-5
 #endif
 
 //
@@ -177,21 +171,19 @@
 #if SD_CONNECTION_IS(CUSTOM_CABLE)
 
   /**
-   * A custom cable is needed. See the README file in the
-   * Marlin\src\config\examples\Mks\Sbase directory
-   * P0.27 is on EXP2 and the on-board SD card's socket. That means it can't be
-   * used as the SD_DETECT for the LCD's SD card.
+   * A custom cable is needed.
+   * See https://github.com/MarlinFirmware/Configurations/blob/release-2.1/config/examples/Mks/Sbase/README.md
+   * P0.27 is on EXP2 and the on-board SD card socket so it can't be used as SD_DETECT for the LCD SD card.
    *
-   * The best solution is to use the custom cable to connect the LCD's SD_DETECT
-   * to a pin NOT on EXP2.
+   * The best solution is to use the custom cable to connect the LCD SD_DETECT to a pin NOT on EXP2.
    *
-   * If you can't find a pin to use for the LCD's SD_DETECT then comment out
-   * SD_DETECT_PIN entirely and remove that wire from the the custom cable.
+   * If you can't find a pin to use for the LCD SD_DETECT then comment out SD_DETECT_PIN and remove that wire
+   * from the the custom cable.
    */
-  #define SD_DETECT_PIN                    P2_11  // J8-5 (moved from EXP2 P0.27)
-  #define SD_SCK_PIN                       P1_22  // J8-2 (moved from EXP2 P0.7)
-  #define SD_MISO_PIN                      P1_23  // J8-3 (moved from EXP2 P0.8)
-  #define SD_MOSI_PIN                      P2_12  // J8-4 (moved from EXP2 P0.9)
+  #define SD_DETECT_PIN                PIN_P2_11  // J8-5 (moved from EXP2 P0.27)
+  #define SD_SCK_PIN                   PIN_P1_22  // J8-2 (moved from EXP2 P0.7)
+  #define SD_MISO_PIN                  PIN_P1_23  // J8-3 (moved from EXP2 P0.8)
+  #define SD_MOSI_PIN                  PIN_P2_12  // J8-4 (moved from EXP2 P0.9)
   #define SD_SS_PIN                        P0_28
   #define SOFTWARE_SPI                            // With a custom cable we need software SPI because the
                                                   // selected pins are not on a hardware SPI controller
@@ -212,17 +204,28 @@
 #endif
 
 /**
- * Smart LCD adapter
- *
- * The Smart LCD adapter can be used for the two 10 pin LCD controllers such as
- * REPRAP_DISCOUNT_SMART_CONTROLLER.  It can't be used for controllers that use
- * DOGLCD_A0, DOGLCD_CS, LCD_PINS_D5, LCD_PINS_D6 or LCD_PINS_D7. A custom cable
- * is needed to pick up 5V for the EXP1 connection.
- *
- * SD card on the LCD uses the same SPI signals as the LCD. This results in garbage/lines
- * on the LCD display during accesses of the SD card. The menus/code has been arranged so
- * that the garbage/lines are erased immediately after the SD card accesses are completed.
+ *        ------                  ------
+ *  1.31 | 1  2 | 1.30      0.08 | 1  2 | 0.07
+ *  0.18 | 3  4 | 0.16      3.25 | 3  4 | 0.28
+ *  0.15 | 5  6   --        3.26 | 5  6   0.09
+ *    -- | 7  8 | --        0.27 | 7  8 | RESET
+ *   GND | 9 10 | 5V         GND | 9 10 | --
+ *        ------                  ------
+ *         EXP1                    EXP2
  */
+#define EXP1_01_PIN                         P1_31
+#define EXP1_02_PIN                         P1_30
+#define EXP1_03_PIN                         P0_18
+#define EXP1_04_PIN                         P0_16
+#define EXP1_05_PIN                         P0_15
+
+#define EXP2_01_PIN                         P0_08
+#define EXP2_02_PIN                         P0_07
+#define EXP2_03_PIN                         P3_25
+#define EXP2_04_PIN                         P0_28
+#define EXP2_05_PIN                         P3_26
+#define EXP2_06_PIN                         P0_09
+#define EXP2_07_PIN                         P0_27
 
 //
 // LCD / Controller
@@ -230,23 +233,22 @@
 #if IS_TFTGLCD_PANEL
 
   #if ENABLED(TFTGLCD_PANEL_SPI)
-    #define TFTGLCD_CS                     P3_25  // EXP2.3
+    #define TFTGLCD_CS               EXP2_03_PIN
   #endif
-
   #if SD_CONNECTION_IS(LCD)
-    #define SD_DETECT_PIN                  P0_28  // EXP2.4
+    #define SD_DETECT_PIN            EXP2_04_PIN
   #endif
 
 #elif HAS_WIRED_LCD
 
-  #define BEEPER_PIN                       P1_31  // EXP1.1
-  #define BTN_ENC                          P1_30  // EXP1.2
-  #define BTN_EN1                          P3_26  // EXP2.5
-  #define BTN_EN2                          P3_25  // EXP2.3
-  #define LCD_PINS_RS                      P0_16  // EXP1.4
-  #define LCD_SDSS                         P0_28  // EXP2.4
-  #define LCD_PINS_EN                      P0_18  // EXP1.3
-  #define LCD_PINS_D4                      P0_15  // EXP1.5
+  #define BEEPER_PIN                 EXP1_01_PIN
+  #define BTN_ENC                    EXP1_02_PIN
+  #define BTN_EN1                    EXP2_05_PIN
+  #define BTN_EN2                    EXP2_03_PIN
+  #define LCD_PINS_RS                EXP1_04_PIN
+  #define LCD_SDSS                   EXP2_04_PIN
+  #define LCD_PINS_EN                EXP1_03_PIN
+  #define LCD_PINS_D4                EXP1_05_PIN
   #if ANY(VIKI2, miniVIKI)
     #define DOGLCD_SCK                SD_SCK_PIN
     #define DOGLCD_MOSI              SD_MOSI_PIN
@@ -264,9 +266,9 @@
      * Pins 6, 7 & 8 on EXP2 are no connects. That means a second special
      * cable will be needed if the RGB LEDs are to be active.
      */
-    #define DOGLCD_CS                      P0_18  // EXP1.3  (LCD_EN on FYSETC schematic)
-    #define DOGLCD_A0                      P0_16  // EXP1.4  (LCD_A0 on FYSETC schematic)
-    #define DOGLCD_SCK                     P2_11  // J8-5  (SCK on FYSETC schematic)
+    #define DOGLCD_CS                EXP1_03_PIN  // LCD_EN
+    #define DOGLCD_A0                EXP1_04_PIN  // LCD_A0
+    #define DOGLCD_SCK                 PIN_P2_11  // J8-5  (SCK on FYSETC schematic)
     #define DOGLCD_MOSI                    P4_28  // J8-6  (MOSI on FYSETC schematic)
 
     //#define FORCE_SOFT_SPI                      // Use this if default of hardware SPI causes display problems
@@ -274,16 +276,16 @@
 
     #if ANY(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
       #ifndef RGB_LED_R_PIN
-        #define RGB_LED_R_PIN              P2_12  // J8-4  (LCD_D6 on FYSETC schematic)
+        #define RGB_LED_R_PIN          PIN_P2_12  // J8-4  (LCD_D6 on FYSETC schematic)
       #endif
       #ifndef RGB_LED_G_PIN
-        #define RGB_LED_G_PIN              P1_23  // J8-3  (LCD_D5 on FYSETC schematic)
+        #define RGB_LED_G_PIN          PIN_P1_23  // J8-3  (LCD_D5 on FYSETC schematic)
       #endif
       #ifndef RGB_LED_B_PIN
-        #define RGB_LED_B_PIN              P1_22  // J8-2  (LCD_D7 on FYSETC schematic)
+        #define RGB_LED_B_PIN          PIN_P1_22  // J8-2  (LCD_D7 on FYSETC schematic)
       #endif
     #elif ENABLED(FYSETC_MINI_12864_2_1)
-      #define NEOPIXEL_PIN                 P2_12
+      #define NEOPIXEL_PIN             PIN_P2_12
     #endif
 
   #elif ENABLED(MINIPANEL)
@@ -300,10 +302,10 @@
 
 #if HAS_DRIVER(TMC2130)
   // J8
-  #define X_CS_PIN                         P1_22
-  #define Y_CS_PIN                         P1_23
-  #define Z_CS_PIN                         P2_12
-  #define E0_CS_PIN                        P2_11
+  #define X_CS_PIN                     PIN_P1_22
+  #define Y_CS_PIN                     PIN_P1_23
+  #define Z_CS_PIN                     PIN_P2_12
+  #define E0_CS_PIN                    PIN_P2_11
   #define E1_CS_PIN                        P4_28
 
   // Hardware SPI is on EXP2. See if you can make it work:
@@ -330,13 +332,13 @@
    * Worst case you may have to give up the LCD
    * RX pins need to be interrupt capable
    */
-  #define X_SERIAL_TX_PIN                  P1_22  // J8-2
-  #define X_SERIAL_RX_PIN                  P2_12  // J8-4 Interrupt Capable
+  #define X_SERIAL_TX_PIN              PIN_P1_22  // J8-2
+  #define X_SERIAL_RX_PIN              PIN_P2_12  // J8-4 Interrupt Capable
 
-  #define Y_SERIAL_TX_PIN                  P1_23  // J8-3
-  #define Y_SERIAL_RX_PIN                  P2_11  // J8-5 Interrupt Capable
+  #define Y_SERIAL_TX_PIN              PIN_P1_23  // J8-3
+  #define Y_SERIAL_RX_PIN              PIN_P2_11  // J8-5 Interrupt Capable
 
-  #define Z_SERIAL_TX_PIN                  P2_12  // J8-4
+  #define Z_SERIAL_TX_PIN              PIN_P2_12  // J8-4
   #define Z_SERIAL_RX_PIN                  P0_25  // TH3
 
   #define E0_SERIAL_TX_PIN                 P4_28  // J8-6

commit 204de723f1c08f83e281f0629b60822b334097ed
Author: Keith Bennett <13375512+thisiskeithb@users.noreply.github.com>
Date:   Sun Jan 21 04:01:25 2024 -0800

    ‚ú® BIQU MicroProbe (#26527)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index a4150aa22f..1e45286fbf 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -63,6 +63,13 @@
   #define Z_MIN_PROBE_PIN                  P4_28  // Connector J8
 #endif
 
+//
+// Probe enable
+//
+#if ENABLED(PROBE_ENABLE_DISABLE) && !defined(PROBE_ENABLE_PIN)
+  #define PROBE_ENABLE_PIN            SERVO0_PIN
+#endif
+
 //
 // Steppers
 //

commit 2691167afe02fbbe74b0fdca2c28a49fac635741
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Jun 2 14:26:02 2023 -0500

    üßë‚Äçüíª Dump BOTH and EITHER macros (#25908)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 6d76fb2c8f..a4150aa22f 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -240,7 +240,7 @@
   #define LCD_SDSS                         P0_28  // EXP2.4
   #define LCD_PINS_EN                      P0_18  // EXP1.3
   #define LCD_PINS_D4                      P0_15  // EXP1.5
-  #if EITHER(VIKI2, miniVIKI)
+  #if ANY(VIKI2, miniVIKI)
     #define DOGLCD_SCK                SD_SCK_PIN
     #define DOGLCD_MOSI              SD_MOSI_PIN
   #endif
@@ -265,7 +265,7 @@
     //#define FORCE_SOFT_SPI                      // Use this if default of hardware SPI causes display problems
                                                   //   results in LCD soft SPI mode 3, SD soft SPI mode 0
 
-    #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
+    #if ANY(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
       #ifndef RGB_LED_R_PIN
         #define RGB_LED_R_PIN              P2_12  // J8-4  (LCD_D6 on FYSETC schematic)
       #endif

commit 40895cbcbb284b9d5e7440dc8ad40fdcfd1579bd
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 5 20:46:33 2023 -0500

    üîß Allow TMC_BAUD_RATE override

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 09a3075301..6d76fb2c8f 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -336,8 +336,11 @@
   #define E0_SERIAL_RX_PIN                 P0_26  // TH4
 
   // Reduce baud rate to improve software serial reliability
-  #define TMC_BAUD_RATE                    19200
-#endif
+  #ifndef TMC_BAUD_RATE
+    #define TMC_BAUD_RATE                  19200
+  #endif
+
+#endif // HAS_TMC_UART
 
 // UNUSED
 //#define PIN_P0_02                        P0_02  // AUX1 (Interrupt Capable/ADC/Serial Port 0)

commit cd5dc7203ca6340017a4f686a456f5d71792f272
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Apr 8 14:02:14 2023 -0500

    ‚ôªÔ∏è LCD_PINS_ENABLE => LCD_PINS_EN

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 9218bb168d..09a3075301 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -238,7 +238,7 @@
   #define BTN_EN2                          P3_25  // EXP2.3
   #define LCD_PINS_RS                      P0_16  // EXP1.4
   #define LCD_SDSS                         P0_28  // EXP2.4
-  #define LCD_PINS_ENABLE                  P0_18  // EXP1.3
+  #define LCD_PINS_EN                      P0_18  // EXP1.3
   #define LCD_PINS_D4                      P0_15  // EXP1.5
   #if EITHER(VIKI2, miniVIKI)
     #define DOGLCD_SCK                SD_SCK_PIN
@@ -257,8 +257,8 @@
      * Pins 6, 7 & 8 on EXP2 are no connects. That means a second special
      * cable will be needed if the RGB LEDs are to be active.
      */
-    #define DOGLCD_CS            LCD_PINS_ENABLE  // EXP1.3  (LCD_EN on FYSETC schematic)
-    #define DOGLCD_A0                LCD_PINS_RS  // EXP1.4  (LCD_A0 on FYSETC schematic)
+    #define DOGLCD_CS                      P0_18  // EXP1.3  (LCD_EN on FYSETC schematic)
+    #define DOGLCD_A0                      P0_16  // EXP1.4  (LCD_A0 on FYSETC schematic)
     #define DOGLCD_SCK                     P2_11  // J8-5  (SCK on FYSETC schematic)
     #define DOGLCD_MOSI                    P4_28  // J8-6  (MOSI on FYSETC schematic)
 

commit 2e4bf0ab9b2b4db545665bf976d2e0738c237b80
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Mar 25 18:20:14 2023 -0500

    üé® Rename FAN_PIN to FAN0_PIN (#25568)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 9f67a01c4e..9218bb168d 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -101,8 +101,8 @@
 #define HEATER_BED_PIN                     P2_05
 #define HEATER_0_PIN                       P2_07
 #define HEATER_1_PIN                       P2_06
-#ifndef FAN_PIN
-  #define FAN_PIN                          P2_04
+#ifndef FAN0_PIN
+  #define FAN0_PIN                         P2_04
 #endif
 
 //

commit 39d08d90cd1aba3fde54dc070531c28bf2dffe53
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 24 02:43:20 2023 -0500

    üé® LPC_SOFTWARE_SPI => SOFTWARE_SPI
    
    Co-Authored-By: Martin Turski <turningtides@outlook.de>

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 14759901ac..9f67a01c4e 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -186,7 +186,7 @@
   #define SD_MISO_PIN                      P1_23  // J8-3 (moved from EXP2 P0.8)
   #define SD_MOSI_PIN                      P2_12  // J8-4 (moved from EXP2 P0.9)
   #define SD_SS_PIN                        P0_28
-  #define LPC_SOFTWARE_SPI                        // With a custom cable we need software SPI because the
+  #define SOFTWARE_SPI                            // With a custom cable we need software SPI because the
                                                   // selected pins are not on a hardware SPI controller
 #elif SD_CONNECTION_IS(LCD) || SD_CONNECTION_IS(ONBOARD)
   #define SD_SCK_PIN                       P0_07

commit 0914f9e0e1738e118176bc9fe2df03215f1c4456
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 24 02:40:29 2023 -0500

    üé® Pins header comments
    
    Co-Authored-By: Martin Turski <turningtides@outlook.de>

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index c5c5bd3e23..14759901ac 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -23,6 +23,8 @@
 
 /**
  * Makerbase MKS SBASE pin assignments
+ * Schematic (V1.3): https://green-candy.osdn.jp/external/MarlinFW/board_schematics/MKS%20SBASE%20V1.3/MKS%20SBASE%20V1.3_002%20SCH.pdf
+ * Origin (V1.3): http://green-candy.osdn.jp/external/MarlinFW/board_schematics/MKS%20SBASE%20V1.3/MKS%20SBASE%20V1.3_002%20SCH.pdf
  */
 
 #include "env_validate.h"

commit 769ad2764512b38e987ebbed1fe026d68a424bb1
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 24 00:33:39 2023 -0500

    üé® TMC SPI Pins
    
    Co-Authored-By: Martin Turski <turningtides@outlook.de>

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index cf12a98aef..c5c5bd3e23 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -300,16 +300,14 @@
   // Hardware SPI is on EXP2. See if you can make it work:
   // https://github.com/makerbase-mks/MKS-SBASE/issues/25
   #define TMC_USE_SW_SPI
-  #if ENABLED(TMC_USE_SW_SPI)
-    #ifndef TMC_SW_MOSI
-      #define TMC_SW_MOSI                  P0_03  // AUX1
-    #endif
-    #ifndef TMC_SW_MISO
-      #define TMC_SW_MISO                  P0_02  // AUX1
-    #endif
-    #ifndef TMC_SW_SCK
-      #define TMC_SW_SCK                   P0_26  // TH4
-    #endif
+  #ifndef TMC_SPI_MOSI
+    #define TMC_SPI_MOSI                   P0_03  // AUX1
+  #endif
+  #ifndef TMC_SPI_MISO
+    #define TMC_SPI_MISO                   P0_02  // AUX1
+  #endif
+  #ifndef TMC_SPI_SCK
+    #define TMC_SPI_SCK                    P0_26  // TH4
   #endif
 
 #endif

commit 2dc543c4f58c39e6cdf7a4a001c15100268cdf46
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Wed Jul 13 21:22:53 2022 -0500

    üé® ANY => EITHER

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 7f9e530f3c..cf12a98aef 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -238,7 +238,7 @@
   #define LCD_SDSS                         P0_28  // EXP2.4
   #define LCD_PINS_ENABLE                  P0_18  // EXP1.3
   #define LCD_PINS_D4                      P0_15  // EXP1.5
-  #if ANY(VIKI2, miniVIKI)
+  #if EITHER(VIKI2, miniVIKI)
     #define DOGLCD_SCK                SD_SCK_PIN
     #define DOGLCD_MOSI              SD_MOSI_PIN
   #endif

commit 5179f55bf9147a52cb63281a04c99ac79c9e3143
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Wed Jan 19 03:27:10 2022 -0600

    üé® LCD_SCREEN_ROT_* => LCD_SCREEN_ROTATE

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 406e65d295..7f9e530f3c 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -278,11 +278,7 @@
     #endif
 
   #elif ENABLED(MINIPANEL)
-    // GLCD features
-    // Uncomment screen orientation
-    //#define LCD_SCREEN_ROT_90
-    //#define LCD_SCREEN_ROT_180
-    //#define LCD_SCREEN_ROT_270
+    //#define LCD_SCREEN_ROTATE              180  // 0, 90, 180, 270
   #endif
 
 #endif // HAS_WIRED_LCD

commit 5f7c92dfbb0af65610d88ea48d48f00fd04505c2
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Oct 19 05:59:48 2021 -0500

    üé® Refactor MOSFET pins layout (#22983)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 258ecd107b..406e65d295 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -363,9 +363,9 @@
  *  PWM1.4   P1_23   SDSS(SSEL0)      J3-5  AUX-3
  *  PWM1.4   P2_03   Z_STEP_PIN
  *  PWM1.5   P1_24   X_MIN_PIN        10K PULLUP TO 3.3v, 1K SERIES
- *  PWM1.5   P2_04   RAMPS_D9_PIN
+ *  PWM1.5   P2_04   MOSFET_B_PIN
  *  PWM1.6   P1_26   Y_MIN_PIN        10K PULLUP TO 3.3v, 1K SERIES
- *  PWM1.6   P2_05   RAMPS_D10_PIN
+ *  PWM1.6   P2_05   MOSFET_A_PIN
  */
 
 /**

commit f367a3987de2703965b2b043b191d6ed77648e6d
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Sep 18 18:22:15 2021 -0500

    üìù Update some pins comments

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index a9701bc8b5..258ecd107b 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -22,7 +22,7 @@
 #pragma once
 
 /**
- * MKS SBASE pin assignments
+ * Makerbase MKS SBASE pin assignments
  */
 
 #include "env_validate.h"

commit 6d3dec8b6390bd1fb9ce24814249ab0e3cf8719e
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sun Aug 29 13:51:57 2021 -0500

    üé® Update more EXP Headers

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index d1d1eccc45..a9701bc8b5 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -215,6 +215,9 @@
  * that the garbage/lines are erased immediately after the SD card accesses are completed.
  */
 
+//
+// LCD / Controller
+//
 #if IS_TFTGLCD_PANEL
 
   #if ENABLED(TFTGLCD_PANEL_SPI)
@@ -341,10 +344,8 @@
 #endif
 
 // UNUSED
-#define PIN_P0_27                          P0_27  // EXP2/Onboard SD
-#define PIN_P0_28                          P0_28  // EXP2
-#define PIN_P0_02                          P0_02  // AUX1 (Interrupt Capable/ADC/Serial Port 0)
-#define PIN_P0_03                          P0_03  // AUX1 (Interrupt Capable/ADC/Serial Port 0)
+//#define PIN_P0_02                        P0_02  // AUX1 (Interrupt Capable/ADC/Serial Port 0)
+//#define PIN_P0_03                        P0_03  // AUX1 (Interrupt Capable/ADC/Serial Port 0)
 
 /**
  *  PWMs

commit 4f35858c9ef4de8e291d8006041aca0969c9d825
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Tue Aug 24 18:07:41 2021 -0500

    üé® EXP1/2 headers and pins cleanup (#22628)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index a2235dc28a..d1d1eccc45 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -165,8 +165,6 @@
   #define SDCARD_CONNECTION              ONBOARD
 #endif
 
-#define ONBOARD_SD_CS_PIN                  P0_06  // Chip select for "System" SD card
-
 #if SD_CONNECTION_IS(CUSTOM_CABLE)
 
   /**
@@ -199,6 +197,7 @@
     #define SD_SS_PIN                      P0_28
   #else
     #define SD_DETECT_PIN                  P0_27
+    #define ONBOARD_SD_CS_PIN              P0_06  // Chip select for "System" SD card
     #define SD_SS_PIN          ONBOARD_SD_CS_PIN
   #endif
 #endif

commit 2e3b13133159669ecb9682079f60972d0ff5b3c8
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Aug 21 15:07:52 2021 -0500

    üé® Tweak TMC software serial pins

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 44dbaacb73..a2235dc28a 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -327,10 +327,13 @@
    */
   #define X_SERIAL_TX_PIN                  P1_22  // J8-2
   #define X_SERIAL_RX_PIN                  P2_12  // J8-4 Interrupt Capable
+
   #define Y_SERIAL_TX_PIN                  P1_23  // J8-3
   #define Y_SERIAL_RX_PIN                  P2_11  // J8-5 Interrupt Capable
+
   #define Z_SERIAL_TX_PIN                  P2_12  // J8-4
   #define Z_SERIAL_RX_PIN                  P0_25  // TH3
+
   #define E0_SERIAL_TX_PIN                 P4_28  // J8-6
   #define E0_SERIAL_RX_PIN                 P0_26  // TH4
 

commit c161a46112debd280dc1ed6945d50f971ff505e6
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Aug 13 16:32:25 2021 -0500

    üé® Update MKSPWC, some other pins (#22557)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 4c2b606929..44dbaacb73 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -138,14 +138,10 @@
 //
 // Power Supply Control
 //
-#if ENABLED(PSU_CONTROL)                          // MKSPWC
-  #ifndef PS_ON_PIN
-    #define PS_ON_PIN                      P0_25  // SERVO
-  #endif
-  #ifndef KILL_PIN
-    #define KILL_PIN                       P1_29  // Z+
-    #define KILL_PIN_STATE                  HIGH
-  #endif
+#if ENABLED(MKS_PWC)
+  #define PS_ON_PIN                        P0_25  // SERVO
+  #define KILL_PIN                         P1_29  // Z+
+  #define KILL_PIN_STATE                    HIGH
 #endif
 
 //

commit c1a533b45e21c43eda6fedb9679976747bca6845
Author: mks-viva <1224833100@qq.com>
Date:   Sat Aug 7 22:17:43 2021 -0500

    üìå MKS pins for PSU_CONTROL (#22528)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 71d7ad3037..4c2b606929 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -136,9 +136,17 @@
 #endif
 
 //
-// Misc. Functions
+// Power Supply Control
 //
-#define PS_ON_PIN                          P0_25  // TH3 Connector
+#if ENABLED(PSU_CONTROL)                          // MKSPWC
+  #ifndef PS_ON_PIN
+    #define PS_ON_PIN                      P0_25  // SERVO
+  #endif
+  #ifndef KILL_PIN
+    #define KILL_PIN                       P1_29  // Z+
+    #define KILL_PIN_STATE                  HIGH
+  #endif
+#endif
 
 //
 // Ethernet pins

commit 3ea56ba4c72fb1e9c4bb4a896b8cf87361a48f4b
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri Mar 5 04:30:52 2021 -0600

    Tweak tests, consolidate pins target validation (#21254)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index fbddc66e7c..71d7ad3037 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -25,11 +25,7 @@
  * MKS SBASE pin assignments
  */
 
-#if defined(MKS_HAS_LPC1769) && NOT_TARGET(MCU_LPC1769)
-  #error "Oops! Make sure you have the LPC1769 environment selected in your IDE."
-#elif !defined(MKS_HAS_LPC1769) && NOT_TARGET(MCU_LPC1768)
-  #error "Oops! Make sure you have the LPC1768 environment selected in your IDE."
-#endif
+#include "env_validate.h"
 
 #ifndef BOARD_INFO_NAME
   #define BOARD_INFO_NAME   "MKS SBASE"

commit b8186b50817d33999a414400d82d876da7b40ee9
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Jan 25 08:32:58 2021 -0600

    Apply SEC_TO_MS and other fixes

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index ea9748ca54..fbddc66e7c 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -27,7 +27,7 @@
 
 #if defined(MKS_HAS_LPC1769) && NOT_TARGET(MCU_LPC1769)
   #error "Oops! Make sure you have the LPC1769 environment selected in your IDE."
-#elif NOT_TARGET(MKS_HAS_LPC1769, MCU_LPC1768)
+#elif !defined(MKS_HAS_LPC1769) && NOT_TARGET(MCU_LPC1768)
   #error "Oops! Make sure you have the LPC1768 environment selected in your IDE."
 #endif
 

commit c840bbc970c2684c2c9c193ee967c03dd621d99a
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Fri Jan 1 17:31:15 2021 -0300

    Prefix SD SPI pins (SCK, MISO, MOSI, SS) (#20606)
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index b993e38460..ea9748ca54 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -182,26 +182,25 @@
    * SD_DETECT_PIN entirely and remove that wire from the the custom cable.
    */
   #define SD_DETECT_PIN                    P2_11  // J8-5 (moved from EXP2 P0.27)
-  #define SCK_PIN                          P1_22  // J8-2 (moved from EXP2 P0.7)
-  #define MISO_PIN                         P1_23  // J8-3 (moved from EXP2 P0.8)
-  #define MOSI_PIN                         P2_12  // J8-4 (moved from EXP2 P0.9)
-  #define SS_PIN                           P0_28
+  #define SD_SCK_PIN                       P1_22  // J8-2 (moved from EXP2 P0.7)
+  #define SD_MISO_PIN                      P1_23  // J8-3 (moved from EXP2 P0.8)
+  #define SD_MOSI_PIN                      P2_12  // J8-4 (moved from EXP2 P0.9)
+  #define SD_SS_PIN                        P0_28
   #define LPC_SOFTWARE_SPI                        // With a custom cable we need software SPI because the
                                                   // selected pins are not on a hardware SPI controller
-#elif SD_CONNECTION_IS(LCD)
-  // use standard cable and header, SPI and SD detect sre shared with on-board SD card
-  // hardware SPI is used for both SD cards. The detect pin is shred between the
-  // LCD and onboard SD readers so we disable it.
-  #define SCK_PIN                          P0_07
-  #define MISO_PIN                         P0_08
-  #define MOSI_PIN                         P0_09
-  #define SS_PIN                           P0_28
-#elif SD_CONNECTION_IS(ONBOARD)
-  #define SD_DETECT_PIN                    P0_27
-  #define SCK_PIN                          P0_07
-  #define MISO_PIN                         P0_08
-  #define MOSI_PIN                         P0_09
-  #define SS_PIN               ONBOARD_SD_CS_PIN
+#elif SD_CONNECTION_IS(LCD) || SD_CONNECTION_IS(ONBOARD)
+  #define SD_SCK_PIN                       P0_07
+  #define SD_MISO_PIN                      P0_08
+  #define SD_MOSI_PIN                      P0_09
+  #if SD_CONNECTION_IS(LCD)
+    // Use standard cable and header, SPI and SD detect are shared with onboard SD card.
+    // Hardware SPI is used for both SD cards. The detect pin is shared between the
+    // LCD and onboard SD readers so we disable it.
+    #define SD_SS_PIN                      P0_28
+  #else
+    #define SD_DETECT_PIN                  P0_27
+    #define SD_SS_PIN          ONBOARD_SD_CS_PIN
+  #endif
 #endif
 
 /**
@@ -238,8 +237,8 @@
   #define LCD_PINS_ENABLE                  P0_18  // EXP1.3
   #define LCD_PINS_D4                      P0_15  // EXP1.5
   #if ANY(VIKI2, miniVIKI)
-    #define DOGLCD_SCK                   SCK_PIN
-    #define DOGLCD_MOSI                 MOSI_PIN
+    #define DOGLCD_SCK                SD_SCK_PIN
+    #define DOGLCD_MOSI              SD_MOSI_PIN
   #endif
 
   #if ENABLED(FYSETC_MINI_12864)

commit 41529b65988a58ba512977e0fe1692aaeeb6c811
Author: Giuliano Zaro <3684609+GMagician@users.noreply.github.com>
Date:   Wed Nov 18 08:27:21 2020 +0100

    SMUFF (MMU2 clone) support (#19912)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 2430958895..b993e38460 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -131,9 +131,9 @@
 #define PIN_P2_11                          P2_11  // Interrupt Capable
 
 //
-// Pr≈Ø≈°a i3 MK2 Multi Material Multiplexer Support
+// Pr≈Ø≈°a i3 MMU1 (Multi Material Multiplexer) Support
 //
-#if ENABLED(MK2_MULTIPLEXER)
+#if HAS_PRUSA_MMU1
   #define E_MUX0_PIN                       P1_23  // J8-3
   #define E_MUX1_PIN                       P2_12  // J8-4
   #define E_MUX2_PIN                       P2_11  // J8-5

commit f6ffbe548c81abfeecc996c8f2bffd27cabe0014
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Oct 15 03:00:27 2020 -0500

    TFT Presets, Generic options, Sanity checks (#19723)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 6c6a9ea306..2430958895 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -147,7 +147,7 @@
 //
 // Ethernet pins
 //
-#ifndef ULTIPANEL
+#if !IS_ULTIPANEL
   #define ENET_MDIO                        P1_17  // J12-4
   #define ENET_RX_ER                       P1_14  // J12-6
   #define ENET_RXD1                        P1_10  // J12-8

commit c0920bbf6a2490b7ea66d2a9e828c0f527a6c77b
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Mon Oct 12 18:38:07 2020 -0300

    TFT Refactoring (#19192)
    
    * split tft folder in two: tft for color ui; tft_io for shared tft code
    
    * after the files got moved, now the code was moved to the right place
    
    * classic ui using TFT IO init lcd codes
    
    * feature to compile tft_io when enabled
    
    * compiling fix
    
    * lvgl spi tft working with tft io init codes
    
    * there is no need for separeted fsmc and spi class in lvgl anymore, as tft io handle everything
    
    * remove debug
    
    * base for TFT rotation and mirroring API, and ILI9488 support
    
    * ST7796S rotate and mirror support
    
    * ST7789V rotate and mirror support
    
    * ST7735 rotate and mirror support
    
    * ILI9341 rotate and mirror support
    
    * ILI9328 rotate and mirror support
    
    * R61505 rotate and mirror support
    
    * MKS TFT definitions
    
    * more configs for mks tfts
    
    * update config
    
    * naming typo
    
    * to configure the user interface
    
    * ANYCUBIC_TFT35
    
    * tft configs
    
    * support for SSD1963
    
    * tft display types
    
    * updated conditionals lcd; first board fully working with the new code - all 3 ui!
    
    * compatiblity
    
    * changed name
    
    * move classic ui file name
    
    * rename TURN -> ROTATE
    
    * GRAPHICAL_TFT_ROTATE_180 deprecated
    
    * first fsmc board fully working - chitu v5
    
    * mks robin nano v1.2 + tft 35 ok!
    
    * right pin name
    
    * anycubic tft tested in a TRIGORILLA_PRO
    
    * chitu v6
    
    * nano 32 tft orientation
    
    * mks tft43
    
    * mks tft43 rotation
    
    * fixed LONGER LK tft setup
    
    * GRAPHICAL_TFT_UPSCALE defined by the display type
    
    * better offsets defaults
    
    * Update Configuration.h
    
    * Update tft_fsmc.cpp
    
    * Update Conditionals_LCD.h
    
    * Tweak comments
    
    * update nano tests
    
    * Revert "update nano tests"
    
    This reverts commit a071ebbfad30e28855a4a5695ec8a726542a1a65.
    
    * default tft
    
    * outdated comments
    
    * to not break non-vscode builds
    
    * upscale tft 35
    
    * support tft 180 rotation for color ui
    
    * Each TFT Driver is responsible for its default color mode.
    
    * use auto detect in mks displays, because some of them could be shipped with diferent drivers
    
    * extra s
    
    * unused code
    
    * wrong -1
    
    * missing mirror options
    
    * Smaller regex pattern
    
    * Comment updates
    
    * Clean up old defines
    
    * Apply pins formatting
    
    * GRAPHICAL_TFT_ROTATE_180 => TFT_ROTATE_180
    
    * MKS_ROBIN_TFT_V1_1R
    
    * merge fix
    
    * correct resolution
    
    * auto is default, dont need be there, and it will allow the user to configure it even for named displays
    
    * to not use rotation with MKS_ROBIN_TFT_V1_1R
    
    * i like () in macros
    
    * avoid sleepy commits
    
    * default for st7789 is rgb
    
    * nano follow up
    
    * to allow ili9328 rotation
    
    * default is rgb
    
    * boards merge follow up
    
    * to match bootloader orientation
    
    * HAS_TOUCH_XPT2046 is not hal specific anymore
    
    * lets not forget LPC
    
    * 180 rotation for ili9328 and R61505
    
    * Clean up whitespace
    
    Co-authored-by: Scott Lahteine <thinkyhead@users.noreply.github.com>
    Co-authored-by: Scott Lahteine <github@thinkyhead.com>

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 196503c822..6c6a9ea306 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -220,7 +220,7 @@
 #if IS_TFTGLCD_PANEL
 
   #if ENABLED(TFTGLCD_PANEL_SPI)
-    #define   TFTGLCD_CS                   P3_25  // EXP2.3
+    #define TFTGLCD_CS                     P3_25  // EXP2.3
   #endif
 
   #if SD_CONNECTION_IS(LCD)

commit 4424645e04c9e75462d36de8f7a82e67cc9c262e
Author: qwewer0 <57561110+qwewer0@users.noreply.github.com>
Date:   Mon Sep 28 21:53:50 2020 +0200

    Multi-line comments cleanup (#19535)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 1290200e55..196503c822 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -372,7 +372,6 @@
  *   P1_31 - not 5V tolerant - EXP1
  *   P0_27 - open collector  - EXP2
  *   P0_28 - open collector  - EXP2
- *
  */
 
 /**
@@ -387,5 +386,4 @@
  *   P0_03 - AUX1
  *   P0_29 - Port -1
  *   P0_30 - USB
- *
  */

commit 27bdf4b24e8da06ea7923b6382f38b5fb6292914
Author: Serhiy-K <52166448+Serhiy-K@users.noreply.github.com>
Date:   Mon Sep 28 09:52:38 2020 +0300

    MarlinUI for SPI/I2C TFT-GLCD character-based display bridge (#19375)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 1cb6774a41..1290200e55 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -217,7 +217,18 @@
  * that the garbage/lines are erased immediately after the SD card accesses are completed.
  */
 
-#if HAS_WIRED_LCD
+#if IS_TFTGLCD_PANEL
+
+  #if ENABLED(TFTGLCD_PANEL_SPI)
+    #define   TFTGLCD_CS                   P3_25  // EXP2.3
+  #endif
+
+  #if SD_CONNECTION_IS(LCD)
+    #define SD_DETECT_PIN                  P0_28  // EXP2.4
+  #endif
+
+#elif HAS_WIRED_LCD
+
   #define BEEPER_PIN                       P1_31  // EXP1.1
   #define BTN_ENC                          P1_30  // EXP1.2
   #define BTN_EN1                          P3_26  // EXP2.5
@@ -273,7 +284,7 @@
     //#define LCD_SCREEN_ROT_270
   #endif
 
-#endif
+#endif // HAS_WIRED_LCD
 
 /**
  * Example for trinamic drivers using the J8 connector on MKs Sbase.

commit c2c6a679ea4bdf48ce1800a8831fcec36c09ce53
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Sep 28 01:13:27 2020 -0500

    Rename LCD conditionals (#19533)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 7d0745aa2d..1cb6774a41 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -217,7 +217,7 @@
  * that the garbage/lines are erased immediately after the SD card accesses are completed.
  */
 
-#if HAS_SPI_LCD
+#if HAS_WIRED_LCD
   #define BEEPER_PIN                       P1_31  // EXP1.1
   #define BTN_ENC                          P1_30  // EXP1.2
   #define BTN_EN1                          P3_26  // EXP2.5

commit 90bc1993b6811623dd9d0de00251e0c63415cb49
Author: Victor Oliveira <rhapsodyv@gmail.com>
Date:   Wed Sep 23 17:06:36 2020 -0300

    Include pins.h in dependencies script (#19468)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 54f3dfd95c..7d0745aa2d 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -25,9 +25,9 @@
  * MKS SBASE pin assignments
  */
 
-#if defined(MKS_HAS_LPC1769) && !defined(MCU_LPC1769)
+#if defined(MKS_HAS_LPC1769) && NOT_TARGET(MCU_LPC1769)
   #error "Oops! Make sure you have the LPC1769 environment selected in your IDE."
-#elif !defined(MKS_HAS_LPC1769) && !defined(MCU_LPC1768)
+#elif NOT_TARGET(MKS_HAS_LPC1769, MCU_LPC1768)
   #error "Oops! Make sure you have the LPC1768 environment selected in your IDE."
 #endif
 

commit a445746a8b6dd752de725eb67d264153c3b393d7
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sun Sep 6 21:40:58 2020 -0500

    Clean up LCD conditionals, DWIN

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index c898072278..54f3dfd95c 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -289,20 +289,21 @@
   #define E0_CS_PIN                        P2_11
   #define E1_CS_PIN                        P4_28
 
-// Hardware SPI is on EXP2. See if you can make it work:
-// https://github.com/makerbase-mks/MKS-SBASE/issues/25
-#define TMC_USE_SW_SPI
-#if ENABLED(TMC_USE_SW_SPI)
-  #ifndef TMC_SW_MOSI
-    #define TMC_SW_MOSI                    P0_03  // AUX1
-  #endif
-  #ifndef TMC_SW_MISO
-    #define TMC_SW_MISO                    P0_02  // AUX1
-  #endif
-  #ifndef TMC_SW_SCK
-    #define TMC_SW_SCK                     P0_26  // TH4
+  // Hardware SPI is on EXP2. See if you can make it work:
+  // https://github.com/makerbase-mks/MKS-SBASE/issues/25
+  #define TMC_USE_SW_SPI
+  #if ENABLED(TMC_USE_SW_SPI)
+    #ifndef TMC_SW_MOSI
+      #define TMC_SW_MOSI                  P0_03  // AUX1
+    #endif
+    #ifndef TMC_SW_MISO
+      #define TMC_SW_MISO                  P0_02  // AUX1
+    #endif
+    #ifndef TMC_SW_SCK
+      #define TMC_SW_SCK                   P0_26  // TH4
+    #endif
   #endif
- #endif
+
 #endif
 
 #if MB(MKS_SBASE) && HAS_TMC_UART

commit a9f7e855d8c030d0d9f34f950a66824b576548b5
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Sat Aug 22 01:22:14 2020 -0500

    Reformat pins files

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index db8551c114..c898072278 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -324,7 +324,7 @@
   #define E0_SERIAL_RX_PIN                 P0_26  // TH4
 
   // Reduce baud rate to improve software serial reliability
-  #define TMC_BAUD_RATE 19200
+  #define TMC_BAUD_RATE                    19200
 #endif
 
 // UNUSED

commit 42fbd527f3bcc317ae6851aca5a45bdbf979de55
Author: Diego von Deschwanden <68632259+Diegovd@users.noreply.github.com>
Date:   Thu Jul 23 05:20:14 2020 +0200

    Fix links to secure sites (#18745)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 054f155117..db8551c114 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -16,7 +16,7 @@
  * GNU General Public License for more details.
  *
  * You should have received a copy of the GNU General Public License
- * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ * along with this program.  If not, see <https://www.gnu.org/licenses/>.
  *
  */
 #pragma once

commit 5f7a75979f8c1f7cf1f3adbb61e862f17409047b
Author: randellhodges <rhodges@taxfodder.com>
Date:   Tue Apr 28 02:27:55 2020 -0500

    LPC176x SPI / I2C PersistentStore (#17651)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 0cd10ebc05..054f155117 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -38,14 +38,6 @@
   #define BOARD_WEBSITE_URL "github.com/makerbase-mks/MKS-SBASE"
 #endif
 
-//
-// EEPROM
-//
-#if NONE(FLASH_EEPROM_EMULATION, SDCARD_EEPROM_EMULATION)
-  #define FLASH_EEPROM_EMULATION
-  //#define SDCARD_EEPROM_EMULATION
-#endif
-
 #define LED_PIN                            P1_18  // Used as a status indicator
 #define LED2_PIN                           P1_19
 #define LED3_PIN                           P1_20

commit 2c325c2a7d9b66b50d8585a1d5ced422ed88b1ae
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Sat Mar 21 21:13:19 2020 -0500

    Format some pins files

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 28b94f019a..0cd10ebc05 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -46,73 +46,73 @@
   //#define SDCARD_EEPROM_EMULATION
 #endif
 
-#define LED_PIN            P1_18   // Used as a status indicator
-#define LED2_PIN           P1_19
-#define LED3_PIN           P1_20
-#define LED4_PIN           P1_21
+#define LED_PIN                            P1_18  // Used as a status indicator
+#define LED2_PIN                           P1_19
+#define LED3_PIN                           P1_20
+#define LED4_PIN                           P1_21
 
 //
 // Servos
 //
-#define SERVO0_PIN         P1_23   // J8-3 (low jitter)
-#define SERVO1_PIN         P2_12   // J8-4
-#define SERVO2_PIN         P2_11   // J8-5
-#define SERVO3_PIN         P4_28   // J8-6
+#define SERVO0_PIN                         P1_23  // J8-3 (low jitter)
+#define SERVO1_PIN                         P2_12  // J8-4
+#define SERVO2_PIN                         P2_11  // J8-5
+#define SERVO3_PIN                         P4_28  // J8-6
 
 //
 // Limit Switches - Not Interrupt Capable
 //
-#define X_MIN_PIN          P1_24   // 10k pullup to 3.3V, 1K series
-#define X_MAX_PIN          P1_25   // 10k pullup to 3.3V, 1K series
-#define Y_MIN_PIN          P1_26   // 10k pullup to 3.3V, 1K series
-#define Y_MAX_PIN          P1_27   // 10k pullup to 3.3V, 1K series
-#define Z_MIN_PIN          P1_28   // The original Mks Sbase DIO19 has a 10k pullup to 3.3V or 5V, 1K series, so when using a Zprobe we must use DIO41 (J8 P1.22)
-#define Z_MAX_PIN          P1_29   // 10k pullup to 3.3V, 1K series
+#define X_MIN_PIN                          P1_24  // 10k pullup to 3.3V, 1K series
+#define X_MAX_PIN                          P1_25  // 10k pullup to 3.3V, 1K series
+#define Y_MIN_PIN                          P1_26  // 10k pullup to 3.3V, 1K series
+#define Y_MAX_PIN                          P1_27  // 10k pullup to 3.3V, 1K series
+#define Z_MIN_PIN                          P1_28  // The original Mks Sbase DIO19 has a 10k pullup to 3.3V or 5V, 1K series, so when using a Zprobe we must use DIO41 (J8 P1.22)
+#define Z_MAX_PIN                          P1_29  // 10k pullup to 3.3V, 1K series
 
 #ifndef Z_MIN_PROBE_PIN
-  #define Z_MIN_PROBE_PIN  P4_28   // Connector J8
+  #define Z_MIN_PROBE_PIN                  P4_28  // Connector J8
 #endif
 
 //
 // Steppers
 //
-#define X_STEP_PIN         P2_00
-#define X_DIR_PIN          P0_05
-#define X_ENABLE_PIN       P0_04
+#define X_STEP_PIN                         P2_00
+#define X_DIR_PIN                          P0_05
+#define X_ENABLE_PIN                       P0_04
 
-#define Y_STEP_PIN         P2_01
-#define Y_DIR_PIN          P0_11
-#define Y_ENABLE_PIN       P0_10
+#define Y_STEP_PIN                         P2_01
+#define Y_DIR_PIN                          P0_11
+#define Y_ENABLE_PIN                       P0_10
 
-#define Z_STEP_PIN         P2_02
-#define Z_DIR_PIN          P0_20
-#define Z_ENABLE_PIN       P0_19
+#define Z_STEP_PIN                         P2_02
+#define Z_DIR_PIN                          P0_20
+#define Z_ENABLE_PIN                       P0_19
 
-#define E0_STEP_PIN        P2_03
-#define E0_DIR_PIN         P0_22
-#define E0_ENABLE_PIN      P0_21
+#define E0_STEP_PIN                        P2_03
+#define E0_DIR_PIN                         P0_22
+#define E0_ENABLE_PIN                      P0_21
 
-#define E1_STEP_PIN        P2_08
-#define E1_DIR_PIN         P2_13
-#define E1_ENABLE_PIN      P4_29
+#define E1_STEP_PIN                        P2_08
+#define E1_DIR_PIN                         P2_13
+#define E1_ENABLE_PIN                      P4_29
 
 //
 // Temperature Sensors
 // 3.3V max when defined as an analog input
 //
-#define TEMP_BED_PIN        P0_23_A0   // A0 (TH1)
-#define TEMP_0_PIN          P0_24_A1   // A1 (TH2)
-#define TEMP_1_PIN          P0_25_A2   // A2 (TH3)
-#define TEMP_2_PIN          P0_26_A3   // A3 (TH4)
+#define TEMP_BED_PIN                    P0_23_A0  // A0 (TH1)
+#define TEMP_0_PIN                      P0_24_A1  // A1 (TH2)
+#define TEMP_1_PIN                      P0_25_A2  // A2 (TH3)
+#define TEMP_2_PIN                      P0_26_A3  // A3 (TH4)
 
 //
 // Heaters / Fans
 //
-#define HEATER_BED_PIN     P2_05
-#define HEATER_0_PIN       P2_07
-#define HEATER_1_PIN       P2_06
+#define HEATER_BED_PIN                     P2_05
+#define HEATER_0_PIN                       P2_07
+#define HEATER_1_PIN                       P2_06
 #ifndef FAN_PIN
-  #define FAN_PIN          P2_04
+  #define FAN_PIN                          P2_04
 #endif
 
 //
@@ -124,56 +124,56 @@
 // 5V
 // NC
 // GND
-#define PIN_P0_17          P0_17
-#define PIN_P0_16          P0_16
-#define PIN_P0_15          P0_15
+#define PIN_P0_17                          P0_17
+#define PIN_P0_16                          P0_16
+#define PIN_P0_15                          P0_15
 
 //
 // Connector J8
 //
 
 // GND
-#define PIN_P1_22          P1_22
-#define PIN_P1_23          P1_23   // PWM Capable
-#define PIN_P2_12          P2_12   // Interrupt Capable
-#define PIN_P2_11          P2_11   // Interrupt Capable
+#define PIN_P1_22                          P1_22
+#define PIN_P1_23                          P1_23  // PWM Capable
+#define PIN_P2_12                          P2_12  // Interrupt Capable
+#define PIN_P2_11                          P2_11  // Interrupt Capable
 
 //
 // Pr≈Ø≈°a i3 MK2 Multi Material Multiplexer Support
 //
 #if ENABLED(MK2_MULTIPLEXER)
-  #define E_MUX0_PIN       P1_23   // J8-3
-  #define E_MUX1_PIN       P2_12   // J8-4
-  #define E_MUX2_PIN       P2_11   // J8-5
+  #define E_MUX0_PIN                       P1_23  // J8-3
+  #define E_MUX1_PIN                       P2_12  // J8-4
+  #define E_MUX2_PIN                       P2_11  // J8-5
 #endif
 
 //
 // Misc. Functions
 //
-#define PS_ON_PIN          P0_25   // TH3 Connector
+#define PS_ON_PIN                          P0_25  // TH3 Connector
 
 //
 // Ethernet pins
 //
 #ifndef ULTIPANEL
-  #define ENET_MDIO        P1_17   // J12-4
-  #define ENET_RX_ER       P1_14   // J12-6
-  #define ENET_RXD1        P1_10   // J12-8
+  #define ENET_MDIO                        P1_17  // J12-4
+  #define ENET_RX_ER                       P1_14  // J12-6
+  #define ENET_RXD1                        P1_10  // J12-8
 #endif
 
-#define ENET_MOC           P1_16   // J12-3
-#define REF_CLK            P1_15   // J12-5
-#define ENET_RXD0          P1_09   // J12-7
-#define ENET_CRS           P1_08   // J12-9
-#define ENET_TX_EN         P1_04   // J12-10
-#define ENET_TXD0          P1_00   // J12-11
-#define ENET_TXD1          P1_01   // J12-12
+#define ENET_MOC                           P1_16  // J12-3
+#define REF_CLK                            P1_15  // J12-5
+#define ENET_RXD0                          P1_09  // J12-7
+#define ENET_CRS                           P1_08  // J12-9
+#define ENET_TX_EN                         P1_04  // J12-10
+#define ENET_TXD0                          P1_00  // J12-11
+#define ENET_TXD1                          P1_01  // J12-12
 
 #ifndef SDCARD_CONNECTION
-  #define SDCARD_CONNECTION ONBOARD
+  #define SDCARD_CONNECTION              ONBOARD
 #endif
 
-#define ONBOARD_SD_CS_PIN  P0_06   // Chip select for "System" SD card
+#define ONBOARD_SD_CS_PIN                  P0_06  // Chip select for "System" SD card
 
 #if SD_CONNECTION_IS(CUSTOM_CABLE)
 
@@ -189,27 +189,27 @@
    * If you can't find a pin to use for the LCD's SD_DETECT then comment out
    * SD_DETECT_PIN entirely and remove that wire from the the custom cable.
    */
-  #define SD_DETECT_PIN    P2_11   // J8-5 (moved from EXP2 P0.27)
-  #define SCK_PIN          P1_22   // J8-2 (moved from EXP2 P0.7)
-  #define MISO_PIN         P1_23   // J8-3 (moved from EXP2 P0.8)
-  #define MOSI_PIN         P2_12   // J8-4 (moved from EXP2 P0.9)
-  #define SS_PIN           P0_28
-  #define LPC_SOFTWARE_SPI  // With a custom cable we need software SPI because the
-                            // selected pins are not on a hardware SPI controller
+  #define SD_DETECT_PIN                    P2_11  // J8-5 (moved from EXP2 P0.27)
+  #define SCK_PIN                          P1_22  // J8-2 (moved from EXP2 P0.7)
+  #define MISO_PIN                         P1_23  // J8-3 (moved from EXP2 P0.8)
+  #define MOSI_PIN                         P2_12  // J8-4 (moved from EXP2 P0.9)
+  #define SS_PIN                           P0_28
+  #define LPC_SOFTWARE_SPI                        // With a custom cable we need software SPI because the
+                                                  // selected pins are not on a hardware SPI controller
 #elif SD_CONNECTION_IS(LCD)
   // use standard cable and header, SPI and SD detect sre shared with on-board SD card
   // hardware SPI is used for both SD cards. The detect pin is shred between the
   // LCD and onboard SD readers so we disable it.
-  #define SCK_PIN          P0_07
-  #define MISO_PIN         P0_08
-  #define MOSI_PIN         P0_09
-  #define SS_PIN           P0_28
+  #define SCK_PIN                          P0_07
+  #define MISO_PIN                         P0_08
+  #define MOSI_PIN                         P0_09
+  #define SS_PIN                           P0_28
 #elif SD_CONNECTION_IS(ONBOARD)
-  #define SD_DETECT_PIN    P0_27
-  #define SCK_PIN          P0_07
-  #define MISO_PIN         P0_08
-  #define MOSI_PIN         P0_09
-  #define SS_PIN           ONBOARD_SD_CS_PIN
+  #define SD_DETECT_PIN                    P0_27
+  #define SCK_PIN                          P0_07
+  #define MISO_PIN                         P0_08
+  #define MOSI_PIN                         P0_09
+  #define SS_PIN               ONBOARD_SD_CS_PIN
 #endif
 
 /**
@@ -226,17 +226,17 @@
  */
 
 #if HAS_SPI_LCD
-  #define BEEPER_PIN       P1_31   // EXP1.1
-  #define BTN_ENC          P1_30   // EXP1.2
-  #define BTN_EN1          P3_26   // EXP2.5
-  #define BTN_EN2          P3_25   // EXP2.3
-  #define LCD_PINS_RS      P0_16   // EXP1.4
-  #define LCD_SDSS         P0_28   // EXP2.4
-  #define LCD_PINS_ENABLE  P0_18   // EXP1.3
-  #define LCD_PINS_D4      P0_15   // EXP1.5
+  #define BEEPER_PIN                       P1_31  // EXP1.1
+  #define BTN_ENC                          P1_30  // EXP1.2
+  #define BTN_EN1                          P3_26  // EXP2.5
+  #define BTN_EN2                          P3_25  // EXP2.3
+  #define LCD_PINS_RS                      P0_16  // EXP1.4
+  #define LCD_SDSS                         P0_28  // EXP2.4
+  #define LCD_PINS_ENABLE                  P0_18  // EXP1.3
+  #define LCD_PINS_D4                      P0_15  // EXP1.5
   #if ANY(VIKI2, miniVIKI)
-    #define DOGLCD_SCK     SCK_PIN
-    #define DOGLCD_MOSI    MOSI_PIN
+    #define DOGLCD_SCK                   SCK_PIN
+    #define DOGLCD_MOSI                 MOSI_PIN
   #endif
 
   #if ENABLED(FYSETC_MINI_12864)
@@ -251,26 +251,26 @@
      * Pins 6, 7 & 8 on EXP2 are no connects. That means a second special
      * cable will be needed if the RGB LEDs are to be active.
      */
-    #define DOGLCD_CS      LCD_PINS_ENABLE // EXP1.3  (LCD_EN on FYSETC schematic)
-    #define DOGLCD_A0      LCD_PINS_RS     // EXP1.4  (LCD_A0 on FYSETC schematic)
-    #define DOGLCD_SCK     P2_11           // J8-5  (SCK on FYSETC schematic)
-    #define DOGLCD_MOSI    P4_28           // J8-6  (MOSI on FYSETC schematic)
+    #define DOGLCD_CS            LCD_PINS_ENABLE  // EXP1.3  (LCD_EN on FYSETC schematic)
+    #define DOGLCD_A0                LCD_PINS_RS  // EXP1.4  (LCD_A0 on FYSETC schematic)
+    #define DOGLCD_SCK                     P2_11  // J8-5  (SCK on FYSETC schematic)
+    #define DOGLCD_MOSI                    P4_28  // J8-6  (MOSI on FYSETC schematic)
 
-    //#define FORCE_SOFT_SPI    // Use this if default of hardware SPI causes display problems
-                                //   results in LCD soft SPI mode 3, SD soft SPI mode 0
+    //#define FORCE_SOFT_SPI                      // Use this if default of hardware SPI causes display problems
+                                                  //   results in LCD soft SPI mode 3, SD soft SPI mode 0
 
     #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
       #ifndef RGB_LED_R_PIN
-        #define RGB_LED_R_PIN P2_12        // J8-4  (LCD_D6 on FYSETC schematic)
+        #define RGB_LED_R_PIN              P2_12  // J8-4  (LCD_D6 on FYSETC schematic)
       #endif
       #ifndef RGB_LED_G_PIN
-        #define RGB_LED_G_PIN P1_23        // J8-3  (LCD_D5 on FYSETC schematic)
+        #define RGB_LED_G_PIN              P1_23  // J8-3  (LCD_D5 on FYSETC schematic)
       #endif
       #ifndef RGB_LED_B_PIN
-        #define RGB_LED_B_PIN P1_22        // J8-2  (LCD_D7 on FYSETC schematic)
+        #define RGB_LED_B_PIN              P1_22  // J8-2  (LCD_D7 on FYSETC schematic)
       #endif
     #elif ENABLED(FYSETC_MINI_12864_2_1)
-      #define NEOPIXEL_PIN P2_12
+      #define NEOPIXEL_PIN                 P2_12
     #endif
 
   #elif ENABLED(MINIPANEL)
@@ -291,24 +291,24 @@
 
 #if HAS_DRIVER(TMC2130)
   // J8
-  #define X_CS_PIN         P1_22
-  #define Y_CS_PIN         P1_23
-  #define Z_CS_PIN         P2_12
-  #define E0_CS_PIN        P2_11
-  #define E1_CS_PIN        P4_28
+  #define X_CS_PIN                         P1_22
+  #define Y_CS_PIN                         P1_23
+  #define Z_CS_PIN                         P2_12
+  #define E0_CS_PIN                        P2_11
+  #define E1_CS_PIN                        P4_28
 
 // Hardware SPI is on EXP2. See if you can make it work:
 // https://github.com/makerbase-mks/MKS-SBASE/issues/25
 #define TMC_USE_SW_SPI
 #if ENABLED(TMC_USE_SW_SPI)
   #ifndef TMC_SW_MOSI
-    #define TMC_SW_MOSI    P0_03   // AUX1
+    #define TMC_SW_MOSI                    P0_03  // AUX1
   #endif
   #ifndef TMC_SW_MISO
-    #define TMC_SW_MISO    P0_02   // AUX1
+    #define TMC_SW_MISO                    P0_02  // AUX1
   #endif
   #ifndef TMC_SW_SCK
-    #define TMC_SW_SCK     P0_26   // TH4
+    #define TMC_SW_SCK                     P0_26  // TH4
   #endif
  #endif
 #endif
@@ -322,24 +322,24 @@
    * Worst case you may have to give up the LCD
    * RX pins need to be interrupt capable
    */
-  #define X_SERIAL_TX_PIN  P1_22   // J8-2
-  #define X_SERIAL_RX_PIN  P2_12   // J8-4 Interrupt Capable
-  #define Y_SERIAL_TX_PIN  P1_23   // J8-3
-  #define Y_SERIAL_RX_PIN  P2_11   // J8-5 Interrupt Capable
-  #define Z_SERIAL_TX_PIN  P2_12   // J8-4
-  #define Z_SERIAL_RX_PIN  P0_25   // TH3
-  #define E0_SERIAL_TX_PIN P4_28   // J8-6
-  #define E0_SERIAL_RX_PIN P0_26   // TH4
+  #define X_SERIAL_TX_PIN                  P1_22  // J8-2
+  #define X_SERIAL_RX_PIN                  P2_12  // J8-4 Interrupt Capable
+  #define Y_SERIAL_TX_PIN                  P1_23  // J8-3
+  #define Y_SERIAL_RX_PIN                  P2_11  // J8-5 Interrupt Capable
+  #define Z_SERIAL_TX_PIN                  P2_12  // J8-4
+  #define Z_SERIAL_RX_PIN                  P0_25  // TH3
+  #define E0_SERIAL_TX_PIN                 P4_28  // J8-6
+  #define E0_SERIAL_RX_PIN                 P0_26  // TH4
 
   // Reduce baud rate to improve software serial reliability
   #define TMC_BAUD_RATE 19200
 #endif
 
 // UNUSED
-#define PIN_P0_27          P0_27   // EXP2/Onboard SD
-#define PIN_P0_28          P0_28   // EXP2
-#define PIN_P0_02          P0_02   // AUX1 (Interrupt Capable/ADC/Serial Port 0)
-#define PIN_P0_03          P0_03   // AUX1 (Interrupt Capable/ADC/Serial Port 0)
+#define PIN_P0_27                          P0_27  // EXP2/Onboard SD
+#define PIN_P0_28                          P0_28  // EXP2
+#define PIN_P0_02                          P0_02  // AUX1 (Interrupt Capable/ADC/Serial Port 0)
+#define PIN_P0_03                          P0_03  // AUX1 (Interrupt Capable/ADC/Serial Port 0)
 
 /**
  *  PWMs

commit e8205af6fb131f0f8ced2a860ce721787a33f58d
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Mar 17 15:05:33 2020 -0500

    Apply HAS_TMC_UART to pins files

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 6fb38f3e46..28b94f019a 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -313,7 +313,7 @@
  #endif
 #endif
 
-#if MB(MKS_SBASE) && HAS_TMC220x
+#if MB(MKS_SBASE) && HAS_TMC_UART
 
   /**
    * TMC2208/TMC2209 stepper drivers

commit b14c933171b50c87808367bf14872fb7acced92d
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Mon Mar 16 15:59:05 2020 -0500

    LPC1768 EEPROM fallback to flash, add overrides (#17184)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index b3dba6794c..6fb38f3e46 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -38,6 +38,14 @@
   #define BOARD_WEBSITE_URL "github.com/makerbase-mks/MKS-SBASE"
 #endif
 
+//
+// EEPROM
+//
+#if NONE(FLASH_EEPROM_EMULATION, SDCARD_EEPROM_EMULATION)
+  #define FLASH_EEPROM_EMULATION
+  //#define SDCARD_EEPROM_EMULATION
+#endif
+
 #define LED_PIN            P1_18   // Used as a status indicator
 #define LED2_PIN           P1_19
 #define LED3_PIN           P1_20

commit bfad23d3e2e590b257ebe4317d7b14cc2dd3435c
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Mon Feb 3 08:00:57 2020 -0600

    (c) 2020

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index b830f3dcb8..b3dba6794c 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -1,6 +1,6 @@
 /**
  * Marlin 3D Printer Firmware
- * Copyright (c) 2019 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ * Copyright (c) 2020 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
  *
  * Based on Sprinter and grbl.
  * Copyright (c) 2011 Camiel Gubbels / Erik van der Zalm

commit 994c6958625cb1486bc32f1d0ecf307d20007725
Author: ellensp <ellensp@hotmail.com>
Date:   Wed Jan 8 16:47:45 2020 +1300

    Fix MKS_SGEN sanity check (#16501)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index fd87dbe1e2..b830f3dcb8 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -25,7 +25,9 @@
  * MKS SBASE pin assignments
  */
 
-#ifndef MCU_LPC1768
+#if defined(MKS_HAS_LPC1769) && !defined(MCU_LPC1769)
+  #error "Oops! Make sure you have the LPC1769 environment selected in your IDE."
+#elif !defined(MKS_HAS_LPC1769) && !defined(MCU_LPC1768)
   #error "Oops! Make sure you have the LPC1768 environment selected in your IDE."
 #endif
 

commit 814a2eaf8f5d1ab950654b26e762c9a2c7b246f6
Author: Jason Smith <jason.inet@gmail.com>
Date:   Wed Nov 6 15:08:12 2019 -0800

    Allow TMC baud rate override (#15773)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 67b92b9e9e..fd87dbe1e2 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -320,6 +320,9 @@
   #define Z_SERIAL_RX_PIN  P0_25   // TH3
   #define E0_SERIAL_TX_PIN P4_28   // J8-6
   #define E0_SERIAL_RX_PIN P0_26   // TH4
+
+  // Reduce baud rate to improve software serial reliability
+  #define TMC_BAUD_RATE 19200
 #endif
 
 // UNUSED

commit b9116d4050c2ac0529fb7f63815ea47a99904a80
Author: Chris Pepper <p3p@p3psoft.co.uk>
Date:   Sun Nov 3 02:34:09 2019 +0000

    LPC176x Framework update (#15722)
    
    Changes required for compatibility with framework-arduino-lpc176x 0.2.0

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index a23101ea6a..67b92b9e9e 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -25,7 +25,7 @@
  * MKS SBASE pin assignments
  */
 
-#ifndef TARGET_LPC1768
+#ifndef MCU_LPC1768
   #error "Oops! Make sure you have the LPC1768 environment selected in your IDE."
 #endif
 
@@ -90,10 +90,10 @@
 // Temperature Sensors
 // 3.3V max when defined as an analog input
 //
-#define TEMP_BED_PIN        0   // A0 (TH1)
-#define TEMP_0_PIN          1   // A1 (TH2)
-#define TEMP_1_PIN          2   // A2 (TH3)
-#define TEMP_2_PIN          3   // A3 (TH4)
+#define TEMP_BED_PIN        P0_23_A0   // A0 (TH1)
+#define TEMP_0_PIN          P0_24_A1   // A1 (TH2)
+#define TEMP_1_PIN          P0_25_A2   // A2 (TH3)
+#define TEMP_2_PIN          P0_26_A3   // A3 (TH4)
 
 //
 // Heaters / Fans

commit fdef32ce775071584b4b65a2f005ee03a75bce6a
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Aug 22 18:17:13 2019 -0500

    Shorten Website URLs

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 14d3480547..a23101ea6a 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -33,7 +33,7 @@
   #define BOARD_INFO_NAME   "MKS SBASE"
 #endif
 #ifndef BOARD_WEBSITE_URL
-  #define BOARD_WEBSITE_URL "https://github.com/makerbase-mks/MKS-SBASE"
+  #define BOARD_WEBSITE_URL "github.com/makerbase-mks/MKS-SBASE"
 #endif
 
 #define LED_PIN            P1_18   // Used as a status indicator

commit 0cc524b84f3e640da4b8c2fdfdb9ab87dac251bf
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Aug 20 19:08:58 2019 -0500

    Prevent BOARD_NAME conflict with env

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index ad62840e5f..14d3480547 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -29,8 +29,8 @@
   #error "Oops! Make sure you have the LPC1768 environment selected in your IDE."
 #endif
 
-#ifndef BOARD_NAME
-  #define BOARD_NAME        "MKS SBASE"
+#ifndef BOARD_INFO_NAME
+  #define BOARD_INFO_NAME   "MKS SBASE"
 #endif
 #ifndef BOARD_WEBSITE_URL
   #define BOARD_WEBSITE_URL "https://github.com/makerbase-mks/MKS-SBASE"

commit a26b57a36d5a8daa3ba85e2d7444c9482f2a963c
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Tue Aug 13 19:38:54 2019 -0500

    Minor pins cleanup

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index b3d307d3bf..ad62840e5f 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -42,7 +42,7 @@
 #define LED4_PIN           P1_21
 
 //
-// Servo pin
+// Servos
 //
 #define SERVO0_PIN         P1_23   // J8-3 (low jitter)
 #define SERVO1_PIN         P2_12   // J8-4

commit 3d153486da36d3722b7109658c37c8ab6de5769e
Author: Scott Lahteine <github@thinkyhead.com>
Date:   Thu Jul 18 04:36:08 2019 -0500

    Fysetc rename Part 2

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index fa1402305a..b3d307d3bf 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -231,33 +231,33 @@
 
   #if ENABLED(FYSETC_MINI_12864)
     /**
-     * The Fysetc display can NOT use the SCK and MOSI pins on EXP2, so a
+     * The FYSETC display can NOT use the SCK and MOSI pins on EXP2, so a
      * special cable is needed to go between EXP2 on the FYSETC and the
      * controller board's EXP2 and J8. It also means that a software SPI
      * is needed to drive those pins.
      *
-     * The Fysetc requires mode 3 SPI interface.
+     * The FYSETC requires mode 3 SPI interface.
      *
      * Pins 6, 7 & 8 on EXP2 are no connects. That means a second special
      * cable will be needed if the RGB LEDs are to be active.
      */
-    #define DOGLCD_CS      LCD_PINS_ENABLE // EXP1.3  (LCD_EN on Fysetc schematic)
-    #define DOGLCD_A0      LCD_PINS_RS     // EXP1.4  (LCD_A0 on Fysetc schematic)
-    #define DOGLCD_SCK     P2_11           // J8-5  (SCK on Fysetc schematic)
-    #define DOGLCD_MOSI    P4_28           // J8-6  (MOSI on Fysetc schematic)
+    #define DOGLCD_CS      LCD_PINS_ENABLE // EXP1.3  (LCD_EN on FYSETC schematic)
+    #define DOGLCD_A0      LCD_PINS_RS     // EXP1.4  (LCD_A0 on FYSETC schematic)
+    #define DOGLCD_SCK     P2_11           // J8-5  (SCK on FYSETC schematic)
+    #define DOGLCD_MOSI    P4_28           // J8-6  (MOSI on FYSETC schematic)
 
     //#define FORCE_SOFT_SPI    // Use this if default of hardware SPI causes display problems
                                 //   results in LCD soft SPI mode 3, SD soft SPI mode 0
 
     #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
       #ifndef RGB_LED_R_PIN
-        #define RGB_LED_R_PIN P2_12        // J8-4  (LCD_D6 on Fysetc schematic)
+        #define RGB_LED_R_PIN P2_12        // J8-4  (LCD_D6 on FYSETC schematic)
       #endif
       #ifndef RGB_LED_G_PIN
-        #define RGB_LED_G_PIN P1_23        // J8-3  (LCD_D5 on Fysetc schematic)
+        #define RGB_LED_G_PIN P1_23        // J8-3  (LCD_D5 on FYSETC schematic)
       #endif
       #ifndef RGB_LED_B_PIN
-        #define RGB_LED_B_PIN P1_22        // J8-2  (LCD_D7 on Fysetc schematic)
+        #define RGB_LED_B_PIN P1_22        // J8-2  (LCD_D7 on FYSETC schematic)
       #endif
     #elif ENABLED(FYSETC_MINI_12864_2_1)
       #define NEOPIXEL_PIN P2_12

commit abc9b526921ffd2a554dda64915aab84c4eb8c03
Author: Ludy <Ludy87@users.noreply.github.com>
Date:   Wed Jul 17 05:42:36 2019 +0200

    Update copyright in header, etc. (#14645)

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
index 8bdece7029..fa1402305a 100644
--- a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -260,7 +260,7 @@
         #define RGB_LED_B_PIN P1_22        // J8-2  (LCD_D7 on Fysetc schematic)
       #endif
     #elif ENABLED(FYSETC_MINI_12864_2_1)
-      #define NEOPIXEL_PIN    P2_12
+      #define NEOPIXEL_PIN P2_12
     #endif
 
   #elif ENABLED(MINIPANEL)
@@ -304,9 +304,14 @@
 #endif
 
 #if MB(MKS_SBASE) && HAS_TMC220x
-  // The shortage of pins becomes apparent.
-  // Worst case you may have to give up the LCD
-  // RX pins need to be interrupt capable
+
+  /**
+   * TMC2208/TMC2209 stepper drivers
+   *
+   * The shortage of pins becomes apparent.
+   * Worst case you may have to give up the LCD
+   * RX pins need to be interrupt capable
+   */
   #define X_SERIAL_TX_PIN  P1_22   // J8-2
   #define X_SERIAL_RX_PIN  P2_12   // J8-4 Interrupt Capable
   #define Y_SERIAL_TX_PIN  P1_23   // J8-3
@@ -344,26 +349,26 @@
  *  PWM1.6   P2_05   RAMPS_D10_PIN
  */
 
- /**
-  * Special pins
-  *   P1_30 - not 5V tolerant - EXP1
-  *   P1_31 - not 5V tolerant - EXP1
-  *   P0_27 - open collector  - EXP2
-  *   P0_28 - open collector  - EXP2
-  *
-  */
-
- /**
-  * Serial Ports
-  *   P0_00 - Port  3
-  *   P0_01 - SD Card (Onboard)
-  *   P0_10 - Port  2
-  *   P0_11 - Y_EN/Y_DIR
-  *   P0_15 - Port  1
-  *   P0_16 - EXP1
-  *   P0_02 - Port  0
-  *   P0_03 - AUX1
-  *   P0_29 - Port -1
-  *   P0_30 - USB
-  *
-  */
+/**
+ * Special pins
+ *   P1_30 - not 5V tolerant - EXP1
+ *   P1_31 - not 5V tolerant - EXP1
+ *   P0_27 - open collector  - EXP2
+ *   P0_28 - open collector  - EXP2
+ *
+ */
+
+/**
+ * Serial Ports
+ *   P0_00 - Port  3
+ *   P0_01 - SD Card (Onboard)
+ *   P0_10 - Port  2
+ *   P0_11 - Y_EN/Y_DIR
+ *   P0_15 - Port  1
+ *   P0_16 - EXP1
+ *   P0_02 - Port  0
+ *   P0_03 - AUX1
+ *   P0_29 - Port -1
+ *   P0_30 - USB
+ *
+ */

commit 7de605c5c341d2e0b2a361c4d03ec5709254fe03
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Jul 11 02:32:24 2019 -0500

    Move pins files to subfolders #14573

diff --git a/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
new file mode 100644
index 0000000000..8bdece7029
--- /dev/null
+++ b/Marlin/src/pins/lpc1768/pins_MKS_SBASE.h
@@ -0,0 +1,369 @@
+/**
+ * Marlin 3D Printer Firmware
+ * Copyright (c) 2019 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]
+ *
+ * Based on Sprinter and grbl.
+ * Copyright (c) 2011 Camiel Gubbels / Erik van der Zalm
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ */
+#pragma once
+
+/**
+ * MKS SBASE pin assignments
+ */
+
+#ifndef TARGET_LPC1768
+  #error "Oops! Make sure you have the LPC1768 environment selected in your IDE."
+#endif
+
+#ifndef BOARD_NAME
+  #define BOARD_NAME        "MKS SBASE"
+#endif
+#ifndef BOARD_WEBSITE_URL
+  #define BOARD_WEBSITE_URL "https://github.com/makerbase-mks/MKS-SBASE"
+#endif
+
+#define LED_PIN            P1_18   // Used as a status indicator
+#define LED2_PIN           P1_19
+#define LED3_PIN           P1_20
+#define LED4_PIN           P1_21
+
+//
+// Servo pin
+//
+#define SERVO0_PIN         P1_23   // J8-3 (low jitter)
+#define SERVO1_PIN         P2_12   // J8-4
+#define SERVO2_PIN         P2_11   // J8-5
+#define SERVO3_PIN         P4_28   // J8-6
+
+//
+// Limit Switches - Not Interrupt Capable
+//
+#define X_MIN_PIN          P1_24   // 10k pullup to 3.3V, 1K series
+#define X_MAX_PIN          P1_25   // 10k pullup to 3.3V, 1K series
+#define Y_MIN_PIN          P1_26   // 10k pullup to 3.3V, 1K series
+#define Y_MAX_PIN          P1_27   // 10k pullup to 3.3V, 1K series
+#define Z_MIN_PIN          P1_28   // The original Mks Sbase DIO19 has a 10k pullup to 3.3V or 5V, 1K series, so when using a Zprobe we must use DIO41 (J8 P1.22)
+#define Z_MAX_PIN          P1_29   // 10k pullup to 3.3V, 1K series
+
+#ifndef Z_MIN_PROBE_PIN
+  #define Z_MIN_PROBE_PIN  P4_28   // Connector J8
+#endif
+
+//
+// Steppers
+//
+#define X_STEP_PIN         P2_00
+#define X_DIR_PIN          P0_05
+#define X_ENABLE_PIN       P0_04
+
+#define Y_STEP_PIN         P2_01
+#define Y_DIR_PIN          P0_11
+#define Y_ENABLE_PIN       P0_10
+
+#define Z_STEP_PIN         P2_02
+#define Z_DIR_PIN          P0_20
+#define Z_ENABLE_PIN       P0_19
+
+#define E0_STEP_PIN        P2_03
+#define E0_DIR_PIN         P0_22
+#define E0_ENABLE_PIN      P0_21
+
+#define E1_STEP_PIN        P2_08
+#define E1_DIR_PIN         P2_13
+#define E1_ENABLE_PIN      P4_29
+
+//
+// Temperature Sensors
+// 3.3V max when defined as an analog input
+//
+#define TEMP_BED_PIN        0   // A0 (TH1)
+#define TEMP_0_PIN          1   // A1 (TH2)
+#define TEMP_1_PIN          2   // A2 (TH3)
+#define TEMP_2_PIN          3   // A3 (TH4)
+
+//
+// Heaters / Fans
+//
+#define HEATER_BED_PIN     P2_05
+#define HEATER_0_PIN       P2_07
+#define HEATER_1_PIN       P2_06
+#ifndef FAN_PIN
+  #define FAN_PIN          P2_04
+#endif
+
+//
+// Connector J7
+// Note: These pins are all digitally shared with the EXP1/EXP2 Connector.
+// Using them with an LCD connected or configured will lead to hangs & crashes.
+//
+
+// 5V
+// NC
+// GND
+#define PIN_P0_17          P0_17
+#define PIN_P0_16          P0_16
+#define PIN_P0_15          P0_15
+
+//
+// Connector J8
+//
+
+// GND
+#define PIN_P1_22          P1_22
+#define PIN_P1_23          P1_23   // PWM Capable
+#define PIN_P2_12          P2_12   // Interrupt Capable
+#define PIN_P2_11          P2_11   // Interrupt Capable
+
+//
+// Pr≈Ø≈°a i3 MK2 Multi Material Multiplexer Support
+//
+#if ENABLED(MK2_MULTIPLEXER)
+  #define E_MUX0_PIN       P1_23   // J8-3
+  #define E_MUX1_PIN       P2_12   // J8-4
+  #define E_MUX2_PIN       P2_11   // J8-5
+#endif
+
+//
+// Misc. Functions
+//
+#define PS_ON_PIN          P0_25   // TH3 Connector
+
+//
+// Ethernet pins
+//
+#ifndef ULTIPANEL
+  #define ENET_MDIO        P1_17   // J12-4
+  #define ENET_RX_ER       P1_14   // J12-6
+  #define ENET_RXD1        P1_10   // J12-8
+#endif
+
+#define ENET_MOC           P1_16   // J12-3
+#define REF_CLK            P1_15   // J12-5
+#define ENET_RXD0          P1_09   // J12-7
+#define ENET_CRS           P1_08   // J12-9
+#define ENET_TX_EN         P1_04   // J12-10
+#define ENET_TXD0          P1_00   // J12-11
+#define ENET_TXD1          P1_01   // J12-12
+
+#ifndef SDCARD_CONNECTION
+  #define SDCARD_CONNECTION ONBOARD
+#endif
+
+#define ONBOARD_SD_CS_PIN  P0_06   // Chip select for "System" SD card
+
+#if SD_CONNECTION_IS(CUSTOM_CABLE)
+
+  /**
+   * A custom cable is needed. See the README file in the
+   * Marlin\src\config\examples\Mks\Sbase directory
+   * P0.27 is on EXP2 and the on-board SD card's socket. That means it can't be
+   * used as the SD_DETECT for the LCD's SD card.
+   *
+   * The best solution is to use the custom cable to connect the LCD's SD_DETECT
+   * to a pin NOT on EXP2.
+   *
+   * If you can't find a pin to use for the LCD's SD_DETECT then comment out
+   * SD_DETECT_PIN entirely and remove that wire from the the custom cable.
+   */
+  #define SD_DETECT_PIN    P2_11   // J8-5 (moved from EXP2 P0.27)
+  #define SCK_PIN          P1_22   // J8-2 (moved from EXP2 P0.7)
+  #define MISO_PIN         P1_23   // J8-3 (moved from EXP2 P0.8)
+  #define MOSI_PIN         P2_12   // J8-4 (moved from EXP2 P0.9)
+  #define SS_PIN           P0_28
+  #define LPC_SOFTWARE_SPI  // With a custom cable we need software SPI because the
+                            // selected pins are not on a hardware SPI controller
+#elif SD_CONNECTION_IS(LCD)
+  // use standard cable and header, SPI and SD detect sre shared with on-board SD card
+  // hardware SPI is used for both SD cards. The detect pin is shred between the
+  // LCD and onboard SD readers so we disable it.
+  #define SCK_PIN          P0_07
+  #define MISO_PIN         P0_08
+  #define MOSI_PIN         P0_09
+  #define SS_PIN           P0_28
+#elif SD_CONNECTION_IS(ONBOARD)
+  #define SD_DETECT_PIN    P0_27
+  #define SCK_PIN          P0_07
+  #define MISO_PIN         P0_08
+  #define MOSI_PIN         P0_09
+  #define SS_PIN           ONBOARD_SD_CS_PIN
+#endif
+
+/**
+ * Smart LCD adapter
+ *
+ * The Smart LCD adapter can be used for the two 10 pin LCD controllers such as
+ * REPRAP_DISCOUNT_SMART_CONTROLLER.  It can't be used for controllers that use
+ * DOGLCD_A0, DOGLCD_CS, LCD_PINS_D5, LCD_PINS_D6 or LCD_PINS_D7. A custom cable
+ * is needed to pick up 5V for the EXP1 connection.
+ *
+ * SD card on the LCD uses the same SPI signals as the LCD. This results in garbage/lines
+ * on the LCD display during accesses of the SD card. The menus/code has been arranged so
+ * that the garbage/lines are erased immediately after the SD card accesses are completed.
+ */
+
+#if HAS_SPI_LCD
+  #define BEEPER_PIN       P1_31   // EXP1.1
+  #define BTN_ENC          P1_30   // EXP1.2
+  #define BTN_EN1          P3_26   // EXP2.5
+  #define BTN_EN2          P3_25   // EXP2.3
+  #define LCD_PINS_RS      P0_16   // EXP1.4
+  #define LCD_SDSS         P0_28   // EXP2.4
+  #define LCD_PINS_ENABLE  P0_18   // EXP1.3
+  #define LCD_PINS_D4      P0_15   // EXP1.5
+  #if ANY(VIKI2, miniVIKI)
+    #define DOGLCD_SCK     SCK_PIN
+    #define DOGLCD_MOSI    MOSI_PIN
+  #endif
+
+  #if ENABLED(FYSETC_MINI_12864)
+    /**
+     * The Fysetc display can NOT use the SCK and MOSI pins on EXP2, so a
+     * special cable is needed to go between EXP2 on the FYSETC and the
+     * controller board's EXP2 and J8. It also means that a software SPI
+     * is needed to drive those pins.
+     *
+     * The Fysetc requires mode 3 SPI interface.
+     *
+     * Pins 6, 7 & 8 on EXP2 are no connects. That means a second special
+     * cable will be needed if the RGB LEDs are to be active.
+     */
+    #define DOGLCD_CS      LCD_PINS_ENABLE // EXP1.3  (LCD_EN on Fysetc schematic)
+    #define DOGLCD_A0      LCD_PINS_RS     // EXP1.4  (LCD_A0 on Fysetc schematic)
+    #define DOGLCD_SCK     P2_11           // J8-5  (SCK on Fysetc schematic)
+    #define DOGLCD_MOSI    P4_28           // J8-6  (MOSI on Fysetc schematic)
+
+    //#define FORCE_SOFT_SPI    // Use this if default of hardware SPI causes display problems
+                                //   results in LCD soft SPI mode 3, SD soft SPI mode 0
+
+    #if EITHER(FYSETC_MINI_12864_1_2, FYSETC_MINI_12864_2_0)
+      #ifndef RGB_LED_R_PIN
+        #define RGB_LED_R_PIN P2_12        // J8-4  (LCD_D6 on Fysetc schematic)
+      #endif
+      #ifndef RGB_LED_G_PIN
+        #define RGB_LED_G_PIN P1_23        // J8-3  (LCD_D5 on Fysetc schematic)
+      #endif
+      #ifndef RGB_LED_B_PIN
+        #define RGB_LED_B_PIN P1_22        // J8-2  (LCD_D7 on Fysetc schematic)
+      #endif
+    #elif ENABLED(FYSETC_MINI_12864_2_1)
+      #define NEOPIXEL_PIN    P2_12
+    #endif
+
+  #elif ENABLED(MINIPANEL)
+    // GLCD features
+    // Uncomment screen orientation
+    //#define LCD_SCREEN_ROT_90
+    //#define LCD_SCREEN_ROT_180
+    //#define LCD_SCREEN_ROT_270
+  #endif
+
+#endif
+
+/**
+ * Example for trinamic drivers using the J8 connector on MKs Sbase.
+ * 2130s need 1 pin for each driver. 2208/2209s need 2 pins for serial control.
+ * This board does not have enough pins to use hardware serial.
+ */
+
+#if HAS_DRIVER(TMC2130)
+  // J8
+  #define X_CS_PIN         P1_22
+  #define Y_CS_PIN         P1_23
+  #define Z_CS_PIN         P2_12
+  #define E0_CS_PIN        P2_11
+  #define E1_CS_PIN        P4_28
+
+// Hardware SPI is on EXP2. See if you can make it work:
+// https://github.com/makerbase-mks/MKS-SBASE/issues/25
+#define TMC_USE_SW_SPI
+#if ENABLED(TMC_USE_SW_SPI)
+  #ifndef TMC_SW_MOSI
+    #define TMC_SW_MOSI    P0_03   // AUX1
+  #endif
+  #ifndef TMC_SW_MISO
+    #define TMC_SW_MISO    P0_02   // AUX1
+  #endif
+  #ifndef TMC_SW_SCK
+    #define TMC_SW_SCK     P0_26   // TH4
+  #endif
+ #endif
+#endif
+
+#if MB(MKS_SBASE) && HAS_TMC220x
+  // The shortage of pins becomes apparent.
+  // Worst case you may have to give up the LCD
+  // RX pins need to be interrupt capable
+  #define X_SERIAL_TX_PIN  P1_22   // J8-2
+  #define X_SERIAL_RX_PIN  P2_12   // J8-4 Interrupt Capable
+  #define Y_SERIAL_TX_PIN  P1_23   // J8-3
+  #define Y_SERIAL_RX_PIN  P2_11   // J8-5 Interrupt Capable
+  #define Z_SERIAL_TX_PIN  P2_12   // J8-4
+  #define Z_SERIAL_RX_PIN  P0_25   // TH3
+  #define E0_SERIAL_TX_PIN P4_28   // J8-6
+  #define E0_SERIAL_RX_PIN P0_26   // TH4
+#endif
+
+// UNUSED
+#define PIN_P0_27          P0_27   // EXP2/Onboard SD
+#define PIN_P0_28          P0_28   // EXP2
+#define PIN_P0_02          P0_02   // AUX1 (Interrupt Capable/ADC/Serial Port 0)
+#define PIN_P0_03          P0_03   // AUX1 (Interrupt Capable/ADC/Serial Port 0)
+
+/**
+ *  PWMs
+ *
+ *  There are 6 PWMs.  Each PWM can be assigned to one of two pins.
+ *
+ *  SERVO2 does NOT have a PWM assigned to it.
+ *
+ *  PWM1.1   P1_18   SERVO3_PIN       FIL_RUNOUT_PIN   5V output, PWM
+ *  PWM1.1   P2_00   E0_STEP_PIN
+ *  PWM1.2   P1_20   SERVO0_PIN
+ *  PWM1.2   P2_01   X_STEP_PIN
+ *  PWM1.3   P1_21   SERVO1_PIN       J5-1
+ *  PWM1.3   P2_02   Y_STEP_PIN
+ *  PWM1.4   P1_23   SDSS(SSEL0)      J3-5  AUX-3
+ *  PWM1.4   P2_03   Z_STEP_PIN
+ *  PWM1.5   P1_24   X_MIN_PIN        10K PULLUP TO 3.3v, 1K SERIES
+ *  PWM1.5   P2_04   RAMPS_D9_PIN
+ *  PWM1.6   P1_26   Y_MIN_PIN        10K PULLUP TO 3.3v, 1K SERIES
+ *  PWM1.6   P2_05   RAMPS_D10_PIN
+ */
+
+ /**
+  * Special pins
+  *   P1_30 - not 5V tolerant - EXP1
+  *   P1_31 - not 5V tolerant - EXP1
+  *   P0_27 - open collector  - EXP2
+  *   P0_28 - open collector  - EXP2
+  *
+  */
+
+ /**
+  * Serial Ports
+  *   P0_00 - Port  3
+  *   P0_01 - SD Card (Onboard)
+  *   P0_10 - Port  2
+  *   P0_11 - Y_EN/Y_DIR
+  *   P0_15 - Port  1
+  *   P0_16 - EXP1
+  *   P0_02 - Port  0
+  *   P0_03 - AUX1
+  *   P0_29 - Port -1
+  *   P0_30 - USB
+  *
+  */
